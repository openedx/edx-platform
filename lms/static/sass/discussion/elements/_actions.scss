.discussion.container {

  // discussion - elements - actions
  // ====================

  // UI: general action list
  .post-actions-list,
  .response-actions-list,
  .comment-actions-list {
    @extend %ui-no-list;
    text-align: right;

    .actions-item {
      @include box-sizing(border-box);
      display: block;
      margin: ($baseline/4) 0;

      &.is-visible {
        display: block; // needed to override hidden?
      }
    }

    .more-wrapper {
      position: relative;
    }
  }

  // CASE: comment actions
  .comment-actions-list .actions-item {
    height: auto;
  }

  // ====================

  // UI: general actions dropdown layout
  .actions-dropdown {
    @extend %ui-no-list;
    @include transition(opacity .2s ease-in-out 0s);
    z-index: 100;
    position: absolute;
    top: 17px;
    right: 0;
    opacity: 0.0;
    pointer-events: none;
    overflow: hidden;
    min-width: ($baseline*6.5);
    height: 0;

    &.is-expanded {
      opacity: 1.0;
      pointer-events: auto;
      overflow: visible;
      height: auto;
    }

    .actions-dropdown-list {
      @include box-sizing(border-box);
      box-shadow: 0 1px 1px $shadow-l1;
      position: relative;
      width: 100%;
      border-radius: 3px;
      border: 1px solid $gray-l3;
      padding: ($baseline/2) ($baseline*0.75);
      background: $white;

      &:after,
      &:before {
        bottom: 100%;
        right: 3px;
        border: solid transparent;
        content: " ";
        height: 0;
        width: 0;
        position: absolute;
        pointer-events: none;
      }

      // ui triangle/nub
      &:after {
        border-color: rgba(255, 255, 255, 0);
        border-bottom-color: $white;
        border-width: 6px;
        margin-right: 1px;
      }

      &:before {
        border-color: rgba(178, 178, 178, 0);
        border-bottom-color: $gray-l3;
        border-width: 7px;
      }
    }

    .actions-item {
      display: block;
      margin: 0;
    }
  }

  // ====================

  // UI: general action
  .action-button {
    @include transition(border .5s linear 0s);
    @include box-sizing(border-box);
    display: inline-block;
    border: 1px solid transparent;
    border-radius: 3px;
    color: $gray-l1;

    .action-icon {
      @extend %t-icon7;
      display: inline-block;
      height: $baseline;
      width: $baseline;
      border: 1px solid $gray-l3;
      border-radius: 3px;
      text-align: center;
      color: $gray-l1;

      .icon {
        vertical-align: middle;
      }
    }

    .action-label {
      @extend %t-copy-sub2;
      display: inline-block;
      vertical-align: middle;
      padding: 0 8px;
      color: $gray-l1;
      opacity: 0;
    }


    &:hover {
      border: 1px solid $gray-l3;

      .action-label {
        opacity: 1;
      }

      .action-icon {
        border-radius: 0 3px 3px 0;
      }
    }

    // specific button styles
    &.action-follow {

      &.is-checked {

        .action-icon {
          background-color: $forum-color-following;
          border: 1px solid $blue-d1;
          color: $white;
        }
      }

      &:hover {
        border: 1px solid $blue-d1;

        .action-label {
          color: $blue-d1;
        }

        .action-icon {
          border: 1px solid $forum-color-following;
          background-color: $forum-color-following;
          color: $white;
        }
      }
    }

    &.action-vote {

      .action-label {
        opacity: 1;
      }

      &.is-checked {

        .action-icon {
          background-color: $green-d1;
          border: 1px solid $green-d2;
          color: $white;
        }
      }

      &:hover {
        border: 1px solid $green-d2;

        .action-label {
          color: $green-d2;
        }

        .action-icon {
          border: 1px solid $green-d1;
          background-color: $green-d1;
          color: $white;
        }
      }
    }

    &.action-endorse {

      &.is-checked {

        .action-icon {
          background-color: $blue-d1;
          border: 1px solid $blue-d2;
          color: $white;
        }
      }

      &:hover {
        border: 1px solid $blue-d2;

        .action-label {
          color: $blue-d2;
        }

        .action-icon {
          border: 1px solid $blue-d1;
          background-color: $blue-d1;
          color: $white;
        }
      }
    }

    &.action-answer {

      &.is-checked {

        .action-icon {
          background-color: $green-d1;
          border: 1px solid $green-d2;
          color: $white;
        }
      }

      &:hover {
        border: 1px solid $green-d2;

        .action-label {
          color: $green-d2;
        }

        .action-icon {
          border: 1px solid $green-d1;
          background-color: $green-d1;
          color: $white;
        }
      }
    }

    // more drop-down menu
    &.action-more {
      position: relative;

      &:hover,
      &:focus {
        border: 1px solid $gray;

        .action-label {
          opacity: 1;
          color: $black;
        }

        .action-icon {
          border: 1px solid $gray;
          background-color: $gray;
          color: $white;
        }
      }
    }
  }

  // ====================

  .actions-dropdown {

    // UI: secondary action
    .action-list-item {
      @extend %t-copy-sub2;
      margin: 0;
      display: block;
      padding: ($baseline/10) 0;
      white-space: nowrap;
      text-align: right;
      color: $gray-l1;

      &:hover {
        color: $link-color;
      }

      .action-icon {
        display: inline-block;
        width: ($baseline/2);
        margin-left: ($baseline/4);
        color: inherit;
      }

      .action-label {
        display: inline-block;
        color: inherit;
      }

      // CASE: checked
      &.is-checked {
        // CASE: pin action
        &.action-pin {
          color: $pink;
        }

        // CASE: report action
        &.action-report {
          color: $pink;
        }

        // CASE: hover for any action
        &:hover {
          color: $link-color;
        }
      }
    }
  }

  .action-button, .action-list-item {
    .action-label {
      .label-checked, .label-checked-focused {
        display: none;
      }
    }

    &.is-checked {
      .label-unchecked {
        display: none;
      }

      .label-checked {
        display: inline;
      }

      &:hover, &:focus {
        .label-checked {
          display: none;
        }

        .label-checked-focused {
          display: inline;
        }
      }
    }
  }

  // ====================

  // TO-DO refactor all styling below this actions line.


  // vote and endorse buttons
  .container .discussion-body {

    .vote-btn {

      .plus-icon {
        display: inline-block;
        width: 10px;
        height: 10px;
        margin: 8px 6px 0 0;
        background: url(../images/vote-plus-icon.png) no-repeat;
        font-size: 18px;
        text-indent: -9999px;
        color: #17b429;
        overflow: hidden;
      }
    }

    .endorse-btn {

      .check-icon {
        display: block;
        width: 13px;
        height: 12px;
        margin: 8px auto;
        background: url(../images/endorse-icon.png) no-repeat;
      }

      &.is-endorsed .check-icon {
        background-position: 0 -12px;
      }
    }
  }
}
