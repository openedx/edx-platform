{"version":3,"sources":["webpack:///./cms/static/js/factories/xblock_validation.js","webpack:///./cms/static/js/models/xblock_validation.js","webpack:///./cms/static/js/utils/handle_iframe_binding.js?102e***","webpack:///./cms/static/js/utils/templates.js?9840***","webpack:///./cms/static/js/views/baseview.js?70f2***","webpack:///./cms/static/js/views/xblock_validation.js","webpack:///./common/static/common/js/components/utils/view_utils.js?0b39***","webpack:///./common/static/common/js/components/views/feedback.js?945c****","webpack:///./common/static/common/js/components/views/feedback_notification.js?305d****","webpack:///./common/static/common/js/components/views/feedback_prompt.js?ff84***","webpack:///./common/static/common/js/vendor/underscore.string.js?8611****","webpack:///./common/static/common/templates/components/system-feedback.underscore?5d4a****","webpack:///./~/scriptjs/dist/script.js?7154***","webpack:///external \"gettext\"?8b52****"],"names":["XBlockValidationFactory","validationMessages","hasEditingUrl","isRoot","isUnit","validationEle","model","response","showSummaryOnly","parse","get","el","root","render","Backbone","gettext","_","XBlockValidationModel","Model","extend","defaults","summary","messages","empty","xblock_id","WARNING","ERROR","NOT_CONFIGURED","text","type","find","message","$","iframeBinding","e","target_element","nodeName","modifyTagContent","each","prop","ifr_source","attr","wmode","indexOf","getQString","split","search","oldString","newString","lastIndexOf","iframeBindingHtml","html_string","temp_content","document","createElement","html","length","loadTemplate","name","templateSelector","templateText","console","error","template","IframeUtils","TemplateUtils","ViewUtils","BaseView","View","events","options","collapsedClass","constructor","bindAll","result","Math","trunc","v","isFinite","_this","wrap","beforeRender","afterRender","prototype","apply","arguments","toggleExpandCollapse","event","$target","target","stopPropagation","preventDefault","HtmlUtils","XBlockValidationView","initialize","call","attributes","validation","additionalClasses","getAdditionalClasses","getIcon","bind","getDisplayName","$el","HTML","toString","messageType","NotificationView","PromptView","$script","showLoadingIndicator","hideLoadingIndicator","confirmThenRunOperation","runOperationShowingMessage","showErrorMeassage","withDisabledElement","disableElementWhileRunning","getScrollOffset","setScrollOffset","setScrollTop","redirect","reload","hasChangedAttributes","deleteNotificationHandler","validateRequiredField","validateURLItemEncoding","validateTotalKeyLength","checkTotalKeyLengthViolations","loadJavaScript","MAX_SUM_KEY_LENGTH","collapsed","closest","toggleClass","children","slideToggle","show","hide","title","actionLabel","operation","onCancelCallback","Warning","actions","primary","click","prompt","secondary","notificationView","Mini","done","heading","timeInterval","errorNotificationView","Error","setTimeout","functionName","view","currentTarget","element","addClass","always","removeClass","callback","ajax","url","data","success","scrollTop","animate","elementTop","offset","top","window","newScrollTop","location","i","changedAttributes","has","msg","item","allowUnicode","required","test","encodeURIComponent","match","keyFieldSelectors","totalLength","reduce","sum","ele","val","selectors","classes","messageTpl","tempHtml","errorWrapper","shown","hiding","joinHtml","limit","setHtml","errorMessage","save","disabled","deferred","Deferred","resolve","promise","str","systemFeedbackTemplate","tabbableElements","SystemFeedback","intent","icon","closeIcon","minShown","maxShown","Infinity","outFocusElement","JSON","stringify","setElement","isArray","inFocus","wrapperElementSelector","wrapper","tabbables","activeElement","first","focus","join","on","which","shiftKey","last","outFocus","off","clearTimeout","hideTimeout","shownAt","Date","isNumeric","singleton","stopListening","undelegateEvents","primaryClick","secondaryClick","secondaryList","SystemFeedbackView","Notification","capitalCamel","intents","miniOptions","compose","capitalize","camelize","subclass","Prompt","$body","body","f","exports","module","define","g","global","self","s","t","n","r","o","u","a","require","code","l","trim","decap","decapitalize","replace","c","toUpperCase","makeString","lowercaseRest","remainingChars","slice","toLowerCase","charAt","chars","chop","step","String","RegExp","classify","clean","from","to","push","cleanDiacritics","index","substr","dasherize","getIndent","matches","indent","min","dedent","pattern","reg","toPositive","endsWith","ends","position","escapeChars","regexString","key","regex","escapeHTML","m","hasOwnProperty","adjacent","direction","fromCharCode","charCodeAt","escapeRegExp","defaultToWhiteSpace","characters","source","htmlEntities","nbsp","cent","pound","yen","euro","copy","lt","gt","quot","amp","apos","object","strRepeat","qty","number","underscored","humanize","include","needle","value","_wrapped","VERSION","isBlank","stripTags","count","swapCase","unescapeHTML","splice","insert","replaceAll","lines","reverse","startsWith","pred","succ","titleize","ltrim","rtrim","truncate","prune","words","pad","lpad","rpad","lrpad","sprintf","vsprintf","toNumber","numberFormat","strRight","strRightBack","strLeft","strLeftBack","toSentence","toSentenceSerial","slugify","surround","quote","unquote","repeat","naturalCmp","levenshtein","toBoolean","map","strip","lstrip","rstrip","center","rjust","ljust","contains","q","toBool","camelcase","mapChars","fn2method","fn","args","concat","Array","res","tap","string","prototype2method","methodName","context","prototypeMethods","method","separator","shift","str1","str2","max","prevRow","nextCol","j","curCol","tmp","padStr","nativeTrimLeft","trimLeft","cmpRegex","tokens1","tokens2","b","num1","num2","re","not_string","json","not_json","modulo","placeholder","key_access","index_access","sign","cache","format","parse_tree","argv","cursor","tree_length","node_type","arg","output","k","pad_character","pad_length","is_positive","get_type","isNaN","TypeError","parseInt","toExponential","parseFloat","toFixed","toPrecision","substring","str_repeat","fmt","_fmt","arg_names","exec","field_list","replacement_field","field_match","SyntaxError","_argv","variable","Object","input","multiplier","amd","deprecate","config","warned","deprecated","trace","warn","localStorage","dec","dsep","tsep","parts","fnums","decimals","padlen","ceil","floor","pruneStr","tmpl","quoteChar","ignorecase","flags","nativeTrimRight","trimRight","howmany","arr","starts","sep","pos","boolMatch","matchers","matcher","down","trueValues","falseValues","num","precision","factor","pow","round","array","lastSeparator","serial","lastMember","pop","lastSep","nativeTrim","truncateStr","entity","entityCode","delimiter","width","seperator","cut","preserveSpaces","trailingSpaces","current_column"],"mappings":"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","file":"js/factories/xblock_validation.js","sourcesContent":["\nimport * as XBlockValidationView from 'js/views/xblock_validation';\nimport * as XBlockValidationModel from 'js/models/xblock_validation';\n\n'use strict';\nexport default function XBlockValidationFactory(validationMessages, hasEditingUrl, isRoot, isUnit, validationEle) {\n    var model, response;\n\n    if (hasEditingUrl && !isRoot) {\n        validationMessages.showSummaryOnly = true;\n    }\n    response = validationMessages;\n    response.isUnit = isUnit;\n\n    model = new XBlockValidationModel(response, {parse: true});\n\n    if (!model.get('empty')) {\n        new XBlockValidationView({el: validationEle, model: model, root: isRoot}).render();\n    }\n};\n\nexport {XBlockValidationFactory}\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/factories/xblock_validation.js","define(['backbone', 'gettext', 'underscore'], function(Backbone, gettext, _) {\n    /**\n     * Model for xblock validation messages as displayed in Studio.\n     */\n    var XBlockValidationModel = Backbone.Model.extend({\n        defaults: {\n            summary: {},\n            messages: [],\n            empty: true,\n            xblock_id: null\n        },\n\n        WARNING: 'warning',\n        ERROR: 'error',\n        NOT_CONFIGURED: 'not-configured',\n\n        parse: function(response) {\n            if (!response.empty) {\n                var summary = 'summary' in response ? response.summary : {};\n                var messages = 'messages' in response ? response.messages : [];\n                if (!summary.text) {\n                    if (response.isUnit) {\n                        summary.text = gettext('This unit has validation issues.');\n                    } else {\n                        summary.text = gettext('This component has validation issues.');\n                    }\n                }\n                if (!summary.type) {\n                    summary.type = this.WARNING;\n                    // Possible types are ERROR, WARNING, and NOT_CONFIGURED. NOT_CONFIGURED is treated as a warning.\n                    _.find(messages, function(message) {\n                        if (message.type === this.ERROR) {\n                            summary.type = this.ERROR;\n                            return true;\n                        }\n                        return false;\n                    }, this);\n                }\n                response.summary = summary;\n                if (response.showSummaryOnly) {\n                    messages = [];\n                }\n                response.messages = messages;\n            }\n\n            return response;\n        }\n    });\n    return XBlockValidationModel;\n});\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/models/xblock_validation.js","define(['jquery'], function($) {\n    var iframeBinding = function(e) {\n        var target_element = null;\n        if (typeof(e) === 'undefined') {\n            target_element = $('iframe, embed');\n        } else {\n            if (typeof(e.nodeName) !== 'undefined') {\n                target_element = $(e).find('iframe, embed');\n            } else {\n                target_element = e.$('iframe, embed');\n            }\n        }\n        modifyTagContent(target_element);\n    };\n\n    var modifyTagContent = function(target_element) {\n        target_element.each(function() {\n            if ($(this).prop('tagName') === 'IFRAME') {\n                var ifr_source = $(this).attr('src');\n\n                // Modify iframe src only if it is not empty\n                if (ifr_source) {\n                    var wmode = 'wmode=transparent';\n                    if (ifr_source.indexOf('?') !== -1) {\n                        var getQString = ifr_source.split('?');\n                        if (getQString[1].search('wmode=transparent') === -1) {\n                            var oldString = getQString[1];\n                            var newString = getQString[0];\n                            $(this).attr('src', newString + '?' + wmode + '&' + oldString);\n                        }\n                    }\n                    // The TinyMCE editor is hosted in an iframe, and before the iframe is\n                    // removed we execute this code. To avoid throwing an error when setting the\n                    // attr, check that the source doesn't start with the value specified by TinyMCE ('javascript:\"\"').\n                    else if (ifr_source.lastIndexOf('javascript:', 0) !== 0) {\n                        $(this).attr('src', ifr_source + '?' + wmode);\n                    }\n                }\n            } else {\n                $(this).attr('wmode', 'transparent');\n            }\n        });\n    };\n\n    // Modify iframe/embed tags in provided html string\n    // Use this method when provided data is just html sting not dom element\n    // This method will only modify iframe (add wmode=transparent in url querystring) and embed (add wmode=transparent as attribute)\n    // tags in html string so both tags will attach to dom and don't create z-index problem for other popups\n    // Note: embed tags should be modified before rendering as they are static objects as compared to iframes\n    // Note: this method can modify unintended html (invalid tags) while converting to dom object\n    var iframeBindingHtml = function(html_string) {\n        if (html_string) {\n            var target_element = null;\n            var temp_content = document.createElement('div');\n            $(temp_content).html(html_string);\n            target_element = $(temp_content).find('iframe, embed');\n            if (target_element.length > 0) {\n                modifyTagContent(target_element);\n                html_string = $(temp_content).html();\n            }\n        }\n        return html_string;\n    };\n\n    return {\n        iframeBinding: iframeBinding,\n        iframeBindingHtml: iframeBindingHtml\n    };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/utils/handle_iframe_binding.js","define(['jquery', 'underscore'], function($, _) {\n    /**\n     * Loads the named template from the page, or logs an error if it fails.\n     * @param name The name of the template.\n     * @returns The loaded template.\n     */\n    var loadTemplate = function(name) {\n        var templateSelector = '#' + name + '-tpl',\n            templateText = $(templateSelector).text();\n        if (!templateText) {\n            console.error('Failed to load ' + name + ' template');\n        }\n        return _.template(templateText);\n    };\n\n    return {\n        loadTemplate: loadTemplate\n    };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/utils/templates.js","define(['jquery', 'underscore', 'backbone', 'gettext', 'js/utils/handle_iframe_binding', 'js/utils/templates',\n    'common/js/components/utils/view_utils'],\n    function($, _, Backbone, gettext, IframeUtils, TemplateUtils, ViewUtils) {\n        /*\n         This view is extended from backbone to provide useful functionality for all Studio views.\n         This functionality includes:\n         - automatic expand and collapse of elements with the 'ui-toggle-expansion' class specified\n         - additional control of rendering by overriding 'beforeRender' or 'afterRender'\n\n         Note: the default 'afterRender' function calls a utility function 'iframeBinding' which modifies\n         iframe src urls on a page so that they are rendered as part of the DOM.\n         */\n\n        var BaseView = Backbone.View.extend({\n            events: {\n                'click .ui-toggle-expansion': 'toggleExpandCollapse'\n            },\n\n            options: {\n                // UX is moving towards using 'is-collapsed' in preference over 'collapsed',\n                // but use the old scheme as the default so that existing code doesn't need\n                // to be rewritten.\n                collapsedClass: 'collapsed'\n            },\n\n            // override the constructor function\n            constructor: function(options) {\n                _.bindAll(this, 'beforeRender', 'render', 'afterRender');\n\n                // Merge passed options and view's options property and\n                // attach to the view's options property\n                if (this.options) {\n                    options = _.extend({}, _.result(this, 'options'), options);\n                }\n\n                // trunc is not available in IE, and it provides polyfill for it.\n                // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/trunc\n                if (!Math.trunc) {\n                    Math.trunc = function(v) {\n                        v = +v;  // eslint-disable-line no-param-reassign\n                        return (v - v % 1) || (!isFinite(v) || v === 0 ? v : v < 0 ? -0 : 0);\n                    };\n                }\n                this.options = options;\n\n                var _this = this;\n                // xss-lint: disable=javascript-jquery-insertion\n                this.render = _.wrap(this.render, function(render, options) {\n                    _this.beforeRender();\n                    render(options);\n                    _this.afterRender();\n                    return _this;\n                });\n\n                // call Backbone's own constructor\n                Backbone.View.prototype.constructor.apply(this, arguments);\n            },\n\n            beforeRender: function() {\n            },\n\n            render: function() {\n                return this;\n            },\n\n            afterRender: function() {\n                IframeUtils.iframeBinding(this);\n            },\n\n            toggleExpandCollapse: function(event) {\n                var $target = $(event.target);\n                // Don't propagate the event as it is possible that two views will both contain\n                // this element, e.g. clicking on the element of a child view container in a parent.\n                event.stopPropagation();\n                event.preventDefault();\n                ViewUtils.toggleExpandCollapse($target, this.options.collapsedClass);\n            },\n\n            /**\n             * Loads the named template from the page, or logs an error if it fails.\n             * @param name The name of the template.\n             * @returns The loaded template.\n             */\n            loadTemplate: function(name) {\n                return TemplateUtils.loadTemplate(name);\n            }\n        });\n\n        return BaseView;\n    });\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/views/baseview.js","define(['jquery', 'underscore', 'js/views/baseview', 'gettext', 'edx-ui-toolkit/js/utils/html-utils'],\n    function($, _, BaseView, gettext, HtmlUtils) {\n        'use strict';\n        /**\n         * View for xblock validation messages as displayed in Studio.\n         */\n        var XBlockValidationView = BaseView.extend({\n\n            // Takes XBlockValidationModel as a model\n            initialize: function(options) {\n                BaseView.prototype.initialize.call(this);\n                this.template = this.loadTemplate('xblock-validation-messages');\n                this.root = options.root;\n            },\n\n            render: function() {\n                var attributes = {\n                    validation: this.model,\n                    additionalClasses: this.getAdditionalClasses(),\n                    getIcon: this.getIcon.bind(this),\n                    getDisplayName: this.getDisplayName.bind(this)\n                };\n                this.$el.html(HtmlUtils.HTML(this.template(attributes)).toString());\n                return this;\n            },\n\n            /**\n             * Returns the icon css class based on the message type.\n             * @param messageType\n             * @returns string representation of css class that will render the correct icon, or null if unknown type\n             */\n            getIcon: function(messageType) {\n                if (messageType === this.model.ERROR) {\n                    return 'fa-exclamation-circle';\n                } else if (messageType === this.model.WARNING || messageType === this.model.NOT_CONFIGURED) {\n                    return 'fa-exclamation-triangle';\n                }\n                return null;\n            },\n\n            /**\n             * Returns a display name for a message (useful for screen readers), based on the message type.\n             * @param messageType\n             * @returns string display name (translated)\n             */\n            getDisplayName: function(messageType) {\n                if (messageType === this.model.WARNING || messageType === this.model.NOT_CONFIGURED) {\n                    // Translators: This message will be added to the front of messages of type warning,\n                    // e.g. \"Warning: this component has not been configured yet\".\n                    return gettext('Warning');\n                } else if (messageType === this.model.ERROR) {\n                    // Translators: This message will be added to the front of messages of type error,\n                    // e.g. \"Error: required field is missing\".\n                    return gettext('Error');\n                }\n                return null;\n            },\n\n            /**\n             * Returns additional css classes that can be added to HTML containing the validation messages.\n             * Useful for rendering NOT_CONFIGURED in a special way.\n             *\n             * @returns string of additional css classes (or empty string)\n             */\n            getAdditionalClasses: function() {\n                if (this.root && this.model.get('summary').type === this.model.NOT_CONFIGURED &&\n                    this.model.get('messages').length === 0) {\n                    return 'no-container-content';\n                }\n                return '';\n            }\n        });\n\n        return XBlockValidationView;\n    });\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/views/xblock_validation.js","/**\n * Provides useful utilities for views.\n */\n\n    'use strict';\n\n    /* RequireJS\n    define(['jquery', 'underscore', 'gettext', 'common/js/components/views/feedback_notification',\n        'common/js/components/views/feedback_prompt', 'edx-ui-toolkit/js/utils/html-utils'],\n        function($, _, gettext, NotificationView, PromptView, HtmlUtils) {\n    /* End RequireJS */\n    /* Webpack */\n    define(['jquery', 'underscore', 'gettext', 'common/js/components/views/feedback_notification',\n        'common/js/components/views/feedback_prompt', 'scriptjs'],\n        function($, _, gettext, NotificationView, PromptView, $script) {\n    /* End Webpack */\n\n            var toggleExpandCollapse, showLoadingIndicator, hideLoadingIndicator, confirmThenRunOperation,\n                runOperationShowingMessage, showErrorMeassage, withDisabledElement, disableElementWhileRunning,\n                getScrollOffset, setScrollOffset, setScrollTop, redirect, reload, hasChangedAttributes,\n                deleteNotificationHandler, validateRequiredField, validateURLItemEncoding,\n                validateTotalKeyLength, checkTotalKeyLengthViolations, loadJavaScript;\n\n            // see https://openedx.atlassian.net/browse/TNL-889 for what is it and why it's 65\n            var MAX_SUM_KEY_LENGTH = 65;\n\n            /**\n             * Toggles the expanded state of the current element.\n             */\n            toggleExpandCollapse = function(target, collapsedClass) {\n                // Support the old 'collapsed' option until fully switched over to is-collapsed\n                var collapsed = collapsedClass || 'collapsed';\n                target.closest('.expand-collapse').toggleClass('expand collapse');\n                target.closest('.is-collapsible, .window').toggleClass(collapsed);\n                target.closest('.is-collapsible').children('article').slideToggle();\n            };\n\n            /**\n             * Show the page's loading indicator.\n             */\n            showLoadingIndicator = function() {\n                $('.ui-loading').show();\n            };\n\n            /**\n             * Hide the page's loading indicator.\n             */\n            hideLoadingIndicator = function() {\n                $('.ui-loading').hide();\n            };\n\n            /**\n             * Confirms with the user whether to run an operation or not, and then runs it if desired.\n             */\n            confirmThenRunOperation = function(title, message, actionLabel, operation, onCancelCallback) {\n                return new PromptView.Warning({\n                    title: title,\n                    message: message,\n                    actions: {\n                        primary: {\n                            text: actionLabel,\n                            click: function(prompt) {\n                                prompt.hide();\n                                operation();\n                            }\n                        },\n                        secondary: {\n                            text: gettext('Cancel'),\n                            click: function(prompt) {\n                                if (onCancelCallback) {\n                                    onCancelCallback();\n                                }\n                                return prompt.hide();\n                            }\n                        }\n                    }\n                }).show();\n            };\n\n            /**\n             * Shows a progress message for the duration of an asynchronous operation.\n             * Note: this does not remove the notification upon failure because an error\n             * will be shown that shouldn't be removed.\n             * @param message The message to show.\n             * @param operation A function that returns a promise representing the operation.\n             */\n            runOperationShowingMessage = function(message, operation) {\n                var notificationView;\n                notificationView = new NotificationView.Mini({\n                    title: gettext(message)\n                });\n                notificationView.show();\n                return operation().done(function() {\n                    notificationView.hide();\n                });\n            };\n\n            /**\n             * Shows an error notification message for a specifc period of time.\n             * @param heading The heading of notification.\n             * @param message The message to show.\n             * @param timeInterval The time interval to hide the notification.\n             */\n            showErrorMeassage = function(heading, message, timeInterval) {\n                var errorNotificationView = new NotificationView.Error({\n                    title: gettext(heading),\n                    message: gettext(message)\n                });\n                errorNotificationView.show();\n\n                setTimeout(function() { errorNotificationView.hide(); }, timeInterval);\n            };\n            /**\n             * Wraps a Backbone event callback to disable the event's target element.\n             *\n             * This paradigm is designed to be used in Backbone event maps where\n             * multiple events firing simultaneously is not desired.\n             *\n             * @param functionName the function to execute, as a string.\n             * The function must return a jQuery promise and be able to take an event\n             */\n            withDisabledElement = function(functionName) {\n                return function(event) {\n                    var view = this;\n                    disableElementWhileRunning($(event.currentTarget), function() {\n                        // call view.functionName(event), with view as the current this\n                        return view[functionName].apply(view, [event]);\n                    });\n                };\n            };\n\n            /**\n             * Disables a given element when a given operation is running.\n             * @param {jQuery} element the element to be disabled.\n             * @param operation the operation during whose duration the\n             * element should be disabled. The operation should return\n             * a JQuery promise.\n             */\n            disableElementWhileRunning = function(element, operation) {\n                element.addClass('is-disabled').attr('aria-disabled', true);\n                return operation().always(function() {\n                    element.removeClass('is-disabled').attr('aria-disabled', false);\n                });\n            };\n\n            /**\n             * Returns a handler that removes a notification, both dismissing it and deleting it from the database.\n             * @param callback function to call when deletion succeeds\n             */\n            deleteNotificationHandler = function(callback) {\n                return function(event) {\n                    event.preventDefault();\n                    $.ajax({\n                        url: $(this).data('dismiss-link'),\n                        type: 'DELETE',\n                        success: callback\n                    });\n                };\n            };\n\n            /**\n             * Performs an animated scroll so that the window has the specified scroll top.\n             * @param scrollTop The desired scroll top for the window.\n             */\n            setScrollTop = function(scrollTop) {\n                $('html, body').animate({\n                    scrollTop: scrollTop\n                }, 500);\n            };\n\n            /**\n             * Returns the relative position that the element is scrolled from the top of the view port.\n             * @param element The element in question.\n             */\n            getScrollOffset = function(element) {\n                var elementTop = element.offset().top;\n                return elementTop - $(window).scrollTop();\n            };\n\n            /**\n             * Scrolls the window so that the element is scrolled down to the specified relative position\n             * from the top of the view port.\n             * @param element The element in question.\n             * @param offset The amount by which the element should be scrolled from the top of the view port.\n             */\n            setScrollOffset = function(element, offset) {\n                var elementTop = element.offset().top,\n                    newScrollTop = elementTop - offset;\n                setScrollTop(newScrollTop);\n            };\n\n            /**\n             * Redirects to the specified URL. This is broken out as its own function for unit testing.\n             */\n            redirect = function(url) {\n                window.location = url;\n            };\n\n            /**\n             * Reloads the page. This is broken out as its own function for unit testing.\n             */\n            reload = function() {\n                window.location.reload();\n            };\n\n            /**\n             * Returns true if a model has changes to at least one of the specified attributes.\n             * @param model The model in question.\n             * @param attributes The list of attributes to be compared.\n             * @returns {boolean} Returns true if attribute changes are found.\n             */\n            hasChangedAttributes = function(model, attributes) {\n                var i,\n                    changedAttributes = model.changedAttributes();\n                if (!changedAttributes) {\n                    return false;\n                }\n                for (i = 0; i < attributes.length; i++) {\n                    if (_.has(changedAttributes, attributes[i])) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n\n            /**\n             * Helper method for course/library creation - verifies a required field is not blank.\n             */\n            validateRequiredField = function(msg) {\n                return msg.length === 0 ? gettext('Required field.') : '';\n            };\n\n            /**\n             * Helper method for course/library creation.\n             * Check that a course (org, number, run) doesn't use any special characters\n             */\n            validateURLItemEncoding = function(item, allowUnicode) {\n                var required = validateRequiredField(item);\n                if (required) {\n                    return required;\n                }\n                if (allowUnicode) {\n                    if (/\\s/g.test(item)) {\n                        return gettext('Please do not use any spaces in this field.');\n                    }\n                } else {\n                    if (item !== encodeURIComponent(item) || item.match(/[!'()*]/)) {\n                        return gettext('Please do not use any spaces or special characters in this field.');\n                    }\n                }\n                return '';\n            };\n\n            // Ensure that sum length of key field values <= ${MAX_SUM_KEY_LENGTH} chars.\n            validateTotalKeyLength = function(keyFieldSelectors) {\n                var totalLength = _.reduce(\n                    keyFieldSelectors,\n                    function(sum, ele) { return sum + $(ele).val().length; },\n                    0\n                );\n                return totalLength <= MAX_SUM_KEY_LENGTH;\n            };\n\n            checkTotalKeyLengthViolations = function(selectors, classes, keyFieldSelectors, messageTpl) {\n                var tempHtml;\n                if (!validateTotalKeyLength(keyFieldSelectors)) {\n                    $(selectors.errorWrapper).addClass(classes.shown).removeClass(classes.hiding);\n                    tempHtml = HtmlUtils.joinHtml(\n                            HtmlUtils.HTML('<p>'),\n                            HtmlUtils.template(messageTpl)({limit: MAX_SUM_KEY_LENGTH}),\n                            HtmlUtils.HTML('</p>')\n                    );\n                    HtmlUtils.setHtml(\n                        $(selectors.errorMessage),\n                        tempHtml\n                    );\n                    $(selectors.save).addClass(classes.disabled);\n                } else {\n                    $(selectors.errorWrapper).removeClass(classes.shown).addClass(classes.hiding);\n                }\n            };\n\n            /**\n             * Dynamically loads the specified JavaScript file.\n             * @param url The URL to a JavaScript file.\n             * @returns {Promise} A promise indicating when the URL has been loaded.\n             */\n            loadJavaScript = function(url) {\n                var deferred = $.Deferred();\n                /* RequireJS\n                require([url],\n                    function() {\n                        deferred.resolve();\n                    },\n                    function() {\n                        deferred.reject();\n                    });\n                /* End RequireJS */\n                /* Webpack */\n                $script(url, url, function () {\n                    deferred.resolve();\n                });\n                /* End Webpack */\n                return deferred.promise();\n            };\n\n            return {\n                toggleExpandCollapse: toggleExpandCollapse,\n                showLoadingIndicator: showLoadingIndicator,\n                hideLoadingIndicator: hideLoadingIndicator,\n                confirmThenRunOperation: confirmThenRunOperation,\n                runOperationShowingMessage: runOperationShowingMessage,\n                showErrorMeassage: showErrorMeassage,\n                withDisabledElement: withDisabledElement,\n                disableElementWhileRunning: disableElementWhileRunning,\n                deleteNotificationHandler: deleteNotificationHandler,\n                setScrollTop: setScrollTop,\n                getScrollOffset: getScrollOffset,\n                setScrollOffset: setScrollOffset,\n                redirect: redirect,\n                reload: reload,\n                hasChangedAttributes: hasChangedAttributes,\n                validateRequiredField: validateRequiredField,\n                validateURLItemEncoding: validateURLItemEncoding,\n                validateTotalKeyLength: validateTotalKeyLength,\n                checkTotalKeyLengthViolations: checkTotalKeyLengthViolations,\n                loadJavaScript: loadJavaScript\n            };\n        });\n\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/common/js/components/utils/view_utils.js","\n    'use strict';\n    define([\n        'jquery',\n        'underscore',\n        'underscore.string',\n        'backbone',\n        'edx-ui-toolkit/js/utils/html-utils',\n        '../../../../common/templates/components/system-feedback.underscore'\n    ],\n        function($, _, str, Backbone, HtmlUtils, systemFeedbackTemplate) {\n            var tabbableElements = [\n                \"a[href]:not([tabindex='-1'])\",\n                \"area[href]:not([tabindex='-1'])\",\n                \"input:not([disabled]):not([tabindex='-1'])\",\n                \"select:not([disabled]):not([tabindex='-1'])\",\n                \"textarea:not([disabled]):not([tabindex='-1'])\",\n                \"button:not([disabled]):not([tabindex='-1'])\",\n                \"iframe:not([tabindex='-1'])\",\n                \"[tabindex]:not([tabindex='-1'])\",\n                \"[contentEditable=true]:not([tabindex='-1'])\"\n            ];\n            var SystemFeedback = Backbone.View.extend({\n                options: {\n                    title: '',\n                    message: '',\n                    intent: null,  // \"warning\", \"confirmation\", \"error\", \"announcement\", \"step-required\", etc\n                    type: null, // \"alert\", \"notification\", or \"prompt\": set by subclass\n                    shown: true,  // is this view currently being shown?\n                    icon: true,  // should we render an icon related to the message intent?\n                    closeIcon: true,  // should we render a close button in the top right corner?\n                    minShown: 0,  // ms after this view has been shown before it can be hidden\n                    maxShown: Infinity,  // ms after this view has been shown before it will be automatically hidden\n                    outFocusElement: null  // element to send focus to on hide\n\n                /* Could also have an \"actions\" hash: here is an example demonstrating\n                    the expected structure. For each action, by default the framework\n                    will call preventDefault on the click event before the function is\n                    run; to make it not do that, just pass `preventDefault: false` in\n                    the action object.\n\n                actions: {\n                    primary: {\n                        \"text\": \"Save\",\n                        \"class\": \"action-save\",\n                        \"click\": function(view) {\n                            // do something when Save is clicked\n                        }\n                    },\n                    secondary: [\n                        {\n                            \"text\": \"Cancel\",\n                            \"class\": \"action-cancel\",\n                            \"click\": function(view) {}\n                        }, {\n                            \"text\": \"Discard Changes\",\n                            \"class\": \"action-discard\",\n                            \"click\": function(view) {}\n                        }\n                    ]\n                }\n                */\n                },\n\n                initialize: function(options) {\n                    this.options = _.extend({}, this.options, options);\n                    if (!this.options.type) {\n                        throw 'SystemFeedback: type required (given ' +  // eslint-disable-line no-throw-literal\n                            JSON.stringify(this.options) + ')';\n                    }\n                    if (!this.options.intent) {\n                        throw 'SystemFeedback: intent required (given ' +  // eslint-disable-line no-throw-literal\n                            JSON.stringify(this.options) + ')';\n                    }\n                    this.setElement($('#page-' + this.options.type));\n                    // handle single \"secondary\" action\n                    if (this.options.actions && this.options.actions.secondary &&\n                            !_.isArray(this.options.actions.secondary)) {\n                        this.options.actions.secondary = [this.options.actions.secondary];\n                    }\n                    return this;\n                },\n\n                inFocus: function(wrapperElementSelector) {\n                    var wrapper = wrapperElementSelector || '.wrapper',\n                        tabbables;\n                    this.options.outFocusElement = this.options.outFocusElement || document.activeElement;\n\n                    // Set focus to the container.\n                    this.$(wrapper).first().focus();\n\n                    // Make tabs within the prompt loop rather than setting focus\n                    // back to the main content of the page.\n                    tabbables = this.$(tabbableElements.join());\n                    tabbables.on('keydown', function(event) {\n                        // On tab backward from the first tabbable item in the prompt\n                        if (event.which === 9 && event.shiftKey && event.target === tabbables.first()[0]) {\n                            event.preventDefault();\n                            tabbables.last().focus();\n                        } else if (event.which === 9 && !event.shiftKey && event.target === tabbables.last()[0]) {\n                            // On tab forward from the last tabbable item in the prompt\n                            event.preventDefault();\n                            tabbables.first().focus();\n                        }\n                    });\n\n                    return this;\n                },\n\n                outFocus: function() {\n                    this.$(tabbableElements.join()).off('keydown');\n                    if (this.options.outFocusElement) {\n                        this.options.outFocusElement.focus();\n                    }\n                    return this;\n                },\n\n                // public API: show() and hide()\n                show: function() {\n                    clearTimeout(this.hideTimeout);\n                    this.options.shown = true;\n                    this.shownAt = new Date();\n                    this.render();\n                    if ($.isNumeric(this.options.maxShown)) {\n                        this.hideTimeout = setTimeout(_.bind(this.hide, this),\n                            this.options.maxShown);\n                    }\n                    return this;\n                },\n\n                hide: function() {\n                    if (this.shownAt && $.isNumeric(this.options.minShown) &&\n                            this.options.minShown > new Date() - this.shownAt) {\n                        clearTimeout(this.hideTimeout);\n                        this.hideTimeout = setTimeout(_.bind(this.hide, this),\n                            this.options.minShown - (new Date() - this.shownAt));\n                    } else {\n                        this.options.shown = false;\n                        delete this.shownAt;\n                        this.render();\n                    }\n                    return this;\n                },\n\n                // the rest of the API should be considered semi-private\n                events: {\n                    'click .action-close': 'hide',\n                    'click .action-primary': 'primaryClick',\n                    'click .action-secondary': 'secondaryClick'\n                },\n\n                render: function() {\n                    // there can be only one active view of a given type at a time: only\n                    // one alert, only one notification, only one prompt. Therefore, we'll\n                    // use a singleton approach.\n                    var singleton = SystemFeedback['active_' + this.options.type];\n                    if (singleton && singleton !== this) {\n                        singleton.stopListening();\n                        singleton.undelegateEvents();\n                    }\n                    HtmlUtils.setHtml(this.$el, HtmlUtils.template(systemFeedbackTemplate)(this.options));\n                    SystemFeedback['active_' + this.options.type] = this;\n                    return this;\n                },\n\n                primaryClick: function(event) {\n                    var actions, primary;\n                    actions = this.options.actions;\n                    if (!actions) { return; }\n                    primary = actions.primary;\n                    if (!primary) { return; }\n                    if (primary.preventDefault !== false) {\n                        event.preventDefault();\n                    }\n                    if (primary.click) {\n                        primary.click.call(event.target, this, event);\n                    }\n                },\n\n                secondaryClick: function(event) {\n                    var actions, secondaryList, secondary, i;\n                    actions = this.options.actions;\n                    if (!actions) { return; }\n                    secondaryList = actions.secondary;\n                    if (!secondaryList) { return; }\n                    // which secondary action was clicked?\n                    i = 0;  // default to the first secondary action (easier for testing)\n                    if (event && event.target) {\n                        i = _.indexOf(this.$('.action-secondary'), event.target);\n                    }\n                    secondary = secondaryList[i];\n                    if (secondary.preventDefault !== false) {\n                        event.preventDefault();\n                    }\n                    if (secondary.click) {\n                        secondary.click.call(event.target, this, event);\n                    }\n                }\n            });\n            return SystemFeedback;\n        });\n\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/common/js/components/views/feedback.js","\n    'use strict';\n    define(['jquery', 'underscore', 'underscore.string', './feedback'],\n        function($, _, str, SystemFeedbackView) {\n            var Notification = SystemFeedbackView.extend({\n                options: $.extend({}, SystemFeedbackView.prototype.options, {\n                    type: 'notification',\n                    closeIcon: false\n                })\n            });\n\n            // create Notification.Warning, Notification.Confirmation, etc\n            var capitalCamel, intents, miniOptions;\n            capitalCamel = _.compose(str.capitalize, str.camelize);\n            intents = ['warning', 'error', 'confirmation', 'announcement', 'step-required', 'help', 'mini'];\n            _.each(intents, function(intent) {\n                var subclass;\n                subclass = Notification.extend({\n                    options: $.extend({}, Notification.prototype.options, {\n                        intent: intent\n                    })\n                });\n                Notification[capitalCamel(intent)] = subclass;\n            });\n\n            // set more sensible defaults for Notification.Mini views\n            miniOptions = Notification.Mini.prototype.options;\n            miniOptions.minShown = 1250;\n            miniOptions.closeIcon = false;\n\n            return Notification;\n        }\n    );\n\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/common/js/components/views/feedback_notification.js","\n    'use strict';\n    define(['jquery', 'underscore', 'underscore.string', 'common/js/components/views/feedback'],\n        function($, _, str, SystemFeedbackView) {\n            var Prompt = SystemFeedbackView.extend({\n                options: $.extend({}, SystemFeedbackView.prototype.options, {\n                    type: 'prompt',\n                    closeIcon: false,\n                    icon: false\n                }),\n                render: function() {\n                    if (!window.$body) { window.$body = $(document.body); }\n                    if (this.options.shown) {\n                        $body.addClass('prompt-is-shown');\n                    } else {\n                        $body.removeClass('prompt-is-shown');\n                    }\n                    // super() in Javascript has awkward syntax :(\n                    return SystemFeedbackView.prototype.render.apply(this, arguments);\n                },\n                show: function() {\n                    SystemFeedbackView.prototype.show.apply(this, arguments);\n                    return this.inFocus();\n                },\n\n                hide: function() {\n                    SystemFeedbackView.prototype.hide.apply(this, arguments);\n                    return this.outFocus();\n                }\n            });\n\n            // create Prompt.Warning, Prompt.Confirmation, etc\n            var capitalCamel, intents;\n            capitalCamel = _.compose(str.capitalize, str.camelize);\n            intents = ['warning', 'error', 'confirmation', 'announcement', 'step-required', 'help', 'mini'];\n            _.each(intents, function(intent) {\n                var subclass;\n                subclass = Prompt.extend({\n                    options: $.extend({}, Prompt.prototype.options, {\n                        intent: intent\n                    })\n                });\n                Prompt[capitalCamel(intent)] = subclass;\n            });\n\n            return Prompt;\n        });\n\n\n\n\n// WEBPACK FOOTER //\n// ./common/static/common/js/components/views/feedback_prompt.js","/*\n* Underscore.string\n* (c) 2010 Esa-Matti Suuronen <esa-matti aet suuronen dot org>\n* Underscore.string is freely distributable under the terms of the MIT license.\n* Documentation: https://github.com/epeli/underscore.string\n* Some code is borrowed from MooTools and Alexandru Marasteanu.\n* Version '3.3.4'\n* @preserve\n*/\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.s = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar trim = require('./trim');\nvar decap = require('./decapitalize');\n\nmodule.exports = function camelize(str, decapitalize) {\n  str = trim(str).replace(/[-_\\s]+(.)?/g, function(match, c) {\n    return c ? c.toUpperCase() : '';\n  });\n\n  if (decapitalize === true) {\n    return decap(str);\n  } else {\n    return str;\n  }\n};\n\n},{\"./decapitalize\":10,\"./trim\":65}],2:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function capitalize(str, lowercaseRest) {\n  str = makeString(str);\n  var remainingChars = !lowercaseRest ? str.slice(1) : str.slice(1).toLowerCase();\n\n  return str.charAt(0).toUpperCase() + remainingChars;\n};\n\n},{\"./helper/makeString\":20}],3:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function chars(str) {\n  return makeString(str).split('');\n};\n\n},{\"./helper/makeString\":20}],4:[function(require,module,exports){\nmodule.exports = function chop(str, step) {\n  if (str == null) return [];\n  str = String(str);\n  step = ~~step;\n  return step > 0 ? str.match(new RegExp('.{1,' + step + '}', 'g')) : [str];\n};\n\n},{}],5:[function(require,module,exports){\nvar capitalize = require('./capitalize');\nvar camelize = require('./camelize');\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function classify(str) {\n  str = makeString(str);\n  return capitalize(camelize(str.replace(/[\\W_]/g, ' ')).replace(/\\s/g, ''));\n};\n\n},{\"./camelize\":1,\"./capitalize\":2,\"./helper/makeString\":20}],6:[function(require,module,exports){\nvar trim = require('./trim');\n\nmodule.exports = function clean(str) {\n  return trim(str).replace(/\\s\\s+/g, ' ');\n};\n\n},{\"./trim\":65}],7:[function(require,module,exports){\n\nvar makeString = require('./helper/makeString');\n\nvar from  = '',\n  to    = 'aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz';\n\nfrom += from.toUpperCase();\nto += to.toUpperCase();\n\nto = to.split('');\n\n// for tokens requireing multitoken output\nfrom += '';\nto.push('ss');\n\n\nmodule.exports = function cleanDiacritics(str) {\n  return makeString(str).replace(/.{1}/g, function(c){\n    var index = from.indexOf(c);\n    return index === -1 ? c : to[index];\n  });\n};\n\n},{\"./helper/makeString\":20}],8:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function(str, substr) {\n  str = makeString(str);\n  substr = makeString(substr);\n\n  if (str.length === 0 || substr.length === 0) return 0;\n  \n  return str.split(substr).length - 1;\n};\n\n},{\"./helper/makeString\":20}],9:[function(require,module,exports){\nvar trim = require('./trim');\n\nmodule.exports = function dasherize(str) {\n  return trim(str).replace(/([A-Z])/g, '-$1').replace(/[-_\\s]+/g, '-').toLowerCase();\n};\n\n},{\"./trim\":65}],10:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function decapitalize(str) {\n  str = makeString(str);\n  return str.charAt(0).toLowerCase() + str.slice(1);\n};\n\n},{\"./helper/makeString\":20}],11:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nfunction getIndent(str) {\n  var matches = str.match(/^[\\s\\\\t]*/gm);\n  var indent = matches[0].length;\n  \n  for (var i = 1; i < matches.length; i++) {\n    indent = Math.min(matches[i].length, indent);\n  }\n\n  return indent;\n}\n\nmodule.exports = function dedent(str, pattern) {\n  str = makeString(str);\n  var indent = getIndent(str);\n  var reg;\n\n  if (indent === 0) return str;\n\n  if (typeof pattern === 'string') {\n    reg = new RegExp('^' + pattern, 'gm');\n  } else {\n    reg = new RegExp('^[ \\\\t]{' + indent + '}', 'gm');\n  }\n\n  return str.replace(reg, '');\n};\n\n},{\"./helper/makeString\":20}],12:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\nvar toPositive = require('./helper/toPositive');\n\nmodule.exports = function endsWith(str, ends, position) {\n  str = makeString(str);\n  ends = '' + ends;\n  if (typeof position == 'undefined') {\n    position = str.length - ends.length;\n  } else {\n    position = Math.min(toPositive(position), str.length) - ends.length;\n  }\n  return position >= 0 && str.indexOf(ends, position) === position;\n};\n\n},{\"./helper/makeString\":20,\"./helper/toPositive\":22}],13:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\nvar escapeChars = require('./helper/escapeChars');\n\nvar regexString = '[';\nfor(var key in escapeChars) {\n  regexString += key;\n}\nregexString += ']';\n\nvar regex = new RegExp( regexString, 'g');\n\nmodule.exports = function escapeHTML(str) {\n\n  return makeString(str).replace(regex, function(m) {\n    return '&' + escapeChars[m] + ';';\n  });\n};\n\n},{\"./helper/escapeChars\":17,\"./helper/makeString\":20}],14:[function(require,module,exports){\nmodule.exports = function() {\n  var result = {};\n\n  for (var prop in this) {\n    if (!this.hasOwnProperty(prop) || prop.match(/^(?:include|contains|reverse|join|map|wrap)$/)) continue;\n    result[prop] = this[prop];\n  }\n\n  return result;\n};\n\n},{}],15:[function(require,module,exports){\nvar makeString = require('./makeString');\n\nmodule.exports = function adjacent(str, direction) {\n  str = makeString(str);\n  if (str.length === 0) {\n    return '';\n  }\n  return str.slice(0, -1) + String.fromCharCode(str.charCodeAt(str.length - 1) + direction);\n};\n\n},{\"./makeString\":20}],16:[function(require,module,exports){\nvar escapeRegExp = require('./escapeRegExp');\n\nmodule.exports = function defaultToWhiteSpace(characters) {\n  if (characters == null)\n    return '\\\\s';\n  else if (characters.source)\n    return characters.source;\n  else\n    return '[' + escapeRegExp(characters) + ']';\n};\n\n},{\"./escapeRegExp\":18}],17:[function(require,module,exports){\n/* We're explicitly defining the list of entities we want to escape.\nnbsp is an HTML entity, but we don't want to escape all space characters in a string, hence its omission in this map.\n\n*/\nvar escapeChars = {\n  '' : 'cent',\n  '' : 'pound',\n  '' : 'yen',\n  '': 'euro',\n  '' :'copy',\n  '' : 'reg',\n  '<' : 'lt',\n  '>' : 'gt',\n  '\"' : 'quot',\n  '&' : 'amp',\n  '\\'' : '#39'\n};\n\nmodule.exports = escapeChars;\n\n},{}],18:[function(require,module,exports){\nvar makeString = require('./makeString');\n\nmodule.exports = function escapeRegExp(str) {\n  return makeString(str).replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\n\n},{\"./makeString\":20}],19:[function(require,module,exports){\n/*\nWe're explicitly defining the list of entities that might see in escape HTML strings\n*/\nvar htmlEntities = {\n  nbsp: ' ',\n  cent: '',\n  pound: '',\n  yen: '',\n  euro: '',\n  copy: '',\n  reg: '',\n  lt: '<',\n  gt: '>',\n  quot: '\"',\n  amp: '&',\n  apos: '\\''\n};\n\nmodule.exports = htmlEntities;\n\n},{}],20:[function(require,module,exports){\n/**\n * Ensure some object is a coerced to a string\n **/\nmodule.exports = function makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n};\n\n},{}],21:[function(require,module,exports){\nmodule.exports = function strRepeat(str, qty){\n  if (qty < 1) return '';\n  var result = '';\n  while (qty > 0) {\n    if (qty & 1) result += str;\n    qty >>= 1, str += str;\n  }\n  return result;\n};\n\n},{}],22:[function(require,module,exports){\nmodule.exports = function toPositive(number) {\n  return number < 0 ? 0 : (+number || 0);\n};\n\n},{}],23:[function(require,module,exports){\nvar capitalize = require('./capitalize');\nvar underscored = require('./underscored');\nvar trim = require('./trim');\n\nmodule.exports = function humanize(str) {\n  return capitalize(trim(underscored(str).replace(/_id$/, '').replace(/_/g, ' ')));\n};\n\n},{\"./capitalize\":2,\"./trim\":65,\"./underscored\":67}],24:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function include(str, needle) {\n  if (needle === '') return true;\n  return makeString(str).indexOf(needle) !== -1;\n};\n\n},{\"./helper/makeString\":20}],25:[function(require,module,exports){\n/*\n* Underscore.string\n* (c) 2010 Esa-Matti Suuronen <esa-matti aet suuronen dot org>\n* Underscore.string is freely distributable under the terms of the MIT license.\n* Documentation: https://github.com/epeli/underscore.string\n* Some code is borrowed from MooTools and Alexandru Marasteanu.\n* Version '3.3.4'\n* @preserve\n*/\n\n'use strict';\n\nfunction s(value) {\n  /* jshint validthis: true */\n  if (!(this instanceof s)) return new s(value);\n  this._wrapped = value;\n}\n\ns.VERSION = '3.3.4';\n\ns.isBlank          = require('./isBlank');\ns.stripTags        = require('./stripTags');\ns.capitalize       = require('./capitalize');\ns.decapitalize     = require('./decapitalize');\ns.chop             = require('./chop');\ns.trim             = require('./trim');\ns.clean            = require('./clean');\ns.cleanDiacritics  = require('./cleanDiacritics');\ns.count            = require('./count');\ns.chars            = require('./chars');\ns.swapCase         = require('./swapCase');\ns.escapeHTML       = require('./escapeHTML');\ns.unescapeHTML     = require('./unescapeHTML');\ns.splice           = require('./splice');\ns.insert           = require('./insert');\ns.replaceAll       = require('./replaceAll');\ns.include          = require('./include');\ns.join             = require('./join');\ns.lines            = require('./lines');\ns.dedent           = require('./dedent');\ns.reverse          = require('./reverse');\ns.startsWith       = require('./startsWith');\ns.endsWith         = require('./endsWith');\ns.pred             = require('./pred');\ns.succ             = require('./succ');\ns.titleize         = require('./titleize');\ns.camelize         = require('./camelize');\ns.underscored      = require('./underscored');\ns.dasherize        = require('./dasherize');\ns.classify         = require('./classify');\ns.humanize         = require('./humanize');\ns.ltrim            = require('./ltrim');\ns.rtrim            = require('./rtrim');\ns.truncate         = require('./truncate');\ns.prune            = require('./prune');\ns.words            = require('./words');\ns.pad              = require('./pad');\ns.lpad             = require('./lpad');\ns.rpad             = require('./rpad');\ns.lrpad            = require('./lrpad');\ns.sprintf          = require('./sprintf');\ns.vsprintf         = require('./vsprintf');\ns.toNumber         = require('./toNumber');\ns.numberFormat     = require('./numberFormat');\ns.strRight         = require('./strRight');\ns.strRightBack     = require('./strRightBack');\ns.strLeft          = require('./strLeft');\ns.strLeftBack      = require('./strLeftBack');\ns.toSentence       = require('./toSentence');\ns.toSentenceSerial = require('./toSentenceSerial');\ns.slugify          = require('./slugify');\ns.surround         = require('./surround');\ns.quote            = require('./quote');\ns.unquote          = require('./unquote');\ns.repeat           = require('./repeat');\ns.naturalCmp       = require('./naturalCmp');\ns.levenshtein      = require('./levenshtein');\ns.toBoolean        = require('./toBoolean');\ns.exports          = require('./exports');\ns.escapeRegExp     = require('./helper/escapeRegExp');\ns.wrap             = require('./wrap');\ns.map              = require('./map');\n\n// Aliases\ns.strip     = s.trim;\ns.lstrip    = s.ltrim;\ns.rstrip    = s.rtrim;\ns.center    = s.lrpad;\ns.rjust     = s.lpad;\ns.ljust     = s.rpad;\ns.contains  = s.include;\ns.q         = s.quote;\ns.toBool    = s.toBoolean;\ns.camelcase = s.camelize;\ns.mapChars  = s.map;\n\n\n// Implement chaining\ns.prototype = {\n  value: function value() {\n    return this._wrapped;\n  }\n};\n\nfunction fn2method(key, fn) {\n  if (typeof fn !== 'function') return;\n  s.prototype[key] = function() {\n    var args = [this._wrapped].concat(Array.prototype.slice.call(arguments));\n    var res = fn.apply(null, args);\n    // if the result is non-string stop the chain and return the value\n    return typeof res === 'string' ? new s(res) : res;\n  };\n}\n\n// Copy functions to instance methods for chaining\nfor (var key in s) fn2method(key, s[key]);\n\nfn2method('tap', function tap(string, fn) {\n  return fn(string);\n});\n\nfunction prototype2method(methodName) {\n  fn2method(methodName, function(context) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return String.prototype[methodName].apply(context, args);\n  });\n}\n\nvar prototypeMethods = [\n  'toUpperCase',\n  'toLowerCase',\n  'split',\n  'replace',\n  'slice',\n  'substring',\n  'substr',\n  'concat'\n];\n\nfor (var method in prototypeMethods) prototype2method(prototypeMethods[method]);\n\n\nmodule.exports = s;\n\n},{\"./camelize\":1,\"./capitalize\":2,\"./chars\":3,\"./chop\":4,\"./classify\":5,\"./clean\":6,\"./cleanDiacritics\":7,\"./count\":8,\"./dasherize\":9,\"./decapitalize\":10,\"./dedent\":11,\"./endsWith\":12,\"./escapeHTML\":13,\"./exports\":14,\"./helper/escapeRegExp\":18,\"./humanize\":23,\"./include\":24,\"./insert\":26,\"./isBlank\":27,\"./join\":28,\"./levenshtein\":29,\"./lines\":30,\"./lpad\":31,\"./lrpad\":32,\"./ltrim\":33,\"./map\":34,\"./naturalCmp\":35,\"./numberFormat\":38,\"./pad\":39,\"./pred\":40,\"./prune\":41,\"./quote\":42,\"./repeat\":43,\"./replaceAll\":44,\"./reverse\":45,\"./rpad\":46,\"./rtrim\":47,\"./slugify\":48,\"./splice\":49,\"./sprintf\":50,\"./startsWith\":51,\"./strLeft\":52,\"./strLeftBack\":53,\"./strRight\":54,\"./strRightBack\":55,\"./stripTags\":56,\"./succ\":57,\"./surround\":58,\"./swapCase\":59,\"./titleize\":60,\"./toBoolean\":61,\"./toNumber\":62,\"./toSentence\":63,\"./toSentenceSerial\":64,\"./trim\":65,\"./truncate\":66,\"./underscored\":67,\"./unescapeHTML\":68,\"./unquote\":69,\"./vsprintf\":70,\"./words\":71,\"./wrap\":72}],26:[function(require,module,exports){\nvar splice = require('./splice');\n\nmodule.exports = function insert(str, i, substr) {\n  return splice(str, i, 0, substr);\n};\n\n},{\"./splice\":49}],27:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function isBlank(str) {\n  return (/^\\s*$/).test(makeString(str));\n};\n\n},{\"./helper/makeString\":20}],28:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\nvar slice = [].slice;\n\nmodule.exports = function join() {\n  var args = slice.call(arguments),\n    separator = args.shift();\n\n  return args.join(makeString(separator));\n};\n\n},{\"./helper/makeString\":20}],29:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\n/**\n * Based on the implementation here: https://github.com/hiddentao/fast-levenshtein\n */\nmodule.exports = function levenshtein(str1, str2) {\n  'use strict';\n  str1 = makeString(str1);\n  str2 = makeString(str2);\n\n  // Short cut cases  \n  if (str1 === str2) return 0;\n  if (!str1 || !str2) return Math.max(str1.length, str2.length);\n\n  // two rows\n  var prevRow = new Array(str2.length + 1);\n\n  // initialise previous row\n  for (var i = 0; i < prevRow.length; ++i) {\n    prevRow[i] = i;\n  }\n\n  // calculate current row distance from previous row\n  for (i = 0; i < str1.length; ++i) {\n    var nextCol = i + 1;\n\n    for (var j = 0; j < str2.length; ++j) {\n      var curCol = nextCol;\n\n      // substution\n      nextCol = prevRow[j] + ( (str1.charAt(i) === str2.charAt(j)) ? 0 : 1 );\n      // insertion\n      var tmp = curCol + 1;\n      if (nextCol > tmp) {\n        nextCol = tmp;\n      }\n      // deletion\n      tmp = prevRow[j + 1] + 1;\n      if (nextCol > tmp) {\n        nextCol = tmp;\n      }\n\n      // copy current col value into previous (in preparation for next iteration)\n      prevRow[j] = curCol;\n    }\n\n    // copy last col value into previous (in preparation for next iteration)\n    prevRow[j] = nextCol;\n  }\n\n  return nextCol;\n};\n\n},{\"./helper/makeString\":20}],30:[function(require,module,exports){\nmodule.exports = function lines(str) {\n  if (str == null) return [];\n  return String(str).split(/\\r\\n?|\\n/);\n};\n\n},{}],31:[function(require,module,exports){\nvar pad = require('./pad');\n\nmodule.exports = function lpad(str, length, padStr) {\n  return pad(str, length, padStr);\n};\n\n},{\"./pad\":39}],32:[function(require,module,exports){\nvar pad = require('./pad');\n\nmodule.exports = function lrpad(str, length, padStr) {\n  return pad(str, length, padStr, 'both');\n};\n\n},{\"./pad\":39}],33:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\nvar defaultToWhiteSpace = require('./helper/defaultToWhiteSpace');\nvar nativeTrimLeft = String.prototype.trimLeft;\n\nmodule.exports = function ltrim(str, characters) {\n  str = makeString(str);\n  if (!characters && nativeTrimLeft) return nativeTrimLeft.call(str);\n  characters = defaultToWhiteSpace(characters);\n  return str.replace(new RegExp('^' + characters + '+'), '');\n};\n\n},{\"./helper/defaultToWhiteSpace\":16,\"./helper/makeString\":20}],34:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function(str, callback) {\n  str = makeString(str);\n\n  if (str.length === 0 || typeof callback !== 'function') return str;\n\n  return str.replace(/./g, callback);\n};\n\n},{\"./helper/makeString\":20}],35:[function(require,module,exports){\nmodule.exports = function naturalCmp(str1, str2) {\n  if (str1 == str2) return 0;\n  if (!str1) return -1;\n  if (!str2) return 1;\n\n  var cmpRegex = /(\\.\\d+|\\d+|\\D+)/g,\n    tokens1 = String(str1).match(cmpRegex),\n    tokens2 = String(str2).match(cmpRegex),\n    count = Math.min(tokens1.length, tokens2.length);\n\n  for (var i = 0; i < count; i++) {\n    var a = tokens1[i],\n      b = tokens2[i];\n\n    if (a !== b) {\n      var num1 = +a;\n      var num2 = +b;\n      if (num1 === num1 && num2 === num2) {\n        return num1 > num2 ? 1 : -1;\n      }\n      return a < b ? -1 : 1;\n    }\n  }\n\n  if (tokens1.length != tokens2.length)\n    return tokens1.length - tokens2.length;\n\n  return str1 < str2 ? -1 : 1;\n};\n\n},{}],36:[function(require,module,exports){\n(function(window) {\n    var re = {\n        not_string: /[^s]/,\n        number: /[diefg]/,\n        json: /[j]/,\n        not_json: /[^j]/,\n        text: /^[^\\x25]+/,\n        modulo: /^\\x25{2}/,\n        placeholder: /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-gijosuxX])/,\n        key: /^([a-z_][a-z_\\d]*)/i,\n        key_access: /^\\.([a-z_][a-z_\\d]*)/i,\n        index_access: /^\\[(\\d+)\\]/,\n        sign: /^[\\+\\-]/\n    }\n\n    function sprintf() {\n        var key = arguments[0], cache = sprintf.cache\n        if (!(cache[key] && cache.hasOwnProperty(key))) {\n            cache[key] = sprintf.parse(key)\n        }\n        return sprintf.format.call(null, cache[key], arguments)\n    }\n\n    sprintf.format = function(parse_tree, argv) {\n        var cursor = 1, tree_length = parse_tree.length, node_type = \"\", arg, output = [], i, k, match, pad, pad_character, pad_length, is_positive = true, sign = \"\"\n        for (i = 0; i < tree_length; i++) {\n            node_type = get_type(parse_tree[i])\n            if (node_type === \"string\") {\n                output[output.length] = parse_tree[i]\n            }\n            else if (node_type === \"array\") {\n                match = parse_tree[i] // convenience purposes only\n                if (match[2]) { // keyword argument\n                    arg = argv[cursor]\n                    for (k = 0; k < match[2].length; k++) {\n                        if (!arg.hasOwnProperty(match[2][k])) {\n                            throw new Error(sprintf(\"[sprintf] property '%s' does not exist\", match[2][k]))\n                        }\n                        arg = arg[match[2][k]]\n                    }\n                }\n                else if (match[1]) { // positional argument (explicit)\n                    arg = argv[match[1]]\n                }\n                else { // positional argument (implicit)\n                    arg = argv[cursor++]\n                }\n\n                if (get_type(arg) == \"function\") {\n                    arg = arg()\n                }\n\n                if (re.not_string.test(match[8]) && re.not_json.test(match[8]) && (get_type(arg) != \"number\" && isNaN(arg))) {\n                    throw new TypeError(sprintf(\"[sprintf] expecting number but found %s\", get_type(arg)))\n                }\n\n                if (re.number.test(match[8])) {\n                    is_positive = arg >= 0\n                }\n\n                switch (match[8]) {\n                    case \"b\":\n                        arg = arg.toString(2)\n                    break\n                    case \"c\":\n                        arg = String.fromCharCode(arg)\n                    break\n                    case \"d\":\n                    case \"i\":\n                        arg = parseInt(arg, 10)\n                    break\n                    case \"j\":\n                        arg = JSON.stringify(arg, null, match[6] ? parseInt(match[6]) : 0)\n                    break\n                    case \"e\":\n                        arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential()\n                    break\n                    case \"f\":\n                        arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg)\n                    break\n                    case \"g\":\n                        arg = match[7] ? parseFloat(arg).toPrecision(match[7]) : parseFloat(arg)\n                    break\n                    case \"o\":\n                        arg = arg.toString(8)\n                    break\n                    case \"s\":\n                        arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg)\n                    break\n                    case \"u\":\n                        arg = arg >>> 0\n                    break\n                    case \"x\":\n                        arg = arg.toString(16)\n                    break\n                    case \"X\":\n                        arg = arg.toString(16).toUpperCase()\n                    break\n                }\n                if (re.json.test(match[8])) {\n                    output[output.length] = arg\n                }\n                else {\n                    if (re.number.test(match[8]) && (!is_positive || match[3])) {\n                        sign = is_positive ? \"+\" : \"-\"\n                        arg = arg.toString().replace(re.sign, \"\")\n                    }\n                    else {\n                        sign = \"\"\n                    }\n                    pad_character = match[4] ? match[4] === \"0\" ? \"0\" : match[4].charAt(1) : \" \"\n                    pad_length = match[6] - (sign + arg).length\n                    pad = match[6] ? (pad_length > 0 ? str_repeat(pad_character, pad_length) : \"\") : \"\"\n                    output[output.length] = match[5] ? sign + arg + pad : (pad_character === \"0\" ? sign + pad + arg : pad + sign + arg)\n                }\n            }\n        }\n        return output.join(\"\")\n    }\n\n    sprintf.cache = {}\n\n    sprintf.parse = function(fmt) {\n        var _fmt = fmt, match = [], parse_tree = [], arg_names = 0\n        while (_fmt) {\n            if ((match = re.text.exec(_fmt)) !== null) {\n                parse_tree[parse_tree.length] = match[0]\n            }\n            else if ((match = re.modulo.exec(_fmt)) !== null) {\n                parse_tree[parse_tree.length] = \"%\"\n            }\n            else if ((match = re.placeholder.exec(_fmt)) !== null) {\n                if (match[2]) {\n                    arg_names |= 1\n                    var field_list = [], replacement_field = match[2], field_match = []\n                    if ((field_match = re.key.exec(replacement_field)) !== null) {\n                        field_list[field_list.length] = field_match[1]\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== \"\") {\n                            if ((field_match = re.key_access.exec(replacement_field)) !== null) {\n                                field_list[field_list.length] = field_match[1]\n                            }\n                            else if ((field_match = re.index_access.exec(replacement_field)) !== null) {\n                                field_list[field_list.length] = field_match[1]\n                            }\n                            else {\n                                throw new SyntaxError(\"[sprintf] failed to parse named argument key\")\n                            }\n                        }\n                    }\n                    else {\n                        throw new SyntaxError(\"[sprintf] failed to parse named argument key\")\n                    }\n                    match[2] = field_list\n                }\n                else {\n                    arg_names |= 2\n                }\n                if (arg_names === 3) {\n                    throw new Error(\"[sprintf] mixing positional and named placeholders is not (yet) supported\")\n                }\n                parse_tree[parse_tree.length] = match\n            }\n            else {\n                throw new SyntaxError(\"[sprintf] unexpected placeholder\")\n            }\n            _fmt = _fmt.substring(match[0].length)\n        }\n        return parse_tree\n    }\n\n    var vsprintf = function(fmt, argv, _argv) {\n        _argv = (argv || []).slice(0)\n        _argv.splice(0, 0, fmt)\n        return sprintf.apply(null, _argv)\n    }\n\n    /**\n     * helpers\n     */\n    function get_type(variable) {\n        return Object.prototype.toString.call(variable).slice(8, -1).toLowerCase()\n    }\n\n    function str_repeat(input, multiplier) {\n        return Array(multiplier + 1).join(input)\n    }\n\n    /**\n     * export to either browser or node.js\n     */\n    if (typeof exports !== \"undefined\") {\n        exports.sprintf = sprintf\n        exports.vsprintf = vsprintf\n    }\n    else {\n        window.sprintf = sprintf\n        window.vsprintf = vsprintf\n\n        if (typeof define === \"function\" && define.amd) {\n            define(function() {\n                return {\n                    sprintf: sprintf,\n                    vsprintf: vsprintf\n                }\n            })\n        }\n    }\n})(typeof window === \"undefined\" ? this : window);\n\n},{}],37:[function(require,module,exports){\n(function (global){\n\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],38:[function(require,module,exports){\nmodule.exports = function numberFormat(number, dec, dsep, tsep) {\n  if (isNaN(number) || number == null) return '';\n\n  number = number.toFixed(~~dec);\n  tsep = typeof tsep == 'string' ? tsep : ',';\n\n  var parts = number.split('.'),\n    fnums = parts[0],\n    decimals = parts[1] ? (dsep || '.') + parts[1] : '';\n\n  return fnums.replace(/(\\d)(?=(?:\\d{3})+$)/g, '$1' + tsep) + decimals;\n};\n\n},{}],39:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\nvar strRepeat = require('./helper/strRepeat');\n\nmodule.exports = function pad(str, length, padStr, type) {\n  str = makeString(str);\n  length = ~~length;\n\n  var padlen = 0;\n\n  if (!padStr)\n    padStr = ' ';\n  else if (padStr.length > 1)\n    padStr = padStr.charAt(0);\n\n  switch (type) {\n  case 'right':\n    padlen = length - str.length;\n    return str + strRepeat(padStr, padlen);\n  case 'both':\n    padlen = length - str.length;\n    return strRepeat(padStr, Math.ceil(padlen / 2)) + str + strRepeat(padStr, Math.floor(padlen / 2));\n  default: // 'left'\n    padlen = length - str.length;\n    return strRepeat(padStr, padlen) + str;\n  }\n};\n\n},{\"./helper/makeString\":20,\"./helper/strRepeat\":21}],40:[function(require,module,exports){\nvar adjacent = require('./helper/adjacent');\n\nmodule.exports = function succ(str) {\n  return adjacent(str, -1);\n};\n\n},{\"./helper/adjacent\":15}],41:[function(require,module,exports){\n/**\n * _s.prune: a more elegant version of truncate\n * prune extra chars, never leaving a half-chopped word.\n * @author github.com/rwz\n */\nvar makeString = require('./helper/makeString');\nvar rtrim = require('./rtrim');\n\nmodule.exports = function prune(str, length, pruneStr) {\n  str = makeString(str);\n  length = ~~length;\n  pruneStr = pruneStr != null ? String(pruneStr) : '...';\n\n  if (str.length <= length) return str;\n\n  var tmpl = function(c) {\n      return c.toUpperCase() !== c.toLowerCase() ? 'A' : ' ';\n    },\n    template = str.slice(0, length + 1).replace(/.(?=\\W*\\w*$)/g, tmpl); // 'Hello, world' -> 'HellAA AAAAA'\n\n  if (template.slice(template.length - 2).match(/\\w\\w/))\n    template = template.replace(/\\s*\\S+$/, '');\n  else\n    template = rtrim(template.slice(0, template.length - 1));\n\n  return (template + pruneStr).length > str.length ? str : str.slice(0, template.length) + pruneStr;\n};\n\n},{\"./helper/makeString\":20,\"./rtrim\":47}],42:[function(require,module,exports){\nvar surround = require('./surround');\n\nmodule.exports = function quote(str, quoteChar) {\n  return surround(str, quoteChar || '\"');\n};\n\n},{\"./surround\":58}],43:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\nvar strRepeat = require('./helper/strRepeat');\n\nmodule.exports = function repeat(str, qty, separator) {\n  str = makeString(str);\n\n  qty = ~~qty;\n\n  // using faster implementation if separator is not needed;\n  if (separator == null) return strRepeat(str, qty);\n\n  // this one is about 300x slower in Google Chrome\n  /*eslint no-empty: 0*/\n  for (var repeat = []; qty > 0; repeat[--qty] = str) {}\n  return repeat.join(separator);\n};\n\n},{\"./helper/makeString\":20,\"./helper/strRepeat\":21}],44:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function replaceAll(str, find, replace, ignorecase) {\n  var flags = (ignorecase === true)?'gi':'g';\n  var reg = new RegExp(find, flags);\n\n  return makeString(str).replace(reg, replace);\n};\n\n},{\"./helper/makeString\":20}],45:[function(require,module,exports){\nvar chars = require('./chars');\n\nmodule.exports = function reverse(str) {\n  return chars(str).reverse().join('');\n};\n\n},{\"./chars\":3}],46:[function(require,module,exports){\nvar pad = require('./pad');\n\nmodule.exports = function rpad(str, length, padStr) {\n  return pad(str, length, padStr, 'right');\n};\n\n},{\"./pad\":39}],47:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\nvar defaultToWhiteSpace = require('./helper/defaultToWhiteSpace');\nvar nativeTrimRight = String.prototype.trimRight;\n\nmodule.exports = function rtrim(str, characters) {\n  str = makeString(str);\n  if (!characters && nativeTrimRight) return nativeTrimRight.call(str);\n  characters = defaultToWhiteSpace(characters);\n  return str.replace(new RegExp(characters + '+$'), '');\n};\n\n},{\"./helper/defaultToWhiteSpace\":16,\"./helper/makeString\":20}],48:[function(require,module,exports){\nvar trim = require('./trim');\nvar dasherize = require('./dasherize');\nvar cleanDiacritics = require('./cleanDiacritics');\n\nmodule.exports = function slugify(str) {\n  return trim(dasherize(cleanDiacritics(str).replace(/[^\\w\\s-]/g, '-').toLowerCase()), '-');\n};\n\n},{\"./cleanDiacritics\":7,\"./dasherize\":9,\"./trim\":65}],49:[function(require,module,exports){\nvar chars = require('./chars');\n\nmodule.exports = function splice(str, i, howmany, substr) {\n  var arr = chars(str);\n  arr.splice(~~i, ~~howmany, substr);\n  return arr.join('');\n};\n\n},{\"./chars\":3}],50:[function(require,module,exports){\nvar deprecate = require('util-deprecate');\n\nmodule.exports = deprecate(require('sprintf-js').sprintf,\n  'sprintf() will be removed in the next major release, use the sprintf-js package instead.');\n\n},{\"sprintf-js\":36,\"util-deprecate\":37}],51:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\nvar toPositive = require('./helper/toPositive');\n\nmodule.exports = function startsWith(str, starts, position) {\n  str = makeString(str);\n  starts = '' + starts;\n  position = position == null ? 0 : Math.min(toPositive(position), str.length);\n  return str.lastIndexOf(starts, position) === position;\n};\n\n},{\"./helper/makeString\":20,\"./helper/toPositive\":22}],52:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function strLeft(str, sep) {\n  str = makeString(str);\n  sep = makeString(sep);\n  var pos = !sep ? -1 : str.indexOf(sep);\n  return~ pos ? str.slice(0, pos) : str;\n};\n\n},{\"./helper/makeString\":20}],53:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function strLeftBack(str, sep) {\n  str = makeString(str);\n  sep = makeString(sep);\n  var pos = str.lastIndexOf(sep);\n  return~ pos ? str.slice(0, pos) : str;\n};\n\n},{\"./helper/makeString\":20}],54:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function strRight(str, sep) {\n  str = makeString(str);\n  sep = makeString(sep);\n  var pos = !sep ? -1 : str.indexOf(sep);\n  return~ pos ? str.slice(pos + sep.length, str.length) : str;\n};\n\n},{\"./helper/makeString\":20}],55:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function strRightBack(str, sep) {\n  str = makeString(str);\n  sep = makeString(sep);\n  var pos = !sep ? -1 : str.lastIndexOf(sep);\n  return~ pos ? str.slice(pos + sep.length, str.length) : str;\n};\n\n},{\"./helper/makeString\":20}],56:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function stripTags(str) {\n  return makeString(str).replace(/<\\/?[^>]+>/g, '');\n};\n\n},{\"./helper/makeString\":20}],57:[function(require,module,exports){\nvar adjacent = require('./helper/adjacent');\n\nmodule.exports = function succ(str) {\n  return adjacent(str, 1);\n};\n\n},{\"./helper/adjacent\":15}],58:[function(require,module,exports){\nmodule.exports = function surround(str, wrapper) {\n  return [wrapper, str, wrapper].join('');\n};\n\n},{}],59:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function swapCase(str) {\n  return makeString(str).replace(/\\S/g, function(c) {\n    return c === c.toUpperCase() ? c.toLowerCase() : c.toUpperCase();\n  });\n};\n\n},{\"./helper/makeString\":20}],60:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function titleize(str) {\n  return makeString(str).toLowerCase().replace(/(?:^|\\s|-)\\S/g, function(c) {\n    return c.toUpperCase();\n  });\n};\n\n},{\"./helper/makeString\":20}],61:[function(require,module,exports){\nvar trim = require('./trim');\n\nfunction boolMatch(s, matchers) {\n  var i, matcher, down = s.toLowerCase();\n  matchers = [].concat(matchers);\n  for (i = 0; i < matchers.length; i += 1) {\n    matcher = matchers[i];\n    if (!matcher) continue;\n    if (matcher.test && matcher.test(s)) return true;\n    if (matcher.toLowerCase() === down) return true;\n  }\n}\n\nmodule.exports = function toBoolean(str, trueValues, falseValues) {\n  if (typeof str === 'number') str = '' + str;\n  if (typeof str !== 'string') return !!str;\n  str = trim(str);\n  if (boolMatch(str, trueValues || ['true', '1'])) return true;\n  if (boolMatch(str, falseValues || ['false', '0'])) return false;\n};\n\n},{\"./trim\":65}],62:[function(require,module,exports){\nmodule.exports = function toNumber(num, precision) {\n  if (num == null) return 0;\n  var factor = Math.pow(10, isFinite(precision) ? precision : 0);\n  return Math.round(num * factor) / factor;\n};\n\n},{}],63:[function(require,module,exports){\nvar rtrim = require('./rtrim');\n\nmodule.exports = function toSentence(array, separator, lastSeparator, serial) {\n  separator = separator || ', ';\n  lastSeparator = lastSeparator || ' and ';\n  var a = array.slice(),\n    lastMember = a.pop();\n\n  if (array.length > 2 && serial) lastSeparator = rtrim(separator) + lastSeparator;\n\n  return a.length ? a.join(separator) + lastSeparator + lastMember : lastMember;\n};\n\n},{\"./rtrim\":47}],64:[function(require,module,exports){\nvar toSentence = require('./toSentence');\n\nmodule.exports = function toSentenceSerial(array, sep, lastSep) {\n  return toSentence(array, sep, lastSep, true);\n};\n\n},{\"./toSentence\":63}],65:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\nvar defaultToWhiteSpace = require('./helper/defaultToWhiteSpace');\nvar nativeTrim = String.prototype.trim;\n\nmodule.exports = function trim(str, characters) {\n  str = makeString(str);\n  if (!characters && nativeTrim) return nativeTrim.call(str);\n  characters = defaultToWhiteSpace(characters);\n  return str.replace(new RegExp('^' + characters + '+|' + characters + '+$', 'g'), '');\n};\n\n},{\"./helper/defaultToWhiteSpace\":16,\"./helper/makeString\":20}],66:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function truncate(str, length, truncateStr) {\n  str = makeString(str);\n  truncateStr = truncateStr || '...';\n  length = ~~length;\n  return str.length > length ? str.slice(0, length) + truncateStr : str;\n};\n\n},{\"./helper/makeString\":20}],67:[function(require,module,exports){\nvar trim = require('./trim');\n\nmodule.exports = function underscored(str) {\n  return trim(str).replace(/([a-z\\d])([A-Z]+)/g, '$1_$2').replace(/[-\\s]+/g, '_').toLowerCase();\n};\n\n},{\"./trim\":65}],68:[function(require,module,exports){\nvar makeString = require('./helper/makeString');\nvar htmlEntities = require('./helper/htmlEntities');\n\nmodule.exports = function unescapeHTML(str) {\n  return makeString(str).replace(/\\&([^;]+);/g, function(entity, entityCode) {\n    var match;\n\n    if (entityCode in htmlEntities) {\n      return htmlEntities[entityCode];\n    /*eslint no-cond-assign: 0*/\n    } else if (match = entityCode.match(/^#x([\\da-fA-F]+)$/)) {\n      return String.fromCharCode(parseInt(match[1], 16));\n    /*eslint no-cond-assign: 0*/\n    } else if (match = entityCode.match(/^#(\\d+)$/)) {\n      return String.fromCharCode(~~match[1]);\n    } else {\n      return entity;\n    }\n  });\n};\n\n},{\"./helper/htmlEntities\":19,\"./helper/makeString\":20}],69:[function(require,module,exports){\nmodule.exports = function unquote(str, quoteChar) {\n  quoteChar = quoteChar || '\"';\n  if (str[0] === quoteChar && str[str.length - 1] === quoteChar)\n    return str.slice(1, str.length - 1);\n  else return str;\n};\n\n},{}],70:[function(require,module,exports){\nvar deprecate = require('util-deprecate');\n\nmodule.exports = deprecate(require('sprintf-js').vsprintf,\n  'vsprintf() will be removed in the next major release, use the sprintf-js package instead.');\n\n},{\"sprintf-js\":36,\"util-deprecate\":37}],71:[function(require,module,exports){\nvar isBlank = require('./isBlank');\nvar trim = require('./trim');\n\nmodule.exports = function words(str, delimiter) {\n  if (isBlank(str)) return [];\n  return trim(str, delimiter).split(delimiter || /\\s+/);\n};\n\n},{\"./isBlank\":27,\"./trim\":65}],72:[function(require,module,exports){\n// Wrap\n// wraps a string by a certain width\n\nvar makeString = require('./helper/makeString');\n\nmodule.exports = function wrap(str, options){\n  str = makeString(str);\n  \n  options = options || {};\n  \n  var width = options.width || 75;\n  var seperator = options.seperator || '\\n';\n  var cut = options.cut || false;\n  var preserveSpaces = options.preserveSpaces || false;\n  var trailingSpaces = options.trailingSpaces || false;\n  \n  var result;\n  \n  if(width <= 0){\n    return str;\n  }\n  \n  else if(!cut){\n  \n    var words = str.split(' ');\n    var current_column = 0;\n    result = '';\n  \n    while(words.length > 0){\n      \n      // if adding a space and the next word would cause this line to be longer than width...\n      if(1 + words[0].length + current_column > width){\n        //start a new line if this line is not already empty\n        if(current_column > 0){\n          // add a space at the end of the line is preserveSpaces is true\n          if (preserveSpaces){\n            result += ' ';\n            current_column++;\n          }\n          // fill the rest of the line with spaces if trailingSpaces option is true\n          else if(trailingSpaces){\n            while(current_column < width){\n              result += ' ';\n              current_column++;\n            }            \n          }\n          //start new line\n          result += seperator;\n          current_column = 0;\n        }\n      }\n  \n      // if not at the begining of the line, add a space in front of the word\n      if(current_column > 0){\n        result += ' ';\n        current_column++;\n      }\n  \n      // tack on the next word, update current column, a pop words array\n      result += words[0];\n      current_column += words[0].length;\n      words.shift();\n  \n    }\n  \n    // fill the rest of the line with spaces if trailingSpaces option is true\n    if(trailingSpaces){\n      while(current_column < width){\n        result += ' ';\n        current_column++;\n      }            \n    }\n  \n    return result;\n  \n  }\n  \n  else {\n  \n    var index = 0;\n    result = '';\n  \n    // walk through each character and add seperators where appropriate\n    while(index < str.length){\n      if(index % width == 0 && index > 0){\n        result += seperator;\n      }\n      result += str.charAt(index);\n      index++;\n    }\n  \n    // fill the rest of the line with spaces if trailingSpaces option is true\n    if(trailingSpaces){\n      while(index % width > 0){\n        result += ' ';\n        index++;\n      }            \n    }\n    \n    return result;\n  }\n};\n\n},{\"./helper/makeString\":20}]},{},[25])(25)\n});\n\n\n// WEBPACK FOOTER //\n// ./common/static/common/js/vendor/underscore.string.js","module.exports = \"<div class=\\\"wrapper wrapper-<%- type %> wrapper-<%- type %>-<%- intent %>\\n            <% if(obj.shown) { %>is-shown<% } else { %>is-hiding<% } %>\\n            <% if(_.contains(['help', 'mini'], intent)) { %>wrapper-<%- type %>-status<% } %>\\\"\\n     id=\\\"<%- type %>-<%- intent %>\\\"\\n     aria-hidden=\\\"<% if(obj.shown) { %>false<% } else { %>true<% } %>\\\"\\n     aria-labelledby=\\\"<%- type %>-<%- intent %>-title\\\"\\n     tabindex=\\\"-1\\\"\\n     <% if (obj.message) { %>aria-describedby=\\\"<%- type %>-<%- intent %>-description\\\" <% } %>\\n     <% if (obj.actions) { %>role=\\\"dialog\\\"<% } %>\\n  >\\n  <div class=\\\"<%- type %> <%- intent %> <% if(obj.actions) { %>has-actions<% } %>\\\">\\n    <% if(obj.icon) { %>\\n      <% var iconClass = {\\\"warning\\\": \\\"warning\\\", \\\"confirmation\\\": \\\"check\\\", \\\"error\\\": \\\"warning\\\", \\\"announcement\\\": \\\"bullhorn\\\", \\\"step-required\\\": \\\"exclamation-circle\\\", \\\"help\\\": \\\"question\\\", \\\"mini\\\": \\\"cog\\\"} %>\\n      <span class=\\\"feedback-symbol fa fa-<%- iconClass[intent] %>\\\" aria-hidden=\\\"true\\\"></span>\\n    <% } %>\\n\\n    <div class=\\\"copy\\\">\\n      <h2 class=\\\"title title-3\\\" id=\\\"<%- type %>-<%- intent %>-title\\\"><%- title %></h2>\\n      <% if(obj.message) { %><p class=\\\"message\\\" id=\\\"<%- type %>-<%- intent %>-description\\\"><%- message %></p><% } %>\\n    </div>\\n\\n    <% if(obj.actions) { %>\\n    <nav class=\\\"nav-actions\\\">\\n      <ul>\\n        <% if(actions.primary) { %>\\n        <li class=\\\"nav-item\\\">\\n          <button class=\\\"action-primary <%- actions.primary.class %>\\\"><%- actions.primary.text %></button>\\n        </li>\\n        <% } %>\\n        <% if(actions.secondary) {\\n             _.each(actions.secondary, function(secondary) { %>\\n        <li class=\\\"nav-item\\\">\\n          <button class=\\\"action-secondary <%- secondary.class %>\\\"><%- secondary.text %></button>\\n        </li>\\n        <%   });\\n           } %>\\n      </ul>\\n    </nav>\\n    <% } %>\\n\\n    <% if(obj.closeIcon) { %>\\n    <a href=\\\"#\\\" rel=\\\"view\\\" class=\\\"action action-close action-<%- type %>-close\\\">\\n      <span class=\\\"icon fa fa-times-circle\\\" aria-hidden=\\\"true\\\"></span>\\n      <span class=\\\"label\\\">close <%- type %></span>\\n    </a>\\n    <% } %>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./common/static/common/templates/components/system-feedback.underscore\n// module id = ./common/static/common/templates/components/system-feedback.underscore\n// module chunks = 4 7 8 9 11 21","/*!\n  * $script.js JS loader & dependency manager\n  * https://github.com/ded/script.js\n  * (c) Dustin Diaz 2014 | License MIT\n  */\n\n(function (name, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(definition)\n  else this[name] = definition()\n})('$script', function () {\n  var doc = document\n    , head = doc.getElementsByTagName('head')[0]\n    , s = 'string'\n    , f = false\n    , push = 'push'\n    , readyState = 'readyState'\n    , onreadystatechange = 'onreadystatechange'\n    , list = {}\n    , ids = {}\n    , delay = {}\n    , scripts = {}\n    , scriptpath\n    , urlArgs\n\n  function every(ar, fn) {\n    for (var i = 0, j = ar.length; i < j; ++i) if (!fn(ar[i])) return f\n    return 1\n  }\n  function each(ar, fn) {\n    every(ar, function (el) {\n      return !fn(el)\n    })\n  }\n\n  function $script(paths, idOrDone, optDone) {\n    paths = paths[push] ? paths : [paths]\n    var idOrDoneIsDone = idOrDone && idOrDone.call\n      , done = idOrDoneIsDone ? idOrDone : optDone\n      , id = idOrDoneIsDone ? paths.join('') : idOrDone\n      , queue = paths.length\n    function loopFn(item) {\n      return item.call ? item() : list[item]\n    }\n    function callback() {\n      if (!--queue) {\n        list[id] = 1\n        done && done()\n        for (var dset in delay) {\n          every(dset.split('|'), loopFn) && !each(delay[dset], loopFn) && (delay[dset] = [])\n        }\n      }\n    }\n    setTimeout(function () {\n      each(paths, function loading(path, force) {\n        if (path === null) return callback()\n        \n        if (!force && !/^https?:\\/\\//.test(path) && scriptpath) {\n          path = (path.indexOf('.js') === -1) ? scriptpath + path + '.js' : scriptpath + path;\n        }\n        \n        if (scripts[path]) {\n          if (id) ids[id] = 1\n          return (scripts[path] == 2) ? callback() : setTimeout(function () { loading(path, true) }, 0)\n        }\n\n        scripts[path] = 1\n        if (id) ids[id] = 1\n        create(path, callback)\n      })\n    }, 0)\n    return $script\n  }\n\n  function create(path, fn) {\n    var el = doc.createElement('script'), loaded\n    el.onload = el.onerror = el[onreadystatechange] = function () {\n      if ((el[readyState] && !(/^c|loade/.test(el[readyState]))) || loaded) return;\n      el.onload = el[onreadystatechange] = null\n      loaded = 1\n      scripts[path] = 2\n      fn()\n    }\n    el.async = 1\n    el.src = urlArgs ? path + (path.indexOf('?') === -1 ? '?' : '&') + urlArgs : path;\n    head.insertBefore(el, head.lastChild)\n  }\n\n  $script.get = create\n\n  $script.order = function (scripts, id, done) {\n    (function callback(s) {\n      s = scripts.shift()\n      !scripts.length ? $script(s, id, done) : $script(s, callback)\n    }())\n  }\n\n  $script.path = function (p) {\n    scriptpath = p\n  }\n  $script.urlArgs = function (str) {\n    urlArgs = str;\n  }\n  $script.ready = function (deps, ready, req) {\n    deps = deps[push] ? deps : [deps]\n    var missing = [];\n    !each(deps, function (dep) {\n      list[dep] || missing[push](dep);\n    }) && every(deps, function (dep) {return list[dep]}) ?\n      ready() : !function (key) {\n      delay[key] = delay[key] || []\n      delay[key][push](ready)\n      req && req(missing)\n    }(deps.join('|'))\n    return $script\n  }\n\n  $script.done = function (idOrDone) {\n    $script([null], idOrDone)\n  }\n\n  return $script\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/scriptjs/dist/script.js\n// module id = ./node_modules/scriptjs/dist/script.js\n// module chunks = 7 8 9 11 21 32","(function() { module.exports = window[\"gettext\"]; }());\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"gettext\"\n// module id = 3\n// module chunks = 4 7 8 9 11 21 24 25 36"],"sourceRoot":""}