(function(e, a) { for(var i in a) e[i] = a[i]; }(window, webpackJsonp([7],{

/***/ "./cms/djangoapps/pipeline_js/js/xmodule.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// This file is designed to load all the XModule Javascript files in one wad
// using requirejs. It is passed through the Mako template system, which
// populates the `urls` variable with a list of paths to XModule JS files.
// These files assume that several libraries are available and bound to
// variables in the global context, so we load those libraries with requirejs
// and attach them to the global context manually.
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__("./common/static/js/vendor/codemirror-compressed.js"), __webpack_require__("./common/static/js/vendor/tinymce/js/tinymce/tinymce.full.min.js"), __webpack_require__("./node_modules/scriptjs/dist/script.js"), __webpack_require__("./common/static/js/vendor/tinymce/js/tinymce/jquery.tinymce.min.js"), __webpack_require__("./common/static/js/vendor/jquery.qtip.min.js"), __webpack_require__("./common/static/common/js/vendor/jquery.scrollTo.js"), __webpack_require__("./common/static/js/vendor/flot/jquery.flot.min.js"), __webpack_require__("./common/static/js/vendor/jquery.cookie.js"), __webpack_require__("./common/static/js/src/utility.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, CodeMirror, tinymce, $script) {
    'use strict';

    window.$ = $;
    window._ = _;

    $script('https://cdn.jsdelivr.net/npm/mathjax@2.7.5/MathJax.js' + '?config=TeX-MML-AM_SVG&delayStartupUntil=configured', 'mathjax', function () {
        window.MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['\\(', '\\)'], ['[mathjaxinline]', '[/mathjaxinline]']],
                displayMath: [['\\[', '\\]'], ['[mathjax]', '[/mathjax]']]
            }
        });

        // In order to eliminate all flashing during interactive
        // preview, it is necessary to set processSectionDelay to 0
        // (remove delay between input and output phases). This
        // effectively disables fast preview, regardless of
        // the fast preview setting as shown in the context menu.
        window.MathJax.Hub.processSectionDelay = 0;
        window.MathJax.Hub.Configured();
    });
    window.CodeMirror = CodeMirror;
    window.RequireJS = {
        requirejs: {}, // This is never used by current xmodules
        require: $script, // $script([deps], callback) acts approximately like the require function
        define: __webpack_require__("./node_modules/webpack/buildin/amd-define.js")
    };
    /**
     * Loads all modules one-by-one in exact order.
     * The module should be used until we'll use RequireJS for XModules.
     * @param {Array} modules A list of urls.
     * @return {jQuery Promise}
     **/
    function requireQueue(modules) {
        var deferred = $.Deferred();
        function loadScript(queue) {
            $script.ready('mathjax', function () {
                // Loads the next script if queue is not empty.
                if (queue.length) {
                    $script([queue.shift()], function () {
                        loadScript(queue);
                    });
                } else {
                    deferred.resolve();
                }
            });
        }

        loadScript(modules.concat());
        return deferred.promise();
    }

    // if (!window.xmoduleUrls) {
    //     throw Error('window.xmoduleUrls must be defined');
    // }
    return requireQueue([]);
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/cms/js/main.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(AjaxPrefix, jQuery) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* globals AjaxPrefix */

!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__("./common/static/js/vendor/domReady.js"), __webpack_require__(0), __webpack_require__(1), __webpack_require__("./common/static/common/js/vendor/underscore.string.js"), __webpack_require__(2), __webpack_require__(3), __webpack_require__("./common/static/common/js/components/views/feedback_notification.js"), __webpack_require__("./common/static/js/src/ajax_prefix.js"), __webpack_require__("./common/static/js/src/ajax_prefix.js"), __webpack_require__("./common/static/js/vendor/jquery.cookie.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function (domReady, $, _, str, Backbone, gettext, NotificationView) {
    'use strict';

    var main, sendJSON;
    main = function main() {
        AjaxPrefix.addAjaxPrefix(jQuery, function () {
            return $("meta[name='path_prefix']").attr('content');
        });
        window.CMS = window.CMS || {};
        window.CMS.URL = window.CMS.URL || {};
        window.onTouchBasedDevice = function () {
            return navigator.userAgent.match(/iPhone|iPod|iPad|Android/i);
        };
        _.extend(window.CMS, Backbone.Events);
        Backbone.emulateHTTP = true;
        $.ajaxSetup({
            headers: {
                'X-CSRFToken': $.cookie('csrftoken')
            },
            dataType: 'json',
            content: {
                script: false
            }
        });
        $(document).ajaxError(function (event, jqXHR, ajaxSettings) {
            var msg,
                contentType,
                message = gettext('This may be happening because of an error with our server or your internet connection. Try refreshing the page or making sure you are online.'); // eslint-disable-line max-len
            if (ajaxSettings.notifyOnError === false) {
                return;
            }
            contentType = jqXHR.getResponseHeader('content-type');
            if (contentType && contentType.indexOf('json') > -1 && jqXHR.responseText) {
                message = JSON.parse(jqXHR.responseText).error;
            }
            msg = new NotificationView.Error({
                title: gettext("Studio's having trouble saving your work"),
                message: message
            });
            console.log('Studio AJAX Error', { // eslint-disable-line no-console
                url: event.currentTarget.URL,
                response: jqXHR.responseText,
                status: jqXHR.status
            });
            return msg.show();
        });
        sendJSON = function sendJSON(url, data, callback, type) {
            // eslint-disable-line no-param-reassign
            if ($.isFunction(data)) {
                callback = data;
                data = undefined;
            }
            return $.ajax({
                url: url,
                type: type,
                contentType: 'application/json; charset=utf-8',
                dataType: 'json',
                data: JSON.stringify(data),
                success: callback,
                global: data ? data.global : true // Trigger global AJAX error handler or not
            });
        };
        $.postJSON = function (url, data, callback) {
            // eslint-disable-line no-param-reassign
            return sendJSON(url, data, callback, 'POST');
        };
        $.patchJSON = function (url, data, callback) {
            // eslint-disable-line no-param-reassign
            return sendJSON(url, data, callback, 'PATCH');
        };
        return domReady(function () {
            if (window.onTouchBasedDevice()) {
                return $('body').addClass('touch-based-device');
            }
            return null;
        });
    };
    main();
    return main;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("./common/static/js/src/ajax_prefix.js"), __webpack_require__(0)))

/***/ }),

/***/ "./cms/static/cms/js/xblock/cms.runtime.v1.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(_) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(2), __webpack_require__("./common/static/common/js/xblock/runtime.v1.js"), __webpack_require__(6), __webpack_require__(3), __webpack_require__("./cms/static/js/utils/modal.js"), __webpack_require__("./common/static/common/js/components/views/feedback_notification.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, Backbone, XBlock, URI, gettext, ModalUtils, NotificationView) {
    'use strict';

    var __hasProp = {}.hasOwnProperty,
        __extends = function __extends(child, parent) {
        var key;
        for (key in parent) {
            if (__hasProp.call(parent, key)) {
                child[key] = parent[key];
            }
        }
        function Ctor() {
            this.constructor = child;
        }
        Ctor.prototype = parent.prototype;
        child.prototype = new Ctor();
        child.__super__ = parent.prototype;
        return child;
    },
        BaseRuntime = {},
        PreviewRuntime = {},
        StudioRuntime = {};

    BaseRuntime.v1 = function (_super) {
        __extends(v1, _super);

        v1.prototype.handlerUrl = function (element, handlerName, suffix, query) {
            var uri;
            uri = URI(this.handlerPrefix).segment($(element).data('usage-id')).segment('handler').segment(handlerName);
            if (suffix !== null) {
                uri.segment(suffix);
            }
            if (query !== null) {
                uri.search(query);
            }
            return uri.toString();
        };

        function v1() {
            v1.__super__.constructor.call(this);
            this.dispatcher = _.clone(Backbone.Events);
            this.listenTo('save', this._handleSave);
            this.listenTo('cancel', this._handleCancel);
            this.listenTo('error', this._handleError);
            this.listenTo('modal-shown', function (data) {
                this.modal = data;
            });
            this.listenTo('modal-hidden', function () {
                this.modal = null;
            });
            this.listenTo('page-shown', function (data) {
                this.page = data;
            });
        }

        /**
         * Notify the Studio client-side runtime of an event so that it
         * can update the UI in a consistent way.
         *
         * @param {string} name The name of the event.
         * @param {object} data A JSON representation of the data to be included with the event.
         */
        v1.prototype.notify = function (name, data) {
            this.dispatcher.trigger(name, data);
        };

        /**
         * Listen to a Studio event and invoke the specified callback when it is triggered.
         *
         * @param {string} name The name of the event.
         * @param {function} callback The callback to be invoked.
         */
        v1.prototype.listenTo = function (name, callback) {
            this.dispatcher.bind(name, callback, this);
        };

        /**
         * Refresh the view for the xblock represented by the specified element.
         *
         * @param {element} element The element representing the XBlock.
         */
        v1.prototype.refreshXBlock = function (element) {
            if (this.page) {
                this.page.refreshXBlock(element);
            }
        };

        v1.prototype._handleError = function (data) {
            var message, title;
            message = data.message || data.msg;
            if (message) {
                // TODO: remove 'Open Assessment' specific default title
                title = data.title || gettext('OpenAssessment Save Error');
                this.alert = new NotificationView.Error({
                    title: title,
                    message: message,
                    closeIcon: false,
                    shown: false
                });
                this.alert.show();
            }
        };

        v1.prototype._handleSave = function (data) {
            var message;
            // Starting to save, so show a notification
            if (data.state === 'start') {
                message = data.message || gettext('Saving');
                this.notification = new NotificationView.Mini({
                    title: message
                });
                this.notification.show();
            } else if (data.state === 'end') {
                // Finished saving, so hide the notification and refresh appropriately
                this._hideAlerts();

                if (this.modal && this.modal.onSave) {
                    // Notify the modal that the save has completed so that it can hide itself
                    // and then refresh the xblock.
                    this.modal.onSave();
                } else if (data.element) {
                    // ... else ask it to refresh the newly saved xblock
                    this.refreshXBlock(data.element);
                }
                this.notification.hide();
            }
        };

        v1.prototype._handleCancel = function () {
            this._hideAlerts();
            if (this.modal) {
                this.modal.cancel();
                this.notify('modal-hidden');
            }
        };

        /**
         * Hide any alerts that are being shown.
         */
        v1.prototype._hideAlerts = function () {
            if (this.alert && this.alert.options.shown) {
                this.alert.hide();
            }
        };

        return v1;
    }(XBlock.Runtime.v1);

    PreviewRuntime.v1 = function (_super) {
        __extends(v1, _super);

        function v1() {
            return v1.__super__.constructor.apply(this, arguments);
        }

        v1.prototype.handlerPrefix = '/preview/xblock';

        return v1;
    }(BaseRuntime.v1);

    StudioRuntime.v1 = function (_super) {
        __extends(v1, _super);

        function v1() {
            return v1.__super__.constructor.apply(this, arguments);
        }

        v1.prototype.handlerPrefix = '/xblock';

        return v1;
    }(BaseRuntime.v1);

    // Install the runtime's into the global namespace
    window.BaseRuntime = BaseRuntime;
    window.PreviewRuntime = PreviewRuntime;
    window.StudioRuntime = StudioRuntime;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))

/***/ }),

/***/ "./cms/static/js/base.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__("./common/static/js/vendor/domReady.js"), __webpack_require__(0), __webpack_require__(1), __webpack_require__(3), __webpack_require__("./common/static/common/js/components/views/feedback_notification.js"), __webpack_require__("./common/static/common/js/components/views/feedback_prompt.js"), __webpack_require__("./cms/static/js/utils/date_utils.js"), __webpack_require__("./cms/static/js/utils/module.js"), __webpack_require__("./cms/static/js/utils/handle_iframe_binding.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/dropdown-menu/dropdown-menu-view.js"), __webpack_require__("./common/static/js/vendor/jquery-ui.min.js"), __webpack_require__("./common/static/js/vendor/jquery.leanModal.js"), __webpack_require__("./common/static/js/vendor/jquery.form.js"), __webpack_require__("./common/static/js/vendor/jquery.smooth-scroll.min.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function (domReady, $, _, gettext, NotificationView, PromptView, DateUtils, ModuleUtils, IframeUtils, DropdownMenuView) {
    'use strict';

    var $body;

    function smoothScrollLink(e) {
        e.preventDefault();

        $.smoothScroll({
            offset: -200,
            easing: 'swing',
            speed: 1000,
            scrollElement: null,
            scrollTarget: $(this).attr('href')
        });
    }

    function hideNotification(e) {
        e.preventDefault();
        $(this).closest('.wrapper-notification').removeClass('is-shown').addClass('is-hiding').attr('aria-hidden', 'true');
    }

    function hideAlert(e) {
        e.preventDefault();
        $(this).closest('.wrapper-alert').removeClass('is-shown');
    }

    domReady(function () {
        var dropdownMenuView;

        $body = $('body');

        $body.on('click', '.embeddable-xml-input', function () {
            $(this).select();
        });

        $body.addClass('js');

        // alerts/notifications - manual close
        $('.action-alert-close, .alert.has-actions .nav-actions a').bind('click', hideAlert);
        $('.action-notification-close').bind('click', hideNotification);

        // nav - dropdown related
        $body.click(function () {
            $('.nav-dd .nav-item .wrapper-nav-sub').removeClass('is-shown');
            $('.nav-dd .nav-item .title').removeClass('is-selected');
        });

        $('.nav-dd .nav-item, .filterable-column .nav-item').click(function (e) {
            var $subnav = $(this).find('.wrapper-nav-sub'),
                $title = $(this).find('.title');

            if ($subnav.hasClass('is-shown')) {
                $subnav.removeClass('is-shown');
                $title.removeClass('is-selected');
            } else {
                $('.nav-dd .nav-item .title').removeClass('is-selected');
                $('.nav-dd .nav-item .wrapper-nav-sub').removeClass('is-shown');
                $title.addClass('is-selected');
                $subnav.addClass('is-shown');
                // if propagation is not stopped, the event will bubble up to the
                // body element, which will close the dropdown.
                e.stopPropagation();
            }
        });

        // general link management - new window/tab
        $('a[rel="external"]:not([title])').attr('title', gettext('This link will open in a new browser window/tab'));
        $('a[rel="external"]').attr({
            rel: 'noopener external',
            target: '_blank'
        });

        // general link management - lean modal window
        $('a[rel="modal"]').attr('title', gettext('This link will open in a modal window')).leanModal({
            overlay: 0.50,
            closeButton: '.action-modal-close'
        });
        $('.action-modal-close').click(function (e) {
            e.preventDefault();
        });

        // general link management - smooth scrolling page links
        $('a[rel*="view"][href^="#"]').bind('click', smoothScrollLink);

        IframeUtils.iframeBinding();

        // disable ajax caching in IE so that backbone fetches work
        if ($.browser.msie) {
            $.ajaxSetup({ cache: false });
        }

        // Initiate the edx tool kit dropdown menu
        if ($('.js-header-user-menu').length) {
            dropdownMenuView = new DropdownMenuView({
                el: '.js-header-user-menu'
            });
            dropdownMenuView.postRender();
        }

        window.studioNavMenuActive = true;
    });
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end require()

/***/ }),

/***/ "./cms/static/js/collections/component_template.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2), __webpack_require__("./cms/static/js/models/component_template.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function (Backbone, ComponentTemplate) {
    return Backbone.Collection.extend({
        model: ComponentTemplate
    });
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/collections/metadata.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2), __webpack_require__("./cms/static/js/models/metadata.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function (Backbone, MetadataModel) {
    var MetadataCollection = Backbone.Collection.extend({
        model: MetadataModel,
        comparator: 'display_name'
    });
    return MetadataCollection;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/factories/base.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// We can't convert this to an es6 module until all factories that use it have been converted out
// of RequireJS
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__("./cms/static/js/base.js"), __webpack_require__("./cms/static/cms/js/main.js"), __webpack_require__("./common/static/js/src/logger.js"), __webpack_require__("./common/static/js/vendor/timepicker/datepair.js"), __webpack_require__("./common/static/js/src/accessibility_tools.js"), __webpack_require__("./common/static/js/src/ie_shim.js"), __webpack_require__("./common/static/js/src/tooltip_manager.js"), __webpack_require__("./common/static/js/src/lang_edx.js"), __webpack_require__("./cms/static/js/models/course.js"), __webpack_require__("./common/static/js/src/jquery_extend_patch.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function () {
    'use strict';
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/factories/library.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (immutable) */ __webpack_exports__["default"] = LibraryFactory;
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LibraryFactory", function() { return LibraryFactory; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_underscore__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_underscore___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_underscore__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_js_models_xblock_info__ = __webpack_require__("./cms/static/js/models/xblock_info.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_js_models_xblock_info___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_js_models_xblock_info__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_js_views_pages_paged_container__ = __webpack_require__("./cms/static/js/views/pages/paged_container.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_js_views_pages_paged_container___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_js_views_pages_paged_container__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_js_views_library_container__ = __webpack_require__("./cms/static/js/views/library_container.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_js_views_library_container___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_js_views_library_container__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_js_collections_component_template__ = __webpack_require__("./cms/static/js/collections/component_template.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_js_collections_component_template___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_js_collections_component_template__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_xmodule__ = __webpack_require__("./cms/djangoapps/pipeline_js/js/xmodule.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_xmodule___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_xmodule__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__base__ = __webpack_require__("./cms/static/js/factories/base.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__base___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__base__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_cms_js_main__ = __webpack_require__("./cms/static/cms/js/main.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_cms_js_main___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_cms_js_main__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_xblock_cms_runtime_v1__ = __webpack_require__("./cms/static/cms/js/xblock/cms.runtime.v1.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_xblock_cms_runtime_v1___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_xblock_cms_runtime_v1__);











'use strict';
function LibraryFactory(componentTemplates, XBlockInfoJson, options) {
    var main_options = {
        el: __WEBPACK_IMPORTED_MODULE_0_jquery__('#content'),
        model: new __WEBPACK_IMPORTED_MODULE_2_js_models_xblock_info__(XBlockInfoJson, { parse: true }),
        templates: new __WEBPACK_IMPORTED_MODULE_5_js_collections_component_template__(componentTemplates, { parse: true }),
        action: 'view',
        viewClass: __WEBPACK_IMPORTED_MODULE_4_js_views_library_container__,
        canEdit: true
    };

    __WEBPACK_IMPORTED_MODULE_6_xmodule__["done"](function () {
        var view = new __WEBPACK_IMPORTED_MODULE_3_js_views_pages_paged_container__(__WEBPACK_IMPORTED_MODULE_1_underscore__["extend"](main_options, options));
        view.render();
    });
};



/***/ }),

/***/ "./cms/static/js/models/component_template.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * Simple model for adding a component of a given type (for example, "video" or "html").
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2)], __WEBPACK_AMD_DEFINE_RESULT__ = function (Backbone) {
    return Backbone.Model.extend({
        defaults: {
            type: '',
            // Each entry in the template array is an Object with the following keys:
            // display_name
            // category (may or may not match "type")
            // boilerplate_name (may be null)
            // is_common (only used for problems)
            templates: [],
            support_legend: {}
        },
        parse: function parse(response) {
            // Returns true only for templates that both have no boilerplate and are of
            // the overall type of the menu. This allows other component types to be added
            // and they will get sorted alphabetically rather than just at the top.
            // e.g. The ORA openassessment xblock is listed as an advanced problem.
            var isPrimaryBlankTemplate = function isPrimaryBlankTemplate(template) {
                return !template.boilerplate_name && template.category === response.type;
            };

            this.type = response.type;
            this.templates = response.templates;
            this.display_name = response.display_name;
            this.support_legend = response.support_legend;

            // Sort the templates.
            this.templates.sort(function (a, b) {
                // The blank problem for the current type goes first
                if (isPrimaryBlankTemplate(a)) {
                    return -1;
                } else if (isPrimaryBlankTemplate(b)) {
                    return 1;
                    // Hinted problems should be shown at the end
                } else if (a.hinted && !b.hinted) {
                    return 1;
                } else if (!a.hinted && b.hinted) {
                    return -1;
                } else if (a.display_name > b.display_name) {
                    return 1;
                } else if (a.display_name < b.display_name) {
                    return -1;
                }
                return 0;
            });
        }
    });
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/models/course.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2)], __WEBPACK_AMD_DEFINE_RESULT__ = function (Backbone) {
    var Course = Backbone.Model.extend({
        defaults: {
            name: ''
        },
        validate: function validate(attrs, options) {
            if (!attrs.name) {
                return gettext('You must specify a name');
            }
        }
    });
    return Course;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/models/license.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2), __webpack_require__(1)], __WEBPACK_AMD_DEFINE_RESULT__ = function (Backbone, _) {
    var LicenseModel = Backbone.Model.extend({
        defaults: {
            type: null,
            options: {},
            custom: false // either `false`, or a string
        },

        initialize: function initialize(attributes) {
            if (attributes && attributes.asString) {
                this.setFromString(attributes.asString);
                this.unset('asString');
            }
        },

        toString: function toString() {
            var custom = this.get('custom');
            if (custom) {
                return custom;
            }

            var type = this.get('type'),
                options = this.get('options');

            if (_.isEmpty(options)) {
                return type || '';
            }

            // options are where it gets tricky
            var optionStrings = _.map(options, function (value, key) {
                if (_.isBoolean(value)) {
                    return value ? key : null;
                } else {
                    return key + '=' + value;
                }
            });
            // filter out nulls
            optionStrings = _.filter(optionStrings, _.identity);
            // build license string and return
            return type + ': ' + optionStrings.join(' ');
        },

        setFromString: function setFromString(string, options) {
            if (!string) {
                // reset to defaults
                return this.set(this.defaults, options);
            }

            var colonIndex = string.indexOf(':'),
                spaceIndex = string.indexOf(' ');

            // a string without a colon could be a custom license, or a license
            // type without options
            if (colonIndex == -1) {
                if (spaceIndex == -1) {
                    // if there's no space, it's a license type without options
                    return this.set({
                        type: string,
                        options: {},
                        custom: false
                    }, options);
                } else {
                    // if there is a space, it's a custom license
                    return this.set({
                        type: null,
                        options: {},
                        custom: string
                    }, options);
                }
            }

            // there is a colon, which indicates a license type with options.
            var type = string.substring(0, colonIndex),
                optionsObj = {},
                optionsString = string.substring(colonIndex + 1);

            _.each(optionsString.split(' '), function (optionString) {
                if (_.isEmpty(optionString)) {
                    return;
                }
                var eqIndex = optionString.indexOf('=');
                if (eqIndex == -1) {
                    // this is a boolean flag
                    optionsObj[optionString] = true;
                } else {
                    // this is a key-value pair
                    var optionKey = optionString.substring(0, eqIndex);
                    var optionVal = optionString.substring(eqIndex + 1);
                    optionsObj[optionKey] = optionVal;
                }
            });

            return this.set({
                type: type, options: optionsObj, custom: false
            }, options);
        }
    });

    return LicenseModel;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/models/metadata.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2)], __WEBPACK_AMD_DEFINE_RESULT__ = function (Backbone) {
    /**
     * Model used for metadata setting editors. This model does not do its own saving,
     * as that is done by module_edit.js.
     */
    var Metadata = Backbone.Model.extend({
        defaults: {
            field_name: null,
            display_name: null,
            value: null,
            explicitly_set: null,
            default_value: null,
            options: null,
            type: null,
            custom: false // Used only for non-metadata fields
        },

        initialize: function initialize() {
            this.original_value = this.get('value');
            this.original_explicitly_set = this.get('explicitly_set');
        },

        /**
         * Returns true if the stored value is different, or if the "explicitly_set"
         * property has changed.
         */
        isModified: function isModified() {
            // A non-metadata field will handle itself
            if (this.get('custom') === true) {
                return false;
            }

            if (!this.get('explicitly_set') && !this.original_explicitly_set) {
                return false;
            }
            if (this.get('explicitly_set') && this.original_explicitly_set) {
                return this.get('value') !== this.original_value;
            }
            return true;
        },

        /**
         * Returns true if a non-default/non-inherited value has been set.
         */
        isExplicitlySet: function isExplicitlySet() {
            return this.get('explicitly_set');
        },

        /**
         * The value, as shown in the UI. This may be an inherited or default value.
         */
        getDisplayValue: function getDisplayValue() {
            return this.get('value');
        },

        /**
         * The value, as should be returned to the server. if 'isExplicitlySet'
         * returns false, this method returns null to indicate that the value
         * is not set at this level.
         */
        getValue: function getValue() {
            return this.get('explicitly_set') ? this.get('value') : null;
        },

        /**
         * Sets the displayed value.
         */
        setValue: function setValue(value) {
            this.set({
                explicitly_set: true,
                value: value
            });
        },

        /**
         * Returns the field name, which should be used for persisting the metadata
         * field to the server.
         */
        getFieldName: function getFieldName() {
            return this.get('field_name');
        },

        /**
         * Returns the options. This may be a array of possible values, or an object
         * with properties like "max", "min" and "step".
         */
        getOptions: function getOptions() {
            return this.get('options');
        },

        /**
         * Returns the type of this metadata field. Possible values are SELECT_TYPE,
         * INTEGER_TYPE, and FLOAT_TYPE, GENERIC_TYPE.
         */
        getType: function getType() {
            return this.get('type');
        },

        /**
         * Reverts the value to the default_value specified at construction, and updates the
         * explicitly_set property.
         */
        clear: function clear() {
            this.set({
                explicitly_set: false,
                value: this.get('default_value')
            });
        }
    });

    Metadata.SELECT_TYPE = 'Select';
    Metadata.INTEGER_TYPE = 'Integer';
    Metadata.FLOAT_TYPE = 'Float';
    Metadata.GENERIC_TYPE = 'Generic';
    Metadata.LIST_TYPE = 'List';
    Metadata.DICT_TYPE = 'Dict';
    Metadata.VIDEO_LIST_TYPE = 'VideoList';
    Metadata.RELATIVE_TIME_TYPE = 'RelativeTime';

    return Metadata;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/models/uploads.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2), __webpack_require__(1), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function (Backbone, _, gettext) {
    var FileUpload = Backbone.Model.extend({
        defaults: {
            title: '',
            message: '',
            selectedFile: null,
            uploading: false,
            uploadedBytes: 0,
            totalBytes: 0,
            finished: false,
            mimeTypes: [],
            fileFormats: []
        },
        validate: function validate(attrs, options) {
            if (attrs.selectedFile && !this.checkTypeValidity(attrs.selectedFile)) {
                return {
                    message: _.template(gettext('Only <%- fileTypes %> files can be uploaded. Please select a file ending in <%- (fileExtensions) %> to upload.'))( // eslint-disable-line max-len
                    this.formatValidTypes()),
                    attributes: { selectedFile: true }
                };
            }
        },
        // Return a list of this uploader's valid file types
        fileTypes: function fileTypes() {
            var mimeTypes = _.map(this.attributes.mimeTypes, function (type) {
                return type.split('/')[1].toUpperCase();
            }),
                fileFormats = _.map(this.attributes.fileFormats, function (type) {
                return type.toUpperCase();
            });

            return mimeTypes.concat(fileFormats);
        },
        checkTypeValidity: function checkTypeValidity(file) {
            var attrs = this.attributes,
                getRegExp = function getRegExp(formats) {
                // Creates regular expression like: /(?:.+)\.(jpg|png|gif)$/i
                return RegExp('(?:.+)\\.(' + formats.join('|') + ')$', 'i');
            };

            return attrs.mimeTypes.length === 0 && attrs.fileFormats.length === 0 || _.contains(attrs.mimeTypes, file.type) || getRegExp(attrs.fileFormats).test(file.name);
        },
        // Return strings for the valid file types and extensions this
        // uploader accepts, formatted as natural language
        formatValidTypes: function formatValidTypes() {
            var attrs = this.attributes;

            if (attrs.mimeTypes.concat(attrs.fileFormats).length === 1) {
                return {
                    fileTypes: this.fileTypes()[0],
                    fileExtensions: '.' + this.fileTypes()[0].toLowerCase()
                };
            }
            var or = gettext('or');
            var formatTypes = function formatTypes(types) {
                return _.template('<%- initial %> <%- or %> <%- last %>')({
                    initial: _.initial(types).join(', '),
                    or: or,
                    last: _.last(types)
                });
            };
            return {
                fileTypes: formatTypes(this.fileTypes()),
                fileExtensions: formatTypes(_.map(this.fileTypes(), function (type) {
                    return '.' + type.toLowerCase();
                }))
            };
        }
    });

    return FileUpload;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define()

/***/ }),

/***/ "./cms/static/js/models/xblock_info.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2), __webpack_require__(1), __webpack_require__("./common/static/common/js/vendor/underscore.string.js"), __webpack_require__("./cms/static/js/utils/module.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function (Backbone, _, str, ModuleUtils) {
  'use strict';

  var XBlockInfo = Backbone.Model.extend({

    urlRoot: ModuleUtils.urlRoot,

    // NOTE: 'publish' is not an attribute on XBlockInfo, but it is used to signal the publish
    // and discard changes actions. Therefore 'publish' cannot be introduced as an attribute.
    defaults: {
      id: null,
      display_name: null,
      category: null,
      data: null,
      metadata: null,
      /**
       * The Studio URL for this xblock, or null if it doesn't have one.
       */
      studio_url: null,
      /**
       * An optional object with information about the children as well as about
       * the primary xblock type that is supported as a child.
       */
      child_info: null,
      /**
       * An optional object with information about each of the ancestors.
       */
      ancestor_info: null,
      /**
       * Date of the last edit to this xblock or any of its descendants.
       */
      edited_on: null,
      /**
       * User who last edited the xblock or any of its descendants. Will only be present if
       * publishing info was explicitly requested.
       */
      edited_by: null,
      /**
       * True iff a published version of the xblock exists.
       */
      published: null,
      /**
       * Date of the last publish of this xblock, or null if never published.
       */
      published_on: null,
      /**
       * User who last published the xblock, or null if never published. Will only be present if
       * publishing info was explicitly requested.
       */
      published_by: null,
      /**
       * True if the xblock is a parentable xblock.
       */
      has_children: null,
      /**
       * True if the xblock has changes.
       * Note: this is not always provided as a performance optimization. It is only provided for
       * verticals functioning as units.
       */
      has_changes: null,
      /**
       * Represents the possible publish states for an xblock. See the documentation
       * for XBlockVisibility to see a comprehensive enumeration of the states.
       */
      visibility_state: null,
      /**
       * True if the release date of the xblock is in the past.
       */
      released_to_students: null,
      /**
       * If the xblock is published, the date on which it will be released to students.
       * This can be null if the release date is unscheduled.
       */
      release_date: null,
      /**
       * The xblock which is determining the release date. For instance, for a unit,
       * this will either be the parent subsection or the grandparent section.
       * This can be null if the release date is unscheduled. Will only be present if
       * publishing info was explicitly requested.
       */
      release_date_from: null,
      /**
       * True if this xblock is currently visible to students. This is computed server-side
       * so that the logic isn't duplicated on the client. Will only be present if
       * publishing info was explicitly requested.
       */
      currently_visible_to_students: null,
      /**
       * If xblock is graded, the date after which student assessment will be evaluated.
       * It has same format as release date, for example: 'Jan 02, 2015 at 00:00 UTC'.
       */
      due_date: null,
      /**
       * Grading policy for xblock.
       */
      format: null,
      /**
       * List of course graders names.
       */
      course_graders: null,
      /**
       * True if this xblock contributes to the final course grade.
       */
      graded: null,
      /**
       * The same as `release_date` but as an ISO-formatted date string.
       */
      start: null,
      /**
       * The same as `due_date` but as an ISO-formatted date string.
       */
      due: null,
      /**
       * True iff this xblock is explicitly staff locked.
       */
      has_explicit_staff_lock: null,
      /**
       * True iff this any of this xblock's ancestors are staff locked.
       */
      ancestor_has_staff_lock: null,
      /**
       * The xblock which is determining the staff lock value. For instance, for a unit,
       * this will either be the parent subsection or the grandparent section.
       * This can be null if the xblock has no inherited staff lock. Will only be present if
       * publishing info was explicitly requested.
       */
      staff_lock_from: null,
      /**
       * True iff this xblock should display a "Contains staff only content" message.
       */
      staff_only_message: null,
      /**
       * True iff this xblock is a unit, and it has children that are only visible to certain
       * user partition groups. Note that this is not a recursive property. Will only be present if
       * publishing info was explicitly requested.
       */
      has_partition_group_components: null,
      /**
       * actions defines the state of delete, drag and child add functionality for a xblock.
       * currently, each xblock has default value of 'True' for keys: deletable, draggable and childAddable.
       */
      actions: null,
      /**
       * Header visible to UI.
       */
      is_header_visible: null,
      /**
       * Optional explanatory message about the xblock.
       */
      explanatory_message: null,
      /**
       * The XBlock's group access rules.  This is a dictionary keyed to user partition IDs,
       * where the values are lists of group IDs.
       */
      group_access: null,
      /**
       * User partition dictionary.  This is pre-processed by Studio, so it contains
       * some additional fields that are not stored in the course descriptor
       * (for example, which groups are selected for this particular XBlock).
       */
      user_partitions: null,
      /**
       * This xBlock's Highlights to message to learners.
       */
      highlights: [],
      highlights_enabled: false,
      highlights_enabled_for_messaging: false,
      highlights_preview_only: true,
      highlights_doc_url: ''
    },

    initialize: function initialize() {
      // Extend our Model by helper methods.
      _.extend(this, this.getCategoryHelpers());
    },

    parse: function parse(response) {
      if (response.ancestor_info) {
        response.ancestor_info.ancestors = this.parseXBlockInfoList(response.ancestor_info.ancestors);
      }
      if (response.child_info) {
        response.child_info.children = this.parseXBlockInfoList(response.child_info.children);
      }
      return response;
    },

    parseXBlockInfoList: function parseXBlockInfoList(list) {
      return _.map(list, function (item) {
        return this.createChild(item);
      }, this);
    },

    createChild: function createChild(response) {
      return new XBlockInfo(response, { parse: true });
    },

    hasChildren: function hasChildren() {
      var childInfo = this.get('child_info');
      return childInfo && childInfo.children.length > 0;
    },

    isPublishable: function isPublishable() {
      return !this.get('published') || this.get('has_changes');
    },

    isDeletable: function isDeletable() {
      return this.isActionRequired('deletable');
    },

    isDuplicable: function isDuplicable() {
      return this.isActionRequired('duplicable');
    },

    isDraggable: function isDraggable() {
      return this.isActionRequired('draggable');
    },

    isChildAddable: function isChildAddable() {
      return this.isActionRequired('childAddable');
    },

    isHeaderVisible: function isHeaderVisible() {
      if (this.get('is_header_visible') !== null) {
        return this.get('is_header_visible');
      }
      return true;
    },

    /**
     * Return true if action is required e.g. delete, drag, add new child etc or if given key is not present.
     * @return {boolean}
    */
    isActionRequired: function isActionRequired(actionName) {
      var actions = this.get('actions');
      if (actions !== null) {
        if (_.has(actions, actionName) && !actions[actionName]) {
          return false;
        }
      }
      return true;
    },

    /**
     * Return a list of convenience methods to check affiliation to the category.
     * @return {Array}
    */
    getCategoryHelpers: function getCategoryHelpers() {
      var categories = ['course', 'chapter', 'sequential', 'vertical'],
          helpers = {};

      _.each(categories, function (item) {
        helpers['is' + str.titleize(item)] = function () {
          return this.get('category') === item;
        };
      }, this);

      return helpers;
    },

    /**
     * Check if we can edit current XBlock or not on Course Outline page.
     * @return {Boolean}
     */
    isEditableOnCourseOutline: function isEditableOnCourseOutline() {
      return this.isSequential() || this.isChapter() || this.isVertical();
    }
  });
  return XBlockInfo;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/utils/change_on_enter.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0)], __WEBPACK_AMD_DEFINE_RESULT__ = function ($) {
    // Trigger "Change" event on "Enter" keyup event
    var triggerChangeEventOnEnter = function triggerChangeEventOnEnter(e) {
        if (e.which == 13) {
            $(this).trigger('change').blur();
        }
    };

    return triggerChangeEventOnEnter;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/utils/date_utils.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__("./common/static/js/vendor/date.js"), __webpack_require__("./cms/static/js/utils/change_on_enter.js"), __webpack_require__("./common/static/js/vendor/jquery-ui.min.js"), __webpack_require__("./common/static/js/vendor/timepicker/jquery.timepicker.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, date, TriggerChangeEventOnEnter) {
    'use strict';

    function getDate(datepickerInput, timepickerInput) {
        // given a pair of inputs (datepicker and timepicker), return a JS Date
        // object that corresponds to the datetime.js that they represent. Assume
        // UTC timezone, NOT the timezone of the user's browser.
        var selectedDate = null,
            selectedTime = null;
        if (datepickerInput.length > 0) {
            selectedDate = $(datepickerInput).datepicker('getDate');
        }
        if (timepickerInput.length > 0) {
            selectedTime = $(timepickerInput).timepicker('getTime');
        }
        if (selectedDate && selectedTime) {
            return new Date(Date.UTC(selectedDate.getFullYear(), selectedDate.getMonth(), selectedDate.getDate(), selectedTime.getHours(), selectedTime.getMinutes()));
        } else if (selectedDate) {
            return new Date(Date.UTC(selectedDate.getFullYear(), selectedDate.getMonth(), selectedDate.getDate()));
        } else {
            return null;
        }
    }

    function setDate(datepickerInput, timepickerInput, datetime) {
        // given a pair of inputs (datepicker and timepicker) and the date as an
        // ISO-formatted date string.
        var parsedDatetime = Date.parse(datetime);
        if (parsedDatetime) {
            $(datepickerInput).datepicker('setDate', parsedDatetime);
            if (timepickerInput.length > 0) {
                $(timepickerInput).timepicker('setTime', parsedDatetime);
            }
        }
    }

    function renderDate(dateArg) {
        // Render a localized date from an argument that can be passed to
        // the Date constructor (e.g. another Date or an ISO 8601 string)
        var dateObj = new Date(dateArg);
        return dateObj.toLocaleString([], { timeZone: 'UTC', timeZoneName: 'short' });
    }

    function parseDateFromString(stringDate) {
        if (stringDate && typeof stringDate === 'string') {
            return new Date(stringDate);
        } else {
            return stringDate;
        }
    }

    function convertDateStringsToObjects(obj, dateFields) {
        var i;
        for (i = 0; i < dateFields.length; i++) {
            if (obj[dateFields[i]]) {
                obj[dateFields[i]] = parseDateFromString(obj[dateFields[i]]);
            }
        }
        return obj;
    }

    function setupDatePicker(fieldName, view, index) {
        var cacheModel;
        var div;
        var datefield;
        var timefield;
        var cacheview;
        var setfield;
        var currentDate;
        if (typeof index !== 'undefined' && view.hasOwnProperty('collection')) {
            cacheModel = view.collection.models[index];
            div = view.$el.find('#' + view.collectionSelector(cacheModel.cid));
        } else {
            cacheModel = view.model;
            div = view.$el.find('#' + view.fieldToSelectorMap[fieldName]);
        }
        datefield = $(div).find('input.date');
        timefield = $(div).find('input.time');
        cacheview = view;
        setfield = function setfield(event) {
            var newVal = getDate(datefield, timefield);

            // Setting to null clears the time as well, as date and time are linked.
            // Note also that the validation logic prevents us from clearing the start date
            // (start date is required by the back end).
            cacheview.clearValidationErrors();
            cacheview.setAndValidate(fieldName, newVal || null, event);
        };

        // instrument as date and time pickers
        timefield.timepicker({ timeFormat: 'H:i' });
        datefield.datepicker();

        // Using the change event causes setfield to be triggered twice, but it is necessary
        // to pick up when the date is typed directly in the field.
        datefield.change(setfield).keyup(TriggerChangeEventOnEnter);
        timefield.on('changeTime', setfield);
        timefield.on('input', setfield);

        currentDate = null;
        if (cacheModel) {
            currentDate = cacheModel.get(fieldName);
        }
        // timepicker doesn't let us set null, so check that we have a time
        if (currentDate) {
            setDate(datefield, timefield, currentDate);
        } else {
            // but reset fields either way
            timefield.val('');
            datefield.val('');
        }
    }

    return {
        getDate: getDate,
        setDate: setDate,
        renderDate: renderDate,
        convertDateStringsToObjects: convertDateStringsToObjects,
        parseDateFromString: parseDateFromString,
        setupDatePicker: setupDatePicker
    };
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/utils/handle_iframe_binding.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0)], __WEBPACK_AMD_DEFINE_RESULT__ = function ($) {
    var iframeBinding = function iframeBinding(e) {
        var target_element = null;
        if (typeof e === 'undefined') {
            target_element = $('iframe, embed');
        } else {
            if (typeof e.nodeName !== 'undefined') {
                target_element = $(e).find('iframe, embed');
            } else {
                target_element = e.$('iframe, embed');
            }
        }
        modifyTagContent(target_element);
    };

    var modifyTagContent = function modifyTagContent(target_element) {
        target_element.each(function () {
            if ($(this).prop('tagName') === 'IFRAME') {
                var ifr_source = $(this).attr('src');

                // Modify iframe src only if it is not empty
                if (ifr_source) {
                    var wmode = 'wmode=transparent';
                    if (ifr_source.indexOf('?') !== -1) {
                        var getQString = ifr_source.split('?');
                        if (getQString[1].search('wmode=transparent') === -1) {
                            var oldString = getQString[1];
                            var newString = getQString[0];
                            $(this).attr('src', newString + '?' + wmode + '&' + oldString);
                        }
                    }
                    // The TinyMCE editor is hosted in an iframe, and before the iframe is
                    // removed we execute this code. To avoid throwing an error when setting the
                    // attr, check that the source doesn't start with the value specified by TinyMCE ('javascript:""').
                    else if (ifr_source.lastIndexOf('javascript:', 0) !== 0) {
                            $(this).attr('src', ifr_source + '?' + wmode);
                        }
                }
            } else {
                $(this).attr('wmode', 'transparent');
            }
        });
    };

    // Modify iframe/embed tags in provided html string
    // Use this method when provided data is just html sting not dom element
    // This method will only modify iframe (add wmode=transparent in url querystring) and embed (add wmode=transparent as attribute)
    // tags in html string so both tags will attach to dom and don't create z-index problem for other popups
    // Note: embed tags should be modified before rendering as they are static objects as compared to iframes
    // Note: this method can modify unintended html (invalid tags) while converting to dom object
    var iframeBindingHtml = function iframeBindingHtml(html_string) {
        if (html_string) {
            var target_element = null;
            var temp_content = document.createElement('div');
            $(temp_content).html(html_string);
            target_element = $(temp_content).find('iframe, embed');
            if (target_element.length > 0) {
                modifyTagContent(target_element);
                html_string = $(temp_content).html();
            }
        }
        return html_string;
    };

    return {
        iframeBinding: iframeBinding,
        iframeBindingHtml: iframeBindingHtml
    };
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/utils/modal.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0)], __WEBPACK_AMD_DEFINE_RESULT__ = function ($) {
    /**
     * Hides the modal and modal cover, using the standard selectors.
     * Note though that the class "is-fixed" on the modal cover
     * prevents the closing operation.
     */
    var hideModal = function hideModal(e) {
        if (e) {
            e.preventDefault();
        }

        var $modalCover = getModalCover();

        // Unit editors (module_edit) do not want the modal cover to hide when users click outside
        // of the editor. Users must press Cancel or Save to exit the editor.
        if (!$modalCover.hasClass('is-fixed')) {
            getModal().hide();
            hideModalCover($modalCover);
        }
    };

    /**
     * Hides just the modal cover. Caller can pass in a specific
     * element as the modal cover, otherwise the standard selector will be used.
     *
     * This method also unbinds the click handler on the modal cover.
     */
    var hideModalCover = function hideModalCover(modalCover) {
        if (modalCover == undefined) {
            modalCover = getModalCover();
        }
        modalCover.hide();
        modalCover.removeClass('is-fixed');
        modalCover.unbind('click');
    };

    /**
     * Shows the modal and modal cover, using the standard selectors.
     */
    var showModal = function showModal() {
        getModal().show();
        showModalCover();
    };

    /**
     * Shows just the modal cover. The caller can optionally choose
     * to have the class "is-fixed" added to the cover, and
     * the user can also choose to specify a custom click handler
     * for the modal cover.
     *
     * This method returns the modal cover element.
     */
    var showModalCover = function showModalCover(addFixed, clickHandler) {
        var $modalCover = getModalCover();
        $modalCover.show();
        if (addFixed) {
            $modalCover.addClass('is-fixed');
        }
        $modalCover.unbind('click');
        if (clickHandler) {
            $modalCover.bind('click', clickHandler);
        } else {
            $modalCover.bind('click', hideModal);
        }
        return $modalCover;
    };

    var getModalCover = function getModalCover() {
        return $('.modal-cover');
    };

    var getModal = function getModal() {
        return $('.modal, .showAsModal');
    };

    return {
        showModal: showModal,
        hideModal: hideModal,
        showModalCover: showModalCover,
        hideModalCover: hideModalCover
    };
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/utils/module.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * Utilities for modules/xblocks.
 *
 * Returns:
 *
 * urlRoot: the root for creating/updating an xblock.
 * getUpdateUrl: a utility method that returns the xblock update URL, appending
 *               the location if passed in.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(1)], __WEBPACK_AMD_DEFINE_RESULT__ = function (_) {
    var urlRoot = '/xblock';

    var getUpdateUrl = function getUpdateUrl(locator) {
        if (_.isUndefined(locator)) {
            return urlRoot + '/';
        } else {
            return urlRoot + '/' + locator;
        }
    };
    return {
        urlRoot: urlRoot,
        getUpdateUrl: getUpdateUrl
    };
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/utils/templates.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1)], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _) {
    /**
     * Loads the named template from the page, or logs an error if it fails.
     * @param name The name of the template.
     * @returns The loaded template.
     */
    var loadTemplate = function loadTemplate(name) {
        var templateSelector = '#' + name + '-tpl',
            templateText = $(templateSelector).text();
        if (!templateText) {
            console.error('Failed to load ' + name + ' template');
        }
        return _.template(templateText);
    };

    return {
        loadTemplate: loadTemplate
    };
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/views/abstract_editor.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__("./cms/static/js/views/baseview.js"), __webpack_require__(1)], __WEBPACK_AMD_DEFINE_RESULT__ = function (BaseView, _) {
    var AbstractEditor = BaseView.extend({

        // Model is MetadataModel
        initialize: function initialize() {
            var self = this;
            var templateName = _.result(this, 'templateName');
            // Backbone model cid is only unique within the collection.
            this.uniqueId = _.uniqueId(templateName + '_');
            this.template = this.loadTemplate(templateName);
            // xss-lint: disable=javascript-jquery-html
            this.$el.html(this.template({ model: this.model, uniqueId: this.uniqueId }));
            this.listenTo(this.model, 'change', this.render);
            this.render();
        },

        /**
         * The ID/name of the template. Subclasses must override this.
         */
        templateName: '',

        /**
         * Returns the value currently displayed in the editor/view. Subclasses should implement this method.
         */
        getValueFromEditor: function getValueFromEditor() {},

        /**
         * Sets the value currently displayed in the editor/view. Subclasses should implement this method.
         */
        setValueInEditor: function setValueInEditor(value) {},

        /**
         * Sets the value in the model, using the value currently displayed in the view.
         */
        updateModel: function updateModel() {
            this.model.setValue(this.getValueFromEditor());
        },

        /**
         * Clears the value currently set in the model (reverting to the default).
         */
        clear: function clear() {
            this.model.clear();
        },

        /**
         * Shows the clear button, if it is not already showing.
         */
        showClearButton: function showClearButton() {
            if (!this.$el.hasClass('is-set')) {
                this.$el.addClass('is-set');
                this.getClearButton().removeClass('inactive');
                this.getClearButton().addClass('active');
            }
        },

        /**
         * Returns the clear button.
         */
        getClearButton: function getClearButton() {
            return this.$el.find('.setting-clear');
        },

        /**
         * Renders the editor, updating the value displayed in the view, as well as the state of
         * the clear button.
         */
        render: function render() {
            if (!this.template) return;

            this.setValueInEditor(this.model.getDisplayValue());

            if (this.model.isExplicitlySet()) {
                this.showClearButton();
            } else {
                this.$el.removeClass('is-set');
                this.getClearButton().addClass('inactive');
                this.getClearButton().removeClass('active');
            }

            return this;
        },

        /**
         * Loads the named template from the page, or logs an error if it fails.
         * @param name The name of the template.
         * @returns The loaded template.
         */
        loadTemplate: function loadTemplate(name) {
            var templateSelector = '#' + name,
                templateText = $(templateSelector).text();
            if (!templateText) {
                console.error('Failed to load ' + name + ' template');
            }
            return _.template(templateText);
        }
    });

    return AbstractEditor;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./cms/static/js/views/baseview.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__(2), __webpack_require__(3), __webpack_require__("./cms/static/js/utils/handle_iframe_binding.js"), __webpack_require__("./cms/static/js/utils/templates.js"), __webpack_require__("./common/static/common/js/components/utils/view_utils.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, Backbone, gettext, IframeUtils, TemplateUtils, ViewUtils) {
    /*
     This view is extended from backbone to provide useful functionality for all Studio views.
     This functionality includes:
     - automatic expand and collapse of elements with the 'ui-toggle-expansion' class specified
     - additional control of rendering by overriding 'beforeRender' or 'afterRender'
      Note: the default 'afterRender' function calls a utility function 'iframeBinding' which modifies
     iframe src urls on a page so that they are rendered as part of the DOM.
     */

    var BaseView = Backbone.View.extend({
        events: {
            'click .ui-toggle-expansion': 'toggleExpandCollapse'
        },

        options: {
            // UX is moving towards using 'is-collapsed' in preference over 'collapsed',
            // but use the old scheme as the default so that existing code doesn't need
            // to be rewritten.
            collapsedClass: 'collapsed'
        },

        // override the constructor function
        constructor: function constructor(options) {
            _.bindAll(this, 'beforeRender', 'render', 'afterRender');

            // Merge passed options and view's options property and
            // attach to the view's options property
            if (this.options) {
                options = _.extend({}, _.result(this, 'options'), options);
            }

            // trunc is not available in IE, and it provides polyfill for it.
            // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/trunc
            if (!Math.trunc) {
                Math.trunc = function (v) {
                    v = +v; // eslint-disable-line no-param-reassign
                    return v - v % 1 || (!isFinite(v) || v === 0 ? v : v < 0 ? -0 : 0);
                };
            }
            this.options = options;

            var _this = this;
            // xss-lint: disable=javascript-jquery-insertion
            this.render = _.wrap(this.render, function (render, options) {
                _this.beforeRender();
                render(options);
                _this.afterRender();
                return _this;
            });

            // call Backbone's own constructor
            Backbone.View.prototype.constructor.apply(this, arguments);
        },

        beforeRender: function beforeRender() {},

        render: function render() {
            return this;
        },

        afterRender: function afterRender() {
            IframeUtils.iframeBinding(this);
        },

        toggleExpandCollapse: function toggleExpandCollapse(event) {
            var $target = $(event.target);
            // Don't propagate the event as it is possible that two views will both contain
            // this element, e.g. clicking on the element of a child view container in a parent.
            event.stopPropagation();
            event.preventDefault();
            ViewUtils.toggleExpandCollapse($target, this.options.collapsedClass);
        },

        /**
         * Loads the named template from the page, or logs an error if it fails.
         * @param name The name of the template.
         * @returns The loaded template.
         */
        loadTemplate: function loadTemplate(name) {
            return TemplateUtils.loadTemplate(name);
        }
    });

    return BaseView;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/views/components/add_xblock.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * This is a simple component that renders add buttons for all available XBlock template types.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__(3), __webpack_require__("./cms/static/js/views/baseview.js"), __webpack_require__("./common/static/common/js/components/utils/view_utils.js"), __webpack_require__("./cms/static/js/views/components/add_xblock_button.js"), __webpack_require__("./cms/static/js/views/components/add_xblock_menu.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, gettext, BaseView, ViewUtils, AddXBlockButton, AddXBlockMenu, HtmlUtils) {
    'use strict';

    var AddXBlockComponent = BaseView.extend({
        events: {
            'click .new-component .new-component-type .multiple-templates': 'showComponentTemplates',
            'click .new-component .new-component-type .single-template': 'createNewComponent',
            'click .new-component .cancel-button': 'closeNewComponent',
            'click .new-component-templates .new-component-template .button-component': 'createNewComponent',
            'click .new-component-templates .cancel-button': 'closeNewComponent'
        },

        initialize: function initialize(options) {
            BaseView.prototype.initialize.call(this, options);
            this.template = this.loadTemplate('add-xblock-component');
        },

        render: function render() {
            var that;
            if (!this.$el.html()) {
                that = this;
                this.$el.html(HtmlUtils.HTML(this.template({})).toString());
                this.collection.each(function (componentModel) {
                    var view, menu;

                    view = new AddXBlockButton({ model: componentModel });
                    that.$el.find('.new-component-type').append(view.render().el);

                    menu = new AddXBlockMenu({ model: componentModel });
                    that.$el.append(menu.render().el);
                });
            }
        },

        showComponentTemplates: function showComponentTemplates(event) {
            var type;
            event.preventDefault();
            event.stopPropagation();
            type = $(event.currentTarget).data('type');
            this.$('.new-component').slideUp(250);
            this.$('.new-component-' + type).slideDown(250);
            this.$('.new-component-' + type + ' div').focus();
        },

        closeNewComponent: function closeNewComponent(event) {
            var type;
            event.preventDefault();
            event.stopPropagation();
            type = $(event.currentTarget).data('type');
            this.$('.new-component').slideDown(250);
            this.$('.new-component-templates').slideUp(250);
            this.$('ul.new-component-type li button[data-type=' + type + ']').focus();
        },

        createNewComponent: function createNewComponent(event) {
            var self = this,
                $element = $(event.currentTarget),
                saveData = $element.data(),
                oldOffset = ViewUtils.getScrollOffset(this.$el);
            event.preventDefault();
            this.closeNewComponent(event);
            ViewUtils.runOperationShowingMessage(gettext('Adding'), _.bind(this.options.createComponent, this, saveData, $element)).always(function () {
                // Restore the scroll position of the buttons so that the new
                // component appears above them.
                ViewUtils.setScrollOffset(self.$el, oldOffset);
            });
        }
    });

    return AddXBlockComponent;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define();

/***/ }),

/***/ "./cms/static/js/views/components/add_xblock_button.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__("./cms/static/js/views/baseview.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function (BaseView, HtmlUtils) {
    'use strict';

    return BaseView.extend({
        tagName: 'li',
        initialize: function initialize() {
            var attributes = {
                type: this.model.type,
                templates: this.model.templates,
                display_name: this.model.display_name
            };
            BaseView.prototype.initialize.call(this);
            this.template = this.loadTemplate('add-xblock-component-button');
            this.$el.html(HtmlUtils.HTML(this.template(attributes)).toString());
        }
    });
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define();

/***/ }),

/***/ "./cms/static/js/views/components/add_xblock_menu.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__("./cms/static/js/views/baseview.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, BaseView, HtmlUtils) {
    return BaseView.extend({
        className: function className() {
            return 'new-component-templates new-component-' + this.model.type;
        },
        initialize: function initialize() {
            BaseView.prototype.initialize.call(this);
            var template_name = this.model.type === 'problem' ? 'add-xblock-component-menu-problem' : 'add-xblock-component-menu';
            var support_indicator_template = this.loadTemplate('add-xblock-component-support-level');
            var support_legend_template = this.loadTemplate('add-xblock-component-support-legend');
            this.template = this.loadTemplate(template_name);
            HtmlUtils.setHtml(this.$el, HtmlUtils.HTML(this.template({
                type: this.model.type, templates: this.model.templates,
                support_legend: this.model.support_legend,
                support_indicator_template: support_indicator_template,
                support_legend_template: support_legend_template,
                HtmlUtils: HtmlUtils
            })));
            // Make the tabs on problems into "real tabs"
            this.$('.tab-group').tabs();
        }
    });
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define();

/***/ }),

/***/ "./cms/static/js/views/container.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__("./cms/static/js/views/xblock.js"), __webpack_require__("./cms/static/js/utils/module.js"), __webpack_require__(3), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"), __webpack_require__("./common/static/common/js/components/views/feedback_notification.js"), __webpack_require__("./common/static/js/vendor/jquery-ui.min.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, XBlockView, ModuleUtils, gettext, StringUtils, NotificationView) {
    'use strict';

    var studioXBlockWrapperClass = '.studio-xblock-wrapper';

    var ContainerView = XBlockView.extend({
        // Store the request token of the first xblock on the page (which we know was rendered by Studio when
        // the page was generated). Use that request token to filter out user-defined HTML in any
        // child xblocks within the page.
        requestToken: '',

        new_child_view: 'reorderable_container_child_preview',

        xblockReady: function xblockReady() {
            var reorderableClass,
                reorderableContainer,
                newParent,
                oldParent,
                self = this;
            XBlockView.prototype.xblockReady.call(this);

            this.requestToken = this.$('div.xblock').first().data('request-token');
            reorderableClass = this.makeRequestSpecificSelector('.reorderable-container');

            reorderableContainer = this.$(reorderableClass);
            reorderableContainer.sortable({
                handle: '.drag-handle',

                start: function start() {
                    // Necessary because of an open bug in JQuery sortable.
                    // http://bugs.jqueryui.com/ticket/4990
                    reorderableContainer.sortable('refreshPositions');
                },

                stop: function stop() {
                    var saving, hideSaving, removeFromParent;

                    if (_.isUndefined(oldParent)) {
                        // If no actual change occurred,
                        // oldParent will never have been set.
                        return;
                    }

                    saving = new NotificationView.Mini({
                        title: gettext('Saving')
                    });
                    saving.show();

                    hideSaving = function hideSaving() {
                        saving.hide();
                    };

                    // If moving from one container to another,
                    // add to new container before deleting from old to
                    // avoid creating an orphan if the addition fails.
                    if (newParent) {
                        removeFromParent = oldParent;
                        self.updateChildren(newParent, function () {
                            self.updateChildren(removeFromParent, hideSaving);
                        });
                    } else {
                        // No new parent, only reordering within same container.
                        self.updateChildren(oldParent, hideSaving);
                    }

                    oldParent = undefined;
                    newParent = undefined;
                },
                update: function update(event, ui) {
                    // When dragging from one ol to another, this method
                    // will be called twice (once for each list). ui.sender will
                    // be null if the change is related to the list the element
                    // was originally in (the case of a move within the same container
                    // or the deletion from a container when moving to a new container).
                    var parent = $(event.target).closest(studioXBlockWrapperClass);
                    if (ui.sender) {
                        // Move to a new container (the addition part).
                        newParent = parent;
                    } else {
                        // Reorder inside a container, or deletion when moving to new container.
                        oldParent = parent;
                    }
                },
                helper: 'original',
                opacity: '0.5',
                placeholder: 'component-placeholder',
                forcePlaceholderSize: true,
                axis: 'y',
                items: '> .is-draggable',
                connectWith: reorderableClass,
                tolerance: 'pointer'

            });
        },

        updateChildren: function updateChildren(targetParent, successCallback) {
            var children,
                childLocators,
                xblockInfo = this.model;

            // Find descendants with class "studio-xblock-wrapper" whose parent === targetParent.
            // This is necessary to filter our grandchildren, great-grandchildren, etc.
            children = targetParent.find(studioXBlockWrapperClass).filter(function () {
                var parent = $(this).parent().closest(studioXBlockWrapperClass);
                return parent.data('locator') === targetParent.data('locator');
            });

            childLocators = _.map(children, function (child) {
                return $(child).data('locator');
            });
            $.ajax({
                url: ModuleUtils.getUpdateUrl(targetParent.data('locator')),
                type: 'PUT',
                dataType: 'json',
                contentType: 'application/json',
                data: JSON.stringify({
                    children: childLocators
                }),
                success: function success() {
                    // change data-parent on the element moved.
                    if (successCallback) {
                        successCallback();
                    }
                    // Update publish and last modified information from the server.
                    xblockInfo.fetch();
                }
            });
        },

        acknowledgeXBlockDeletion: function acknowledgeXBlockDeletion(locator) {
            this.notifyRuntime('deleted-child', locator);
        },

        refresh: function refresh() {
            var sortableInitializedClass = this.makeRequestSpecificSelector('.reorderable-container.ui-sortable');
            this.$(sortableInitializedClass).sortable('refresh');
        },

        makeRequestSpecificSelector: function makeRequestSpecificSelector(selector) {
            return StringUtils.interpolate(gettext('{startTag}{requestToken}{endTag}{selector}'), {
                startTag: 'div.xblock[data-request-token="',
                requestToken: this.requestToken,
                endTag: '"] > ',
                selector: selector
            });
        }
    });

    return ContainerView;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define();

/***/ }),

/***/ "./cms/static/js/views/library_container.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__("./cms/static/js/views/paged_container.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function (PagedContainerView) {
    // To be extended with Library-specific features later.
    var LibraryContainerView = PagedContainerView;
    return LibraryContainerView;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define();

/***/ }),

/***/ "./cms/static/js/views/license.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(__webpack_provided_edx_dot_HtmlUtils, $) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__("./cms/static/js/views/baseview.js"), __webpack_require__(1), __webpack_require__("./cms/templates/js/license-selector.underscore")], __WEBPACK_AMD_DEFINE_RESULT__ = function (BaseView, _, licenseSelectorTemplate) {
    var defaultLicenseInfo = {
        'all-rights-reserved': {
            name: gettext('All Rights Reserved'),
            tooltip: gettext('You reserve all rights for your work')
        },
        'creative-commons': {
            name: gettext('Creative Commons'),
            tooltip: gettext('You waive some rights for your work, such that others can use it too'),
            url: 'https://creativecommons.org/about',
            options: {
                ver: {
                    name: gettext('Version'),
                    type: 'string',
                    default: '4.0'
                },
                BY: {
                    name: gettext('Attribution'),
                    type: 'boolean',
                    default: true,
                    help: gettext('Allow others to copy, distribute, display and perform your copyrighted work but only if they give credit the way you request. Currently, this option is required.'),
                    disabled: true
                },
                NC: {
                    name: gettext('Noncommercial'),
                    type: 'boolean',
                    default: true,
                    help: gettext('Allow others to copy, distribute, display and perform your work - and derivative works based upon it - but for noncommercial purposes only.')
                },
                ND: {
                    name: gettext('No Derivatives'),
                    type: 'boolean',
                    default: true,
                    help: gettext('Allow others to copy, distribute, display and perform only verbatim copies of your work, not derivative works based upon it. This option is incompatible with "Share Alike".'),
                    conflictsWith: ['SA']
                },
                SA: {
                    name: gettext('Share Alike'),
                    type: 'boolean',
                    default: false,
                    help: gettext('Allow others to distribute derivative works only under a license identical to the license that governs your work. This option is incompatible with "No Derivatives".'),
                    conflictsWith: ['ND']
                }
            },
            option_order: ['BY', 'NC', 'ND', 'SA']
        }
    };

    var LicenseView = BaseView.extend({
        events: {
            'click ul.license-types li button': 'onLicenseClick',
            'click ul.license-options li': 'onOptionClick'
        },

        initialize: function initialize(options) {
            this.licenseInfo = options.licenseInfo || defaultLicenseInfo;
            this.showPreview = !!options.showPreview; // coerce to boolean

            // Rerender when the model changes
            this.listenTo(this.model, 'change', this.render);
            this.render();
        },

        getDefaultOptionsForLicenseType: function getDefaultOptionsForLicenseType(licenseType) {
            if (!this.licenseInfo[licenseType]) {
                // custom license type, no options
                return {};
            }
            if (!this.licenseInfo[licenseType].options) {
                // defined license type without options
                return {};
            }
            var defaults = {};
            _.each(this.licenseInfo[licenseType].options, function (value, key) {
                defaults[key] = value.default;
            });
            return defaults;
        },

        render: function render() {
            __webpack_provided_edx_dot_HtmlUtils.setHtml(this.$el, __webpack_provided_edx_dot_HtmlUtils.template(licenseSelectorTemplate)({
                model: this.model.attributes,
                licenseString: this.model.toString() || '',
                licenseInfo: this.licenseInfo,
                showPreview: this.showPreview,
                previewButton: false
            }));
            return this;
        },

        onLicenseClick: function onLicenseClick(e) {
            var $li = $(e.srcElement || e.target).closest('li');
            var licenseType = $li.data('license');

            // Check that we've selected a different license type than what's currently selected
            if (licenseType != this.model.attributes.type) {
                this.model.set({
                    type: licenseType,
                    options: this.getDefaultOptionsForLicenseType(licenseType)
                });
                // Fire the change event manually
                this.model.trigger('change change:type');
            }
            e.preventDefault();
        },

        onOptionClick: function onOptionClick(e) {
            var licenseType = this.model.get('type'),
                licenseOptions = $.extend({}, this.model.get('options')),
                $li = $(e.srcElement || e.target).closest('li');

            var optionKey = $li.data('option');
            var licenseInfo = this.licenseInfo[licenseType];
            var optionInfo = licenseInfo.options[optionKey];
            if (optionInfo.disabled) {
                // we're done here
                return;
            }
            var currentOptionValue = licenseOptions[optionKey];
            if (optionInfo.type === 'boolean') {
                // toggle current value
                currentOptionValue = !currentOptionValue;
                licenseOptions[optionKey] = currentOptionValue;
            }
            // check for conflicts
            if (currentOptionValue && optionInfo.conflictsWith) {
                var conflicts = optionInfo.conflictsWith;
                for (var i = 0; i < conflicts.length; i++) {
                    // Uncheck all conflicts
                    licenseOptions[conflicts[i]] = false;
                    console.log(licenseOptions);
                }
            }

            this.model.set({ options: licenseOptions });
            // Backbone has trouble identifying when objects change, so we'll
            // fire the change event manually.
            this.model.trigger('change change:options');
            e.preventDefault();
        }

    });
    return LicenseView;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"), __webpack_require__(0)))

/***/ }),

/***/ "./cms/static/js/views/metadata.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2), __webpack_require__("./cms/static/js/views/baseview.js"), __webpack_require__(1), __webpack_require__("./cms/static/js/models/metadata.js"), __webpack_require__("./cms/static/js/views/abstract_editor.js"), __webpack_require__("./cms/static/js/models/uploads.js"), __webpack_require__("./cms/static/js/views/uploads.js"), __webpack_require__("./cms/static/js/models/license.js"), __webpack_require__("./cms/static/js/views/license.js"), __webpack_require__("./cms/static/js/views/video/transcripts/utils.js"), __webpack_require__("./cms/static/js/views/video/transcripts/metadata_videolist.js"), __webpack_require__("./cms/static/js/views/video/translations_editor.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function (Backbone, BaseView, _, MetadataModel, AbstractEditor, FileUpload, UploadDialog, LicenseModel, LicenseView, TranscriptUtils, VideoList, VideoTranslations, HtmlUtils) {
    'use strict';

    var Metadata = {};

    Metadata.Editor = BaseView.extend({
        // Store rendered view references
        views: {},

        // Model is CMS.Models.MetadataCollection,
        initialize: function initialize() {
            var self = this,
                counter = 0,
                locator = self.$el.closest('[data-locator]').data('locator'),
                courseKey = self.$el.closest('[data-course-key]').data('course-key'),
                attributes = { numEntries: this.collection.length, locator: locator };

            this.template = this.loadTemplate('metadata-editor');
            this.$el.html(HtmlUtils.HTML(this.template(attributes)).toString());

            this.collection.each(function (model) {
                var data = {
                    el: self.$el.find('.metadata_entry')[counter++],
                    courseKey: courseKey,
                    locator: locator,
                    model: model
                },
                    conversions = {
                    Select: 'Option',
                    Float: 'Number',
                    Integer: 'Number'
                },
                    type = model.getType();

                if (conversions[type]) {
                    type = conversions[type];
                }

                if (_.isFunction(Metadata[type])) {
                    self.views[data.model.getFieldName()] = new Metadata[type](data);
                } else {
                    // Everything else is treated as GENERIC_TYPE, which uses String editor.
                    self.views[data.model.getFieldName()] = new Metadata.String(data);
                }
            });
        },

        /**
         * Returns just the modified metadata values, in the format used to persist to the server.
         */
        getModifiedMetadataValues: function getModifiedMetadataValues() {
            var modified_values = {};
            this.collection.each(function (model) {
                if (model.isModified()) {
                    modified_values[model.getFieldName()] = model.getValue();
                }
            });
            return modified_values;
        },

        /**
         * Returns a display name for the component related to this metadata. This method looks to see
         * if there is a metadata entry called 'display_name', and if so, it returns its value. If there
         * is no such entry, or if display_name does not have a value set, it returns an empty string.
         */
        getDisplayName: function getDisplayName() {
            var displayName = '';
            this.collection.each(function (model) {
                if (model.get('field_name') === 'display_name') {
                    var displayNameValue = model.get('value');
                    // It is possible that there is no display name value set. In that case, return empty string.
                    displayName = displayNameValue || '';
                }
            });
            return displayName;
        }
    });

    Metadata.VideoList = VideoList;
    Metadata.VideoTranslations = VideoTranslations;

    Metadata.String = AbstractEditor.extend({

        events: {
            'change input': 'updateModel',
            'keypress .setting-input': 'showClearButton',
            'click .setting-clear': 'clear'
        },

        templateName: 'metadata-string-entry',

        render: function render() {
            AbstractEditor.prototype.render.apply(this);

            // If the model has property `non editable` equals `true`,
            // the field is disabled, but user is able to clear it.
            if (this.model.get('non_editable')) {
                this.$el.find('#' + this.uniqueId).prop('readonly', true).addClass('is-disabled').attr('aria-disabled', true);
            }
        },

        getValueFromEditor: function getValueFromEditor() {
            return this.$el.find('#' + this.uniqueId).val();
        },

        setValueInEditor: function setValueInEditor(value) {
            this.$el.find('input').val(value);
        }
    });

    Metadata.VideoID = Metadata.String.extend({
        // Delay between check_transcript requests
        requestDelay: 300,

        initialize: function initialize() {
            Metadata.String.prototype.initialize.apply(this, arguments);

            this.$el.on('input', 'input', _.debounce(_.bind(this.inputChange, this), this.requestDelay));
        },

        render: function render() {
            Metadata.String.prototype.render.apply(this, arguments);
            TranscriptUtils.Storage.set('edx_video_id', this.getValueFromEditor());
        },

        clear: function clear() {
            this.model.setValue('');
            this.inputChange();
        },

        getData: function getData() {
            return [{ mode: 'edx_video_id', type: 'edx_video_id', video: this.getValueFromEditor() }];
        },

        inputChange: function inputChange() {
            TranscriptUtils.Storage.set('edx_video_id', this.getValueFromEditor());
            Backbone.trigger('transcripts:basicTabFieldChanged');
        }
    });

    Metadata.Number = AbstractEditor.extend({

        events: {
            'change input': 'updateModel',
            'keypress .setting-input': 'keyPressed',
            'change .setting-input': 'changed',
            'click .setting-clear': 'clear'
        },

        render: function render() {
            AbstractEditor.prototype.render.apply(this);
            if (!this.initialized) {
                var numToString = function numToString(val) {
                    return val.toFixed(4);
                };
                var min = 'min';
                var max = 'max';
                var step = 'step';
                var options = this.model.getOptions();
                if (options.hasOwnProperty(min)) {
                    this.min = Number(options[min]);
                    this.$el.find('input').attr(min, numToString(this.min));
                }
                if (options.hasOwnProperty(max)) {
                    this.max = Number(options[max]);
                    this.$el.find('input').attr(max, numToString(this.max));
                }
                var stepValue = undefined;
                if (options.hasOwnProperty(step)) {
                    // Parse step and convert to String. Polyfill doesn't like float values like ".1" (expects "0.1").
                    stepValue = numToString(Number(options[step]));
                } else if (this.isIntegerField()) {
                    stepValue = '1';
                }
                if (stepValue !== undefined) {
                    this.$el.find('input').attr(step, stepValue);
                }

                // Manually runs polyfill for input number types to correct for Firefox non-support.
                // inputNumber will be undefined when unit test is running.
                if ($.fn.inputNumber) {
                    this.$el.find('.setting-input-number').inputNumber();
                }

                this.initialized = true;
            }

            return this;
        },

        templateName: 'metadata-number-entry',

        getValueFromEditor: function getValueFromEditor() {
            return this.$el.find('#' + this.uniqueId).val();
        },

        setValueInEditor: function setValueInEditor(value) {
            this.$el.find('input').val(value);
        },

        /**
         * Returns true if this view is restricted to integers, as opposed to floating points values.
         */
        isIntegerField: function isIntegerField() {
            return this.model.getType() === 'Integer';
        },

        keyPressed: function keyPressed(e) {
            this.showClearButton();
            // This first filtering if statement is take from polyfill to prevent
            // non-numeric input (for browsers that don't use polyfill because they DO have a number input type).
            var _ref, _ref1;
            if ((_ref = e.keyCode) !== 8 && _ref !== 9 && _ref !== 35 && _ref !== 36 && _ref !== 37 && _ref !== 39 && (_ref1 = e.which) !== 45 && _ref1 !== 46 && _ref1 !== 48 && _ref1 !== 49 && _ref1 !== 50 && _ref1 !== 51 && _ref1 !== 52 && _ref1 !== 53 && _ref1 !== 54 && _ref1 !== 55 && _ref1 !== 56 && _ref1 !== 57) {
                e.preventDefault();
            }
            // For integers, prevent decimal points.
            if (this.isIntegerField() && e.keyCode === 46) {
                e.preventDefault();
            }
        },

        changed: function changed() {
            // Limit value to the range specified by min and max (necessary for browsers that aren't using polyfill).
            // Prevent integer/float fields value to be empty (set them to their defaults)
            var value = this.getValueFromEditor();
            if (value) {
                if (this.max !== undefined && value > this.max) {
                    value = this.max;
                } else if (this.min != undefined && value < this.min) {
                    value = this.min;
                }
                this.setValueInEditor(value);
                this.updateModel();
            } else {
                this.clear();
            }
        }

    });

    Metadata.Option = AbstractEditor.extend({

        events: {
            'change select': 'updateModel',
            'click .setting-clear': 'clear'
        },

        templateName: 'metadata-option-entry',

        getValueFromEditor: function getValueFromEditor() {
            var selectedText = this.$el.find('#' + this.uniqueId).find(':selected').text();
            var selectedValue;
            _.each(this.model.getOptions(), function (modelValue) {
                if (modelValue === selectedText) {
                    selectedValue = modelValue;
                } else if (modelValue.display_name === selectedText) {
                    selectedValue = modelValue.value;
                }
            });
            return selectedValue;
        },

        setValueInEditor: function setValueInEditor(value) {
            // Value here is the json value as used by the field. The choice may instead be showing display names.
            // Find the display name matching the value passed in.
            _.each(this.model.getOptions(), function (modelValue) {
                if (modelValue.value === value) {
                    value = modelValue.display_name;
                }
            });
            this.$el.find('#' + this.uniqueId + ' option').filter(function () {
                return $(this).text() === value;
            }).prop('selected', true);
        }
    });

    Metadata.List = AbstractEditor.extend({

        events: {
            'click .setting-clear': 'clear',
            'keypress .setting-input': 'showClearButton',
            'change input': 'updateModel',
            'input input': 'enableAdd',
            'click .create-setting': 'addEntry',
            'click .remove-setting': 'removeEntry'
        },

        templateName: 'metadata-list-entry',

        getValueFromEditor: function getValueFromEditor() {
            return _.map(this.$el.find('li input'), function (ele) {
                return ele.value.trim();
            }).filter(_.identity);
        },

        setValueInEditor: function setValueInEditor(value) {
            var list = this.$el.find('ol');

            list.empty();
            _.each(value, function (ele, index) {
                var template = _.template(HtmlUtils.joinHtml(HtmlUtils.HTML('<li class="list-settings-item">'), HtmlUtils.HTML('<input type="text" class="input" value="<%- ele %>">'), HtmlUtils.HTML('<a href="#" class="remove-action remove-setting" data-index="<%- index %>"><span class="icon fa fa-times-circle" aria-hidden="true"></span><span class="sr">'), // eslint-disable-line max-len
                gettext('Remove'), HtmlUtils.HTML('</span></a>'), HtmlUtils.HTML('</li>')).toString());
                list.append(HtmlUtils.HTML($(template({ ele: ele, index: index }))).toString());
            });
        },

        addEntry: function addEntry(event) {
            event.preventDefault();
            // We don't call updateModel here since it's bound to the
            // change event
            var list = this.model.get('value') || [];
            this.setValueInEditor(list.concat(['']));
            this.$el.find('.create-setting').addClass('is-disabled').attr('aria-disabled', true);
        },

        removeEntry: function removeEntry(event) {
            event.preventDefault();
            var entry = $(event.currentTarget).siblings().val();
            this.setValueInEditor(_.without(this.model.get('value'), entry));
            this.updateModel();
            this.$el.find('.create-setting').removeClass('is-disabled').attr('aria-disabled', false);
        },

        enableAdd: function enableAdd() {
            this.$el.find('.create-setting').removeClass('is-disabled').attr('aria-disabled', false);
        },

        clear: function clear() {
            AbstractEditor.prototype.clear.apply(this, arguments);
            if (_.isNull(this.model.getValue())) {
                this.$el.find('.create-setting').removeClass('is-disabled').attr('aria-disabled', false);
            }
        }
    });

    Metadata.RelativeTime = AbstractEditor.extend({

        defaultValue: '00:00:00',
        // By default max value of RelativeTime field on Backend is 23:59:59,
        // that is 86399 seconds.
        maxTimeInSeconds: 86399,

        events: {
            'focus input': 'addSelection',
            'mouseup input': 'mouseUpHandler',
            'change input': 'updateModel',
            'keypress .setting-input': 'showClearButton',
            'click .setting-clear': 'clear'
        },

        templateName: 'metadata-string-entry',

        getValueFromEditor: function getValueFromEditor() {
            var $input = this.$el.find('#' + this.uniqueId);

            return $input.val();
        },

        updateModel: function updateModel() {
            var value = this.getValueFromEditor(),
                time = this.parseRelativeTime(value);

            this.model.setValue(time);

            // Sometimes, `parseRelativeTime` method returns the same value for
            // the different inputs. In this case, model will not be
            // updated (it already has the same value) and we should
            // call `render` method manually.
            // Examples:
            //   value => 23:59:59; parseRelativeTime => 23:59:59
            //   value => 44:59:59; parseRelativeTime => 23:59:59
            if (value !== time && !this.model.hasChanged('value')) {
                this.render();
            }
        },

        parseRelativeTime: function parseRelativeTime(value) {
            // This function ensure you have two-digits
            var pad = function pad(number) {
                return number < 10 ? '0' + number : number;
            },

            // Removes all white-spaces and splits by `:`.
            list = value.replace(/\s+/g, '').split(':'),
                seconds,
                date;

            list = _.map(list, function (num) {
                return Math.max(0, parseInt(num, 10) || 0);
            }).reverse();

            seconds = _.reduce(list, function (memo, num, index) {
                return memo + num * Math.pow(60, index);
            }, 0);

            // multiply by 1000 because Date() requires milliseconds
            date = new Date(Math.min(seconds, this.maxTimeInSeconds) * 1000);

            return [pad(date.getUTCHours()), pad(date.getUTCMinutes()), pad(date.getUTCSeconds())].join(':');
        },

        setValueInEditor: function setValueInEditor(value) {
            if (!value) {
                value = this.defaultValue;
            }

            this.$el.find('input').val(value);
        },

        addSelection: function addSelection(event) {
            $(event.currentTarget).select();
        },

        mouseUpHandler: function mouseUpHandler(event) {
            // Prevents default behavior to make works selection in WebKit
            // browsers
            event.preventDefault();
        }
    });

    Metadata.Dict = AbstractEditor.extend({

        events: {
            'click .setting-clear': 'clear',
            'keypress .setting-input': 'showClearButton',
            'change input': 'updateModel',
            'input input': 'enableAdd',
            'click .create-setting': 'addEntry',
            'click .remove-setting': 'removeEntry'
        },

        templateName: 'metadata-dict-entry',

        getValueFromEditor: function getValueFromEditor() {
            var dict = {};

            _.each(this.$el.find('li'), function (li, index) {
                var key = $(li).find('.input-key').val().trim(),
                    value = $(li).find('.input-value').val().trim();

                // Keys should be unique, so if our keys are duplicated and
                // second key is empty or key and value are empty just do
                // nothing. Otherwise, it'll be overwritten by the new value.
                if (value === '') {
                    if (key === '' || key in dict) {
                        return false;
                    }
                }

                dict[key] = value;
            });

            return dict;
        },

        setValueInEditor: function setValueInEditor(value) {
            var list = this.$el.find('ol'),
                frag = document.createDocumentFragment();

            _.each(value, function (value, key) {
                var template = _.template(HtmlUtils.joinHtml(HtmlUtils.HTML('<li class="list-settings-item">'), HtmlUtils.HTML('<input type="text" class="input input-key" value="<%- key %>">'), HtmlUtils.HTML('<input type="text" class="input input-value" value="<%- value %>">'), HtmlUtils.HTML('<a href="#" class="remove-action remove-setting" data-value="<%- value %>"><span class="icon fa fa-times-circle" aria-hidden="true"></span><span class="sr">Remove</span></a>'), // eslint-disable-line max-len
                HtmlUtils.HTML('</li>')).toString());

                frag.appendChild($(template({ key: key, value: value }))[0]);
            });

            // xss-lint: disable=javascript-jquery-html
            list.html([frag]);
        },

        addEntry: function addEntry(event) {
            event.preventDefault();
            // We don't call updateModel here since it's bound to the
            // change event
            var dict = $.extend(true, {}, this.model.get('value')) || {};
            dict[''] = '';
            this.setValueInEditor(dict);
            this.$el.find('.create-setting').addClass('is-disabled').attr('aria-disabled', true);
        },

        removeEntry: function removeEntry(event) {
            event.preventDefault();
            var entry = $(event.currentTarget).siblings('.input-key').val();
            this.setValueInEditor(_.omit(this.model.get('value'), entry));
            this.updateModel();
            this.$el.find('.create-setting').removeClass('is-disabled').attr('aria-disabled', false);
        },

        enableAdd: function enableAdd() {
            this.$el.find('.create-setting').removeClass('is-disabled').attr('aria-disabled', false);
        },

        clear: function clear() {
            AbstractEditor.prototype.clear.apply(this, arguments);
            if (_.isNull(this.model.getValue())) {
                this.$el.find('.create-setting').removeClass('is-disabled').attr('aria-disabled', false);
            }
        }
    });

    /**
     * Provides convenient way to upload/download files in component edit.
     * The editor uploads files directly to course assets and stores link
     * to uploaded file.
     */
    Metadata.FileUploader = AbstractEditor.extend({

        events: {
            'click .upload-setting': 'upload',
            'click .setting-clear': 'clear'
        },

        templateName: 'metadata-file-uploader-entry',
        templateButtonsName: 'metadata-file-uploader-item',

        initialize: function initialize() {
            this.buttonTemplate = this.loadTemplate(this.templateButtonsName);
            AbstractEditor.prototype.initialize.apply(this);
        },

        getValueFromEditor: function getValueFromEditor() {
            return this.$('#' + this.uniqueId).val();
        },

        setValueInEditor: function setValueInEditor(value) {
            var html = this.buttonTemplate({
                model: this.model,
                uniqueId: this.uniqueId
            });

            this.$('#' + this.uniqueId).val(value);
            this.$('.wrapper-uploader-actions').html(HtmlUtils.HTML(html).toString());
        },

        upload: function upload(event) {
            var self = this,
                $target = $(event.currentTarget),
                url = '/assets/' + this.options.courseKey + '/',
                model = new FileUpload({
                title: gettext('Upload File')
            }),
                view = new UploadDialog({
                model: model,
                url: url,
                parentElement: $target.closest('.xblock-editor'),
                onSuccess: function onSuccess(response) {
                    if (response.asset && response.asset.url) {
                        self.model.setValue(response.asset.url);
                    }
                }
            }).show();

            event.preventDefault();
        }
    });

    Metadata.License = AbstractEditor.extend({

        initialize: function initialize(options) {
            this.licenseModel = new LicenseModel({ asString: this.model.getValue() });
            this.licenseView = new LicenseView({ model: this.licenseModel });

            // Rerender when the license model changes
            this.listenTo(this.licenseModel, 'change', this.setLicense);
            this.render();
        },

        render: function render() {
            this.licenseView.render().$el.css('display', 'inline');
            this.licenseView.undelegateEvents();
            this.$el.empty().append(this.licenseView.el);
            // restore event bindings
            this.licenseView.delegateEvents();
            return this;
        },

        setLicense: function setLicense() {
            this.model.setValue(this.licenseModel.toString());
            this.render();
        }

    });

    return Metadata;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./cms/static/js/views/modals/base_modal.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * This is a base modal implementation that provides common utilities.
 *
 * A modal implementation should override the following methods:
 *
 *   getTitle():
 *     returns the title for the modal.
 *   getContentHtml():
 *     returns the HTML content to be shown inside the modal.
 *
 * A modal implementation should also provide the following options:
 *
 *   modalName: A string identifying the modal.
 *   modalType: A string identifying the type of the modal.
 *   modalSize: A string, either 'sm', 'med', or 'lg' indicating the
 *     size of the modal.
 *   viewSpecificClasses: A string of CSS classes to be attached to
 *     the modal window.
 *   addPrimaryActionButton: A boolean indicating whether to include a primary action
 *     button on the modal.
 *   primaryActionButtonType: A string to be used as type for primary action button.
 *   primaryActionButtonTitle: A string to be used as title for primary action button.
 *   showEditorModeButtons: Whether to show editor mode button in the modal header.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__(3), __webpack_require__("./cms/static/js/views/baseview.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, gettext, BaseView) {
    var BaseModal = BaseView.extend({
        events: {
            'click .action-cancel': 'cancel'
        },

        options: _.extend({}, BaseView.prototype.options, {
            type: 'prompt',
            closeIcon: false,
            icon: false,
            modalName: 'basic',
            modalType: 'generic',
            modalSize: 'lg',
            title: '',
            modalWindowClass: '.modal-window',
            // A list of class names, separated by space.
            viewSpecificClasses: '',
            addPrimaryActionButton: false,
            primaryActionButtonType: 'save',
            primaryActionButtonTitle: gettext('Save'),
            showEditorModeButtons: true
        }),

        initialize: function initialize() {
            var parent = this.options.parent,
                parentElement = this.options.parentElement;
            this.modalTemplate = this.loadTemplate('basic-modal');
            this.buttonTemplate = this.loadTemplate('modal-button');
            if (parent) {
                parentElement = parent.$el;
            } else if (!parentElement) {
                parentElement = this.$el.closest(this.options.modalWindowClass);
                if (parentElement.length === 0) {
                    parentElement = $('body');
                }
            }
            this.parentElement = parentElement;
        },

        render: function render() {
            // xss-lint: disable=javascript-jquery-html
            this.$el.html(this.modalTemplate({
                name: this.options.modalName,
                type: this.options.modalType,
                size: this.options.modalSize,
                title: this.getTitle(),
                modalSRTitle: this.options.modalSRTitle,
                showEditorModeButtons: this.options.showEditorModeButtons,
                viewSpecificClasses: this.options.viewSpecificClasses
            }));
            this.addActionButtons();
            this.renderContents();
            this.parentElement.append(this.$el);
        },

        getTitle: function getTitle() {
            return this.options.title;
        },

        renderContents: function renderContents() {
            var contentHtml = this.getContentHtml();
            // xss-lint: disable=javascript-jquery-html
            this.$('.modal-content').html(contentHtml);
        },

        /**
         * Returns the content to be shown in the modal.
         */
        getContentHtml: function getContentHtml() {
            return '';
        },

        show: function show(focusModal) {
            var focusModalWindow = focusModal === undefined;
            this.render();
            this.resize();
            $(window).resize(_.bind(this.resize, this));

            // child may want to have its own focus management
            if (focusModalWindow) {
                // after showing and resizing, send focus
                this.$el.find(this.options.modalWindowClass).focus();
            }
        },

        hide: function hide() {
            // Completely remove the modal from the DOM
            this.undelegateEvents();
            this.$el.html('');
        },

        cancel: function cancel(event) {
            if (event) {
                event.preventDefault();
                event.stopPropagation(); // Make sure parent modals don't see the click
            }
            this.hide();
        },

        /**
         * Adds the action buttons to the modal.
         */
        addActionButtons: function addActionButtons() {
            if (this.options.addPrimaryActionButton) {
                this.addActionButton(this.options.primaryActionButtonType, this.options.primaryActionButtonTitle, true);
            }
            this.addActionButton('cancel', gettext('Cancel'));
        },

        /**
         * Adds a new action button to the modal.
         * @param type The type of the action.
         * @param name The action's name.
         * @param isPrimary True if this button is the primary one.
         */
        addActionButton: function addActionButton(type, name, isPrimary) {
            var html = this.buttonTemplate({
                type: type,
                name: name,
                isPrimary: isPrimary
            });
            // xss-lint: disable=javascript-jquery-append
            this.getActionBar().find('ul').append(html);
        },

        /**
         * Returns the action bar that contains the modal's action buttons.
         */
        getActionBar: function getActionBar() {
            return this.$(this.options.modalWindowClass + ' > div > .modal-actions');
        },

        /**
         * Returns the action button of the specified type.
         */
        getActionButton: function getActionButton(type) {
            return this.getActionBar().find('.action-' + type);
        },

        enableActionButton: function enableActionButton(type) {
            this.getActionBar().find('.action-' + type).prop('disabled', false).removeClass('is-disabled');
        },

        disableActionButton: function disableActionButton(type) {
            this.getActionBar().find('.action-' + type).prop('disabled', true).addClass('is-disabled');
        },

        resize: function resize() {
            var top, left, modalWindow, modalWidth, modalHeight, availableWidth, availableHeight, maxWidth, maxHeight;

            modalWindow = this.$el.find(this.options.modalWindowClass);
            availableWidth = $(window).width();
            availableHeight = $(window).height();
            maxWidth = availableWidth * 0.98;
            maxHeight = availableHeight * 0.98;
            modalWidth = Math.min(modalWindow.outerWidth(), maxWidth);
            modalHeight = Math.min(modalWindow.outerHeight(), maxHeight);

            left = (availableWidth - modalWidth) / 2;
            top = (availableHeight - modalHeight) / 2;

            modalWindow.css({
                top: top + $(window).scrollTop(),
                left: left + $(window).scrollLeft()
            });
        }
    });

    return BaseModal;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/views/modals/edit_xblock.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * The EditXBlockModal is a Backbone view that shows an xblock editor in a modal window.
 * It is invoked using the edit method which is passed an existing rendered xblock,
 * and upon save an optional refresh function can be invoked to update the display.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__(2), __webpack_require__(3), __webpack_require__("./cms/static/js/views/modals/base_modal.js"), __webpack_require__("./common/static/common/js/components/utils/view_utils.js"), __webpack_require__("./cms/static/js/views/utils/xblock_utils.js"), __webpack_require__("./cms/static/js/views/xblock_editor.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, Backbone, gettext, BaseModal, ViewUtils, XBlockViewUtils, XBlockEditorView) {
    'use strict';

    var EditXBlockModal = BaseModal.extend({
        events: _.extend({}, BaseModal.prototype.events, {
            'click .action-save': 'save',
            'click .action-modes a': 'changeMode',
            'click .title-edit-button': 'clickTitleButton'
        }),

        options: $.extend({}, BaseModal.prototype.options, {
            modalName: 'edit-xblock',
            view: 'studio_view',
            viewSpecificClasses: 'modal-editor confirm',
            // Translators: "title" is the name of the current component being edited.
            titleFormat: gettext('Editing: {title}'),
            addPrimaryActionButton: true
        }),

        initialize: function initialize() {
            BaseModal.prototype.initialize.call(this);
            this.template = this.loadTemplate('edit-xblock-modal');
            this.editorModeButtonTemplate = this.loadTemplate('editor-mode-button');
        },

        /**
         * Show an edit modal for the specified xblock
         * @param xblockElement The element that contains the xblock to be edited.
         * @param rootXBlockInfo An XBlockInfo model that describes the root xblock on the page.
         * @param options A standard options object.
         */
        edit: function edit(xblockElement, rootXBlockInfo, options) {
            this.xblockElement = xblockElement;
            this.xblockInfo = XBlockViewUtils.findXBlockInfo(xblockElement, rootXBlockInfo);
            this.options.modalType = this.xblockInfo.get('category');
            this.editOptions = options;

            this.render();
            this.show();

            // Hide the action bar until we know which buttons we want
            this.getActionBar().hide();

            // Display the xblock after the modal is shown as there are some xblocks
            // that depend upon being visible when they initialize, e.g. the problem xmodule.
            this.displayXBlock();
        },

        getContentHtml: function getContentHtml() {
            return this.template({
                xblockInfo: this.xblockInfo
            });
        },

        displayXBlock: function displayXBlock() {
            this.editorView = new XBlockEditorView({
                el: this.$('.xblock-editor'),
                model: this.xblockInfo,
                view: this.options.view
            });
            this.editorView.render({
                success: _.bind(this.onDisplayXBlock, this)
            });
        },

        createTitleEditor: function createTitleEditor(title) {
            // xss-lint: disable=javascript-jquery-html
            this.$('.modal-window-title').html(this.loadTemplate('edit-title-button')({ title: title }));
        },

        onDisplayXBlock: function onDisplayXBlock() {
            var editorView = this.editorView,
                title = this.getTitle(),
                readOnlyView = this.editOptions && this.editOptions.readOnlyView || !this.canSave();

            // Notify the runtime that the modal has been shown
            editorView.notifyRuntime('modal-shown', this);

            // Update the modal's header
            if (editorView.hasCustomTabs()) {
                // Hide the modal's header as the custom editor provides its own
                this.$('.modal-header').hide();

                // Update the custom editor's title
                editorView.$('.component-name').text(title);
            } else if (editorView.getDataEditor() && editorView.getMetadataEditor()) {
                this.createTitleEditor(title);
                this.addDefaultModes();
                // If the plugins content element exists, add a button to reveal it.
                if (this.$('.wrapper-comp-plugins').length > 0) {
                    this.addModeButton('plugins', gettext('Plugins'));
                }
                this.selectMode(editorView.mode);
            } else {
                this.$('.modal-window-title').text(title);
            }

            // If the xblock is not using custom buttons then choose which buttons to show
            if (!editorView.hasCustomButtons()) {
                // If the xblock does not support save then disable the save button
                if (readOnlyView) {
                    this.disableSave();
                }
                this.getActionBar().show();
            }
            this.resize();
        },

        canSave: function canSave() {
            return this.editorView.xblock.save || this.editorView.xblock.collectFieldData;
        },

        disableSave: function disableSave() {
            var saveButton = this.getActionButton('save'),
                cancelButton = this.getActionButton('cancel');
            saveButton.parent().hide();
            cancelButton.text(gettext('Close'));
            cancelButton.addClass('action-primary');
        },

        getTitle: function getTitle() {
            var displayName = this.xblockInfo.get('display_name');
            if (!displayName) {
                if (this.xblockInfo.isVertical()) {
                    displayName = gettext('Unit');
                } else {
                    displayName = gettext('Component');
                }
            }
            return edx.StringUtils.interpolate(this.options.titleFormat, {
                title: displayName
            });
        },

        addDefaultModes: function addDefaultModes() {
            var defaultModes, i, mode;
            defaultModes = this.editorView.getDefaultModes();
            for (i = 0; i < defaultModes.length; i++) {
                mode = defaultModes[i];
                this.addModeButton(mode.id, mode.name);
            }
        },

        changeMode: function changeMode(event) {
            var $parent = $(event.target.parentElement),
                mode = $parent.data('mode');
            event.preventDefault();
            this.selectMode(mode);
        },

        selectMode: function selectMode(mode) {
            var editorView = this.editorView,
                buttonSelector;
            editorView.selectMode(mode);
            this.$('.editor-modes a').removeClass('is-set');
            if (mode) {
                buttonSelector = '.' + mode + '-button';
                this.$(buttonSelector).addClass('is-set');
            }
        },

        save: function save(event) {
            var self = this,
                editorView = this.editorView,
                xblockInfo = this.xblockInfo,
                data = null;
            try {
                data = editorView.getXBlockFieldData();
            } catch (e) {
                ViewUtils.showErrorMeassage(gettext("Studio's having trouble parsing the problem component's content"), e.message, 10000);
                ViewUtils.setScrollOffset(editorView.$el, 100);
                return null;
            }
            event.preventDefault();
            if (data) {
                ViewUtils.runOperationShowingMessage(gettext('Saving'), function () {
                    return xblockInfo.save(data);
                }).done(function () {
                    self.onSave();
                });
            }
            return null;
        },

        onSave: function onSave() {
            var refresh = this.editOptions.refresh;
            this.hide();
            if (refresh) {
                refresh(this.xblockInfo);
            }
        },

        hide: function hide() {
            // Notify child views to stop listening events
            Backbone.trigger('xblock:editorModalHidden');

            BaseModal.prototype.hide.call(this);

            // Notify the runtime that the modal has been hidden
            this.editorView.notifyRuntime('modal-hidden');
        },

        addModeButton: function addModeButton(mode, displayName) {
            var buttonPanel = this.$('.editor-modes');
            // xss-lint: disable=javascript-jquery-append
            buttonPanel.append(this.editorModeButtonTemplate({
                mode: mode,
                displayName: displayName
            }));
        },

        clickTitleButton: function clickTitleButton(event) {
            var self = this,
                oldTitle = this.xblockInfo.get('display_name'),
                titleElt = this.$('.modal-window-title'),
                $input = $('<input type="text" size="40" />'),
                changeFunc = function changeFunc(evt) {
                var newTitle = $(evt.target).val();
                if (oldTitle !== newTitle) {
                    self.xblockInfo.set('display_name', newTitle);
                    self.xblockInfo.save({ metadata: { display_name: newTitle } });
                }
                self.createTitleEditor(self.getTitle());
                return true;
            };
            event.preventDefault();

            $input.val(oldTitle);
            $input.change(changeFunc).blur(changeFunc);
            titleElt.html($input); // xss-lint: disable=javascript-jquery-html
            $input.focus().select();
            $(event.target).remove();
            return true;
        }

    });

    return EditXBlockModal;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/views/modals/move_xblock_modal.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * The MoveXblockModal to move XBlocks in course.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(2), __webpack_require__(1), __webpack_require__(3), __webpack_require__("./cms/static/js/views/baseview.js"), __webpack_require__("./cms/static/js/views/utils/xblock_utils.js"), __webpack_require__("./cms/static/js/views/utils/move_xblock_utils.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"), __webpack_require__("./common/static/common/js/components/views/feedback.js"), __webpack_require__("./cms/static/js/models/xblock_info.js"), __webpack_require__("./cms/static/js/views/modals/base_modal.js"), __webpack_require__("./cms/static/js/views/move_xblock_list.js"), __webpack_require__("./cms/static/js/views/move_xblock_breadcrumb.js"), __webpack_require__("./cms/templates/js/move-xblock-modal.underscore")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, Backbone, _, gettext, BaseView, XBlockViewUtils, MoveXBlockUtils, HtmlUtils, StringUtils, Feedback, XBlockInfoModel, BaseModal, MoveXBlockListView, MoveXBlockBreadcrumbView, MoveXblockModalTemplate) {
    'use strict';

    var MoveXblockModal = BaseModal.extend({
        events: _.extend({}, BaseModal.prototype.events, {
            'click .action-move:not(.is-disabled)': 'moveXBlock'
        }),

        options: $.extend({}, BaseModal.prototype.options, {
            modalName: 'move-xblock',
            modalSize: 'lg',
            showEditorModeButtons: false,
            addPrimaryActionButton: true,
            primaryActionButtonType: 'move',
            viewSpecificClasses: 'move-modal',
            primaryActionButtonTitle: gettext('Move'),
            modalSRTitle: gettext('Choose a location to move your component to')
        }),

        initialize: function initialize() {
            var self = this;
            BaseModal.prototype.initialize.call(this);
            this.sourceXBlockInfo = this.options.sourceXBlockInfo;
            this.sourceParentXBlockInfo = this.options.sourceParentXBlockInfo;
            this.targetParentXBlockInfo = null;
            this.XBlockURLRoot = this.options.XBlockURLRoot;
            this.XBlockAncestorInfoURL = StringUtils.interpolate('{urlRoot}/{usageId}?fields=ancestorInfo', { urlRoot: this.XBlockURLRoot, usageId: this.sourceXBlockInfo.get('id') });
            this.outlineURL = this.options.outlineURL;
            this.options.title = this.getTitle();
            this.fetchCourseOutline().done(function (courseOutlineInfo, ancestorInfo) {
                $('.ui-loading').addClass('is-hidden');
                $('.breadcrumb-container').removeClass('is-hidden');
                self.renderViews(courseOutlineInfo, ancestorInfo);
            });
            this.listenTo(Backbone, 'move:breadcrumbRendered', this.focusModal);
            this.listenTo(Backbone, 'move:enableMoveOperation', this.enableMoveOperation);
            this.listenTo(Backbone, 'move:hideMoveModal', this.hide);
        },

        getTitle: function getTitle() {
            return StringUtils.interpolate(gettext('Move: {displayName}'), { displayName: this.sourceXBlockInfo.get('display_name') });
        },

        getContentHtml: function getContentHtml() {
            return _.template(MoveXblockModalTemplate)({});
        },

        show: function show() {
            BaseModal.prototype.show.apply(this, [false]);
            this.updateMoveState(false);
            MoveXBlockUtils.hideMovedNotification();
        },

        hide: function hide() {
            if (this.moveXBlockListView) {
                this.moveXBlockListView.remove();
            }
            if (this.moveXBlockBreadcrumbView) {
                this.moveXBlockBreadcrumbView.remove();
            }
            BaseModal.prototype.hide.apply(this);
            Feedback.prototype.outFocus.apply(this);
        },

        resize: function resize() {
            // Do Nothing. Overridden to use our own styling instead of one provided by base modal
        },

        focusModal: function focusModal() {
            Feedback.prototype.inFocus.apply(this, [this.options.modalWindowClass]);
            $(this.options.modalWindowClass).focus();
        },

        fetchCourseOutline: function fetchCourseOutline() {
            return $.when(this.fetchData(this.outlineURL), this.fetchData(this.XBlockAncestorInfoURL));
        },

        fetchData: function fetchData(url) {
            var deferred = $.Deferred();
            $.ajax({
                url: url,
                contentType: 'application/json',
                dataType: 'json',
                type: 'GET'
            }).done(function (data) {
                deferred.resolve(data);
            }).fail(function () {
                deferred.reject();
            });
            return deferred.promise();
        },

        renderViews: function renderViews(courseOutlineInfo, ancestorInfo) {
            this.moveXBlockBreadcrumbView = new MoveXBlockBreadcrumbView({});
            this.moveXBlockListView = new MoveXBlockListView({
                model: new XBlockInfoModel(courseOutlineInfo, { parse: true }),
                sourceXBlockInfo: this.sourceXBlockInfo,
                ancestorInfo: ancestorInfo
            });
        },

        updateMoveState: function updateMoveState(isValidMove) {
            var $moveButton = this.$el.find('.action-move');
            if (isValidMove) {
                $moveButton.removeClass('is-disabled');
            } else {
                $moveButton.addClass('is-disabled');
            }
        },

        isValidCategory: function isValidCategory(targetParentXBlockInfo) {
            var basicBlockTypes = ['course', 'chapter', 'sequential', 'vertical'],
                sourceParentType = this.sourceParentXBlockInfo.get('category'),
                targetParentType = targetParentXBlockInfo.get('category'),
                sourceParentHasChildren = this.sourceParentXBlockInfo.get('has_children'),
                targetParentHasChildren = targetParentXBlockInfo.get('has_children');

            // Treat source parent component as vertical to support move child components under content experiment
            // and other similar xblocks.
            if (sourceParentHasChildren && !_.contains(basicBlockTypes, sourceParentType)) {
                sourceParentType = 'vertical'; // eslint-disable-line no-param-reassign
            }

            // Treat target parent component as a vertical to support move to parentable target parent components.
            // Also, moving a component directly to content experiment is not allowed, we need to visit to group level.
            if (targetParentHasChildren && !_.contains(basicBlockTypes, targetParentType) && targetParentType !== 'split_test') {
                targetParentType = 'vertical'; // eslint-disable-line no-param-reassign
            }
            return targetParentType === sourceParentType;
        },

        enableMoveOperation: function enableMoveOperation(targetParentXBlockInfo) {
            var isValidMove = false;

            // update target parent on navigation
            this.targetParentXBlockInfo = targetParentXBlockInfo;
            if (this.isValidCategory(targetParentXBlockInfo) && this.sourceParentXBlockInfo.id !== targetParentXBlockInfo.id && // same parent case
            this.sourceXBlockInfo.id !== targetParentXBlockInfo.id) {
                // same source item case
                isValidMove = true;
            }
            this.updateMoveState(isValidMove);
        },

        moveXBlock: function moveXBlock() {
            MoveXBlockUtils.moveXBlock({
                sourceXBlockElement: $("li.studio-xblock-wrapper[data-locator='" + this.sourceXBlockInfo.id + "']"),
                sourceDisplayName: this.sourceXBlockInfo.get('display_name'),
                sourceLocator: this.sourceXBlockInfo.id,
                sourceParentLocator: this.sourceParentXBlockInfo.id,
                targetParentLocator: this.targetParentXBlockInfo.id
            });
        }
    });

    return MoveXblockModal;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/views/move_xblock_breadcrumb.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * MoveXBlockBreadcrumb show breadcrumbs to move back to parent.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(2), __webpack_require__(1), __webpack_require__(3), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"), __webpack_require__("./cms/templates/js/move-xblock-breadcrumb.underscore")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, Backbone, _, gettext, HtmlUtils, StringUtils, MoveXBlockBreadcrumbViewTemplate) {
    'use strict';

    var MoveXBlockBreadcrumb = Backbone.View.extend({
        el: '.breadcrumb-container',

        events: {
            'click .parent-nav-button': 'handleBreadcrumbButtonPress'
        },

        initialize: function initialize() {
            this.template = HtmlUtils.template(MoveXBlockBreadcrumbViewTemplate);
            this.listenTo(Backbone, 'move:childrenRendered', this.render);
        },

        render: function render(options) {
            HtmlUtils.setHtml(this.$el, this.template(options));
            Backbone.trigger('move:breadcrumbRendered');
            return this;
        },

        /**
         * Event handler for breadcrumb button press.
         *
         * @param {Object} event
         */
        handleBreadcrumbButtonPress: function handleBreadcrumbButtonPress(event) {
            Backbone.trigger('move:breadcrumbButtonPressed', $(event.target).data('parentIndex'));
        }
    });

    return MoveXBlockBreadcrumb;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/views/move_xblock_list.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * XBlockListView shows list of XBlocks in a particular category(section, subsection, vertical etc).
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(2), __webpack_require__(1), __webpack_require__(3), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"), __webpack_require__("./cms/static/js/views/utils/xblock_utils.js"), __webpack_require__("./cms/templates/js/move-xblock-list.underscore")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, Backbone, _, gettext, HtmlUtils, StringUtils, XBlockUtils, MoveXBlockListViewTemplate) {
    'use strict';

    var XBlockListView = Backbone.View.extend({
        el: '.xblock-list-container',

        // parent info of currently displayed children
        parentInfo: {},
        // currently displayed children XBlocks info
        childrenInfo: {},
        // list of visited parent XBlocks, needed for backward navigation
        visitedAncestors: null,

        // parent to child relation map
        categoryRelationMap: {
            course: 'section',
            section: 'subsection',
            subsection: 'unit',
            unit: 'component'
        },

        categoriesText: {
            section: gettext('Sections'),
            subsection: gettext('Subsections'),
            unit: gettext('Units'),
            component: gettext('Components'),
            group: gettext('Groups')
        },

        events: {
            'click .button-forward': 'renderChildren'
        },

        initialize: function initialize(options) {
            this.visitedAncestors = [];
            this.template = HtmlUtils.template(MoveXBlockListViewTemplate);
            this.sourceXBlockInfo = options.sourceXBlockInfo;
            this.ancestorInfo = options.ancestorInfo;
            this.listenTo(Backbone, 'move:breadcrumbButtonPressed', this.handleBreadcrumbButtonPress);
            this.renderXBlockInfo();
        },

        render: function render() {
            HtmlUtils.setHtml(this.$el, this.template({
                sourceXBlockId: this.sourceXBlockInfo.id,
                xblocks: this.childrenInfo.children,
                noChildText: this.getNoChildText(),
                categoryText: this.getCategoryText(),
                parentDisplayname: this.parentInfo.parent.get('display_name'),
                XBlocksCategory: this.childrenInfo.category,
                currentLocationIndex: this.getCurrentLocationIndex()
            }));
            Backbone.trigger('move:childrenRendered', this.breadcrumbInfo());
            Backbone.trigger('move:enableMoveOperation', this.parentInfo.parent);
            return this;
        },

        /**
         * Forward button press handler. This will render all the childs of an XBlock.
         *
         * @param {Object} event
         */
        renderChildren: function renderChildren(event) {
            this.renderXBlockInfo('forward', $(event.target).closest('.xblock-item').data('itemIndex'));
        },

        /**
         * Breadcrumb button press event handler. Render all the childs of an XBlock.
         *
         * @param {any} newParentIndex  Index of a parent XBlock
         */
        handleBreadcrumbButtonPress: function handleBreadcrumbButtonPress(newParentIndex) {
            this.renderXBlockInfo('backward', newParentIndex);
        },

        /**
         * Render XBlocks based on `forward` or `backward` navigation.
         *
         * @param {any} direction           `forward` or `backward`
         * @param {any} newParentIndex      Index of a parent XBlock
         */
        renderXBlockInfo: function renderXBlockInfo(direction, newParentIndex) {
            if (direction === undefined) {
                this.parentInfo.parent = this.model;
            } else if (direction === 'forward') {
                // clicked child is the new parent
                this.parentInfo.parent = this.childrenInfo.children[newParentIndex];
            } else if (direction === 'backward') {
                // new parent will be one of visitedAncestors
                this.parentInfo.parent = this.visitedAncestors[newParentIndex];
                // remove visited ancestors
                this.visitedAncestors.splice(newParentIndex);
            }

            this.visitedAncestors.push(this.parentInfo.parent);

            if (this.parentInfo.parent.get('child_info')) {
                this.childrenInfo.children = this.parentInfo.parent.get('child_info').children;
            } else {
                this.childrenInfo.children = [];
            }

            this.setDisplayedXBlocksCategories();
            this.render();
        },

        /**
         * Set parent and child XBlock categories.
         */
        setDisplayedXBlocksCategories: function setDisplayedXBlocksCategories() {
            var childCategory = 'component';
            this.parentInfo.category = XBlockUtils.getXBlockType(this.parentInfo.parent.get('category'));
            if (!_.contains(_.keys(this.categoryRelationMap), this.parentInfo.category)) {
                if (this.parentInfo.category === 'split_test') {
                    childCategory = 'group'; // This is just to show groups text on group listing.
                }
                this.categoryRelationMap[this.parentInfo.category] = childCategory;
            }
            this.childrenInfo.category = this.categoryRelationMap[this.parentInfo.category];
        },

        /**
         * Get index of source XBlock.
         *
         * @returns {any} Integer or undefined
         */
        getCurrentLocationIndex: function getCurrentLocationIndex() {
            var self = this,
                currentLocationIndex;
            _.each(self.childrenInfo.children, function (xblock, index) {
                if (xblock.get('id') === self.sourceXBlockInfo.id) {
                    currentLocationIndex = index;
                } else {
                    _.each(self.ancestorInfo.ancestors, function (ancestor) {
                        if (ancestor.display_name === xblock.get('display_name') && ancestor.id === xblock.get('id')) {
                            currentLocationIndex = index;
                        }
                    });
                }
            });

            return currentLocationIndex;
        },

        /**
         * Get category text for currently displayed children.
         *
         * @returns {String}
         */
        getCategoryText: function getCategoryText() {
            return this.categoriesText[this.childrenInfo.category];
        },

        /**
         * Get text when a parent XBlock has no children.
         *
         * @returns {String}
         */
        getNoChildText: function getNoChildText() {
            return StringUtils.interpolate(gettext('This {parentCategory} has no {childCategory}'), {
                parentCategory: this.parentInfo.category,
                childCategory: this.categoriesText[this.childrenInfo.category].toLowerCase()
            });
        },

        /**
         * Construct breadcurmb info.
         *
         * @returns {Object}
         */
        breadcrumbInfo: function breadcrumbInfo() {
            return {
                breadcrumbs: _.map(this.visitedAncestors, function (ancestor) {
                    return ancestor.get('category') === 'course' ? gettext('Course Outline') : ancestor.get('display_name');
                })
            };
        }
    });

    return XBlockListView;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/views/paged_container.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__("./common/static/common/js/components/utils/view_utils.js"), __webpack_require__("./cms/static/js/views/container.js"), __webpack_require__("./cms/static/js/utils/module.js"), __webpack_require__(3), __webpack_require__("./common/static/common/js/components/views/feedback_notification.js"), __webpack_require__("./cms/static/js/views/paging_header.js"), __webpack_require__("./common/static/common/js/components/views/paging_footer.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, ViewUtils, ContainerView, ModuleUtils, gettext, NotificationView, PagingHeader, PagingFooter) {
    var PagedContainerView = ContainerView.extend({

        initialize: function initialize(options) {
            var self = this;
            ContainerView.prototype.initialize.call(this);
            this.page_size = this.options.page_size;
            // Reference to the page model
            this.page = options.page;
            // XBlocks are rendered via Django views and templates rather than underscore templates, and so don't
            // have a Backbone model for us to manipulate in a backbone collection. Here, we emulate the interface
            // of backbone.paginator so that we can use the Paging Header and Footer with this page. As a
            // consequence, however, we have to manipulate its members manually.
            this.collection = {
                currentPage: 0,
                totalPages: 0,
                totalCount: 0,
                sortDirection: 'desc',
                start: 0,
                _size: 0,
                // Paging header and footer expect this to be a Backbone model they can listen to for changes, but
                // they cannot. Provide the bind function for them, but have it do nothing.
                bind: function bind() {},
                // size() on backbone collections shows how many objects are in the collection, or in the case
                // of paginator, on the current page.
                size: function size() {
                    return self.collection._size;
                },
                // Toggles the functionality for showing and hiding child previews.
                showChildrenPreviews: true,

                // PagingFooter expects to be able to control paging through the collection instead of the view,
                // so we just make these functions act as pass-throughs
                setPage: function setPage(page) {
                    self.setPage(page - 1);
                },

                nextPage: function nextPage() {
                    self.nextPage();
                },

                previousPage: function previousPage() {
                    self.previousPage();
                },

                getPage: function getPage() {
                    return self.collection.currentPage + 1;
                },

                hasPreviousPage: function hasPreviousPage() {
                    return self.collection.currentPage > 0;
                },

                hasNextPage: function hasNextPage() {
                    return self.collection.currentPage < self.collection.totalPages - 1;
                },

                getTotalPages: function getTotalPages() {
                    return this.totalPages;
                },

                getPageNumber: function getPageNumber() {
                    return this.getPage();
                },

                getTotalRecords: function getTotalRecords() {
                    return this.totalCount;
                },

                getPageSize: function getPageSize() {
                    return self.page_size;
                }
            };
        },

        new_child_view: 'container_child_preview',

        render: function render(options) {
            options = options || {};
            options.page_number = typeof options.page_number !== 'undefined' ? options.page_number : this.collection.currentPage;
            return this.renderPage(options);
        },

        renderPage: function renderPage(options) {
            var self = this,
                view = this.view,
                xblockInfo = this.model,
                xblockUrl = xblockInfo.url();

            return $.ajax({
                url: decodeURIComponent(xblockUrl) + '/' + view,
                type: 'GET',
                cache: false,
                data: this.getRenderParameters(options.page_number, options.force_render),
                headers: { Accept: 'application/json' },
                success: function success(fragment) {
                    var originalDone = options.done;
                    options.done = function () {
                        self.processPaging({ requested_page: options.page_number });
                        self.page.updatePreviewButton(self.collection.showChildrenPreviews);
                        self.page.renderAddXBlockComponents();
                        if (options.force_render) {
                            var $target = $('.studio-xblock-wrapper[data-locator="' + options.force_render + '"]');
                            // Scroll us to the element with a little buffer at the top for context.
                            ViewUtils.setScrollOffset($target, $(window).height() * 0.10);
                        }
                        if (originalDone) {
                            originalDone();
                        }
                    };
                    self.handleXBlockFragment(fragment, options);
                }
            });
        },

        getRenderParameters: function getRenderParameters(page_number, force_render) {
            // Options should at least contain page_number.
            return {
                page_size: this.page_size,
                enable_paging: true,
                page_number: page_number,
                force_render: force_render
            };
        },

        getPageCount: function getPageCount(total_count) {
            if (total_count === 0) {
                return 1;
            }
            return Math.ceil(total_count / this.page_size);
        },

        setPage: function setPage(page_number, additional_options) {
            additional_options = additional_options || {};
            var options = _.extend({ page_number: page_number }, additional_options);
            this.render(options);
        },

        nextPage: function nextPage() {
            var collection = this.collection,
                currentPage = collection.currentPage,
                lastPage = collection.totalPages - 1;
            if (currentPage < lastPage) {
                this.setPage(currentPage + 1);
            }
        },

        previousPage: function previousPage() {
            var collection = this.collection,
                currentPage = collection.currentPage;
            if (currentPage > 0) {
                this.setPage(currentPage - 1);
            }
        },

        processPaging: function processPaging(options) {
            // We have the Django template sneak us the pagination information,
            // and we load it from a div here.
            var $element = this.$el.find('.xblock-container-paging-parameters'),
                total = $element.data('total'),
                displayed = $element.data('displayed'),
                start = $element.data('start'),
                previews = $element.data('previews');

            this.collection.currentPage = options.requested_page;
            this.collection.totalCount = total;
            this.collection.totalPages = this.getPageCount(total);
            this.collection.start = start;
            this.collection._size = displayed;
            this.collection.showChildrenPreviews = previews;

            this.processPagingHeaderAndFooter();
        },

        processPagingHeaderAndFooter: function processPagingHeaderAndFooter() {
            // Rendering the container view detaches the header and footer from the DOM.
            // It's just as easy to recreate them as it is to try to shove them back into the tree.
            if (this.pagingHeader) {
                this.pagingHeader.undelegateEvents();
            }
            if (this.pagingFooter) {
                this.pagingFooter.undelegateEvents();
            }

            this.pagingHeader = new PagingHeader({
                view: this,
                el: this.$el.find('.container-paging-header')
            });
            this.pagingFooter = new PagingFooter({
                collection: this.collection,
                el: this.$el.find('.container-paging-footer')
            });

            this.pagingHeader.render();
            this.pagingFooter.render();
        },

        refresh: function refresh(xblockView, block_added, is_duplicate) {
            if (!block_added) {
                return;
            }
            if (is_duplicate) {
                // Duplicated blocks can be inserted onto the current page.
                var xblock = xblockView.xblock.element.parents('.studio-xblock-wrapper').first();
                var all_xblocks = xblock.parent().children('.studio-xblock-wrapper');
                var index = all_xblocks.index(xblock);
                if (index + 1 <= this.page_size && all_xblocks.length > this.page_size) {
                    // Pop the last XBlock off the bottom.
                    all_xblocks[all_xblocks.length - 1].remove();
                    return;
                }
            }
            this.collection.totalCount += 1;
            this.collection._size += 1;
            if (this.collection.totalCount == 1) {
                this.render();
                return;
            }
            this.collection.totalPages = this.getPageCount(this.collection.totalCount);
            var target_page = this.collection.totalPages - 1;
            // If we're on a new page due to overflow, or this is the first item, set the page.
            if (this.collection.currentPage != target_page || this.collection.totalCount == 1) {
                var force_render = xblockView.model.id;
                if (is_duplicate) {
                    // The duplicate should be on the next page if we've gotten here.
                    target_page = this.collection.currentPage + 1;
                }
                this.setPage(target_page, { force_render: force_render });
            } else {
                this.pagingHeader.render();
                this.pagingFooter.render();
            }
        },

        acknowledgeXBlockDeletion: function acknowledgeXBlockDeletion(locator) {
            this.notifyRuntime('deleted-child', locator);
            this.collection._size -= 1;
            this.collection.totalCount -= 1;
            var current_page = this.collection.currentPage;
            var total_pages = this.getPageCount(this.collection.totalCount);
            this.collection.totalPages = total_pages;
            // Starts counting from 0
            if (current_page + 1 > total_pages) {
                // The number of total pages has changed. Move down.
                // Also, be mindful of the off-by-one.
                this.setPage(total_pages - 1);
            } else if (current_page + 1 != total_pages) {
                // Refresh page to get any blocks shifted from the next page.
                this.setPage(current_page);
            } else {
                // We're on the last page, just need to update the numbers in the
                // pagination interface.
                this.pagingHeader.render();
                this.pagingFooter.render();
            }
        },

        sortDisplayName: function sortDisplayName() {
            return gettext('Date added'); // TODO add support for sorting
        },

        togglePreviews: function togglePreviews() {
            var self = this,
                xblockUrl = this.model.url();
            return $.ajax({
                // No runtime, so can't get this via the handler() call.
                url: '/preview' + decodeURIComponent(xblockUrl) + '/handler/trigger_previews',
                type: 'POST',
                data: JSON.stringify({ showChildrenPreviews: !this.collection.showChildrenPreviews }),
                dataType: 'json'
            }).then(self.render).promise();
        }
    });

    return PagedContainerView;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define();

/***/ }),

/***/ "./cms/static/js/views/pages/base_page.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * This is the base view that all Studio pages extend from.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__("./cms/static/js/views/baseview.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, BaseView) {
    var BasePage = BaseView.extend({

        initialize: function initialize() {
            BaseView.prototype.initialize.call(this);
        },

        /**
         * Returns true if this page is currently showing any content. If this returns false
         * then the page will unhide the div with the class 'no-content'.
         */
        hasContent: function hasContent() {
            return true;
        },

        /**
         * This renders the page's content and returns a promise that will be resolved once
         * the rendering has completed.
         * @returns {jQuery promise} A promise representing the rendering of the page.
         */
        renderPage: function renderPage() {
            return $.Deferred().resolve().promise();
        },

        /**
         * Renders the current page while showing a loading indicator. Note that subclasses
         * of BasePage should implement renderPage to perform the rendering of the content.
         * If the page has no content (i.e. it returns false for hasContent) then the
         * div with the class 'no-content' will be shown.
         */
        render: function render() {
            var self = this;
            this.$('.ui-loading').removeClass('is-hidden');
            this.renderPage().done(function () {
                if (!self.hasContent()) {
                    self.$('.no-content').removeClass('is-hidden');
                }
            }).always(function () {
                self.$('.ui-loading').addClass('is-hidden');
            });
            return this;
        }
    });

    return BasePage;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define();

/***/ }),

/***/ "./cms/static/js/views/pages/container.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * XBlockContainerPage is used to display Studio's container page for an xblock which has children.
 * This page allows the user to understand and manipulate the xblock and its children.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__(2), __webpack_require__(3), __webpack_require__("./cms/static/js/views/pages/base_page.js"), __webpack_require__("./common/static/common/js/components/utils/view_utils.js"), __webpack_require__("./cms/static/js/views/container.js"), __webpack_require__("./cms/static/js/views/xblock.js"), __webpack_require__("./cms/static/js/views/components/add_xblock.js"), __webpack_require__("./cms/static/js/views/modals/edit_xblock.js"), __webpack_require__("./cms/static/js/views/modals/move_xblock_modal.js"), __webpack_require__("./cms/static/js/models/xblock_info.js"), __webpack_require__("./cms/static/js/views/xblock_string_field_editor.js"), __webpack_require__("./cms/static/js/views/xblock_access_editor.js"), __webpack_require__("./cms/static/js/views/pages/container_subviews.js"), __webpack_require__("./cms/static/js/views/unit_outline.js"), __webpack_require__("./cms/static/js/views/utils/xblock_utils.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, Backbone, gettext, BasePage, ViewUtils, ContainerView, XBlockView, AddXBlockComponent, EditXBlockModal, MoveXBlockModal, XBlockInfo, XBlockStringFieldEditor, XBlockAccessEditor, ContainerSubviews, UnitOutlineView, XBlockUtils) {
    'use strict';

    var XBlockContainerPage = BasePage.extend({
        // takes XBlockInfo as a model

        events: {
            'click .edit-button': 'editXBlock',
            'click .access-button': 'editVisibilitySettings',
            'click .duplicate-button': 'duplicateXBlock',
            'click .move-button': 'showMoveXBlockModal',
            'click .delete-button': 'deleteXBlock',
            'click .new-component-button': 'scrollToNewComponentButtons'
        },

        options: {
            collapsedClass: 'is-collapsed',
            canEdit: true // If not specified, assume user has permission to make changes
        },

        view: 'container_preview',

        defaultViewClass: ContainerView,

        // Overridable by subclasses-- determines whether the XBlock component
        // addition menu is added on initialization. You may set this to false
        // if your subclass handles it.
        components_on_init: true,

        initialize: function initialize(options) {
            BasePage.prototype.initialize.call(this, options);
            this.viewClass = options.viewClass || this.defaultViewClass;
            this.isLibraryPage = this.model.attributes.category === 'library';
            this.nameEditor = new XBlockStringFieldEditor({
                el: this.$('.wrapper-xblock-field'),
                model: this.model
            });
            this.nameEditor.render();
            if (!this.isLibraryPage) {
                this.accessEditor = new XBlockAccessEditor({
                    el: this.$('.wrapper-xblock-field')
                });
                this.accessEditor.render();
            }
            if (this.options.action === 'new') {
                this.nameEditor.$('.xblock-field-value-edit').click();
            }
            this.xblockView = this.getXBlockView();
            this.messageView = new ContainerSubviews.MessageView({
                el: this.$('.container-message'),
                model: this.model
            });
            this.messageView.render();
            // Display access message on units and split test components
            if (!this.isLibraryPage) {
                this.containerAccessView = new ContainerSubviews.ContainerAccess({
                    el: this.$('.container-access'),
                    model: this.model
                });
                this.containerAccessView.render();

                this.xblockPublisher = new ContainerSubviews.Publisher({
                    el: this.$('#publish-unit'),
                    model: this.model,
                    // When "Discard Changes" is clicked, the whole page must be re-rendered.
                    renderPage: this.render
                });
                this.xblockPublisher.render();

                this.publishHistory = new ContainerSubviews.PublishHistory({
                    el: this.$('#publish-history'),
                    model: this.model
                });
                this.publishHistory.render();

                this.viewLiveActions = new ContainerSubviews.ViewLiveButtonController({
                    el: this.$('.nav-actions'),
                    model: this.model
                });
                this.viewLiveActions.render();

                this.unitOutlineView = new UnitOutlineView({
                    el: this.$('.wrapper-unit-overview'),
                    model: this.model
                });
                this.unitOutlineView.render();
            }

            this.listenTo(Backbone, 'move:onXBlockMoved', this.onXBlockMoved);
        },

        getViewParameters: function getViewParameters() {
            return {
                el: this.$('.wrapper-xblock'),
                model: this.model,
                view: this.view
            };
        },

        getXBlockView: function getXBlockView() {
            return new this.viewClass(this.getViewParameters());
        },

        render: function render(options) {
            var self = this,
                xblockView = this.xblockView,
                loadingElement = this.$('.ui-loading'),
                unitLocationTree = this.$('.unit-location'),
                hiddenCss = 'is-hidden';

            loadingElement.removeClass(hiddenCss);

            // Hide both blocks until we know which one to show
            xblockView.$el.addClass(hiddenCss);

            // Render the xblock
            xblockView.render({
                done: function done() {
                    // Show the xblock and hide the loading indicator
                    xblockView.$el.removeClass(hiddenCss);
                    loadingElement.addClass(hiddenCss);

                    // Notify the runtime that the page has been successfully shown
                    xblockView.notifyRuntime('page-shown', self);

                    if (self.components_on_init) {
                        // Render the add buttons. Paged containers should do this on their own.
                        self.renderAddXBlockComponents();
                    }

                    // Refresh the views now that the xblock is visible
                    self.onXBlockRefresh(xblockView);
                    unitLocationTree.removeClass(hiddenCss);

                    // Re-enable Backbone events for any updated DOM elements
                    self.delegateEvents();
                },
                block_added: options && options.block_added
            });
        },

        findXBlockElement: function findXBlockElement(target) {
            return $(target).closest('.studio-xblock-wrapper');
        },

        getURLRoot: function getURLRoot() {
            return this.xblockView.model.urlRoot;
        },

        onXBlockRefresh: function onXBlockRefresh(xblockView, block_added, is_duplicate) {
            this.xblockView.refresh(xblockView, block_added, is_duplicate);
            // Update publish and last modified information from the server.
            this.model.fetch();
        },

        renderAddXBlockComponents: function renderAddXBlockComponents() {
            var self = this;
            if (self.options.canEdit) {
                this.$('.add-xblock-component').each(function (index, element) {
                    var component = new AddXBlockComponent({
                        el: element,
                        createComponent: _.bind(self.createComponent, self),
                        collection: self.options.templates
                    });
                    component.render();
                });
            } else {
                this.$('.add-xblock-component').remove();
            }
        },

        editXBlock: function editXBlock(event, options) {
            var xblockElement = this.findXBlockElement(event.target),
                self = this,
                modal = new EditXBlockModal(options);
            event.preventDefault();

            // check if we want to launch with the new editors (behind waffle flag)
            var useNewTextEditor = this.$('.edit-button').attr("use-new-editor-text"),
                useNewVideoEditor = this.$('.edit-button').attr("use-new-editor-video"),
                useNewProblemEditor = this.$('.edit-button').attr("use-new-editor-problem"),
                blockType = xblockElement.find('.xblock').attr("data-block-type");
            if (useNewTextEditor === "True" && blockType === "html" || useNewVideoEditor === "True" && blockType === "video" || useNewProblemEditor === "True" && blockType === "problem") {
                var destinationUrl = this.$('.edit-button').attr("authoring_MFE_base_url") + '/' + blockType + '/' + encodeURI(xblockElement.find('.xblock').attr("data-usage-id"));
                window.location.href = destinationUrl;
                return;
            }
            modal.edit(xblockElement, this.model, {
                readOnlyView: !this.options.canEdit,
                refresh: function refresh() {
                    self.refreshXBlock(xblockElement, false);
                }
            });
        },

        editVisibilitySettings: function editVisibilitySettings(event) {
            this.editXBlock(event, {
                view: 'visibility_view',
                // Translators: "title" is the name of the current component or unit being edited.
                titleFormat: gettext('Editing access for: {title}'),
                viewSpecificClasses: '',
                modalSize: 'med'
            });
        },

        duplicateXBlock: function duplicateXBlock(event) {
            event.preventDefault();
            this.duplicateComponent(this.findXBlockElement(event.target));
        },

        showMoveXBlockModal: function showMoveXBlockModal(event) {
            var xblockElement = this.findXBlockElement(event.target),
                parentXBlockElement = xblockElement.parents('.studio-xblock-wrapper'),
                modal = new MoveXBlockModal({
                sourceXBlockInfo: XBlockUtils.findXBlockInfo(xblockElement, this.model),
                sourceParentXBlockInfo: XBlockUtils.findXBlockInfo(parentXBlockElement, this.model),
                XBlockURLRoot: this.getURLRoot(),
                outlineURL: this.options.outlineURL
            });

            event.preventDefault();
            modal.show();
        },

        deleteXBlock: function deleteXBlock(event) {
            event.preventDefault();
            this.deleteComponent(this.findXBlockElement(event.target));
        },

        createPlaceholderElement: function createPlaceholderElement() {
            return $('<div/>', { class: 'studio-xblock-wrapper' });
        },

        createComponent: function createComponent(template, target) {
            // A placeholder element is created in the correct location for the new xblock
            // and then onNewXBlock will replace it with a rendering of the xblock. Note that
            // for xblocks that can't be replaced inline, the entire parent will be refreshed.
            var parentElement = this.findXBlockElement(target),
                parentLocator = parentElement.data('locator'),
                buttonPanel = target.closest('.add-xblock-component'),
                listPanel = buttonPanel.prev(),
                scrollOffset = ViewUtils.getScrollOffset(buttonPanel),
                $placeholderEl = $(this.createPlaceholderElement()),
                requestData = _.extend(template, {
                parent_locator: parentLocator
            }),
                placeholderElement;
            placeholderElement = $placeholderEl.appendTo(listPanel);
            return $.postJSON(this.getURLRoot() + '/', requestData, _.bind(this.onNewXBlock, this, placeholderElement, scrollOffset, false)).fail(function () {
                // Remove the placeholder if the update failed
                placeholderElement.remove();
            });
        },

        duplicateComponent: function duplicateComponent(xblockElement) {
            // A placeholder element is created in the correct location for the duplicate xblock
            // and then onNewXBlock will replace it with a rendering of the xblock. Note that
            // for xblocks that can't be replaced inline, the entire parent will be refreshed.
            var self = this,
                parentElement = self.findXBlockElement(xblockElement.parent()),
                scrollOffset = ViewUtils.getScrollOffset(xblockElement),
                $placeholderEl = $(self.createPlaceholderElement()),
                placeholderElement;

            placeholderElement = $placeholderEl.insertAfter(xblockElement);
            XBlockUtils.duplicateXBlock(xblockElement, parentElement).done(function (data) {
                self.onNewXBlock(placeholderElement, scrollOffset, true, data);
            }).fail(function () {
                // Remove the placeholder if the update failed
                placeholderElement.remove();
            });
        },

        deleteComponent: function deleteComponent(xblockElement) {
            var self = this,
                xblockInfo = new XBlockInfo({
                id: xblockElement.data('locator')
            });
            XBlockUtils.deleteXBlock(xblockInfo).done(function () {
                self.onDelete(xblockElement);
            });
        },

        onDelete: function onDelete(xblockElement) {
            // get the parent so we can remove this component from its parent.
            var xblockView = this.xblockView,
                parent = this.findXBlockElement(xblockElement.parent());
            xblockElement.remove();

            // Inform the runtime that the child has been deleted in case
            // other views are listening to deletion events.
            xblockView.acknowledgeXBlockDeletion(parent.data('locator'));

            // Update publish and last modified information from the server.
            this.model.fetch();
        },

        /*
        After move operation is complete, updates the xblock information from server .
         */
        onXBlockMoved: function onXBlockMoved() {
            this.model.fetch();
        },

        onNewXBlock: function onNewXBlock(xblockElement, scrollOffset, is_duplicate, data) {
            ViewUtils.setScrollOffset(xblockElement, scrollOffset);
            xblockElement.data('locator', data.locator);
            return this.refreshXBlock(xblockElement, true, is_duplicate);
        },

        /**
         * Refreshes the specified xblock's display. If the xblock is an inline child of a
         * reorderable container then the element will be refreshed inline. If not, then the
         * parent container will be refreshed instead.
         * @param element An element representing the xblock to be refreshed.
         * @param block_added Flag to indicate that new block has been just added.
         */
        refreshXBlock: function refreshXBlock(element, block_added, is_duplicate) {
            var xblockElement = this.findXBlockElement(element),
                parentElement = xblockElement.parent(),
                rootLocator = this.xblockView.model.id;
            if (xblockElement.length === 0 || xblockElement.data('locator') === rootLocator) {
                this.render({ refresh: true, block_added: block_added });
            } else if (parentElement.hasClass('reorderable-container')) {
                this.refreshChildXBlock(xblockElement, block_added, is_duplicate);
            } else {
                this.refreshXBlock(this.findXBlockElement(parentElement));
            }
        },

        /**
         * Refresh an xblock element inline on the page, using the specified xblockInfo.
         * Note that the element is removed and replaced with the newly rendered xblock.
         * @param xblockElement The xblock element to be refreshed.
         * @param block_added Specifies if a block has been added, rather than just needs
         * refreshing.
         * @returns {jQuery promise} A promise representing the complete operation.
         */
        refreshChildXBlock: function refreshChildXBlock(xblockElement, block_added, is_duplicate) {
            var self = this,
                xblockInfo,
                TemporaryXBlockView,
                temporaryView;
            xblockInfo = new XBlockInfo({
                id: xblockElement.data('locator')
            });
            // There is only one Backbone view created on the container page, which is
            // for the container xblock itself. Any child xblocks rendered inside the
            // container do not get a Backbone view. Thus, create a temporary view
            // to render the content, and then replace the original element with the result.
            TemporaryXBlockView = XBlockView.extend({
                updateHtml: function updateHtml(element, html) {
                    // Replace the element with the new HTML content, rather than adding
                    // it as child elements.
                    this.$el = $(html).replaceAll(element); // xss-lint: disable=javascript-jquery-insertion
                }
            });
            temporaryView = new TemporaryXBlockView({
                model: xblockInfo,
                view: self.xblockView.new_child_view,
                el: xblockElement
            });
            return temporaryView.render({
                success: function success() {
                    self.onXBlockRefresh(temporaryView, block_added, is_duplicate);
                    temporaryView.unbind(); // Remove the temporary view
                },
                initRuntimeData: this
            });
        },

        scrollToNewComponentButtons: function scrollToNewComponentButtons(event) {
            event.preventDefault();
            $.scrollTo(this.$('.add-xblock-component'), { duration: 250 });
        }
    });

    return XBlockContainerPage;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define();

/***/ }),

/***/ "./cms/static/js/views/pages/container_subviews.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * Subviews (usually small side panels) for XBlockContainerPage.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__(3), __webpack_require__("./cms/static/js/views/baseview.js"), __webpack_require__("./common/static/common/js/components/utils/view_utils.js"), __webpack_require__("./cms/static/js/views/utils/xblock_utils.js"), __webpack_require__("./cms/static/js/views/utils/move_xblock_utils.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, gettext, BaseView, ViewUtils, XBlockViewUtils, MoveXBlockUtils, HtmlUtils) {
    'use strict';

    var disabledCss = 'is-disabled';

    /**
     * A view that refreshes the view when certain values in the XBlockInfo have changed
     * after a server sync operation.
     */
    var ContainerStateListenerView = BaseView.extend({

        // takes XBlockInfo as a model
        initialize: function initialize() {
            this.model.on('sync', this.onSync, this);
        },

        onSync: function onSync(model) {
            if (this.shouldRefresh(model)) {
                this.render();
            }
        },

        shouldRefresh: function shouldRefresh(model) {
            return false;
        },

        render: function render() {}
    });

    var ContainerAccess = ContainerStateListenerView.extend({
        initialize: function initialize() {
            ContainerStateListenerView.prototype.initialize.call(this);
            this.template = this.loadTemplate('container-access');
        },

        shouldRefresh: function shouldRefresh(model) {
            return ViewUtils.hasChangedAttributes(model, ['has_partition_group_components', 'user_partitions']);
        },

        render: function render() {
            HtmlUtils.setHtml(this.$el, HtmlUtils.HTML(this.template({
                hasPartitionGroupComponents: this.model.get('has_partition_group_components'),
                userPartitionInfo: this.model.get('user_partition_info')
            })));
            return this;
        }
    });

    var MessageView = ContainerStateListenerView.extend({
        initialize: function initialize() {
            ContainerStateListenerView.prototype.initialize.call(this);
            this.template = this.loadTemplate('container-message');
        },

        shouldRefresh: function shouldRefresh(model) {
            return ViewUtils.hasChangedAttributes(model, ['currently_visible_to_students']);
        },

        render: function render() {
            HtmlUtils.setHtml(this.$el, HtmlUtils.HTML(this.template({ currentlyVisibleToStudents: this.model.get('currently_visible_to_students') })));
            return this;
        }
    });

    /**
     * A controller for updating the "View Live" button.
     */
    var ViewLiveButtonController = ContainerStateListenerView.extend({
        shouldRefresh: function shouldRefresh(model) {
            return ViewUtils.hasChangedAttributes(model, ['published']);
        },

        render: function render() {
            var viewLiveAction = this.$el.find('.button-view');
            if (this.model.get('published')) {
                viewLiveAction.removeClass(disabledCss).attr('aria-disabled', false);
            } else {
                viewLiveAction.addClass(disabledCss).attr('aria-disabled', true);
            }
        }
    });

    /**
     * Publisher is a view that supports the following:
     * 1) Publishing of a draft version of an xblock.
     * 2) Discarding of edits in a draft version.
     * 3) Display of who last edited the xblock, and when.
     * 4) Display of publish status (published, published with changes, changes with no published version).
     */
    var Publisher = BaseView.extend({
        events: {
            'click .action-publish': 'publish',
            'click .action-discard': 'discardChanges',
            'click .action-staff-lock': 'toggleStaffLock'
        },

        // takes XBlockInfo as a model

        initialize: function initialize() {
            BaseView.prototype.initialize.call(this);
            this.template = this.loadTemplate('publish-xblock');
            this.model.on('sync', this.onSync, this);
            this.renderPage = this.options.renderPage;
        },

        onSync: function onSync(model) {
            if (ViewUtils.hasChangedAttributes(model, ['has_changes', 'published', 'edited_on', 'edited_by', 'visibility_state', 'has_explicit_staff_lock'])) {
                this.render();
            }
        },

        render: function render() {
            HtmlUtils.setHtml(this.$el, HtmlUtils.HTML(this.template({
                visibilityState: this.model.get('visibility_state'),
                visibilityClass: XBlockViewUtils.getXBlockVisibilityClass(this.model.get('visibility_state')),
                hasChanges: this.model.get('has_changes'),
                editedOn: this.model.get('edited_on'),
                editedBy: this.model.get('edited_by'),
                published: this.model.get('published'),
                publishedOn: this.model.get('published_on'),
                publishedBy: this.model.get('published_by'),
                released: this.model.get('released_to_students'),
                releaseDate: this.model.get('release_date'),
                releaseDateFrom: this.model.get('release_date_from'),
                hasExplicitStaffLock: this.model.get('has_explicit_staff_lock'),
                staffLockFrom: this.model.get('staff_lock_from'),
                course: window.course,
                HtmlUtils: HtmlUtils
            })));

            return this;
        },

        publish: function publish(e) {
            var xblockInfo = this.model;
            if (e && e.preventDefault) {
                e.preventDefault();
            }
            ViewUtils.runOperationShowingMessage(gettext('Publishing'), function () {
                return xblockInfo.save({ publish: 'make_public' }, { patch: true });
            }).always(function () {
                xblockInfo.set('publish', null);
                // Hide any move notification if present.
                MoveXBlockUtils.hideMovedNotification();
            }).done(function () {
                xblockInfo.fetch();
            });
        },

        discardChanges: function discardChanges(e) {
            var xblockInfo = this.model,
                renderPage = this.renderPage;
            if (e && e.preventDefault) {
                e.preventDefault();
            }
            ViewUtils.confirmThenRunOperation(gettext('Discard Changes'), gettext('Are you sure you want to revert to the last published version of the unit? You cannot undo this action.'), gettext('Discard Changes'), function () {
                ViewUtils.runOperationShowingMessage(gettext('Discarding Changes'), function () {
                    return xblockInfo.save({ publish: 'discard_changes' }, { patch: true });
                }).always(function () {
                    xblockInfo.set('publish', null);
                    // Hide any move notification if present.
                    MoveXBlockUtils.hideMovedNotification();
                }).done(function () {
                    renderPage();
                });
            });
        },

        toggleStaffLock: function toggleStaffLock(e) {
            var xblockInfo = this.model,
                self = this,
                enableStaffLock,
                hasInheritedStaffLock,
                saveAndPublishStaffLock,
                revertCheckBox;
            if (e && e.preventDefault) {
                e.preventDefault();
            }
            enableStaffLock = !xblockInfo.get('has_explicit_staff_lock');
            hasInheritedStaffLock = xblockInfo.get('ancestor_has_staff_lock');

            revertCheckBox = function revertCheckBox() {
                self.checkStaffLock(!enableStaffLock);
            };

            saveAndPublishStaffLock = function saveAndPublishStaffLock() {
                // Setting staff lock to null when disabled will delete the field from this xblock,
                // allowing it to use the inherited value instead of using false explicitly.
                return xblockInfo.save({
                    publish: 'republish',
                    metadata: { visible_to_staff_only: enableStaffLock ? true : null } }, { patch: true }).always(function () {
                    xblockInfo.set('publish', null);
                }).done(function () {
                    xblockInfo.fetch();
                }).fail(function () {
                    revertCheckBox();
                });
            };

            this.checkStaffLock(enableStaffLock);
            if (enableStaffLock && !hasInheritedStaffLock) {
                ViewUtils.runOperationShowingMessage(gettext('Hiding from Students'), _.bind(saveAndPublishStaffLock, self));
            } else if (enableStaffLock && hasInheritedStaffLock) {
                ViewUtils.runOperationShowingMessage(gettext('Explicitly Hiding from Students'), _.bind(saveAndPublishStaffLock, self));
            } else if (!enableStaffLock && hasInheritedStaffLock) {
                ViewUtils.runOperationShowingMessage(gettext('Inheriting Student Visibility'), _.bind(saveAndPublishStaffLock, self));
            } else {
                ViewUtils.confirmThenRunOperation(gettext('Make Visible to Students'), gettext('If the unit was previously published and released to students, any changes you made to the unit when it was hidden will now be visible to students. Do you want to proceed?'), gettext('Make Visible to Students'), function () {
                    ViewUtils.runOperationShowingMessage(gettext('Making Visible to Students'), _.bind(saveAndPublishStaffLock, self));
                }, function () {
                    // On cancel, revert the check in the check box
                    revertCheckBox();
                });
            }
        },

        checkStaffLock: function checkStaffLock(check) {
            this.$('.action-staff-lock i').removeClass('fa-check-square-o fa-square-o');
            this.$('.action-staff-lock i').addClass(check ? 'fa-check-square-o' : 'fa-square-o');
        }
    });

    /**
     * PublishHistory displays when and by whom the xblock was last published, if it ever was.
     */
    var PublishHistory = BaseView.extend({
        // takes XBlockInfo as a model

        initialize: function initialize() {
            BaseView.prototype.initialize.call(this);
            this.template = this.loadTemplate('publish-history');
            this.model.on('sync', this.onSync, this);
        },

        onSync: function onSync(model) {
            if (ViewUtils.hasChangedAttributes(model, ['published', 'published_on', 'published_by'])) {
                this.render();
            }
        },

        render: function render() {
            HtmlUtils.setHtml(this.$el, HtmlUtils.HTML(this.template({
                published: this.model.get('published'),
                published_on: this.model.get('published_on'),
                published_by: this.model.get('published_by')
            })));

            return this;
        }
    });

    return {
        MessageView: MessageView,
        ViewLiveButtonController: ViewLiveButtonController,
        Publisher: Publisher,
        PublishHistory: PublishHistory,
        ContainerAccess: ContainerAccess
    };
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define();

/***/ }),

/***/ "./cms/static/js/views/pages/paged_container.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * PagedXBlockContainerPage is a variant of XBlockContainerPage that supports Pagination.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__(3), __webpack_require__("./cms/static/js/views/pages/container.js"), __webpack_require__("./cms/static/js/views/paged_container.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, gettext, XBlockContainerPage, PagedContainerView) {
    'use strict';

    var PagedXBlockContainerPage = XBlockContainerPage.extend({

        events: _.extend({}, XBlockContainerPage.prototype.events, {
            'click .toggle-preview-button': 'toggleChildrenPreviews'
        }),

        defaultViewClass: PagedContainerView,
        components_on_init: false,

        initialize: function initialize(options) {
            this.page_size = options.page_size || 10;
            this.showChildrenPreviews = options.showChildrenPreviews || true;
            XBlockContainerPage.prototype.initialize.call(this, options);
        },

        getViewParameters: function getViewParameters() {
            return _.extend(XBlockContainerPage.prototype.getViewParameters.call(this), {
                page_size: this.page_size,
                page: this
            });
        },

        refreshXBlock: function refreshXBlock(element, block_added, is_duplicate) {
            var xblockElement = this.findXBlockElement(element),
                rootLocator = this.xblockView.model.id;
            if (xblockElement.length === 0 || xblockElement.data('locator') === rootLocator) {
                this.render({ refresh: true, block_added: block_added });
            } else {
                this.refreshChildXBlock(xblockElement, block_added, is_duplicate);
            }
        },

        toggleChildrenPreviews: function toggleChildrenPreviews(xblockElement) {
            xblockElement.preventDefault();
            this.xblockView.togglePreviews();
        },

        updatePreviewButton: function updatePreviewButton(show_previews) {
            var text = show_previews ? gettext('Hide Previews') : gettext('Show Previews'),
                $button = $('.nav-actions .button-toggle-preview');

            this.$('.preview-text', $button).text(text);
            this.$('.toggle-preview-button').removeClass('is-hidden');
        }
    });
    return PagedXBlockContainerPage;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/views/paging_header.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(1), __webpack_require__(2), __webpack_require__(3), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"), __webpack_require__("./cms/templates/js/paging-header.underscore")], __WEBPACK_AMD_DEFINE_RESULT__ = function (_, Backbone, gettext, HtmlUtils, StringUtils, pagingHeaderTemplate) {
    'use strict';

    var PagingHeader = Backbone.View.extend({
        events: {
            'click .next-page-link': 'nextPage',
            'click .previous-page-link': 'previousPage'
        },

        initialize: function initialize(options) {
            var view = options.view,
                collection = view.collection;
            this.view = view;
            collection.bind('add', _.bind(this.render, this));
            collection.bind('remove', _.bind(this.render, this));
            collection.bind('reset', _.bind(this.render, this));
        },

        render: function render() {
            var view = this.view,
                collection = view.collection,
                currentPage = collection.getPageNumber(),
                lastPage = collection.getTotalPages(),
                messageHtml = this.messageHtml(),
                isNextDisabled = lastPage === 0 || currentPage === lastPage;

            HtmlUtils.setHtml(this.$el, HtmlUtils.template(pagingHeaderTemplate)({ messageHtml: messageHtml }));
            this.$('.previous-page-link').toggleClass('is-disabled', currentPage === 1).attr('aria-disabled', currentPage === 1);
            this.$('.next-page-link').toggleClass('is-disabled', isNextDisabled).attr('aria-disabled', isNextDisabled);

            return this;
        },

        messageHtml: function messageHtml() {
            var message = '',
                assetType = false;

            if (this.view.collection.assetType) {
                if (this.view.collection.sortDirection === 'asc') {
                    // Translators: sample result:
                    // "Showing 0-9 out of 25 total, filtered by Images, sorted by Date Added ascending"
                    message = gettext('Showing {currentItemRange} out of {totalItemsCount}, filtered by {assetType}, sorted by {sortName} ascending'); // eslint-disable-line max-len
                } else {
                    // Translators: sample result:
                    // "Showing 0-9 out of 25 total, filtered by Images, sorted by Date Added descending"
                    message = gettext('Showing {currentItemRange} out of {totalItemsCount}, filtered by {assetType}, sorted by {sortName} descending'); // eslint-disable-line max-len
                }
                assetType = this.filterNameLabel();
            } else {
                if (this.view.collection.sortDirection === 'asc') {
                    // Translators: sample result:
                    // "Showing 0-9 out of 25 total, sorted by Date Added ascending"
                    message = gettext('Showing {currentItemRange} out of {totalItemsCount}, sorted by {sortName} ascending'); // eslint-disable-line max-len
                } else {
                    // Translators: sample result:
                    // "Showing 0-9 out of 25 total, sorted by Date Added descending"
                    message = gettext('Showing {currentItemRange} out of {totalItemsCount}, sorted by {sortName} descending'); // eslint-disable-line max-len
                }
            }

            return HtmlUtils.interpolateHtml(message, {
                currentItemRange: this.currentItemRangeLabel(),
                totalItemsCount: this.totalItemsCountLabel(),
                assetType: assetType,
                sortName: this.sortNameLabel()
            });
        },

        currentItemRangeLabel: function currentItemRangeLabel() {
            var view = this.view,
                collection = view.collection,
                start = (collection.getPageNumber() - 1) * collection.getPageSize(),
                count = collection.size(),
                end = start + count,
                htmlMessage = HtmlUtils.HTML('<span class="count-current-shown">{start}-{end}</span>');

            return HtmlUtils.interpolateHtml(htmlMessage, {
                start: Math.min(start + 1, end),
                end: end
            });
        },

        totalItemsCountLabel: function totalItemsCountLabel() {
            var totalItemsLabel,
                htmlMessage = HtmlUtils.HTML('<span class="count-total">{totalItemsLabel}</span>');

            // Translators: turns into "25 total" to be used in other sentences, e.g. "Showing 0-9 out of 25 total".
            totalItemsLabel = StringUtils.interpolate(gettext('{totalItems} total'), {
                totalItems: this.view.collection.getTotalRecords()
            });

            return HtmlUtils.interpolateHtml(htmlMessage, {
                totalItemsLabel: totalItemsLabel
            });
        },

        sortNameLabel: function sortNameLabel() {
            var htmlMessage = HtmlUtils.HTML('<span class="sort-order">{sortName}</span>');

            return HtmlUtils.interpolateHtml(htmlMessage, {
                sortName: this.view.sortDisplayName()
            });
        },

        filterNameLabel: function filterNameLabel() {
            var htmlMessage = HtmlUtils.HTML('<span class="filter-column">{filterName}</span>');

            return HtmlUtils.interpolateHtml(htmlMessage, {
                filterName: this.view.filterDisplayName()
            });
        },

        nextPage: function nextPage() {
            this.view.nextPage();
        },

        previousPage: function previousPage() {
            this.view.previousPage();
        }
    });

    return PagingHeader;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/views/unit_outline.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * The UnitOutlineView is used to render the Unit Outline component on the unit page. It shows
 * the ancestors of the unit along with its direct siblings. It also has a single "New Unit"
 * button to allow a new sibling unit to be added.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(1), __webpack_require__("./cms/static/js/views/xblock_outline.js"), __webpack_require__("./cms/static/js/views/unit_outline_child.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function (_, XBlockOutlineView, UnitOutlineChildView) {
    var UnitOutlineView = XBlockOutlineView.extend({
        // takes XBlockInfo as a model

        templateName: 'unit-outline',

        render: function render() {
            XBlockOutlineView.prototype.render.call(this);
            this.renderAncestors();
            return this;
        },

        renderAncestors: function renderAncestors() {
            var i,
                listElement,
                ancestors,
                ancestor,
                ancestorView = this,
                previousAncestor = null;
            if (this.model.get('ancestor_info')) {
                ancestors = this.model.get('ancestor_info').ancestors;
                listElement = this.getListElement();
                // Note: the ancestors are processed in reverse order because the tree wants to
                // start at the root, but the ancestors are ordered by closeness to the unit,
                // i.e. subsection and then section.
                for (i = ancestors.length - 1; i >= 0; i--) {
                    ancestor = ancestors[i];
                    ancestorView = this.createChildView(ancestor, previousAncestor, { parentView: ancestorView, currentUnitId: this.model.get('id') });
                    ancestorView.render();
                    listElement.append(ancestorView.$el);
                    previousAncestor = ancestor;
                    listElement = ancestorView.getListElement();
                }
            }
            return ancestorView;
        },

        getChildViewClass: function getChildViewClass() {
            return UnitOutlineChildView;
        },

        getTemplateContext: function getTemplateContext() {
            return _.extend(XBlockOutlineView.prototype.getTemplateContext.call(this), { currentUnitId: this.model.get('id') });
        }
    });

    return UnitOutlineView;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define();

/***/ }),

/***/ "./cms/static/js/views/unit_outline_child.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * The UnitOutlineChildView is used to render each Section,
 * Subsection, and Unit within the Unit Outline component on the unit
 * page.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(1), __webpack_require__("./cms/static/js/views/xblock_outline.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function (_, XBlockOutlineView) {
    var UnitOutlineChildView = XBlockOutlineView.extend({
        initialize: function initialize() {
            XBlockOutlineView.prototype.initialize.call(this);
            this.currentUnitId = this.options.currentUnitId;
        },

        getTemplateContext: function getTemplateContext() {
            return _.extend(XBlockOutlineView.prototype.getTemplateContext.call(this), { currentUnitId: this.currentUnitId });
        },

        getChildViewClass: function getChildViewClass() {
            return UnitOutlineChildView;
        },

        createChildView: function createChildView(childInfo, parentInfo, options) {
            options = _.isUndefined(options) ? {} : options;
            return XBlockOutlineView.prototype.createChildView.call(this, childInfo, parentInfo, _.extend(options, { currentUnitId: this.currentUnitId }));
        }
    });

    return UnitOutlineChildView;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define()

/***/ }),

/***/ "./cms/static/js/views/uploads.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__(3), __webpack_require__("./cms/static/js/views/modals/base_modal.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"), __webpack_require__("./common/static/js/vendor/jquery.form.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, gettext, BaseModal, HtmlUtils) {
    'use strict';

    var UploadDialog = BaseModal.extend({
        events: _.extend({}, BaseModal.prototype.events, {
            'change input[type=file]': 'selectFile',
            'click .action-upload': 'upload'
        }),

        options: $.extend({}, BaseModal.prototype.options, {
            modalName: 'assetupload',
            modalSize: 'med',
            successMessageTimeout: 2000, // 2 seconds
            viewSpecificClasses: 'confirm'
        }),

        initialize: function initialize(options) {
            BaseModal.prototype.initialize.call(this);
            this.template = this.loadTemplate('upload-dialog');
            this.listenTo(this.model, 'change', this.renderContents);
            this.options.title = this.model.get('title');
            // `uploadData` can contain extra data that
            // can be POSTed along with the file.
            this.uploadData = _.extend({}, options.uploadData);
        },

        addActionButtons: function addActionButtons() {
            this.addActionButton('upload', gettext('Upload'), true);
            BaseModal.prototype.addActionButtons.call(this);
        },

        renderContents: function renderContents() {
            var isValid = this.model.isValid(),
                selectedFile = this.model.get('selectedFile'),
                oldInput = this.$('input[type=file]');
            BaseModal.prototype.renderContents.call(this);
            // Ideally, we'd like to tell the browser to pre-populate the
            // <input type="file"> with the selectedFile if we have one -- but
            // browser security prohibits that. So instead, we'll swap out the
            // new input (that has no file selected) with the old input (that
            // already has the selectedFile selected). However, we only want to do
            // this if the selected file is valid: if it isn't, we want to render
            // a blank input to prompt the user to upload a different (valid) file.
            if (selectedFile && isValid) {
                $(oldInput).removeClass('error');
                this.$('input[type=file]').replaceWith(HtmlUtils.HTML(oldInput).toString());
                this.$('.action-upload').removeClass('disabled');
            } else {
                this.$('.action-upload').addClass('disabled');
            }
            return this;
        },

        getContentHtml: function getContentHtml() {
            return this.template({
                url: this.options.url || CMS.URL.UPLOAD_ASSET,
                message: this.model.get('message'),
                selectedFile: this.model.get('selectedFile'),
                uploading: this.model.get('uploading'),
                uploadedBytes: this.model.get('uploadedBytes'),
                totalBytes: this.model.get('totalBytes'),
                finished: this.model.get('finished'),
                error: this.model.validationError
            });
        },

        selectFile: function selectFile(e) {
            var selectedFile = e.target.files[0] || null;
            this.model.set({
                selectedFile: selectedFile
            });
            // This change event triggering necessary for FireFox, because the browser don't
            // consider change of File object (file input field) as a change in model.
            if (selectedFile && $.isEmptyObject(this.model.changed)) {
                this.model.trigger('change');
            }
        },

        upload: function upload(e) {
            var uploadAjaxData = _.extend({}, this.uploadData);
            // don't show the generic error notification; we're in a modal,
            // and we're better off modifying it instead.
            uploadAjaxData.notifyOnError = false;

            if (e && e.preventDefault) {
                e.preventDefault();
            }
            this.model.set('uploading', true);
            this.$('form').ajaxSubmit({
                success: _.bind(this.success, this),
                error: _.bind(this.error, this),
                uploadProgress: _.bind(this.progress, this),
                data: uploadAjaxData
            });
        },

        progress: function progress(event, position, total) {
            this.model.set({
                uploadedBytes: position,
                totalBytes: total
            });
        },

        success: function success(response, statusText, xhr, form) {
            this.model.set({
                uploading: false,
                finished: true
            });
            if (this.options.onSuccess) {
                this.options.onSuccess(response, statusText, xhr, form);
            }
            var that = this;
            this.removalTimeout = setTimeout(function () {
                that.hide();
            }, this.options.successMessageTimeout);
        },

        error: function error() {
            this.model.set({
                uploading: false,
                uploadedBytes: 0,
                title: gettext("We're sorry, there was an error")
            });
        }
    });
    return UploadDialog;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define()

/***/ }),

/***/ "./cms/static/js/views/utils/move_xblock_utils.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * Provides utilities for move xblock.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__(2), __webpack_require__("./common/static/common/js/components/views/feedback.js"), __webpack_require__("./common/static/common/js/components/views/feedback_alert.js"), __webpack_require__("./cms/static/js/views/utils/xblock_utils.js"), __webpack_require__("./cms/static/js/views/utils/move_xblock_utils.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"), __webpack_require__("./common/static/js/vendor/jquery.smooth-scroll.min.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, Backbone, Feedback, AlertView, XBlockViewUtils, MoveXBlockUtils, StringUtils) {
    'use strict';

    var redirectLink, moveXBlock, undoMoveXBlock, showMovedNotification, hideMovedNotification;

    redirectLink = function redirectLink(link) {
        window.location.href = link;
    };

    moveXBlock = function moveXBlock(data) {
        XBlockViewUtils.moveXBlock(data.sourceLocator, data.targetParentLocator).done(function (response) {
            // hide modal
            Backbone.trigger('move:hideMoveModal');
            // hide xblock element
            data.sourceXBlockElement.hide();
            showMovedNotification(StringUtils.interpolate(gettext('Success! "{displayName}" has been moved.'), {
                displayName: data.sourceDisplayName
            }), {
                sourceXBlockElement: data.sourceXBlockElement,
                sourceDisplayName: data.sourceDisplayName,
                sourceLocator: data.sourceLocator,
                sourceParentLocator: data.sourceParentLocator,
                targetParentLocator: data.targetParentLocator,
                targetIndex: response.source_index
            });
            Backbone.trigger('move:onXBlockMoved');
        });
    };

    undoMoveXBlock = function undoMoveXBlock(data) {
        XBlockViewUtils.moveXBlock(data.sourceLocator, data.sourceParentLocator, data.targetIndex).done(function () {
            // show XBlock element
            data.sourceXBlockElement.show();
            showMovedNotification(StringUtils.interpolate(gettext('Move cancelled. "{sourceDisplayName}" has been moved back to its original location.'), {
                sourceDisplayName: data.sourceDisplayName
            }));
            Backbone.trigger('move:onXBlockMoved');
        });
    };

    showMovedNotification = function showMovedNotification(title, data) {
        var movedAlertView;
        // data is provided when we click undo move button.
        if (data) {
            movedAlertView = new AlertView.Confirmation({
                title: title,
                actions: {
                    primary: {
                        text: gettext('Undo move'),
                        class: 'action-save',
                        click: function click() {
                            undoMoveXBlock({
                                sourceXBlockElement: data.sourceXBlockElement,
                                sourceDisplayName: data.sourceDisplayName,
                                sourceLocator: data.sourceLocator,
                                sourceParentLocator: data.sourceParentLocator,
                                targetIndex: data.targetIndex
                            });
                        }
                    },
                    secondary: [{
                        text: gettext('Take me to the new location'),
                        class: 'action-cancel',
                        click: function click() {
                            redirectLink('/container/' + data.targetParentLocator);
                        }
                    }]
                }
            });
        } else {
            movedAlertView = new AlertView.Confirmation({
                title: title
            });
        }
        movedAlertView.show();
        // scroll to top
        $.smoothScroll({
            offset: 0,
            easing: 'swing',
            speed: 1000
        });
        movedAlertView.$('.wrapper').first().focus();
        return movedAlertView;
    };

    hideMovedNotification = function hideMovedNotification() {
        var movedAlertView = Feedback.active_alert;
        if (movedAlertView) {
            AlertView.prototype.hide.apply(movedAlertView);
        }
    };

    return {
        redirectLink: redirectLink,
        moveXBlock: moveXBlock,
        undoMoveXBlock: undoMoveXBlock,
        showMovedNotification: showMovedNotification,
        hideMovedNotification: hideMovedNotification
    };
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/views/utils/xblock_utils.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * Provides utilities for views to work with xblocks.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__(3), __webpack_require__("./common/static/common/js/components/utils/view_utils.js"), __webpack_require__("./cms/static/js/utils/module.js"), __webpack_require__("./cms/static/js/models/xblock_info.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, gettext, ViewUtils, ModuleUtils, XBlockInfo, StringUtils) {
    'use strict';

    var addXBlock, duplicateXBlock, deleteXBlock, createUpdateRequestData, updateXBlockField, VisibilityState, getXBlockVisibilityClass, getXBlockListTypeClass, updateXBlockFields, getXBlockType, findXBlockInfo, moveXBlock;

    /**
     * Represents the possible visibility states for an xblock:
     *
     *   live - the block and all of its descendants are live to students (excluding staff only)
     *     Note: Live means both published and released.
     *
     *   ready - the block is ready to go live and all of its descendants are live or ready (excluding staff only)
     *     Note: content is ready when it is published and scheduled with a release date in the future.
     *
     *   unscheduled - the block and all of its descendants have no release date (excluding staff only)
     *     Note: it is valid for items to be published with no release date in which case they are unscheduled.
     *
     *   needsAttention - the block or its descendants need attention
     *     i.e. there is some content that is not fully live, ready, unscheduled or staff only.
     *     For example: one subsection has draft content, or there's both unreleased and released content
     *     in one section.
     *
     *   staffOnly - all of the block's content is to be shown to staff only
     *     Note: staff only items do not affect their parent's state.
     */
    VisibilityState = {
        live: 'live',
        ready: 'ready',
        unscheduled: 'unscheduled',
        needsAttention: 'needs_attention',
        staffOnly: 'staff_only',
        gated: 'gated'
    };

    /**
     * Adds an xblock based upon the data attributes of the specified add button. A promise
     * is returned, and the new locator is passed to all done handlers.
     * @param target The add button that was clicked upon.
     * @returns {jQuery promise} A promise representing the addition of the xblock.
     */
    addXBlock = function addXBlock(target) {
        var parentLocator = target.data('parent'),
            category = target.data('category'),
            displayName = target.data('default-name');
        return ViewUtils.runOperationShowingMessage(gettext('Adding'), function () {
            var addOperation = $.Deferred();
            analytics.track('Created a ' + category, {
                course: course_location_analytics,
                display_name: displayName
            });
            $.postJSON(ModuleUtils.getUpdateUrl(), {
                parent_locator: parentLocator,
                category: category,
                display_name: displayName
            }, function (data) {
                var locator = data.locator;
                addOperation.resolve(locator);
            });
            return addOperation.promise();
        });
    };

    /**
     * Duplicates the specified xblock element in its parent xblock.
     * @param {jquery Element}  xblockElement  The xblock element to be duplicated.
     * @param {jquery Element}  parentElement  Parent element of the xblock element to be duplicated,
     *      new duplicated xblock would be placed under this xblock.
     * @returns {jQuery promise} A promise representing the duplication of the xblock.
     */
    duplicateXBlock = function duplicateXBlock(xblockElement, parentElement) {
        return ViewUtils.runOperationShowingMessage(gettext('Duplicating'), function () {
            var duplicationOperation = $.Deferred();
            $.postJSON(ModuleUtils.getUpdateUrl(), {
                duplicate_source_locator: xblockElement.data('locator'),
                parent_locator: parentElement.data('locator')
            }, function (data) {
                duplicationOperation.resolve(data);
            }).fail(function () {
                duplicationOperation.reject();
            });
            return duplicationOperation.promise();
        });
    };

    /**
     * Moves the specified xblock in a new parent xblock.
     * @param {String}  sourceLocator  Locator of xblock element to be moved.
     * @param {String}  targetParentLocator  Locator of the target parent xblock, moved xblock would be placed
     *      under this xblock.
     * @param {Integer}  targetIndex  Intended index position of the xblock in parent xblock. If provided,
     *      xblock would be placed at the particular index in the parent xblock.
     * @returns {jQuery promise} A promise representing the moving of the xblock.
     */
    moveXBlock = function moveXBlock(sourceLocator, targetParentLocator, targetIndex) {
        var moveOperation = $.Deferred(),
            operationText = targetIndex !== undefined ? gettext('Undo moving') : gettext('Moving');
        return ViewUtils.runOperationShowingMessage(operationText, function () {
            $.patchJSON(ModuleUtils.getUpdateUrl(), {
                move_source_locator: sourceLocator,
                parent_locator: targetParentLocator,
                target_index: targetIndex
            }, function (response) {
                moveOperation.resolve(response);
            }).fail(function () {
                moveOperation.reject();
            });
            return moveOperation.promise();
        });
    };

    /**
     * Deletes the specified xblock.
     * @param xblockInfo The model for the xblock to be deleted.
     * @param xblockType A string representing the type of the xblock to be deleted.
     * @returns {jQuery promise} A promise representing the deletion of the xblock.
     */
    deleteXBlock = function deleteXBlock(xblockInfo, xblockType) {
        var deletion = $.Deferred(),
            url = ModuleUtils.getUpdateUrl(xblockInfo.id),
            operation = function operation() {
            ViewUtils.runOperationShowingMessage(gettext('Deleting'), function () {
                return $.ajax({
                    type: 'DELETE',
                    url: url
                }).success(function () {
                    deletion.resolve();
                });
            });
        },
            messageBody;
        xblockType = xblockType || 'component'; // eslint-disable-line no-param-reassign
        messageBody = StringUtils.interpolate(gettext('Deleting this {xblock_type} is permanent and cannot be undone.'), { xblock_type: xblockType }, true);

        if (xblockInfo.get('is_prereq')) {
            messageBody += ' ' + gettext('Any content that has listed this content as a prerequisite will also have access limitations removed.'); // eslint-disable-line max-len
            ViewUtils.confirmThenRunOperation(StringUtils.interpolate(gettext('Delete this {xblock_type} (and prerequisite)?'), { xblock_type: xblockType }, true), messageBody, StringUtils.interpolate(gettext('Yes, delete this {xblock_type}'), { xblock_type: xblockType }, true), operation);
        } else {
            ViewUtils.confirmThenRunOperation(StringUtils.interpolate(gettext('Delete this {xblock_type}?'), { xblock_type: xblockType }, true), messageBody, StringUtils.interpolate(gettext('Yes, delete this {xblock_type}'), { xblock_type: xblockType }, true), operation);
        }
        return deletion.promise();
    };

    createUpdateRequestData = function createUpdateRequestData(fieldName, newValue) {
        var metadata = {};
        metadata[fieldName] = newValue;
        return {
            metadata: metadata
        };
    };

    /**
     * Updates the specified field of an xblock to a new value.
     * @param {Backbone Model} xblockInfo The XBlockInfo model representing the xblock.
     * @param {String} fieldName The xblock field name to be updated.
     * @param {*} newValue The new value for the field.
     * @returns {jQuery promise} A promise representing the updating of the field.
     */
    updateXBlockField = function updateXBlockField(xblockInfo, fieldName, newValue) {
        var requestData = createUpdateRequestData(fieldName, newValue);
        return ViewUtils.runOperationShowingMessage(gettext('Saving'), function () {
            return xblockInfo.save(requestData, { patch: true });
        });
    };

    /**
     * Updates the specified fields of an xblock to a new values.
     * @param {Backbone Model} xblockInfo The XBlockInfo model representing the xblock.
     * @param {Object} xblockData Object representing xblock data as accepted on server.
     * @param {Object} [options] Hash with options.
     * @returns {jQuery promise} A promise representing the updating of the xblock values.
     */
    updateXBlockFields = function updateXBlockFields(xblockInfo, xblockData, options) {
        options = _.extend({}, { patch: true }, options);
        return ViewUtils.runOperationShowingMessage(gettext('Saving'), function () {
            return xblockInfo.save(xblockData, options);
        });
    };

    /**
     * Returns the CSS class to represent the specified xblock visibility state.
     */
    getXBlockVisibilityClass = function getXBlockVisibilityClass(visibilityState) {
        if (visibilityState === VisibilityState.staffOnly) {
            return 'is-staff-only';
        }
        if (visibilityState === VisibilityState.gated) {
            return 'is-gated';
        }
        if (visibilityState === VisibilityState.live) {
            return 'is-live';
        }
        if (visibilityState === VisibilityState.ready) {
            return 'is-ready';
        }
        if (visibilityState === VisibilityState.needsAttention) {
            return 'has-warnings';
        }
        return '';
    };

    getXBlockListTypeClass = function getXBlockListTypeClass(xblockType) {
        var listType = 'list-unknown';
        if (xblockType === 'course') {
            listType = 'list-sections';
        } else if (xblockType === 'section') {
            listType = 'list-subsections';
        } else if (xblockType === 'subsection') {
            listType = 'list-units';
        }
        return listType;
    };

    getXBlockType = function getXBlockType(category, parentInfo, translate) {
        var xblockType = category;
        if (category === 'chapter') {
            xblockType = translate ? gettext('section') : 'section';
        } else if (category === 'sequential') {
            xblockType = translate ? gettext('subsection') : 'subsection';
        } else if (category === 'vertical' && (!parentInfo || parentInfo.get('category') === 'sequential')) {
            xblockType = translate ? gettext('unit') : 'unit';
        }
        return xblockType;
    };

    findXBlockInfo = function findXBlockInfo(xblockWrapperElement, defaultXBlockInfo) {
        var xblockInfo = defaultXBlockInfo,
            xblockElement,
            displayName,
            hasChildren;
        if (xblockWrapperElement.length > 0) {
            xblockElement = xblockWrapperElement.find('.xblock');
            displayName = xblockWrapperElement.find('.xblock-header .header-details .xblock-display-name').text().trim();
            // If not found, try looking for the old unit page style rendering.
            // Only used now by static pages.
            if (!displayName) {
                displayName = xblockElement.find('.component-header').text().trim();
            }
            hasChildren = defaultXBlockInfo ? defaultXBlockInfo.get('has_children') : false;
            xblockInfo = new XBlockInfo({
                id: xblockWrapperElement.data('locator'),
                courseKey: xblockWrapperElement.data('course-key'),
                category: xblockElement.data('block-type'),
                display_name: displayName,
                has_children: hasChildren
            });
        }
        return xblockInfo;
    };

    return {
        VisibilityState: VisibilityState,
        addXBlock: addXBlock,
        moveXBlock: moveXBlock,
        duplicateXBlock: duplicateXBlock,
        deleteXBlock: deleteXBlock,
        updateXBlockField: updateXBlockField,
        getXBlockVisibilityClass: getXBlockVisibilityClass,
        getXBlockListTypeClass: getXBlockListTypeClass,
        updateXBlockFields: updateXBlockFields,
        getXBlockType: getXBlockType,
        findXBlockInfo: findXBlockInfo
    };
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/views/video/transcripts/file_uploader.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(2), __webpack_require__(1), __webpack_require__("./cms/static/js/views/video/transcripts/utils.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, Backbone, _, TranscriptUtils, HtmlUtils) {
    'use strict';

    var FileUploader = Backbone.View.extend({
        invisibleClass: 'is-invisible',

        // Pre-defined list of supported file formats.
        validFileExtensions: ['srt'],

        events: {
            'change .file-input': 'changeHandler',
            'click .setting-upload': 'clickHandler'
        },

        uploadTpl: '#file-upload',

        initialize: function initialize(options) {
            _.bindAll(this, 'changeHandler', 'clickHandler', 'xhrResetProgressBar', 'xhrProgressHandler', 'xhrCompleteHandler', 'render');
            this.options = _.extend({}, options);
            this.file = false;
            this.render();
        },

        render: function render() {
            var tpl = $(this.uploadTpl).text(),
                tplContainer = this.$el.find('.transcripts-file-uploader');

            if (tplContainer.length) {
                if (!tpl) {
                    console.error('Couldn\'t load Transcripts File Upload template');

                    return;
                }
                this.template = HtmlUtils.template(tpl);
                HtmlUtils.setHtml(tplContainer, this.template({
                    ext: this.validFileExtensions,
                    component_locator: this.options.component_locator
                }));

                this.$form = this.$el.find('.file-chooser');
                this.$input = this.$form.find('.file-input');
                this.$progress = this.$el.find('.progress-fill');
            }
        },

        /**
        * @function
        *
        * Uploads file to the server. Get file from the `file` property.
        *
        */
        upload: function upload() {
            var data = {
                edx_video_id: TranscriptUtils.Storage.get('edx_video_id') || ''
            };

            if (!this.file) {
                return;
            }

            this.$form.ajaxSubmit({
                beforeSend: this.xhrResetProgressBar,
                uploadProgress: this.xhrProgressHandler,
                complete: this.xhrCompleteHandler,
                data: data
            });
        },

        /**
        * @function
        *
        * Handle click event on `upload` button.
        *
        * @param {object} event Event object.
        *
        */
        clickHandler: function clickHandler(event) {
            event.preventDefault();

            this.$input.val(null)
            // Show system upload window
            .trigger('click');
        },

        /**
        * @function
        *
        * Handle change event.
        *
        * @param {object} event Event object.
        *
        */
        changeHandler: function changeHandler(event) {
            event.preventDefault();

            this.options.messenger.hideError();
            this.file = this.$input.get(0).files[0];

            // if file has valid file extension, than upload file.
            // Otherwise, show error message.
            if (this.checkExtValidity(this.file)) {
                this.upload();
            } else {
                this.options.messenger.showError(gettext('Please select a file in .srt format.'));
            }
        },

        /**
        * @function
        *
        * Checks that file has supported extension.
        *
        * @param {object} file Object with information about file.
        *
        * @returns {boolean} Indicate that file has supported or unsupported
        *                    extension.
        *
        */
        checkExtValidity: function checkExtValidity(file) {
            var fileExtension;
            if (!file.name) {
                return void 0;
            }

            fileExtension = file.name.split('.').pop().toLowerCase();

            if ($.inArray(fileExtension, this.validFileExtensions) !== -1) {
                return true;
            }

            return false;
        },

        /**
        * @function
        *
        * Resets progress bar.
        *
        */
        xhrResetProgressBar: function xhrResetProgressBar() {
            var percentVal = '0%';

            this.$progress.width(percentVal).text(percentVal).removeClass(this.invisibleClass);
        },

        /**
        * @function
        *
        * Callback function to be invoked with upload progress information
        * (if supported by the browser).
        *
        * @param {object} event Event object.
        *
        * @param {integer} position Amount of transmitted bytes.
        * *
        * @param {integer} total Total size of file.
        * *
        * @param {integer} percentComplete Object with information about file.
        *
        */
        xhrProgressHandler: function xhrProgressHandler(event, position, total, percentComplete) {
            var percentVal = percentComplete + '%';

            this.$progress.width(percentVal).text(percentVal);
        },

        /**
        * @function
        *
        * Handle complete uploading.
        *
        */
        xhrCompleteHandler: function xhrCompleteHandler(xhr) {
            var resp = JSON.parse(xhr.responseText),
                err = resp.status || gettext('Error: Uploading failed.'),
                edxVideoId = resp.edx_video_id;

            this.$progress.addClass(this.invisibleClass);

            if (xhr.status === 200) {
                this.options.messenger.render('uploaded', resp);
                Backbone.trigger('transcripts:basicTabUpdateEdxVideoId', edxVideoId);
            } else {
                this.options.messenger.showError(err);
            }
        }
    });

    return FileUploader;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/views/video/transcripts/message_manager.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(__webpack_provided_edx_dot_HtmlUtils) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(2), __webpack_require__(1), __webpack_require__("./cms/static/js/views/video/transcripts/utils.js"), __webpack_require__("./cms/static/js/views/video/transcripts/file_uploader.js"), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, Backbone, _, Utils, FileUploader, gettext) {
    var MessageManager = Backbone.View.extend({
        tagName: 'div',
        elClass: '.wrapper-transcripts-message',
        invisibleClass: 'is-invisible',

        events: {
            'click .setting-import': 'importHandler',
            'click .setting-replace': 'replaceHandler',
            'click .setting-choose': 'chooseHandler',
            'click .setting-use-existing': 'useExistingHandler'
        },

        // Pre-defined dict with anchors to status templates.
        templates: {
            not_found: '#transcripts-not-found',
            found: '#transcripts-found',
            import: '#transcripts-import',
            replace: '#transcripts-replace',
            uploaded: '#transcripts-uploaded',
            use_existing: '#transcripts-use-existing',
            choose: '#transcripts-choose'
        },

        initialize: function initialize(options) {
            _.bindAll(this, 'importHandler', 'replaceHandler', 'chooseHandler', 'useExistingHandler', 'showError', 'hideError');

            this.options = _.extend({}, options);

            this.component_locator = this.$el.closest('[data-locator]').data('locator');

            this.fileUploader = new FileUploader({
                el: this.$el,
                messenger: this,
                component_locator: this.component_locator
            });
        },

        render: function render(template_id, params) {
            var tplHtml = $(this.templates[template_id]).text(),
                videoList = this.options.parent.getVideoObjectsList(),

            // Change list representation format to more convenient and group
            // them by video property.
            //                  Before:
            // [
            //      {mode: `html5`, type: `mp4`, video: `video_name_1`},
            //      {mode: `html5`, type: `webm`, video: `video_name_2`}
            // ]
            //                  After:
            // {
            //      `video_name_1`: [{mode: `html5`, type: `webm`, ...}],
            //      `video_name_2`: [{mode: `html5`, type: `mp4`, ...}]
            // }
            groupedList = _.groupBy(videoList, function (value) {
                return value.video;
            }),
                html5List = params ? params.html5_local : [],
                template;

            if (!tplHtml) {
                console.error('Couldn\'t load Transcripts status template');

                return this;
            }

            template = __webpack_provided_edx_dot_HtmlUtils.template(tplHtml);

            __webpack_provided_edx_dot_HtmlUtils.setHtml(this.$el.find('.transcripts-status').removeClass('is-invisible').find(this.elClass), template({
                component_locator: encodeURIComponent(this.component_locator),
                html5_list: html5List,
                grouped_list: groupedList,
                subs_id: params ? params.subs : ''
            }));

            this.fileUploader.render();

            return this;
        },

        /**
        * @function
        *
        * Shows error message.
        *
        * @param {string} err Error message that will be shown
        *
        * @param {boolean} hideButtons Hide buttons
        *
        */
        showError: function showError(err, hideButtons) {
            var $error = this.$el.find('.transcripts-error-message');

            if (err) {
                // Hide any other error messages.
                this.hideError();
                __webpack_provided_edx_dot_HtmlUtils.setHtml($error, gettext(err)).removeClass(this.invisibleClass);
                if (hideButtons) {
                    this.$el.find('.wrapper-transcripts-buttons').addClass(this.invisibleClass);
                }
            }
        },

        /**
        * @function
        *
        * Hides error message.
        *
        */
        hideError: function hideError() {
            this.$el.find('.transcripts-error-message').addClass(this.invisibleClass);

            this.$el.find('.wrapper-transcripts-buttons').removeClass(this.invisibleClass);
        },

        /**
        * @function
        *
        * Handle import button.
        *
        * @params {object} event Event object.
        *
        */
        importHandler: function importHandler(event) {
            event.preventDefault();

            this.processCommand('replace', gettext('Error: Import failed.'));
        },

        /**
        * @function
        *
        * Handle replace button.
        *
        * @params {object} event Event object.
        *
        */
        replaceHandler: function replaceHandler(event) {
            event.preventDefault();

            this.processCommand('replace', gettext('Error: Replacing failed.'));
        },

        /**
        * @function
        *
        * Handle choose buttons.
        *
        * @params {object} event Event object.
        *
        */
        chooseHandler: function chooseHandler(event) {
            event.preventDefault();

            var videoId = $(event.currentTarget).data('video-id');

            this.processCommand('choose', gettext('Error: Choosing failed.'), videoId);
        },

        /**
        * @function
        *
        * Handle `use existing` button.
        *
        * @params {object} event Event object.
        *
        */
        useExistingHandler: function useExistingHandler(event) {
            event.preventDefault();

            this.processCommand('rename', gettext('Error: Choosing failed.'));
        },

        /**
        * @function
        *
        * Decorator for `command` function in the Utils.
        *
        * @params {string} action Action that will be invoked on server. Is a part
        *                         of url.
        *
        * @params {string} errorMessage Error massage that will be shown if any
        *                               connection error occurs
        *
        * @params {string} videoId Extra parameter that sometimes should be sent
        *                          to the server
        *
        */
        processCommand: function processCommand(action, errorMessage, videoId) {
            var self = this,
                component_locator = this.component_locator,
                videoList = this.options.parent.getVideoObjectsList(),
                extraParam,
                xhr;

            if (videoId) {
                extraParam = { html5_id: videoId };
            }

            xhr = Utils.command(action, component_locator, videoList, extraParam).done(function (resp) {
                var edxVideoID = resp.edx_video_id;

                self.render('found', resp);
                Backbone.trigger('transcripts:basicTabUpdateEdxVideoId', edxVideoID);
            }).fail(function (resp) {
                var message = resp.status || errorMessage;
                self.showError(message);
            });

            return xhr;
        }

    });

    return MessageManager;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")))

/***/ }),

/***/ "./cms/static/js/views/video/transcripts/metadata_videolist.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(2), __webpack_require__(1), __webpack_require__("./cms/static/js/views/abstract_editor.js"), __webpack_require__("./cms/static/js/views/video/transcripts/utils.js"), __webpack_require__("./cms/static/js/views/video/transcripts/message_manager.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, Backbone, _, AbstractEditor, Utils, MessageManager) {
    'use strict';

    var VideoList = AbstractEditor.extend({
        // Time that we wait since the last time user typed.
        inputDelay: 300,

        events: {
            'click .setting-clear': 'clear',
            'keypress .setting-input': 'showClearButton',
            'click .collapse-setting': 'toggleExtraVideosBar'
        },

        templateName: 'metadata-videolist-entry',

        // Pre-defined dict of placeholders: "videoType - placeholder" pairs.
        placeholders: {
            webm: '.webm',
            mp4: 'http://somesite.com/video.mp4',
            youtube: 'http://youtube.com/'
        },

        initialize: function initialize(options) {
            // Initialize MessageManager that is responsible for
            // status messages and errors.
            this.options = _.extend({}, options);
            var Messenger = this.options.MessageManager || MessageManager;

            this.messenger = new Messenger({
                el: this.$el,
                parent: this
            });

            // Call it after MessageManager. This is because
            // MessageManager is used in `render` method that
            // is called in `AbstractEditor.prototype.initialize`.
            AbstractEditor.prototype.initialize.apply(this, arguments);

            this.$el.on('input', '.videolist-settings-item input', _.debounce(_.bind(this.inputHandler, this), this.inputDelay));

            this.component_locator = this.$el.closest('[data-locator]').data('locator');
        },

        render: function render() {
            // Call inherited `render` method.
            AbstractEditor.prototype.render.apply(this, arguments);

            this.$extraVideosBar = this.$el.find('.videolist-extra-videos');

            // Check current state of Timed Transcripts.
            Backbone.trigger('transcripts:basicTabFieldChanged');
        },

        updateOnCheckTranscriptSuccess: function updateOnCheckTranscriptSuccess(videoList, response) {
            var params = response,
                len = videoList.length,
                mode = len === 1 ? videoList[0].mode : false;

            // If there are more than 1 video or just html5 source is
            // passed, video sources box should expand
            if (len > 1 || mode === 'html5') {
                this.openExtraVideosBar();
            } else {
                this.closeExtraVideosBar();
            }

            this.messenger.render(response.command, params);
            this.checkIsUniqVideoTypes();
        },

        /**
         * Updates the message with error.
         */
        showServerError: function showServerError(response) {
            var errorMessage = gettext('Error: Connection with server failed.');

            if (response.responseJSON !== undefined) {
                errorMessage = response.responseJSON.status;
            }

            this.messenger.render('not_found').showError(errorMessage, true // hide buttons
            );
        },

        /**
         * Returns the values currently displayed in the editor/view.
         * @return {Array} List of non-empty values.
         */
        getValueFromEditor: function getValueFromEditor() {
            return _.map(this.$el.find('.input'), function (ele) {
                return ele.value.trim();
            }).filter(_.identity);
        },

        /**
         * Returns list of objects with information about the values currently
         * displayed in the editor/view.
         * @return {Array} List of objects.
         * @examples
         * this.getValueFromEditor(); // =>
         *     [
         *          'http://youtu.be/OEoXaMPEzfM',
         *          'video_name.mp4',
         *          'video_name.webm'
         *     ]
         *
         * this.getVideoObjectsList(); // =>
         *     [
         *       {mode: `youtube`, type: `youtube`, ...},
         *       {mode: `html5`, type: `mp4`, ...},
         *       {mode: `html5`, type: `webm`, ...}
         *     ]
         *
         */
        getVideoObjectsList: function getVideoObjectsList() {
            var links = this.getValueFromEditor();

            return Utils.getVideoList(links);
        },

        /**
         * Sets the values currently displayed in the editor/view.
         * @param {Array} value List of values.
         */
        setValueInEditor: function setValueInEditor(value) {
            var list = this.$el.find('.input'),
                val = value.filter(_.identity),
                placeholders = this.getPlaceholders(val);

            list.each(function (index) {
                $(this).val(val[index] || null).attr('placeholder', placeholders[index]);
            });
        },

        /**
         * Returns the placeholders for the values currently displayed in the
         * editor/view.
         * @return {Array} List of placeholders.
         */
        getPlaceholders: function getPlaceholders(value) {
            var parseLink = Utils.parseLink,
                placeholders = _.clone(this.placeholders);

            // Returned list should have the same size as a count of editors.
            return _.map(this.$el.find('.input'), function (element, index) {
                var linkInfo = parseLink(value[index]),
                    type = linkInfo ? linkInfo.type : null,
                    label;

                // If placeholder for current video type exist, retrieve it
                // and remove from cloned list.
                // Otherwise, we use the remaining placeholders.
                if (placeholders[type]) {
                    label = placeholders[type];
                    delete placeholders[type];
                } else {
                    if (!$.isArray(placeholders)) {
                        placeholders = _.values(placeholders);
                    }

                    label = placeholders.pop();
                }

                return label;
            });
        },

        /**
         * Opens video sources box.
         * @param {Object} event Event object.
         */
        openExtraVideosBar: function openExtraVideosBar(event) {
            if (event && event.preventDefault) {
                event.preventDefault();
            }

            this.$extraVideosBar.addClass('is-visible');
        },

        /**
         * Closes video sources box.
         * @param {Object} event Event object.
         */
        closeExtraVideosBar: function closeExtraVideosBar(event) {
            if (event && event.preventDefault) {
                event.preventDefault();
            }

            this.$extraVideosBar.removeClass('is-visible');
        },

        /**
         * Toggles video sources box.
         * @param {Object} event Event object.
         */
        toggleExtraVideosBar: function toggleExtraVideosBar(event) {
            if (event && event.preventDefault) {
                event.preventDefault();
            }

            if (this.$extraVideosBar.hasClass('is-visible')) {
                this.closeExtraVideosBar.apply(this, arguments);
            } else {
                this.openExtraVideosBar.apply(this, arguments);
            }
        },

        /**
         * Handle `input` event.
         * @param {Object} event Event object.
         */
        inputHandler: function inputHandler(event) {
            if (event && event.preventDefault) {
                event.preventDefault();
            }

            var $el = $(event.currentTarget),
                $inputs = this.$el.find('.input'),
                entry = $el.val(),
                data = Utils.parseLink(entry),
                isNotEmpty = Boolean(entry);

            // Empty value should not be validated
            if (this.checkValidity(data, isNotEmpty)) {
                var fieldsValue = this.getValueFromEditor(),
                    modelValue = this.model.getValue();

                if (modelValue) {
                    // Remove empty values
                    modelValue = modelValue.filter(_.identity);
                }

                // When some correct value is adjusted (model is changed),
                // then field changes to incorrect value (no changes to model),
                // then back to previous correct value (that value is already
                // in model). In this case Backbone doesn't trigger 'change'
                // event on model. That's why render method will not be invoked
                // and we should hide error here.
                if (_.isEqual(fieldsValue, modelValue)) {
                    this.messenger.hideError();
                } else {
                    this.updateModel();
                }

                // Enable inputs.
                $inputs.prop('disabled', false).attr('aria-disabled', false).removeClass('is-disabled');
            } else {
                // If any error occurs, disable all inputs except the current.
                // User cannot change other inputs before putting valid value in
                // the current input.
                $inputs.not($el).prop('disabled', true).attr('aria-disabled', true).addClass('is-disabled');

                // If error occurs in the main video input, just close video
                // sources box.
                if ($el.hasClass('videolist-url')) {
                    this.closeExtraVideosBar();
                }
            }
        },

        /**
         * Checks the values currently displayed in the editor/view have unique
         * types (mp4 | webm | youtube).
         * @param {Object} videoList List of objects with information about the
         * @return {Boolean} Boolean value that indicate if video types are
         * unique.
         */
        isUniqVideoTypes: function isUniqVideoTypes(videoList) {
            // Extract a list of "type" property values.
            // => ex: ['webm', 'mp4', 'mp4']
            var arr = _.pluck(videoList, 'type').filter(function (item) {
                return item !== 'other';
            }),

            // Produces a duplicate-free version of the array.
            uniqArr = _.uniq(arr); // => ex: ['webm', 'mp4']

            return arr.length === uniqArr.length;
        },

        /**
         * Checks that links without file format are unique.
         * @param {Object} videoList List of objects with information about the
         * @return {Boolean} Boolean value that indicate if video types are
         * unique.
         */
        isUniqOtherVideos: function isUniqOtherVideos(videoList) {
            // Returns list of video objects with "type" equal "other" or
            // "youtube".
            var otherLinksList = videoList.filter(function (item) {
                return item.type === 'other';
            }),

            // Extract a list of "video" property values.
            namesList = _.pluck(otherLinksList, 'video'),

            // Produces a duplicate-free version of the array.
            uniqNamesList = _.uniq(namesList);

            return namesList.length === uniqNamesList.length;
        },

        /**
         * Validates video list using provided validator.
         * @param {Function} validator Function that validate provided list.
         * @param {Object} list List of objects with information about the
         * values currently displayed in the editor.
         * @param {String} message Error message.
         * @return {Boolean}
         */
        checkIsValid: function checkIsValid(validator, list, message) {
            var videoList = list || this.getVideoObjectsList(),
                isValid = true;

            if (!validator(videoList)) {
                this.messenger.showError(message, true);
                isValid = false;
            }

            return isValid;
        },

        /**
         * Validates if video types are unique.
         * @param {Object} list List of objects with information about the
         * values currently displayed in the editor.
         * @return {Boolean}
         */
        checkIsUniqVideoTypes: function checkIsUniqVideoTypes(list) {
            return this.checkIsValid(this.isUniqVideoTypes, list, gettext('Link types should be unique.'));
        },

        /**
         * Validates if other videos ids are unique.
         * editor/view have duplicate types.
         * @param {Object} list List of objects with information about the
         * values currently displayed in the editor.
         * @return {Boolean}
         */
        checkIsUniqOtherVideos: function checkIsUniqOtherVideos(list) {
            return this.checkIsValid(this.isUniqOtherVideos, list, gettext('Links should be unique.'));
        },

        /**
         * Checks if the values currently displayed in the editor/view have
         * valid values and show error messages.
         * @param {Object} data Objects with information about the  value
         * currently displayed in the editor/view
         * @param {Boolean} showErrorModeMessage Disable mode validation
         * @return {Boolean} Boolean value that indicate if value is valid.
         */
        checkValidity: function checkValidity(data, showErrorModeMessage) {
            var videoList = this.getVideoObjectsList(),
                isUniqTypes = this.checkIsUniqVideoTypes.bind(this),
                isUniqOtherVideos = this.checkIsUniqOtherVideos.bind(this);

            if (!isUniqTypes(videoList) || !isUniqOtherVideos(videoList)) {
                return false;
            }

            if (data.mode === 'incorrect' && showErrorModeMessage) {
                this.messenger.showError(gettext('Incorrect url format.'), true);

                return false;
            }

            return true;
        }
    });

    return VideoList;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/views/video/transcripts/utils.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__("./common/static/js/vendor/jquery.ajaxQueue.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($) {
    'use strict';

    return function () {
        var Storage = {};

        /**
         * Adds some data to the Storage object. If data with existent `data_id`
         * is added, nothing happens.
         * @function
         * @param {String} data_id Unique identifier for the data.
         * @param {Any} data Data that should be stored.
         * @return {Object} Object itself for chaining.
         */
        Storage.set = function (data_id, data) {
            Storage[data_id] = data;
            return this;
        };

        /**
         * Return data from the Storage object by identifier.
         * @function
         * @param {String} data_id Unique identifier of the data.
         * @return {Any} Stored data.
         */
        Storage.get = function (data_id) {
            return Storage[data_id];
        };

        /**
         * Deletes data from the Storage object by identifier.
         * @function
         * @param {String} data_id Unique identifier of the data.
         * @return {Boolean} Boolean value that indicate if data is removed.
         */
        Storage.remove = function (data_id) {
            return delete Storage[data_id];
        };

        /**
         * Returns model from collection by 'field_name' property.
         * @function
         * @param {Object} collection The model (CMS.Models.Metadata) information
         * about metadata setting editors.
         * @param {String} field_name Name of field that should be found.
         * @return {
         *    Object:        When model exist.
         *    Undefined:     When model doesn't exist.
         * }
         */
        var _getField = function _getField(collection, field_name) {
            var model;

            if (collection && field_name) {
                model = collection.findWhere({
                    field_name: field_name
                });
            }

            return model;
        };

        /**
         * Parses Youtube link and return video id.
         * @function
         * These are the types of URLs supported:
         * http://www.youtube.com/watch?v=OEoXaMPEzfM&feature=feedrec_grec_index
         * http://www.youtube.com/user/IngridMichaelsonVEVO#p/a/u/1/OEoXaMPEzfM
         * http://www.youtube.com/v/OEoXaMPEzfM?fs=1&amp;hl=en_US&amp;rel=0
         * http://www.youtube.com/watch?v=OEoXaMPEzfM#t=0m10s
         * http://www.youtube.com/embed/OEoXaMPEzfM?rel=0
         * http://www.youtube.com/watch?v=OEoXaMPEzfM
         * http://youtu.be/OEoXaMPEzfM
         * @param {String} url Url that should be parsed.
         * @return {
         *    String:        Video Id.
         *    Undefined:     When url has incorrect format or argument is
         *                   non-string, video id's length is not equal 11.
         * }
         */
        var _youtubeParser = function () {
            var cache = {},
                regExp = /(?:http|https|)(?:\:\/\/|)(?:www.|)(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/ytscreeningroom\?v=|\/feeds\/api\/videos\/|\/user\S*[^\w\-\s]|\S*[^\w\-\s]))([\w\-]+)/i;

            return function (url) {
                if (typeof url !== 'string') {
                    return void 0;
                }

                if (cache[url]) {
                    return cache[url];
                }

                var match = url.match(regExp);
                cache[url] = match ? match[1] : void 0;

                return cache[url];
            };
        }();

        /**
         * Parses links with html5 video sources in mp4 or webm formats.
         * @function
         * @param {String} url Url that should be parsed.
         * @return {
         *    Object:        Object with information about the video
         *                   (file name, video type),
         *    Undefined:     when url has incorrect format or argument is
         *                   non-string.
         * }
         */
        var _videoLinkParser = function () {
            var cache = {};

            return function (url) {
                if (typeof url !== 'string') {
                    return void 0;
                }

                if (cache[url]) {
                    return cache[url];
                }

                var link = document.createElement('a'),
                    match;

                link.href = url;
                // The regular expression try catches file name and file extension.
                // '[scheme://hostname/pathname/]filename.extension[?query#hash]'
                match = link.pathname.match(/\/{1}([^\/]+)\.([^\/]+)$/);
                if (match) {
                    cache[url] = {
                        video: match[1],
                        type: match[2]
                    };
                } else {
                    // Links like http://goo.gl/pxxZrg
                    // The regular expression try catches file name.
                    // '[scheme://hostname/pathname/]filename[?query#hash]'
                    match = link.pathname.match(/\/{1}([^\/\.]+)$/);
                    if (match) {
                        cache[url] = {
                            video: match[1],
                            type: 'other'
                        };
                    }
                }

                return cache[url];
            };
        }();

        /**
         * Facade function that parses html5 and youtube links.
         * @function
         * @param {String} url Url that should be parsed.
         * @return {
         *    object:        Object with information about the video:
         *                   {
         *                       mode: "youtube|html5|incorrect",
         *                       video: "file_name|youtube_id",
         *                       type: "youtube|mp4|webm|other"
         *                   },
         *    undefined:     when argument is non-string.
         * }
         */
        var _linkParser = function _linkParser(url) {
            var youtubeIdLength = 11,
                result;

            if (typeof url !== 'string') {
                return void 0;
            }

            if (_youtubeParser(url)) {
                if (_youtubeParser(url).length === youtubeIdLength) {
                    result = {
                        mode: 'youtube',
                        video: _youtubeParser(url),
                        type: 'youtube'
                    };
                } else {
                    result = {
                        mode: 'incorrect'
                    };
                }
            } else if (_videoLinkParser(url)) {
                result = $.extend({ mode: 'html5' }, _videoLinkParser(url));
            } else {
                result = {
                    mode: 'incorrect'
                };
            }

            return result;
        };

        /**
         * Returns short-hand youtube url.
         * @function
         * @param {String} video_id Youtube Video Id that will be added to the link.
         * @return {String} Short-hand Youtube url.
         * @examples
         * _getYoutubeLink('OEoXaMPEzfM'); => 'http://youtu.be/OEoXaMPEzfM'
         */
        var _getYoutubeLink = function _getYoutubeLink(video_id) {
            return 'http://youtu.be/' + video_id;
        };

        /**
         * Returns list of objects with information about the passed links.
         * @function
         * @param {Array} links List of links that will be processed.
         * @returns {Array} List of objects.
         * @examples
         * var links = [
         *      'http://youtu.be/OEoXaMPEzfM',
         *      'video_name.mp4',
         *      'video_name.webm'
         * ]
         *
         * _getVideoList(links); // =>
         *     [
         *       {mode: `youtube`, type: `youtube`, ...},
         *       {mode: `html5`, type: `mp4`, ...},
         *       {mode: `html5`, type: `webm`, ...}
         *     ]
         */
        var _getVideoList = function _getVideoList(links) {
            if ($.isArray(links)) {
                var arr = [],
                    data;

                for (var i = 0, len = links.length; i < len; i += 1) {
                    data = _linkParser(links[i]);

                    if (data.mode !== 'incorrect') {
                        arr.push(data);
                    }
                }

                return arr;
            }
        };

        /**
         * Synchronizes 2 Backbone collections by 'field_name' property.
         * @function
         * @param {Object} fromCollection Collection with which synchronization will
         * happens.
         * @param {Object} toCollection Collection which will synchronized.
         */
        var _syncCollections = function _syncCollections(fromCollection, toCollection) {
            fromCollection.each(function (m) {
                var model = toCollection.findWhere({
                    field_name: m.getFieldName()
                });

                if (model) {
                    model.setValue(m.getDisplayValue());
                }
            });
        };

        /**
         * Sends Ajax requests in appropriate format.
         * @function
         * @param {String} action Action that will be invoked on server.
         * @param {String} component_locator the locator of component.
         * @param {Array} videoList List of object with information about inserted
         * urls.
         * @param {Object} extraParams Extra parameters that can be send to the
         * server.
         * @return {Object} XMLHttpRequest object. Using this object, we can
         * attach callbacks to AJAX request events (for example on 'done',
         * 'fail', etc.).
         */
        var _command = function () {
            // We will store the XMLHttpRequest object that $.ajax() function
            // returns, to abort an ongoing AJAX request (if necessary) upon
            // subsequent invocations of _command() function.
            //
            // A new AJAX request will be made on each invocation of the
            // _command() function.
            var xhr = null;

            return function (action, locator, videoList, extraParams) {
                var params, data;

                if (extraParams) {
                    if ($.isPlainObject(extraParams)) {
                        params = extraParams;
                    } else {
                        params = { params: extraParams };
                    }
                }

                data = $.extend({ locator: locator }, { videos: videoList }, params);

                xhr = $.ajaxQueue({
                    url: '/transcripts/' + action,
                    data: { data: JSON.stringify(data) },
                    notifyOnError: false,
                    type: 'get'
                });

                return xhr;
            };
        }();

        return {
            getField: _getField,
            parseYoutubeLink: _youtubeParser,
            parseHTML5Link: _videoLinkParser,
            parseLink: _linkParser,
            getYoutubeLink: _getYoutubeLink,
            syncCollections: _syncCollections,
            command: _command,
            getVideoList: _getVideoList,
            Storage: {
                set: Storage.set,
                get: Storage.get,
                remove: Storage.remove
            }
        };
    }();
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/views/video/translations_editor.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"), __webpack_require__("./cms/static/js/views/video/transcripts/utils.js"), __webpack_require__("./cms/static/js/views/abstract_editor.js"), __webpack_require__("./common/static/common/js/components/utils/view_utils.js"), __webpack_require__("./cms/static/js/models/uploads.js"), __webpack_require__("./cms/static/js/views/uploads.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, HtmlUtils, TranscriptUtils, AbstractEditor, ViewUtils, FileUpload, UploadDialog) {
    'use strict';

    var VideoUploadDialog = UploadDialog.extend({
        error: function error() {
            this.model.set({
                uploading: false,
                uploadedBytes: 0,
                title: gettext('Sorry, there was an error parsing the subtitles that you uploaded. Please check the format and try again.')
            });
        }
    });

    var Translations = AbstractEditor.extend({
        events: {
            'click .create-setting': 'addEntry',
            'click .remove-setting': 'removeEntry',
            'click .upload-setting': 'upload',
            'change select': 'onChangeHandler'
        },

        templateName: 'metadata-translations-entry',
        templateItemName: 'metadata-translations-item',

        validFileFormats: ['srt'],

        initialize: function initialize() {
            var templateName = _.result(this, 'templateItemName'),
                tpl = document.getElementById(templateName).text,
                languageMap = {};

            if (!tpl) {
                console.error("Couldn't load template for item: " + templateName);
            }

            this.templateItem = _.template(tpl);

            // Initialize language map. This maps original language to the newly selected language.
            // Keys in this map represent language codes present on server, they don't change when
            // user selects a language while values represent currently selected language.
            // Initially, the map will look like {'ar': 'ar', 'zh': 'zh'} i.e {'original_lang': 'original_lang'}
            // and corresponding dropdowns will show language names Arabic and Chinese. If user changes
            // Chinese to Russian then map will become {'ar': 'ar', 'zh': 'ru'} i.e {'original_lang': 'new_lang'}
            _.each(this.model.getDisplayValue(), function (value, lang) {
                languageMap[lang] = lang;
            });
            TranscriptUtils.Storage.set('languageMap', languageMap);
            AbstractEditor.prototype.initialize.apply(this, arguments);
        },

        getDropdown: function () {
            var dropdown,
                disableOptions = function disableOptions(element, values) {
                var dropdown = $(element).clone();

                _.each(values, function (value, key) {
                    // Note: IE may raise an exception if key is an empty string,
                    // while other browsers return null as excepted. So coerce it
                    // into null for browser consistency.
                    if (key === '') {
                        key = null;
                    }

                    var option = dropdown[0].options.namedItem(key);

                    if (option) {
                        option.disabled = true;
                    }
                });

                return dropdown;
            };

            return function (values) {
                if (dropdown) {
                    return disableOptions(dropdown, values);
                }

                dropdown = document.createElement('select');
                dropdown.options.add(new Option());
                _.each(this.model.get('languages'), function (lang, index) {
                    var option = new Option();

                    option.setAttribute('name', lang.code);
                    option.value = lang.code;
                    option.text = lang.label;
                    dropdown.options.add(option);
                });

                return disableOptions(dropdown, values);
            };
        }(),

        getValueFromEditor: function getValueFromEditor() {
            var dict = {},
                items = this.$el.find('ol').find('.list-settings-item');

            _.each(items, function (element, index) {
                var key = $(element).find('select option:selected').val(),
                    value = $(element).find('.input').val();

                // Keys should be unique, so if our keys are duplicated and
                // second key is empty or key and value are empty just do
                // nothing. Otherwise, it'll be overwritten by the new value.
                if (value === '') {
                    if (key === '' || key in dict) {
                        return false;
                    }
                }

                dict[key] = value;
            });

            return dict;
        },

        // @TODO: Use backbone render patterns.
        setValueInEditor: function setValueInEditor(values) {
            var self = this,
                frag = document.createDocumentFragment(),
                dropdown = self.getDropdown(values),
                languageMap = TranscriptUtils.Storage.get('languageMap');

            _.each(values, function (value, newLang) {
                var $html = $(self.templateItem({
                    newLang: newLang,
                    originalLang: _.findKey(languageMap, function (lang) {
                        return lang === newLang;
                    }) || '',
                    value: value,
                    url: self.model.get('urlRoot')
                }));
                HtmlUtils.prepend($html, HtmlUtils.HTML(dropdown.clone().val(newLang)));
                frag.appendChild($html[0]);
            });

            HtmlUtils.setHtml(this.$el.find('ol'), HtmlUtils.HTML([frag]));
        },

        addEntry: function addEntry(event) {
            event.preventDefault();
            // We don't call updateModel here since it's bound to the
            // change event
            this.setValueInEditor(this.getAllLanguageDropdownElementsData(true));
            this.$el.find('.create-setting').addClass('is-disabled').attr('aria-disabled', true);
        },

        removeEntry: function removeEntry(event) {
            var self = this,
                $currentListItemEl = $(event.currentTarget).parent(),
                originalLang = $currentListItemEl.data('original-lang'),
                selectedLang = $currentListItemEl.find('select option:selected').val(),
                languageMap = TranscriptUtils.Storage.get('languageMap'),
                edxVideoIdField = TranscriptUtils.getField(self.model.collection, 'edx_video_id');

            event.preventDefault();

            /*
            There is a scenario when a user adds an empty video translation item and
            removes it. In such cases, omitting will have no harm on the model
            values or languages map.
            */
            if (originalLang) {
                ViewUtils.confirmThenRunOperation(gettext('Are you sure you want to remove this transcript?'), gettext('If you remove this transcript, the transcript will not be available for this component.'), gettext('Remove Transcript'), function () {
                    ViewUtils.runOperationShowingMessage(gettext('Removing'), function () {
                        return $.ajax({
                            url: self.model.get('urlRoot'),
                            type: 'DELETE',
                            data: JSON.stringify({ lang: originalLang, edx_video_id: edxVideoIdField.getValue() })
                        }).done(function () {
                            self.setValueInEditor(self.getAllLanguageDropdownElementsData(false, selectedLang));
                            TranscriptUtils.Storage.set('languageMap', _.omit(languageMap, originalLang));
                        });
                    });
                });
            } else {
                this.setValueInEditor(this.getAllLanguageDropdownElementsData(false, selectedLang));
            }

            this.$el.find('.create-setting').removeClass('is-disabled').attr('aria-disabled', false);
        },

        upload: function upload(event) {
            var self = this,
                $target = $(event.currentTarget),
                $listItem = $target.parents('li.list-settings-item'),
                originalLang = $listItem.data('original-lang'),
                newLang = $listItem.find(':selected').val(),
                edxVideoIdField = TranscriptUtils.getField(self.model.collection, 'edx_video_id'),
                fileUploadModel,
                uploadData,
                videoUploadDialog;

            event.preventDefault();

            // That's the case when an author is
            // uploading a new transcript.
            if (!originalLang) {
                originalLang = newLang;
            }

            // Transcript data payload
            uploadData = {
                edx_video_id: edxVideoIdField.getValue(),
                language_code: originalLang,
                new_language_code: newLang
            };

            fileUploadModel = new FileUpload({
                title: gettext('Upload translation'),
                fileFormats: this.validFileFormats
            });

            videoUploadDialog = new VideoUploadDialog({
                model: fileUploadModel,
                url: this.model.get('urlRoot'),
                parentElement: $target.closest('.xblock-editor'),
                uploadData: uploadData,
                onSuccess: function onSuccess(response) {
                    var languageMap = TranscriptUtils.Storage.get('languageMap'),
                        newLangObject = {};

                    // new language entry to be added to languageMap
                    newLangObject[newLang] = newLang;

                    // Update edx-video-id
                    edxVideoIdField.setValue(response.edx_video_id);

                    // Update language map by omitting original lang and adding new lang
                    // if languageMap is empty then newLang will be added
                    // if an original lang is replaced with new lang then omit the original lang and the add new lang
                    languageMap = _.extend(_.omit(languageMap, originalLang), newLangObject);
                    TranscriptUtils.Storage.set('languageMap', languageMap);

                    // re-render the whole view
                    self.setValueInEditor(self.getAllLanguageDropdownElementsData());
                }
            });
            videoUploadDialog.show();
        },

        enableAdd: function enableAdd() {
            this.$el.find('.create-setting').removeClass('is-disabled').attr('aria-disabled', false);
        },

        onChangeHandler: function onChangeHandler(event) {
            var $target = $(event.currentTarget),
                $listItem = $target.parents('li.list-settings-item'),
                originalLang = $listItem.data('original-lang'),
                newLang = $listItem.find('select option:selected').val(),
                languageMap = TranscriptUtils.Storage.get('languageMap');

            // To protect against any new/unsaved language code in the map.
            if (originalLang in languageMap) {
                languageMap[originalLang] = newLang;
                TranscriptUtils.Storage.set('languageMap', languageMap);

                // an existing saved lang is changed, no need to re-render the whole view
                return;
            }

            this.enableAdd();
            this.setValueInEditor(this.getAllLanguageDropdownElementsData());
        },

        /**
         * Constructs data extracted from each dropdown. This will be used to re-render the whole view.
         */
        getAllLanguageDropdownElementsData: function getAllLanguageDropdownElementsData(isNew, omittedLanguage) {
            var data = {},
                languageDropdownElements = this.$el.find('select'),
                languageMap = TranscriptUtils.Storage.get('languageMap');

            // data object will mirror the languageMap. `data` will contain lang to lang map as explained below
            // {originalLang: originalLang};            original lang not changed
            // {newLang: originalLang};                 original lang changed to a new lang
            // {selectedLang: ''};                      new lang to be added, no entry in languageMap
            _.each(languageDropdownElements, function (languageDropdown) {
                var language = $(languageDropdown).find(':selected').val();
                data[language] = _.findKey(languageMap, function (lang) {
                    return lang === language;
                }) || '';
            });

            // This is needed to render an empty item that
            // will be further used to upload a transcript.
            if (isNew) {
                data[''] = '';
            }

            // This Omits a language from the dropdown's data. It is
            // needed when an item is going to be removed.
            if (typeof omittedLanguage !== 'undefined') {
                data = _.omit(data, omittedLanguage);
            }

            return data;
        }
    });

    return Translations;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./cms/static/js/views/xblock.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__("./common/static/common/js/components/utils/view_utils.js"), __webpack_require__("./cms/static/js/views/baseview.js"), __webpack_require__("./common/static/common/js/xblock/runtime.v1.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, ViewUtils, BaseView, XBlock, HtmlUtils) {
    'use strict';

    var XBlockView = BaseView.extend({
        // takes XBlockInfo as a model

        events: {
            'click .notification-action-button': 'fireNotificationActionEvent'
        },

        initialize: function initialize() {
            BaseView.prototype.initialize.call(this);
            this.view = this.options.view;
        },

        render: function render(options) {
            var self = this,
                view = this.view,
                xblockInfo = this.model,
                xblockUrl = xblockInfo.url();
            return $.ajax({
                url: decodeURIComponent(xblockUrl) + '/' + view,
                type: 'GET',
                cache: false,
                headers: { Accept: 'application/json' },
                success: function success(fragment) {
                    self.handleXBlockFragment(fragment, options);
                }
            });
        },

        initRuntimeData: function initRuntimeData(xblock, options) {
            if (options && options.initRuntimeData && xblock && xblock.runtime && !xblock.runtime.page) {
                xblock.runtime.page = options.initRuntimeData;
            }
            return xblock;
        },

        handleXBlockFragment: function handleXBlockFragment(fragment, options) {
            var self = this,
                wrapper = this.$el,
                xblockElement,
                successCallback = options ? options.success || options.done : null,
                errorCallback = options ? options.error || options.done : null,
                xblock,
                fragmentsRendered,
                aside;

            fragmentsRendered = this.renderXBlockFragment(fragment, wrapper);
            fragmentsRendered.always(function () {
                xblockElement = self.$('.xblock').first();
                try {
                    xblock = XBlock.initializeBlock(xblockElement);
                    self.xblock = self.initRuntimeData(xblock, options);
                    self.xblockReady(self.xblock);
                    self.$('.xblock_asides-v1').each(function () {
                        if (!$(this).hasClass('xblock-initialized')) {
                            aside = XBlock.initializeBlock($(this));
                            self.initRuntimeData(aside, options);
                        }
                    });
                    if (successCallback) {
                        successCallback(xblock);
                    }
                } catch (e) {
                    console.error(e, e.stack);
                    // Add 'xblock-initialization-failed' class to every xblock
                    self.$('.xblock').addClass('xblock-initialization-failed');

                    // If the xblock was rendered but failed then still call xblockReady to allow
                    // drag-and-drop to be initialized.
                    if (xblockElement) {
                        self.xblockReady(null);
                    }
                    if (errorCallback) {
                        errorCallback();
                    }
                }
            });
        },

        /**
         * Sends a notification event to the runtime, if one is available. Note that the runtime
         * is only available once the xblock has been rendered and successfully initialized.
         * @param eventName The name of the event to be fired.
         * @param data The data to be passed to any listener's of the event.
         */
        notifyRuntime: function notifyRuntime(eventName, data) {
            var runtime = this.xblock && this.xblock.runtime,
                xblockChildren;

            if (runtime) {
                runtime.notify(eventName, data);
            } else if (this.xblock) {
                xblockChildren = this.xblock.element && $(this.xblock.element).prop('xblock_children');
                if (xblockChildren) {
                    $(xblockChildren).each(function () {
                        if (this.runtime) {
                            this.runtime.notify(eventName, data);
                        }
                    });
                }
            }
        },

        /**
         * This method is called upon successful rendering of an xblock. Note that the xblock
         * may have thrown JavaScript errors after rendering in which case the xblock parameter
         * will be null.
         */
        xblockReady: function xblockReady(xblock) {// eslint-disable-line no-unused-vars
            // Do nothing
        },

        /**
         * Renders an xblock fragment into the specified element. The fragment has two attributes:
         *   html: the HTML to be rendered
         *   resources: any JavaScript or CSS resources that the HTML depends upon
         * Note that the XBlock is rendered asynchronously, and so a promise is returned that
         * represents this process.
         * @param fragment The fragment returned from the xblock_handler
         * @param element The element into which to render the fragment (defaults to this.$el)
         * @returns {Promise} A promise representing the rendering process
         */
        renderXBlockFragment: function renderXBlockFragment(fragment, element) {
            var html = fragment.html,
                resources = fragment.resources,
                blockView = this;
            if (!element) {
                element = this.$el;
            }

            // Render the HTML first as the scripts might depend upon it, and then
            // asynchronously add the resources to the page. Any errors that are thrown
            // by included scripts are logged to the console but are then ignored assuming
            // that at least the rendered HTML will be in place.
            try {
                return this.addXBlockFragmentResources(resources).done(function () {
                    console.log('Updating HTML');
                    try {
                        blockView.updateHtml(element, html);
                    } catch (e) {
                        console.error(e, e.stack);
                    }
                });
            } catch (e) {
                console.error(e, e.stack);
                return $.Deferred().resolve();
            }
        },

        /**
         * Updates an element to have the specified HTML. The default method sets the HTML
         * as child content, but this can be overridden.
         * @param element The element to be updated
         * @param html The desired HTML.
         */
        updateHtml: function updateHtml(element, html) {
            HtmlUtils.setHtml(element, HtmlUtils.HTML(html));
        },

        /**
         * Dynamically loads all of an XBlock's dependent resources. This is an asynchronous
         * process so a promise is returned.
         * @param resources The resources to be rendered
         * @returns {Promise} A promise representing the rendering process
         */
        addXBlockFragmentResources: function addXBlockFragmentResources(resources) {
            var self = this,
                _applyResource,
                numResources,
                deferred;
            numResources = resources.length;
            deferred = $.Deferred();
            _applyResource = function applyResource(index) {
                var hash, resource, value, promise;
                if (index >= numResources) {
                    deferred.resolve();
                    return;
                }
                value = resources[index];
                hash = value[0];
                if (!window.loadedXBlockResources) {
                    window.loadedXBlockResources = [];
                }
                if (_.indexOf(window.loadedXBlockResources, hash) < 0) {
                    resource = value[1];
                    promise = self.loadResource(resource);
                    window.loadedXBlockResources.push(hash);
                    promise.done(function () {
                        _applyResource(index + 1);
                    }).fail(function () {
                        deferred.reject();
                    });
                } else {
                    _applyResource(index + 1);
                }
            };
            _applyResource(0);
            return deferred.promise();
        },

        /**
         * Loads the specified resource into the page.
         * @param resource The resource to be loaded.
         * @returns {Promise} A promise representing the loading of the resource.
         */
        loadResource: function loadResource(resource) {
            var $head = $('head'),
                mimetype = resource.mimetype,
                kind = resource.kind,
                placement = resource.placement,
                data = resource.data;
            if (mimetype === 'text/css') {
                if (kind === 'text') {
                    // xss-lint: disable=javascript-jquery-append,javascript-concat-html
                    $head.append('<style type="text/css">' + data + '</style>');
                } else if (kind === 'url') {
                    // xss-lint: disable=javascript-jquery-append,javascript-concat-html
                    $head.append('<link rel="stylesheet" href="' + data + '" type="text/css">');
                }
            } else if (mimetype === 'application/javascript') {
                if (kind === 'text') {
                    // xss-lint: disable=javascript-jquery-append,javascript-concat-html
                    $head.append('<script>' + data + '</script>');
                } else if (kind === 'url') {
                    return ViewUtils.loadJavaScript(data);
                }
            } else if (mimetype === 'text/html') {
                if (placement === 'head') {
                    HtmlUtils.append($head, HtmlUtils.HTML(data));
                }
            }
            // Return an already resolved promise for synchronous updates
            return $.Deferred().resolve().promise();
        },

        fireNotificationActionEvent: function fireNotificationActionEvent(event) {
            var eventName = $(event.currentTarget).data('notification-action');
            if (eventName) {
                event.preventDefault();
                this.notifyRuntime(eventName, this.model.get('id'));
            }
        }
    });

    return XBlockView;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define();

/***/ }),

/***/ "./cms/static/js/views/xblock_access_editor.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * XBlockAccessEditor is a view that allows the user to restrict access at the unit level on the container page.
 * This view renders the button to restrict unit access into the appropriate place in the unit page.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__("./cms/static/js/views/baseview.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function (BaseView, HtmlUtils) {
    'use strict';

    var XBlockAccessEditor = BaseView.extend({
        // takes XBlockInfo as a model
        initialize: function initialize() {
            BaseView.prototype.initialize.call(this);
            this.template = this.loadTemplate('xblock-access-editor');
        },

        render: function render() {
            HtmlUtils.append(this.$el, HtmlUtils.HTML(this.template({})));
            return this;
        }
    });

    return XBlockAccessEditor;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define();

/***/ }),

/***/ "./cms/static/js/views/xblock_editor.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * XBlockEditorView displays the authoring view of an xblock, and allows the user to switch between
 * the available modes.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__(3), __webpack_require__("./cms/static/js/views/baseview.js"), __webpack_require__("./cms/static/js/views/xblock.js"), __webpack_require__("./cms/static/js/views/metadata.js"), __webpack_require__("./cms/static/js/collections/metadata.js"), __webpack_require__("./common/static/js/vendor/html5-input-polyfills/number-polyfill.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, gettext, BaseView, XBlockView, MetadataView, MetadataCollection) {
    var XBlockEditorView = XBlockView.extend({
        // takes XBlockInfo as a model

        options: $.extend({}, XBlockView.prototype.options, {
            view: 'studio_view'
        }),

        initialize: function initialize() {
            XBlockView.prototype.initialize.call(this);
            this.view = this.options.view;
        },

        xblockReady: function xblockReady(xblock) {
            XBlockView.prototype.xblockReady.call(this, xblock);
            this.initializeEditors();
        },

        initializeEditors: function initializeEditors() {
            var metadataEditor,
                pluginEl,
                defaultMode = 'editor';
            metadataEditor = this.createMetadataEditor();
            this.metadataEditor = metadataEditor;
            if (!this.hasCustomTabs()) {
                if (this.getDataEditor()) {
                    defaultMode = 'editor';
                } else if (metadataEditor) {
                    defaultMode = 'settings';
                }
                this.selectMode(defaultMode);
            }
            pluginEl = this.$('.wrapper-comp-plugins');
            if (pluginEl.length > 0) {
                this.pluginEditor = new BaseView({
                    el: pluginEl
                });
            }
        },

        getDefaultModes: function getDefaultModes() {
            return [{ id: 'editor', name: gettext('Editor') }, { id: 'settings', name: gettext('Settings') }];
        },

        hasCustomTabs: function hasCustomTabs() {
            return this.$('.editor-with-tabs').length > 0;
        },

        hasCustomButtons: function hasCustomButtons() {
            return this.$('.editor-with-buttons').length > 0;
        },

        createMetadataEditor: function createMetadataEditor() {
            var metadataEditor,
                metadataData,
                models = [],
                key,
                xblock = this.xblock,
                metadataView = null;
            metadataEditor = this.$('.metadata_edit');
            if (metadataEditor.length === 1) {
                metadataData = metadataEditor.data('metadata');
                for (key in metadataData) {
                    if (metadataData.hasOwnProperty(key)) {
                        models.push(metadataData[key]);
                    }
                }
                metadataView = new MetadataView.Editor({
                    el: metadataEditor,
                    collection: new MetadataCollection(models)
                });
                if (xblock.setMetadataEditor) {
                    xblock.setMetadataEditor(metadataView);
                }
            }
            return metadataView;
        },

        getDataEditor: function getDataEditor() {
            var editor = this.$('.wrapper-comp-editor');
            return editor.length === 1 ? editor : null;
        },

        getMetadataEditor: function getMetadataEditor() {
            return this.metadataEditor;
        },

        getPluginEditor: function getPluginEditor() {
            return this.pluginEditor;
        },

        /**
         * Returns the updated field data for the xblock. Note that this works for all
         * XModules as well as for XBlocks that provide a 'collectFieldData' API.
         */
        getXBlockFieldData: function getXBlockFieldData() {
            var xblock = this.xblock,
                metadataEditor = this.getMetadataEditor(),
                data = null;
            // If the xblock supports returning its field data then collect it
            if (xblock.collectFieldData) {
                data = xblock.collectFieldData();
                // ... else if this is an XModule then call its save method
            } else if (xblock.save) {
                data = xblock.save();
                if (metadataEditor) {
                    data.metadata = _.extend(data.metadata || {}, this.getChangedMetadata());
                }
                // ... else log an error
            } else {
                console.error('Cannot save xblock as it has no save method');
            }
            return data;
        },

        /**
         * Returns the metadata that has changed in the editor. This is a combination of the metadata
         * modified in the "Settings" editor, as well as any custom metadata provided by the component.
         */
        getChangedMetadata: function getChangedMetadata() {
            var metadataEditor = this.getMetadataEditor();
            return _.extend(metadataEditor.getModifiedMetadataValues(), this.getCustomMetadata());
        },

        /**
         * Returns custom metadata defined by a particular xmodule that aren't part of the metadata editor.
         * In particular, this is used for LaTeX high level source.
         */
        getCustomMetadata: function getCustomMetadata() {
            // Walk through the set of elements which have the 'data-metadata_name' attribute and
            // build up an object to pass back to the server on the subsequent POST.
            // Note that these values will always be sent back on POST, even if they did not actually change.
            var metadata, metadataNameElements, i, element, metadataName;
            metadata = {};
            metadataNameElements = this.$('[data-metadata-name]');
            for (i = 0; i < metadataNameElements.length; i++) {
                element = metadataNameElements[i];
                metadataName = $(element).data('metadata-name');
                metadata[metadataName] = element.value;
            }
            return metadata;
        },

        getMode: function getMode() {
            return this.mode;
        },

        selectMode: function selectMode(mode) {
            var dataEditor = this.getDataEditor(),
                metadataEditor = this.getMetadataEditor(),
                pluginEditor = this.getPluginEditor();
            if (dataEditor) {
                this.setEditorActivation(dataEditor, mode === 'editor');
            }
            if (metadataEditor) {
                this.setEditorActivation(metadataEditor.$el, mode === 'settings');
            }
            if (pluginEditor) {
                this.setEditorActivation(pluginEditor.$el, mode === 'plugins');
            }
            this.mode = mode;
        },

        setEditorActivation: function setEditorActivation(editor, isActive) {
            editor.removeClass('is-active').removeClass('is-inactive');
            editor.addClass(isActive ? 'is-active' : 'is-inactive');
        }
    });

    return XBlockEditorView;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define();

/***/ }),

/***/ "./cms/static/js/views/xblock_outline.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * The XBlockOutlineView is used to render an xblock and its children based upon the information
 * provided in the XBlockInfo model. It is a recursive set of views where each XBlock has its own instance.
 *
 * The class provides several opportunities to override the default behavior in subclasses:
 *  - shouldRenderChildren defaults to true meaning that the view should also create child views
 *  - shouldExpandChildren defaults to true meaning that the view should show itself as expanded
 *  - refresh is called when a server change has been made and the view needs to be refreshed
 *
 * The view can be constructed with an initialState option which is a JSON structure representing
 * the desired initial state. The parameters are as follows:
 *  - locator_to_show - the locator for the xblock which is the one being explicitly shown
 *  - scroll_offset - the scroll offset to use for the locator being shown
 *  - edit_display_name - true if the shown xblock's display name should be in inline edit mode
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__(3), __webpack_require__("./cms/static/js/views/baseview.js"), __webpack_require__("./common/static/common/js/components/utils/view_utils.js"), __webpack_require__("./cms/static/js/views/utils/xblock_utils.js"), __webpack_require__("./cms/static/js/views/xblock_string_field_editor.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, gettext, BaseView, ViewUtils, XBlockViewUtils, XBlockStringFieldEditor, StringUtils, HtmlUtils) {
    'use strict';

    var XBlockOutlineView = BaseView.extend({
        // takes XBlockInfo as a model

        options: {
            collapsedClass: 'is-collapsed'
        },

        templateName: 'xblock-outline',

        initialize: function initialize() {
            BaseView.prototype.initialize.call(this);
            this.initialState = this.options.initialState;
            this.expandedLocators = this.options.expandedLocators;
            this.template = this.options.template;
            if (!this.template) {
                this.template = this.loadTemplate(this.templateName);
            }
            this.parentInfo = this.options.parentInfo;
            this.parentView = this.options.parentView;
            this.renderedChildren = false;
            this.model.on('sync', this.onSync, this);
        },

        render: function render() {
            this.renderTemplate();
            this.addButtonActions(this.$el);
            this.addNameEditor();

            // For cases in which we need to suppress the header controls during rendering, we'll
            // need to add the current model's id/locator to the set of expanded locators
            if (this.model.get('is_header_visible') !== null && !this.model.get('is_header_visible')) {
                var locator = this.model.get('id');
                if (!_.isUndefined(this.expandedLocators) && !this.expandedLocators.contains(locator)) {
                    this.expandedLocators.add(locator);
                    this.refresh();
                }
            }

            if (this.shouldRenderChildren() && this.shouldExpandChildren()) {
                this.renderChildren();
            } else {
                this.renderedChildren = false;
            }
            return this;
        },

        renderTemplate: function renderTemplate() {
            var html = this.template(this.getTemplateContext());
            if (this.parentInfo) {
                this.setElement($(html));
            } else {
                HtmlUtils.setHtml(this.$el, HtmlUtils.HTML(html));
            }
        },

        getTemplateContext: function getTemplateContext() {
            var xblockInfo = this.model,
                childInfo = xblockInfo.get('child_info'),
                parentInfo = this.parentInfo,
                xblockType = XBlockViewUtils.getXBlockType(this.model.get('category'), this.parentInfo),
                xblockTypeDisplayName = XBlockViewUtils.getXBlockType(this.model.get('category'), this.parentInfo, true),
                parentType = parentInfo ? XBlockViewUtils.getXBlockType(parentInfo.get('category')) : null,
                addChildName = null,
                defaultNewChildName = null,
                isCollapsed = this.shouldRenderChildren() && !this.shouldExpandChildren();
            if (childInfo) {
                addChildName = StringUtils.interpolate(gettext('New {component_type}'), {
                    component_type: childInfo.display_name
                }, true);
                defaultNewChildName = childInfo.display_name;
            }
            /* globals course */
            return {
                xblockInfo: xblockInfo,
                visibilityClass: XBlockViewUtils.getXBlockVisibilityClass(xblockInfo.get('visibility_state')),
                typeListClass: XBlockViewUtils.getXBlockListTypeClass(xblockType),
                parentInfo: this.parentInfo,
                xblockType: xblockType,
                xblockTypeDisplayName: xblockTypeDisplayName,
                parentType: parentType,
                childType: childInfo ? XBlockViewUtils.getXBlockType(childInfo.category, xblockInfo) : null,
                childCategory: childInfo ? childInfo.category : null,
                addChildLabel: addChildName,
                defaultNewChildName: defaultNewChildName,
                isCollapsed: isCollapsed,
                includesChildren: this.shouldRenderChildren(),
                hasExplicitStaffLock: this.model.get('has_explicit_staff_lock'),
                staffOnlyMessage: this.model.get('staff_only_message'),
                course: course
            };
        },

        renderChildren: function renderChildren() {
            var self = this,
                parentInfo = this.model;
            if (parentInfo.get('child_info')) {
                _.each(this.model.get('child_info').children, function (childInfo) {
                    var childOutlineView = self.createChildView(childInfo, parentInfo);
                    childOutlineView.render();
                    self.addChildView(childOutlineView);
                });
            }
            this.renderedChildren = true;
        },

        getListElement: function getListElement() {
            return this.$('> .outline-content > ol');
        },

        addChildView: function addChildView(childView, xblockElement) {
            if (xblockElement) {
                childView.$el.insertAfter(xblockElement);
            } else {
                this.getListElement().append(childView.$el);
            }
        },

        addNameEditor: function addNameEditor() {
            var self = this,
                xblockField = this.$('.wrapper-xblock-field'),
                XBlockOutlineFieldEditor,
                nameEditor;
            if (xblockField.length > 0) {
                // Make a subclass of the standard xblock string field editor which refreshes
                // the entire section that this view is contained in. This is necessary as
                // changing the name could have caused the section to change state.
                XBlockOutlineFieldEditor = XBlockStringFieldEditor.extend({
                    refresh: function refresh() {
                        self.refresh();
                    }
                });
                nameEditor = new XBlockOutlineFieldEditor({
                    el: xblockField,
                    model: this.model
                });
                nameEditor.render();
            }
        },

        toggleExpandCollapse: function toggleExpandCollapse(event) {
            // The course outline page tracks expanded locators. The unit location sidebar does not.
            if (this.expandedLocators) {
                var locator = this.model.get('id');
                var wasExpanded = this.expandedLocators.contains(locator);
                if (wasExpanded) {
                    this.expandedLocators.remove(locator);
                } else {
                    this.expandedLocators.add(locator);
                }
            }
            // Ensure that the children have been rendered before expanding
            this.ensureChildrenRendered();
            BaseView.prototype.toggleExpandCollapse.call(this, event);
        },

        /**
         * Verifies that the children are rendered (if they should be).
         */
        ensureChildrenRendered: function ensureChildrenRendered() {
            if (!this.renderedChildren && this.shouldRenderChildren()) {
                this.renderChildren();
            }
        },

        /**
         * Adds handlers to the each button in the header's panel. This is managed outside of
         * Backbone's own event registration so that the handlers don't get scoped to all the
         * children of this view.
         * @param element The root element of this view.
         */
        addButtonActions: function addButtonActions(element) {
            var self = this;
            element.find('.delete-button').click(_.bind(this.handleDeleteEvent, this));
            element.find('.duplicate-button').click(_.bind(this.handleDuplicateEvent, this));
            element.find('.button-new').click(_.bind(this.handleAddEvent, this));
        },

        shouldRenderChildren: function shouldRenderChildren() {
            return true;
        },

        shouldExpandChildren: function shouldExpandChildren() {
            return true;
        },

        getChildViewClass: function getChildViewClass() {
            return XBlockOutlineView;
        },

        createChildView: function createChildView(childInfo, parentInfo, options) {
            var viewClass = this.getChildViewClass();
            return new viewClass(_.extend({
                model: childInfo,
                parentInfo: parentInfo,
                parentView: this,
                initialState: this.initialState,
                expandedLocators: this.expandedLocators,
                template: this.template
            }, options));
        },

        onSync: function onSync(event) {
            var hasChangedAttributes = ViewUtils.hasChangedAttributes(this.model, ['visibility_state', 'child_info', 'display_name', 'highlights']);
            if (hasChangedAttributes) {
                this.onXBlockChange();
            }
        },

        onXBlockChange: function onXBlockChange() {
            var oldElement = this.$el,
                viewState = this.initialState;
            this.render();
            if (this.parentInfo) {
                oldElement.replaceWith(this.$el);
            }
            if (viewState) {
                this.setViewState(viewState);
            }
        },

        setViewState: function setViewState(viewState) {
            var locatorToShow = viewState.locator_to_show,
                scrollOffset = viewState.scroll_offset || 0,
                editDisplayName = viewState.edit_display_name,
                locatorElement;
            if (locatorToShow) {
                if (locatorToShow === this.model.id) {
                    locatorElement = this.$el;
                } else {
                    locatorElement = this.$('.outline-item[data-locator="' + locatorToShow + '"]');
                }
                if (locatorElement.length > 0) {
                    ViewUtils.setScrollOffset(locatorElement, scrollOffset);
                } else {
                    console.error('Failed to show item with locator ' + locatorToShow + '');
                }
                if (editDisplayName) {
                    locatorElement.find('> div[class$="header"] .xblock-field-value-edit').click();
                }
            }
            this.initialState = null;
        },

        /**
         * Refresh the view's model from the server, which will cause the view to refresh.
         * @returns {jQuery promise} A promise representing the refresh operation.
         */
        refresh: function refresh() {
            return this.model.fetch();
        },

        onChildAdded: function onChildAdded(locator, category) {
            // For units, redirect to the new page, and for everything else just refresh inline.
            if (category === 'vertical') {
                this.onUnitAdded(locator);
            } else {
                this.refresh();
            }
        },

        onUnitAdded: function onUnitAdded(locator) {
            ViewUtils.redirect('/container/' + locator + '?action=new');
        },

        onChildDeleted: function onChildDeleted() {
            this.refresh();
        },

        handleDeleteEvent: function handleDeleteEvent(event) {
            var self = this,
                parentView = this.parentView,
                xblockType = XBlockViewUtils.getXBlockType(this.model.get('category'), parentView.model, true);
            event.preventDefault();
            XBlockViewUtils.deleteXBlock(this.model, xblockType).done(function () {
                if (parentView) {
                    parentView.onChildDeleted(self, event);
                }
            });
        },

        /**
         * Finds appropriate parent element for an xblock element.
         * @param {jquery Element}  xblockElement  The xblock element to be duplicated.
         * @param {String}  xblockType The front-end terminology of the xblock category.
         * @returns {jquery Element} Appropriate parent element of xblock element.
         */
        getParentElement: function getParentElement(xblockElement, xblockType) {
            var xblockMap = {
                unit: 'subsection',
                subsection: 'section',
                section: 'course'
            },
                parentXblockType = xblockMap[xblockType];
            return xblockElement.closest('.outline-' + parentXblockType);
        },

        /**
         * Duplicate event handler.
         */
        handleDuplicateEvent: function handleDuplicateEvent(event) {
            var self = this,
                xblockType = XBlockViewUtils.getXBlockType(self.model.get('category'), self.parentView.model),
                xblockElement = $(event.currentTarget).closest('.outline-item'),
                parentElement = self.getParentElement(xblockElement, xblockType);

            event.preventDefault();
            XBlockViewUtils.duplicateXBlock(xblockElement, parentElement).done(function (data) {
                if (self.parentView) {
                    self.parentView.onChildDuplicated(data.locator, xblockType, xblockElement);
                }
            });
        },

        handleAddEvent: function handleAddEvent(event) {
            var self = this,
                $target = $(event.currentTarget),
                category = $target.data('category');
            event.preventDefault();
            XBlockViewUtils.addXBlock($target).done(function (locator) {
                self.onChildAdded(locator, category, event);
            });
        }
    });

    return XBlockOutlineView;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define();

/***/ }),

/***/ "./cms/static/js/views/xblock_string_field_editor.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * XBlockStringFieldEditor is a view that allows the user to inline edit an XBlock string field.
 * Clicking on the field value will hide the text and replace it with an input to allow the user
 * to change the value. Once the user leaves the field, a request will be sent to update the
 * XBlock field's value if it has been changed. If the user presses Escape, then any changes will
 * be removed and the input hidden again.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__("./cms/static/js/views/baseview.js"), __webpack_require__("./cms/static/js/views/utils/xblock_utils.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function (BaseView, XBlockViewUtils, HtmlUtils) {
    'use strict';

    var XBlockStringFieldEditor = BaseView.extend({
        events: {
            'click .xblock-field-value-edit': 'showInput',
            'click button[name=submit]': 'onClickSubmit',
            'click button[name=cancel]': 'onClickCancel',
            'click .xblock-string-field-editor': 'onClickEditor',
            'change .xblock-field-input': 'updateField',
            'focusout .xblock-field-input': 'onInputFocusLost',
            'keyup .xblock-field-input': 'handleKeyUp'
        },

        // takes XBlockInfo as a model

        initialize: function initialize() {
            BaseView.prototype.initialize.call(this);
            this.fieldName = this.$el.data('field');
            this.fieldDisplayName = this.$el.data('field-display-name');
            this.template = this.loadTemplate('xblock-string-field-editor');
            this.model.on('change:' + this.fieldName, this.onChangeField, this);
        },

        render: function render() {
            var attributes = {
                // xss-lint: disable=javascript-escape
                value: this.model.escape(this.fieldName),
                fieldName: this.fieldName,
                fieldDisplayName: this.fieldDisplayName
            };
            this.$el.append(HtmlUtils.HTML(this.template(attributes)).toString());
            return this;
        },

        getLabel: function getLabel() {
            return this.$('.xblock-field-value');
        },

        getInput: function getInput() {
            return this.$('.xblock-field-input');
        },

        onInputFocusLost: function onInputFocusLost() {
            var currentValue = this.model.get(this.fieldName);
            if (currentValue === this.getInput().val()) {
                this.hideInput();
            }
        },

        onClickSubmit: function onClickSubmit(event) {
            event.preventDefault();
            event.stopPropagation();
            this.updateField();
        },

        onClickCancel: function onClickCancel(event) {
            event.preventDefault();
            event.stopPropagation();
            this.cancelInput();
        },

        onClickEditor: function onClickEditor(event) {
            event.stopPropagation();
        },

        onChangeField: function onChangeField() {
            var value = this.model.get(this.fieldName);
            this.getLabel().text(value);
            this.getInput().val(value);
            this.hideInput();
        },

        showInput: function showInput(event) {
            var input = this.getInput();
            event.preventDefault();
            event.stopPropagation();
            this.$el.addClass('is-editing');
            input.focus().select();
        },

        hideInput: function hideInput() {
            this.$el.removeClass('is-editing');
        },

        cancelInput: function cancelInput() {
            this.getInput().val(this.model.get(this.fieldName));
            this.hideInput();
        },

        /**
         * Refresh the model from the server so that it gets the latest publish and last modified information.
         */
        refresh: function refresh() {
            this.model.fetch();
        },

        updateField: function updateField() {
            var self = this,
                xblockInfo = this.model,
                newValue = this.getInput().val().trim(),
                oldValue = xblockInfo.get(this.fieldName);
            // TODO: generalize this as not all xblock fields want to disallow empty strings...
            if (newValue === '' || newValue === oldValue) {
                this.cancelInput();
                return;
            }
            return XBlockViewUtils.updateXBlockField(xblockInfo, this.fieldName, newValue).done(function () {
                self.refresh();
            });
        },

        handleKeyUp: function handleKeyUp(event) {
            if (event.keyCode === 27) {
                // Revert the changes if the user hits escape
                this.cancelInput();
            }
        }
    });

    return XBlockStringFieldEditor;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define();

/***/ }),

/***/ "./cms/templates/js/license-selector.underscore":
/***/ (function(module, exports) {

module.exports = "<div class=\"wrapper-license\">\n    <h3 class=\"label setting-label\">\n        <%- gettext(\"License Type\") %>\n    </h3>\n    <ul class=\"license-types\">\n        <% var link_start_tpl = '<a href=\"{url}\" rel=\"noopener\" target=\"_blank\">'; %>\n        <% _.each(licenseInfo, function(license, licenseType) { %>\n            <li class=\"license-type\" data-license=\"<%- licenseType %>\">\n                <button name=\"license-<%- licenseType %>\"\n                        class=\"action license-button <% if(model.type === licenseType) { print(\"is-selected\"); } %>\"\n                        aria-pressed=\"<%- (model.type === licenseType).toString() %>\"\n                        <% if (license.tooltip) { %>data-tooltip=\"<%- license.tooltip %>\"<% } %>>\n                    <%- license.name %>\n                </button>\n                <p class=\"tip\">\n                    <% if(license.url) { %>\n                        <a href=\"<%- license.url %>\" rel=\"noopener\" target=\"_blank\">\n                            <%- gettext(\"Learn more about {license_name}\")\n                                        .replace(\"{license_name}\", license.name)\n                            %>\n                        </a>\n                    <% } else { %>\n                        &nbsp;\n                    <% } %>\n                </p>\n            </li>\n        <% }) %>\n    </ul>\n\n<% var license = licenseInfo[model.type]; %>\n<% if(license && !_.isEmpty(license.options)) { %>\n    <div class=\"wrapper-license-options\">\n        <h4 class=\"label setting-label\">\n            <%- gettext(\"Options for {license_name}\").replace(\"{license_name}\", license.name) %>\n        </h4>\n        <p class='tip tip-inline'>\n            <%- gettext(\"The following options are available for the {license_name} license.\")\n                        .replace(\"{license_name}\", license.name) %>\n        </p>\n        <ul class=\"license-options\">\n            <% _.each(license.option_order, function(optionKey) { %>\n                <% var optionInfo = license.options[optionKey]; %>\n                <% if (optionInfo.type == \"boolean\") { %>\n                    <% var optionSelected = model.options[optionKey]; %>\n                    <% var optionDisabled = optionInfo.disabled %>\n                    <li data-option=\"<%- optionKey %>\"\n                        class=\"action-item license-option\n                               <% if (optionSelected) { print(\"is-selected\"); } %>\n                               <% if (optionDisabled) { print(\"is-disabled\"); } else { print(\"is-clickable\"); } %>\"\n                    >\n                        <input type=\"checkbox\"\n                               id=\"<%- model.type %>-<%- optionKey %>\"\n                               name=\"<%- model.type %>-<%- optionKey %>\"\n                               aria-describedby=\"<%- optionKey %>-explanation\"\n                               <% if(optionSelected) { print('checked=\"checked\"'); } %>\n                               <% if(optionDisabled) { print('disabled=\"disabled\"'); } %>\n                        />\n                        <label for=\"<%- model.type %>-<%- optionKey %>\" class=\"option-name\">\n                            <%- optionInfo.name %>\n                        </label>\n                        <div id=\"<%- optionKey %>-explanation\" class=\"explanation\">\n                            <%- optionInfo.help %>\n                        </div>\n                    </li>\n                <% } // could implement other types here %>\n            <% }) %>\n        </ul>\n    </div>\n<% } %>\n\n<% if (showPreview) { %>\n    <div class=\"wrapper-license-preview\">\n        <h4 class=\"label setting-label\">\n            <%- gettext(\"License Display\") %>\n        </h4>\n        <p class=\"tip\">\n            <%- gettext(\"The following message will be displayed at the bottom of the courseware pages within your course:\") %>\n        </p>\n        <div class=\"license-preview\">\n        <% // keep this synchronized with the contents of common/templates/license.html %>\n        <% if (model.type === \"all-rights-reserved\") { %>\n             <span class=\"license-text\"><%- gettext(\"All Rights Reserved\") %></span>\n        <% } else if (model.type === \"creative-commons\") {\n             var possible = [\"by\", \"nc\", \"nd\", \"sa\"];\n             var enabled = _.filter(possible, function(option) {\n                 return model.options[option] === true || model.options[option.toUpperCase()] === true;\n             });\n             var version = model.options.ver || \"4.0\";\n             if (_.isEmpty(enabled)) {\n                    enabled = [\"zero\"];\n                    version = model.options.ver || \"1.0\";\n             }\n        %>\n            <a rel=\"license\" href=\"https://creativecommons.org/licenses/<%- enabled.join(\"-\") %>/<%- version %>/\">\n            <% if (previewButton) { %>\n                <img src=\"https://licensebuttons.net/l/<%- enabled.join(\"-\") %>/<%- version %>/<%- typeof buttonSize == \"string\" ? buttonSize : \"88x31\" %>.png\"\n                    alt=\"<%- typeof licenseString == \"string\" ? licenseString : \"\" %>\"\n                    />\n            <% } else { %>\n\t        <% //<span> must come before <i> icon or else spacing gets messed up %>\n                <span class=\"sr\"><%- gettext(\"Creative Commons licensed content, with terms as follow:\") %>&nbsp;</span><span aria-hidden=\"true\" class=\"icon-cc\"></span>\n                <% _.each(enabled, function(option) { %>\n                        <span class=\"sr\"><%- license.options[option.toUpperCase()].name %>&nbsp;</span><span aria-hidden=\"true\" class=\"icon-cc-<%- option %>\"></span>\n                <% }); %>\n                <span class=\"license-text\"><%- gettext(\"Some Rights Reserved\") %></span>\n            <% } %>\n        <% } else { %>\n            <%- typeof licenseString == \"string\" ? licenseString : \"\" %>\n            <% // Default to ARR license %>\n             <span class=\"license-text\"><%- gettext(\"All Rights Reserved\") %></span>\n        <% } %>\n        </a>\n    </div>\n<% } %>\n</div>\n"

/***/ }),

/***/ "./cms/templates/js/move-xblock-breadcrumb.underscore":
/***/ (function(module, exports) {

module.exports = "<nav class=\"breadcrumbs\" aria-label=\"Course Outline breadcrumb\">\n    <% _.each(breadcrumbs.slice(0, -1), function (breadcrumb, index, items) { %>\n        <ol class=\"bc-container bc-<%- index %>\">\n            <li class=\"bc-container-content\">\n                <button class=\"parent-nav-button\" data-parent-index=\"<%- index %>\">\n                    <%- breadcrumb %>\n                </button>\n                <span class=\"fa fa-angle-right breadcrumb-fa-icon\" aria-hidden=\"true\"></span>\n            </li>\n        </ol>\n    <% }) %>\n    <ol class=\"bc-container bc-<%- breadcrumbs.length - 1 %> last\">\n        <li class=\"bc-container-content\">\n            <span class=\"parent-displayname\"><%- breadcrumbs[breadcrumbs.length - 1] %></span>\n        </li>\n    </ol>\n</nav>\n"

/***/ }),

/***/ "./cms/templates/js/move-xblock-list.underscore":
/***/ (function(module, exports) {

module.exports = "<div class=\"xblock-items-category\">\n    <span class=\"sr\">\n        <%\n        // Translators: message will be like `Units in Homework - Question Styles`, `Subsections in Example 1 - Getting started` etc.\n        %>\n        <%- StringUtils.interpolate(\n                gettext(\"{categoryText} in {parentDisplayname}\"),\n                {categoryText: categoryText, parentDisplayname: parentDisplayname}\n            )\n        %>\n    </span>\n    <span class=\"category-text\" aria-hidden=\"true\">\n        <%- categoryText %>:\n    </span>\n</div>\n<ul class=\"xblock-items-container\" data-items-category=\"<%- XBlocksCategory %>\">\n    <% for (var i = 0; i < xblocks.length; i++) {\n        var xblock = xblocks[i];\n    %>\n        <li class=\"xblock-item\" data-item-index=\"<%- i %>\">\n            <% if (sourceXBlockId !== xblock.id && (xblock.get('child_info') || XBlocksCategory !== 'component')) { %>\n                <button class=\"button-forward\" >\n                    <span class=\"xblock-displayname truncate\">\n                        <%- xblock.get('display_name') %>\n                    </span>\n                    <% if(currentLocationIndex === i) { %>\n                        <span class=\"current-location\">\n                            (<%- gettext('Current location') %>)\n                        </span>\n                    <% } %>\n                    <span class=\"icon fa fa-arrow-right forward-sr-icon\" aria-hidden=\"true\"></span>\n                    <span class=\"sr forward-sr-text\"><%- gettext(\"View child items\") %></span>\n                </button>\n            <% } else { %>\n                <span class=\"component\">\n                    <span class=\"xblock-displayname truncate\">\n                        <%- xblock.get('display_name') %>\n                    </span>\n                    <% if(currentLocationIndex === i) { %>\n                        <span class=\"current-location\">\n                            (<%- gettext('Currently selected') %>)\n                        </span>\n                    <% } %>\n                </span>\n            <% } %>\n        </li>\n    <% } %>\n    <% if(xblocks.length === 0) { %>\n        <span class=\"xblock-no-child-message\">\n            <%- noChildText %>\n        </span>\n    <% } %>\n</ul>\n"

/***/ }),

/***/ "./cms/templates/js/move-xblock-modal.underscore":
/***/ (function(module, exports) {

module.exports = "<div class=\"ui-loading\">\n    <p>\n        <span class=\"spin\">\n            <span class=\"icon fa fa-refresh\" aria-hidden=\"true\"></span>\n        </span>\n        <span class=\"copy\"><%- gettext('Loading') %></span>\n    </p>\n</div>\n<div class='breadcrumb-container is-hidden'></div>\n<div class='xblock-list-container'></div>\n"

/***/ }),

/***/ "./cms/templates/js/paging-header.underscore":
/***/ (function(module, exports) {

module.exports = "<div class=\"meta-wrap\">\n    <div class=\"meta\">\n        <p><%= HtmlUtils.ensureHtml(messageHtml) %></p>\n    </div>\n    <nav class=\"pagination pagination-compact top\" aria-label=\"Compact Pagination\">\n        <ol>\n            <li class=\"nav-item previous\"><a class=\"nav-link previous-page-link\" href=\"#\"><span class=\"icon fa fa-angle-left\" aria-hidden=\"true\"></span> <span class=\"nav-label\"><%- gettext(\"Previous\") %></span></a></li>\n            <li class=\"nav-item next\"><a class=\"nav-link next-page-link\" href=\"#\"><span class=\"nav-label\"><%- gettext(\"Next\") %></span> <span class=\"icon fa fa-angle-right\" aria-hidden=\"true\"></span></a></li>\n        </ol>\n    </nav>\n</div>\n"

/***/ }),

/***/ "./common/static/common/js/components/utils/view_utils.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * Provides useful utilities for views.
 */



/* RequireJS
define(['jquery', 'underscore', 'gettext', 'common/js/components/views/feedback_notification',
    'common/js/components/views/feedback_prompt', 'edx-ui-toolkit/js/utils/html-utils'],
    function($, _, gettext, NotificationView, PromptView, HtmlUtils) {
/* End RequireJS */
/* Webpack */

!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__(3), __webpack_require__("./common/static/common/js/components/views/feedback_notification.js"), __webpack_require__("./common/static/common/js/components/views/feedback_prompt.js"), __webpack_require__("./node_modules/scriptjs/dist/script.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, gettext, NotificationView, PromptView, $script) {
    /* End Webpack */

    var toggleExpandCollapse, showLoadingIndicator, hideLoadingIndicator, confirmThenRunOperation, runOperationShowingMessage, showErrorMeassage, withDisabledElement, disableElementWhileRunning, getScrollOffset, setScrollOffset, setScrollTop, redirect, reload, hasChangedAttributes, deleteNotificationHandler, validateRequiredField, validateURLItemEncoding, validateTotalKeyLength, checkTotalKeyLengthViolations, loadJavaScript;

    // see https://openedx.atlassian.net/browse/TNL-889 for what is it and why it's 65
    var MAX_SUM_KEY_LENGTH = 65;

    /**
     * Toggles the expanded state of the current element.
     */
    toggleExpandCollapse = function toggleExpandCollapse(target, collapsedClass) {
        // Support the old 'collapsed' option until fully switched over to is-collapsed
        var collapsed = collapsedClass || 'collapsed';
        target.closest('.expand-collapse').toggleClass('expand collapse');
        target.closest('.is-collapsible, .window').toggleClass(collapsed);
        target.closest('.is-collapsible').children('article').slideToggle();
    };

    /**
     * Show the page's loading indicator.
     */
    showLoadingIndicator = function showLoadingIndicator() {
        $('.ui-loading').show();
    };

    /**
     * Hide the page's loading indicator.
     */
    hideLoadingIndicator = function hideLoadingIndicator() {
        $('.ui-loading').hide();
    };

    /**
     * Confirms with the user whether to run an operation or not, and then runs it if desired.
     */
    confirmThenRunOperation = function confirmThenRunOperation(title, message, actionLabel, operation, onCancelCallback) {
        return new PromptView.Warning({
            title: title,
            message: message,
            actions: {
                primary: {
                    text: actionLabel,
                    click: function click(prompt) {
                        prompt.hide();
                        operation();
                    }
                },
                secondary: {
                    text: gettext('Cancel'),
                    click: function click(prompt) {
                        if (onCancelCallback) {
                            onCancelCallback();
                        }
                        return prompt.hide();
                    }
                }
            }
        }).show();
    };

    /**
     * Shows a progress message for the duration of an asynchronous operation.
     * Note: this does not remove the notification upon failure because an error
     * will be shown that shouldn't be removed.
     * @param message The message to show.
     * @param operation A function that returns a promise representing the operation.
     */
    runOperationShowingMessage = function runOperationShowingMessage(message, operation) {
        var notificationView;
        notificationView = new NotificationView.Mini({
            title: gettext(message)
        });
        notificationView.show();
        return operation().done(function () {
            notificationView.hide();
        });
    };

    /**
     * Shows an error notification message for a specifc period of time.
     * @param heading The heading of notification.
     * @param message The message to show.
     * @param timeInterval The time interval to hide the notification.
     */
    showErrorMeassage = function showErrorMeassage(heading, message, timeInterval) {
        var errorNotificationView = new NotificationView.Error({
            title: gettext(heading),
            message: gettext(message)
        });
        errorNotificationView.show();

        setTimeout(function () {
            errorNotificationView.hide();
        }, timeInterval);
    };
    /**
     * Wraps a Backbone event callback to disable the event's target element.
     *
     * This paradigm is designed to be used in Backbone event maps where
     * multiple events firing simultaneously is not desired.
     *
     * @param functionName the function to execute, as a string.
     * The function must return a jQuery promise and be able to take an event
     */
    withDisabledElement = function withDisabledElement(functionName) {
        return function (event) {
            var view = this;
            disableElementWhileRunning($(event.currentTarget), function () {
                // call view.functionName(event), with view as the current this
                return view[functionName].apply(view, [event]);
            });
        };
    };

    /**
     * Disables a given element when a given operation is running.
     * @param {jQuery} element the element to be disabled.
     * @param operation the operation during whose duration the
     * element should be disabled. The operation should return
     * a JQuery promise.
     */
    disableElementWhileRunning = function disableElementWhileRunning(element, operation) {
        element.addClass('is-disabled').attr('aria-disabled', true);
        return operation().always(function () {
            element.removeClass('is-disabled').attr('aria-disabled', false);
        });
    };

    /**
     * Returns a handler that removes a notification, both dismissing it and deleting it from the database.
     * @param callback function to call when deletion succeeds
     */
    deleteNotificationHandler = function deleteNotificationHandler(callback) {
        return function (event) {
            event.preventDefault();
            $.ajax({
                url: $(this).data('dismiss-link'),
                type: 'DELETE',
                success: callback
            });
        };
    };

    /**
     * Performs an animated scroll so that the window has the specified scroll top.
     * @param scrollTop The desired scroll top for the window.
     */
    setScrollTop = function setScrollTop(scrollTop) {
        $('html, body').animate({
            scrollTop: scrollTop
        }, 500);
    };

    /**
     * Returns the relative position that the element is scrolled from the top of the view port.
     * @param element The element in question.
     */
    getScrollOffset = function getScrollOffset(element) {
        var elementTop = element.offset().top;
        return elementTop - $(window).scrollTop();
    };

    /**
     * Scrolls the window so that the element is scrolled down to the specified relative position
     * from the top of the view port.
     * @param element The element in question.
     * @param offset The amount by which the element should be scrolled from the top of the view port.
     */
    setScrollOffset = function setScrollOffset(element, offset) {
        var elementTop = element.offset().top,
            newScrollTop = elementTop - offset;
        setScrollTop(newScrollTop);
    };

    /**
     * Redirects to the specified URL. This is broken out as its own function for unit testing.
     */
    redirect = function redirect(url) {
        window.location = url;
    };

    /**
     * Reloads the page. This is broken out as its own function for unit testing.
     */
    reload = function reload() {
        window.location.reload();
    };

    /**
     * Returns true if a model has changes to at least one of the specified attributes.
     * @param model The model in question.
     * @param attributes The list of attributes to be compared.
     * @returns {boolean} Returns true if attribute changes are found.
     */
    hasChangedAttributes = function hasChangedAttributes(model, attributes) {
        var i,
            changedAttributes = model.changedAttributes();
        if (!changedAttributes) {
            return false;
        }
        for (i = 0; i < attributes.length; i++) {
            if (_.has(changedAttributes, attributes[i])) {
                return true;
            }
        }
        return false;
    };

    /**
     * Helper method for course/library creation - verifies a required field is not blank.
     */
    validateRequiredField = function validateRequiredField(msg) {
        return msg.length === 0 ? gettext('Required field.') : '';
    };

    /**
     * Helper method for course/library creation.
     * Check that a course (org, number, run) doesn't use any special characters
     */
    validateURLItemEncoding = function validateURLItemEncoding(item, allowUnicode) {
        var required = validateRequiredField(item);
        if (required) {
            return required;
        }
        if (allowUnicode) {
            if (/\s/g.test(item)) {
                return gettext('Please do not use any spaces in this field.');
            }
        } else {
            if (item !== encodeURIComponent(item) || item.match(/[!'()*]/)) {
                return gettext('Please do not use any spaces or special characters in this field.');
            }
        }
        return '';
    };

    // Ensure that sum length of key field values <= ${MAX_SUM_KEY_LENGTH} chars.
    validateTotalKeyLength = function validateTotalKeyLength(keyFieldSelectors) {
        var totalLength = _.reduce(keyFieldSelectors, function (sum, ele) {
            return sum + $(ele).val().length;
        }, 0);
        return totalLength <= MAX_SUM_KEY_LENGTH;
    };

    checkTotalKeyLengthViolations = function checkTotalKeyLengthViolations(selectors, classes, keyFieldSelectors, messageTpl) {
        var tempHtml;
        if (!validateTotalKeyLength(keyFieldSelectors)) {
            $(selectors.errorWrapper).addClass(classes.shown).removeClass(classes.hiding);
            tempHtml = HtmlUtils.joinHtml(HtmlUtils.HTML('<p>'), HtmlUtils.template(messageTpl)({ limit: MAX_SUM_KEY_LENGTH }), HtmlUtils.HTML('</p>'));
            HtmlUtils.setHtml($(selectors.errorMessage), tempHtml);
            $(selectors.save).addClass(classes.disabled);
        } else {
            $(selectors.errorWrapper).removeClass(classes.shown).addClass(classes.hiding);
        }
    };

    /**
     * Dynamically loads the specified JavaScript file.
     * @param url The URL to a JavaScript file.
     * @returns {Promise} A promise indicating when the URL has been loaded.
     */
    loadJavaScript = function loadJavaScript(url) {
        var deferred = $.Deferred();
        /* RequireJS
        require([url],
            function() {
                deferred.resolve();
            },
            function() {
                deferred.reject();
            });
        /* End RequireJS */
        /* Webpack */
        $script(url, url, function () {
            deferred.resolve();
        });
        /* End Webpack */
        return deferred.promise();
    };

    return {
        toggleExpandCollapse: toggleExpandCollapse,
        showLoadingIndicator: showLoadingIndicator,
        hideLoadingIndicator: hideLoadingIndicator,
        confirmThenRunOperation: confirmThenRunOperation,
        runOperationShowingMessage: runOperationShowingMessage,
        showErrorMeassage: showErrorMeassage,
        withDisabledElement: withDisabledElement,
        disableElementWhileRunning: disableElementWhileRunning,
        deleteNotificationHandler: deleteNotificationHandler,
        setScrollTop: setScrollTop,
        getScrollOffset: getScrollOffset,
        setScrollOffset: setScrollOffset,
        redirect: redirect,
        reload: reload,
        hasChangedAttributes: hasChangedAttributes,
        validateRequiredField: validateRequiredField,
        validateURLItemEncoding: validateURLItemEncoding,
        validateTotalKeyLength: validateTotalKeyLength,
        checkTotalKeyLengthViolations: checkTotalKeyLengthViolations,
        loadJavaScript: loadJavaScript
    };
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./common/static/common/js/components/views/feedback.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;


!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__("./common/static/common/js/vendor/underscore.string.js"), __webpack_require__(2), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"), __webpack_require__("./common/static/common/templates/components/system-feedback.underscore")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, str, Backbone, HtmlUtils, systemFeedbackTemplate) {
    var tabbableElements = ["a[href]:not([tabindex='-1'])", "area[href]:not([tabindex='-1'])", "input:not([disabled]):not([tabindex='-1'])", "select:not([disabled]):not([tabindex='-1'])", "textarea:not([disabled]):not([tabindex='-1'])", "button:not([disabled]):not([tabindex='-1'])", "iframe:not([tabindex='-1'])", "[tabindex]:not([tabindex='-1'])", "[contentEditable=true]:not([tabindex='-1'])"];
    var SystemFeedback = Backbone.View.extend({
        options: {
            title: '',
            message: '',
            intent: null, // "warning", "confirmation", "error", "announcement", "step-required", etc
            type: null, // "alert", "notification", or "prompt": set by subclass
            shown: true, // is this view currently being shown?
            icon: true, // should we render an icon related to the message intent?
            closeIcon: true, // should we render a close button in the top right corner?
            minShown: 0, // ms after this view has been shown before it can be hidden
            maxShown: Infinity, // ms after this view has been shown before it will be automatically hidden
            outFocusElement: null // element to send focus to on hide

            /* Could also have an "actions" hash: here is an example demonstrating
                the expected structure. For each action, by default the framework
                will call preventDefault on the click event before the function is
                run; to make it not do that, just pass `preventDefault: false` in
                the action object.
             actions: {
                primary: {
                    "text": "Save",
                    "class": "action-save",
                    "click": function(view) {
                        // do something when Save is clicked
                    }
                },
                secondary: [
                    {
                        "text": "Cancel",
                        "class": "action-cancel",
                        "click": function(view) {}
                    }, {
                        "text": "Discard Changes",
                        "class": "action-discard",
                        "click": function(view) {}
                    }
                ]
            }
            */
        },

        initialize: function initialize(options) {
            this.options = _.extend({}, this.options, options);
            if (!this.options.type) {
                throw 'SystemFeedback: type required (given ' + // eslint-disable-line no-throw-literal
                JSON.stringify(this.options) + ')';
            }
            if (!this.options.intent) {
                throw 'SystemFeedback: intent required (given ' + // eslint-disable-line no-throw-literal
                JSON.stringify(this.options) + ')';
            }
            this.setElement($('#page-' + this.options.type));
            // handle single "secondary" action
            if (this.options.actions && this.options.actions.secondary && !_.isArray(this.options.actions.secondary)) {
                this.options.actions.secondary = [this.options.actions.secondary];
            }
            return this;
        },

        inFocus: function inFocus(wrapperElementSelector) {
            var wrapper = wrapperElementSelector || '.wrapper',
                tabbables;
            this.options.outFocusElement = this.options.outFocusElement || document.activeElement;

            // Set focus to the container.
            this.$(wrapper).first().focus();

            // Make tabs within the prompt loop rather than setting focus
            // back to the main content of the page.
            tabbables = this.$(tabbableElements.join());
            tabbables.on('keydown', function (event) {
                // On tab backward from the first tabbable item in the prompt
                if (event.which === 9 && event.shiftKey && event.target === tabbables.first()[0]) {
                    event.preventDefault();
                    tabbables.last().focus();
                } else if (event.which === 9 && !event.shiftKey && event.target === tabbables.last()[0]) {
                    // On tab forward from the last tabbable item in the prompt
                    event.preventDefault();
                    tabbables.first().focus();
                }
            });

            return this;
        },

        outFocus: function outFocus() {
            this.$(tabbableElements.join()).off('keydown');
            if (this.options.outFocusElement) {
                this.options.outFocusElement.focus();
            }
            return this;
        },

        // public API: show() and hide()
        show: function show() {
            clearTimeout(this.hideTimeout);
            this.options.shown = true;
            this.shownAt = new Date();
            this.render();
            if ($.isNumeric(this.options.maxShown)) {
                this.hideTimeout = setTimeout(_.bind(this.hide, this), this.options.maxShown);
            }
            return this;
        },

        hide: function hide() {
            if (this.shownAt && $.isNumeric(this.options.minShown) && this.options.minShown > new Date() - this.shownAt) {
                clearTimeout(this.hideTimeout);
                this.hideTimeout = setTimeout(_.bind(this.hide, this), this.options.minShown - (new Date() - this.shownAt));
            } else {
                this.options.shown = false;
                delete this.shownAt;
                this.render();
            }
            return this;
        },

        // the rest of the API should be considered semi-private
        events: {
            'click .action-close': 'hide',
            'click .action-primary': 'primaryClick',
            'click .action-secondary': 'secondaryClick'
        },

        render: function render() {
            // there can be only one active view of a given type at a time: only
            // one alert, only one notification, only one prompt. Therefore, we'll
            // use a singleton approach.
            var singleton = SystemFeedback['active_' + this.options.type];
            if (singleton && singleton !== this) {
                singleton.stopListening();
                singleton.undelegateEvents();
            }
            HtmlUtils.setHtml(this.$el, HtmlUtils.template(systemFeedbackTemplate)(this.options));
            SystemFeedback['active_' + this.options.type] = this;
            return this;
        },

        primaryClick: function primaryClick(event) {
            var actions, primary;
            actions = this.options.actions;
            if (!actions) {
                return;
            }
            primary = actions.primary;
            if (!primary) {
                return;
            }
            if (primary.preventDefault !== false) {
                event.preventDefault();
            }
            if (primary.click) {
                primary.click.call(event.target, this, event);
            }
        },

        secondaryClick: function secondaryClick(event) {
            var actions, secondaryList, secondary, i;
            actions = this.options.actions;
            if (!actions) {
                return;
            }
            secondaryList = actions.secondary;
            if (!secondaryList) {
                return;
            }
            // which secondary action was clicked?
            i = 0; // default to the first secondary action (easier for testing)
            if (event && event.target) {
                i = _.indexOf(this.$('.action-secondary'), event.target);
            }
            secondary = secondaryList[i];
            if (secondary.preventDefault !== false) {
                event.preventDefault();
            }
            if (secondary.click) {
                secondary.click.call(event.target, this, event);
            }
        }
    });
    return SystemFeedback;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./common/static/common/js/components/views/feedback_alert.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;


!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__("./common/static/common/js/vendor/underscore.string.js"), __webpack_require__("./common/static/common/js/components/views/feedback.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, str, SystemFeedbackView) {
    var Alert = SystemFeedbackView.extend({
        options: $.extend({}, SystemFeedbackView.prototype.options, {
            type: 'alert'
        }),
        slide_speed: 900,
        show: function show() {
            SystemFeedbackView.prototype.show.apply(this, arguments);
            this.$el.hide();
            this.$el.slideDown(this.slide_speed);
            return this;
        },
        hide: function hide() {
            this.$el.slideUp({
                duration: this.slide_speed
            });
            setTimeout(_.bind(SystemFeedbackView.prototype.hide, this, arguments), this.slideSpeed);
        }
    });

    // create Alert.Warning, Alert.Confirmation, etc
    var capitalCamel, intents;
    capitalCamel = _.compose(str.capitalize, str.camelize);
    intents = ['warning', 'error', 'confirmation', 'announcement', 'step-required', 'help', 'mini'];
    _.each(intents, function (intent) {
        var subclass;
        subclass = Alert.extend({
            options: $.extend({}, Alert.prototype.options, {
                intent: intent
            })
        });
        Alert[capitalCamel(intent)] = subclass;
    });

    return Alert;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./common/static/common/js/components/views/feedback_notification.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;


!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__("./common/static/common/js/vendor/underscore.string.js"), __webpack_require__("./common/static/common/js/components/views/feedback.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, str, SystemFeedbackView) {
    var Notification = SystemFeedbackView.extend({
        options: $.extend({}, SystemFeedbackView.prototype.options, {
            type: 'notification',
            closeIcon: false
        })
    });

    // create Notification.Warning, Notification.Confirmation, etc
    var capitalCamel, intents, miniOptions;
    capitalCamel = _.compose(str.capitalize, str.camelize);
    intents = ['warning', 'error', 'confirmation', 'announcement', 'step-required', 'help', 'mini'];
    _.each(intents, function (intent) {
        var subclass;
        subclass = Notification.extend({
            options: $.extend({}, Notification.prototype.options, {
                intent: intent
            })
        });
        Notification[capitalCamel(intent)] = subclass;
    });

    // set more sensible defaults for Notification.Mini views
    miniOptions = Notification.Mini.prototype.options;
    miniOptions.minShown = 1250;
    miniOptions.closeIcon = false;

    return Notification;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./common/static/common/js/components/views/feedback_prompt.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;


!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__(1), __webpack_require__("./common/static/common/js/vendor/underscore.string.js"), __webpack_require__("./common/static/common/js/components/views/feedback.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, str, SystemFeedbackView) {
    var Prompt = SystemFeedbackView.extend({
        options: $.extend({}, SystemFeedbackView.prototype.options, {
            type: 'prompt',
            closeIcon: false,
            icon: false
        }),
        render: function render() {
            if (!window.$body) {
                window.$body = $(document.body);
            }
            if (this.options.shown) {
                $body.addClass('prompt-is-shown');
            } else {
                $body.removeClass('prompt-is-shown');
            }
            // super() in Javascript has awkward syntax :(
            return SystemFeedbackView.prototype.render.apply(this, arguments);
        },
        show: function show() {
            SystemFeedbackView.prototype.show.apply(this, arguments);
            return this.inFocus();
        },

        hide: function hide() {
            SystemFeedbackView.prototype.hide.apply(this, arguments);
            return this.outFocus();
        }
    });

    // create Prompt.Warning, Prompt.Confirmation, etc
    var capitalCamel, intents;
    capitalCamel = _.compose(str.capitalize, str.camelize);
    intents = ['warning', 'error', 'confirmation', 'announcement', 'step-required', 'help', 'mini'];
    _.each(intents, function (intent) {
        var subclass;
        subclass = Prompt.extend({
            options: $.extend({}, Prompt.prototype.options, {
                intent: intent
            })
        });
        Prompt[capitalCamel(intent)] = subclass;
    });

    return Prompt;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./common/static/common/js/components/views/paging_footer.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;


!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(1), __webpack_require__(3), __webpack_require__(2), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"), __webpack_require__("./common/static/common/templates/components/paging-footer.underscore")], __WEBPACK_AMD_DEFINE_RESULT__ = function (_, gettext, Backbone, HtmlUtils, pagingFooterTemplate) {
    var PagingFooter = Backbone.View.extend({
        events: {
            'click .next-page-link': 'nextPage',
            'click .previous-page-link': 'previousPage',
            'change .page-number-input': 'changePage'
        },

        initialize: function initialize(options) {
            this.collection = options.collection;
            this.hideWhenOnePage = options.hideWhenOnePage || false;
            this.paginationLabel = options.paginationLabel || gettext('Pagination');
            this.collection.bind('add', _.bind(this.render, this));
            this.collection.bind('remove', _.bind(this.render, this));
            this.collection.bind('reset', _.bind(this.render, this));
        },

        render: function render() {
            var onFirstPage = !this.collection.hasPreviousPage(),
                onLastPage = !this.collection.hasNextPage();
            if (this.hideWhenOnePage) {
                if (this.collection.getTotalPages() <= 1) {
                    this.$el.addClass('hidden');
                } else if (this.$el.hasClass('hidden')) {
                    this.$el.removeClass('hidden');
                }
            }

            HtmlUtils.setHtml(this.$el, HtmlUtils.template(pagingFooterTemplate)({
                current_page: this.collection.getPageNumber(),
                total_pages: this.collection.getTotalPages(),
                paginationLabel: this.paginationLabel
            }));
            this.$('.previous-page-link').toggleClass('is-disabled', onFirstPage).attr('aria-disabled', onFirstPage);
            this.$('.next-page-link').toggleClass('is-disabled', onLastPage).attr('aria-disabled', onLastPage);
            return this;
        },

        changePage: function changePage() {
            var collection = this.collection,
                currentPage = collection.getPageNumber(),
                pageInput = this.$('#page-number-input'),
                pageNumber = parseInt(pageInput.val(), 10),
                validInput = true;
            if (!pageNumber || pageNumber > collection.getTotalPages() || pageNumber < 1) {
                validInput = false;
            }
            // If we still have a page number by this point,
            // and it's not the current page, load it.
            if (validInput && pageNumber !== currentPage) {
                collection.setPage(pageNumber);
            }
            pageInput.val(''); // Clear the value as the label will show beneath it
        },

        nextPage: function nextPage() {
            this.collection.nextPage();
        },

        previousPage: function previousPage() {
            this.collection.previousPage();
        }
    });

    return PagingFooter;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define();

/***/ }),

/***/ "./common/static/common/js/vendor/jquery.scrollTo.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/*!
 * jQuery.scrollTo
 * Copyright (c) 2007-2015 Ariel Flesler - aflesler<a>gmail<d>com | http://flesler.blogspot.com
 * Licensed under MIT
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 * @projectDescription Lightweight, cross-browser and highly customizable animated scrolling with jQuery
 * @author Ariel Flesler
 * @version 2.1.2
 */
;(function (factory) {
	'use strict';

	if (true) {
		// AMD
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else if (typeof module !== 'undefined' && module.exports) {
		// CommonJS
		module.exports = factory(require('jquery'));
	} else {
		// Global
		factory(jQuery);
	}
})(function ($) {
	'use strict';

	var $scrollTo = $.scrollTo = function (target, duration, settings) {
		return $(window).scrollTo(target, duration, settings);
	};

	$scrollTo.defaults = {
		axis: 'xy',
		duration: 0,
		limit: true
	};

	function isWin(elem) {
		return !elem.nodeName || $.inArray(elem.nodeName.toLowerCase(), ['iframe', '#document', 'html', 'body']) !== -1;
	}

	$.fn.scrollTo = function (target, duration, settings) {
		if ((typeof duration === 'undefined' ? 'undefined' : _typeof(duration)) === 'object') {
			settings = duration;
			duration = 0;
		}
		if (typeof settings === 'function') {
			settings = { onAfter: settings };
		}
		if (target === 'max') {
			target = 9e9;
		}

		settings = $.extend({}, $scrollTo.defaults, settings);
		// Speed is still recognized for backwards compatibility
		duration = duration || settings.duration;
		// Make sure the settings are given right
		var queue = settings.queue && settings.axis.length > 1;
		if (queue) {
			// Let's keep the overall duration
			duration /= 2;
		}
		settings.offset = both(settings.offset);
		settings.over = both(settings.over);

		return this.each(function () {
			// Null target yields nothing, just like jQuery does
			if (target === null) return;

			var win = isWin(this),
			    elem = win ? this.contentWindow || window : this,
			    $elem = $(elem),
			    targ = target,
			    attr = {},
			    toff;

			switch (typeof targ === 'undefined' ? 'undefined' : _typeof(targ)) {
				// A number will pass the regex
				case 'number':
				case 'string':
					if (/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(targ)) {
						targ = both(targ);
						// We are done
						break;
					}
					// Relative/Absolute selector
					targ = win ? $(targ) : $(targ, elem);
				/* falls through */
				case 'object':
					if (targ.length === 0) return;
					// DOMElement / jQuery
					if (targ.is || targ.style) {
						// Get the real position of the target
						toff = (targ = $(targ)).offset();
					}
			}

			var offset = $.isFunction(settings.offset) && settings.offset(elem, targ) || settings.offset;

			$.each(settings.axis.split(''), function (i, axis) {
				var Pos = axis === 'x' ? 'Left' : 'Top',
				    pos = Pos.toLowerCase(),
				    key = 'scroll' + Pos,
				    prev = $elem[key](),
				    max = $scrollTo.max(elem, axis);

				if (toff) {
					// jQuery / DOMElement
					attr[key] = toff[pos] + (win ? 0 : prev - $elem.offset()[pos]);

					// If it's a dom element, reduce the margin
					if (settings.margin) {
						attr[key] -= parseInt(targ.css('margin' + Pos), 10) || 0;
						attr[key] -= parseInt(targ.css('border' + Pos + 'Width'), 10) || 0;
					}

					attr[key] += offset[pos] || 0;

					if (settings.over[pos]) {
						// Scroll to a fraction of its width/height
						attr[key] += targ[axis === 'x' ? 'width' : 'height']() * settings.over[pos];
					}
				} else {
					var val = targ[pos];
					// Handle percentage values
					attr[key] = val.slice && val.slice(-1) === '%' ? parseFloat(val) / 100 * max : val;
				}

				// Number or 'number'
				if (settings.limit && /^\d+$/.test(attr[key])) {
					// Check the limits
					attr[key] = attr[key] <= 0 ? 0 : Math.min(attr[key], max);
				}

				// Don't waste time animating, if there's no need.
				if (!i && settings.axis.length > 1) {
					if (prev === attr[key]) {
						// No animation needed
						attr = {};
					} else if (queue) {
						// Intermediate animation
						animate(settings.onAfterFirst);
						// Don't animate this axis again in the next iteration.
						attr = {};
					}
				}
			});

			animate(settings.onAfter);

			function animate(callback) {
				var opts = $.extend({}, settings, {
					// The queue setting conflicts with animate()
					// Force it to always be true
					queue: true,
					duration: duration,
					complete: callback && function () {
						callback.call(elem, targ, settings);
					}
				});
				$elem.animate(attr, opts);
			}
		});
	};

	// Max scrolling position, works on quirks mode
	// It only fails (not too badly) on IE, quirks mode.
	$scrollTo.max = function (elem, axis) {
		var Dim = axis === 'x' ? 'Width' : 'Height',
		    scroll = 'scroll' + Dim;

		if (!isWin(elem)) return elem[scroll] - $(elem)[Dim.toLowerCase()]();

		var size = 'client' + Dim,
		    doc = elem.ownerDocument || elem.document,
		    html = doc.documentElement,
		    body = doc.body;

		return Math.max(html[scroll], body[scroll]) - Math.min(html[size], body[size]);
	};

	function both(val) {
		return $.isFunction(val) || $.isPlainObject(val) ? val : { top: val, left: val };
	}

	// Add special hooks so that window scroll properties can be animated
	$.Tween.propHooks.scrollLeft = $.Tween.propHooks.scrollTop = {
		get: function get(t) {
			return $(t.elem)[t.prop]();
		},
		set: function set(t) {
			var curr = this.get(t);
			// If interrupt is true and user scrolled, stop animating
			if (t.options.interrupt && t._last && t._last !== curr) {
				return $(t.elem).stop();
			}
			var next = Math.round(t.now);
			// Don't waste CPU
			// Browsers don't render floating point scroll
			if (curr !== next) {
				$(t.elem)[t.prop](next);
				t._last = this.get(t);
			}
		}
	};

	// AMD requirement
	return $scrollTo;
});

/***/ }),

/***/ "./common/static/common/js/vendor/underscore.string.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var require;var require;var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/*
* Underscore.string
* (c) 2010 Esa-Matti Suuronen <esa-matti aet suuronen dot org>
* Underscore.string is freely distributable under the terms of the MIT license.
* Documentation: https://github.com/epeli/underscore.string
* Some code is borrowed from MooTools and Alexandru Marasteanu.
* Version '3.3.4'
* @preserve
*/

(function (f) {
  if (( false ? "undefined" : _typeof(exports)) === "object" && typeof module !== "undefined") {
    module.exports = f();
  } else if (true) {
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (f),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {
    var g;if (typeof window !== "undefined") {
      g = window;
    } else if (typeof global !== "undefined") {
      g = global;
    } else if (typeof self !== "undefined") {
      g = self;
    } else {
      g = this;
    }g.s = f();
  }
})(function () {
  var define, module, exports;return function e(t, n, r) {
    function s(o, u) {
      if (!n[o]) {
        if (!t[o]) {
          var a = typeof require == "function" && require;if (!u && a) return require(o, !0);if (i) return i(o, !0);var f = new Error("Cannot find module '" + o + "'");throw f.code = "MODULE_NOT_FOUND", f;
        }var l = n[o] = { exports: {} };t[o][0].call(l.exports, function (e) {
          var n = t[o][1][e];return s(n ? n : e);
        }, l, l.exports, e, t, n, r);
      }return n[o].exports;
    }var i = typeof require == "function" && require;for (var o = 0; o < r.length; o++) {
      s(r[o]);
    }return s;
  }({ 1: [function (require, module, exports) {
      var trim = require('./trim');
      var decap = require('./decapitalize');

      module.exports = function camelize(str, decapitalize) {
        str = trim(str).replace(/[-_\s]+(.)?/g, function (match, c) {
          return c ? c.toUpperCase() : '';
        });

        if (decapitalize === true) {
          return decap(str);
        } else {
          return str;
        }
      };
    }, { "./decapitalize": 10, "./trim": 65 }], 2: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      module.exports = function capitalize(str, lowercaseRest) {
        str = makeString(str);
        var remainingChars = !lowercaseRest ? str.slice(1) : str.slice(1).toLowerCase();

        return str.charAt(0).toUpperCase() + remainingChars;
      };
    }, { "./helper/makeString": 20 }], 3: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      module.exports = function chars(str) {
        return makeString(str).split('');
      };
    }, { "./helper/makeString": 20 }], 4: [function (require, module, exports) {
      module.exports = function chop(str, step) {
        if (str == null) return [];
        str = String(str);
        step = ~~step;
        return step > 0 ? str.match(new RegExp('.{1,' + step + '}', 'g')) : [str];
      };
    }, {}], 5: [function (require, module, exports) {
      var capitalize = require('./capitalize');
      var camelize = require('./camelize');
      var makeString = require('./helper/makeString');

      module.exports = function classify(str) {
        str = makeString(str);
        return capitalize(camelize(str.replace(/[\W_]/g, ' ')).replace(/\s/g, ''));
      };
    }, { "./camelize": 1, "./capitalize": 2, "./helper/makeString": 20 }], 6: [function (require, module, exports) {
      var trim = require('./trim');

      module.exports = function clean(str) {
        return trim(str).replace(/\s\s+/g, ' ');
      };
    }, { "./trim": 65 }], 7: [function (require, module, exports) {

      var makeString = require('./helper/makeString');

      var from = '',
          to = 'aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz';

      from += from.toUpperCase();
      to += to.toUpperCase();

      to = to.split('');

      // for tokens requireing multitoken output
      from += '';
      to.push('ss');

      module.exports = function cleanDiacritics(str) {
        return makeString(str).replace(/.{1}/g, function (c) {
          var index = from.indexOf(c);
          return index === -1 ? c : to[index];
        });
      };
    }, { "./helper/makeString": 20 }], 8: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      module.exports = function (str, substr) {
        str = makeString(str);
        substr = makeString(substr);

        if (str.length === 0 || substr.length === 0) return 0;

        return str.split(substr).length - 1;
      };
    }, { "./helper/makeString": 20 }], 9: [function (require, module, exports) {
      var trim = require('./trim');

      module.exports = function dasherize(str) {
        return trim(str).replace(/([A-Z])/g, '-$1').replace(/[-_\s]+/g, '-').toLowerCase();
      };
    }, { "./trim": 65 }], 10: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      module.exports = function decapitalize(str) {
        str = makeString(str);
        return str.charAt(0).toLowerCase() + str.slice(1);
      };
    }, { "./helper/makeString": 20 }], 11: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      function getIndent(str) {
        var matches = str.match(/^[\s\\t]*/gm);
        var indent = matches[0].length;

        for (var i = 1; i < matches.length; i++) {
          indent = Math.min(matches[i].length, indent);
        }

        return indent;
      }

      module.exports = function dedent(str, pattern) {
        str = makeString(str);
        var indent = getIndent(str);
        var reg;

        if (indent === 0) return str;

        if (typeof pattern === 'string') {
          reg = new RegExp('^' + pattern, 'gm');
        } else {
          reg = new RegExp('^[ \\t]{' + indent + '}', 'gm');
        }

        return str.replace(reg, '');
      };
    }, { "./helper/makeString": 20 }], 12: [function (require, module, exports) {
      var makeString = require('./helper/makeString');
      var toPositive = require('./helper/toPositive');

      module.exports = function endsWith(str, ends, position) {
        str = makeString(str);
        ends = '' + ends;
        if (typeof position == 'undefined') {
          position = str.length - ends.length;
        } else {
          position = Math.min(toPositive(position), str.length) - ends.length;
        }
        return position >= 0 && str.indexOf(ends, position) === position;
      };
    }, { "./helper/makeString": 20, "./helper/toPositive": 22 }], 13: [function (require, module, exports) {
      var makeString = require('./helper/makeString');
      var escapeChars = require('./helper/escapeChars');

      var regexString = '[';
      for (var key in escapeChars) {
        regexString += key;
      }
      regexString += ']';

      var regex = new RegExp(regexString, 'g');

      module.exports = function escapeHTML(str) {

        return makeString(str).replace(regex, function (m) {
          return '&' + escapeChars[m] + ';';
        });
      };
    }, { "./helper/escapeChars": 17, "./helper/makeString": 20 }], 14: [function (require, module, exports) {
      module.exports = function () {
        var result = {};

        for (var prop in this) {
          if (!this.hasOwnProperty(prop) || prop.match(/^(?:include|contains|reverse|join|map|wrap)$/)) continue;
          result[prop] = this[prop];
        }

        return result;
      };
    }, {}], 15: [function (require, module, exports) {
      var makeString = require('./makeString');

      module.exports = function adjacent(str, direction) {
        str = makeString(str);
        if (str.length === 0) {
          return '';
        }
        return str.slice(0, -1) + String.fromCharCode(str.charCodeAt(str.length - 1) + direction);
      };
    }, { "./makeString": 20 }], 16: [function (require, module, exports) {
      var escapeRegExp = require('./escapeRegExp');

      module.exports = function defaultToWhiteSpace(characters) {
        if (characters == null) return '\\s';else if (characters.source) return characters.source;else return '[' + escapeRegExp(characters) + ']';
      };
    }, { "./escapeRegExp": 18 }], 17: [function (require, module, exports) {
      /* We're explicitly defining the list of entities we want to escape.
      nbsp is an HTML entity, but we don't want to escape all space characters in a string, hence its omission in this map.
      
      */
      var escapeChars = {
        '': 'cent',
        '': 'pound',
        '': 'yen',
        '': 'euro',
        '': 'copy',
        '': 'reg',
        '<': 'lt',
        '>': 'gt',
        '"': 'quot',
        '&': 'amp',
        '\'': '#39'
      };

      module.exports = escapeChars;
    }, {}], 18: [function (require, module, exports) {
      var makeString = require('./makeString');

      module.exports = function escapeRegExp(str) {
        return makeString(str).replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1');
      };
    }, { "./makeString": 20 }], 19: [function (require, module, exports) {
      /*
      We're explicitly defining the list of entities that might see in escape HTML strings
      */
      var htmlEntities = {
        nbsp: ' ',
        cent: '',
        pound: '',
        yen: '',
        euro: '',
        copy: '',
        reg: '',
        lt: '<',
        gt: '>',
        quot: '"',
        amp: '&',
        apos: '\''
      };

      module.exports = htmlEntities;
    }, {}], 20: [function (require, module, exports) {
      /**
       * Ensure some object is a coerced to a string
       **/
      module.exports = function makeString(object) {
        if (object == null) return '';
        return '' + object;
      };
    }, {}], 21: [function (require, module, exports) {
      module.exports = function strRepeat(str, qty) {
        if (qty < 1) return '';
        var result = '';
        while (qty > 0) {
          if (qty & 1) result += str;
          qty >>= 1, str += str;
        }
        return result;
      };
    }, {}], 22: [function (require, module, exports) {
      module.exports = function toPositive(number) {
        return number < 0 ? 0 : +number || 0;
      };
    }, {}], 23: [function (require, module, exports) {
      var capitalize = require('./capitalize');
      var underscored = require('./underscored');
      var trim = require('./trim');

      module.exports = function humanize(str) {
        return capitalize(trim(underscored(str).replace(/_id$/, '').replace(/_/g, ' ')));
      };
    }, { "./capitalize": 2, "./trim": 65, "./underscored": 67 }], 24: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      module.exports = function include(str, needle) {
        if (needle === '') return true;
        return makeString(str).indexOf(needle) !== -1;
      };
    }, { "./helper/makeString": 20 }], 25: [function (require, module, exports) {
      /*
      * Underscore.string
      * (c) 2010 Esa-Matti Suuronen <esa-matti aet suuronen dot org>
      * Underscore.string is freely distributable under the terms of the MIT license.
      * Documentation: https://github.com/epeli/underscore.string
      * Some code is borrowed from MooTools and Alexandru Marasteanu.
      * Version '3.3.4'
      * @preserve
      */

      'use strict';

      function s(value) {
        /* jshint validthis: true */
        if (!(this instanceof s)) return new s(value);
        this._wrapped = value;
      }

      s.VERSION = '3.3.4';

      s.isBlank = require('./isBlank');
      s.stripTags = require('./stripTags');
      s.capitalize = require('./capitalize');
      s.decapitalize = require('./decapitalize');
      s.chop = require('./chop');
      s.trim = require('./trim');
      s.clean = require('./clean');
      s.cleanDiacritics = require('./cleanDiacritics');
      s.count = require('./count');
      s.chars = require('./chars');
      s.swapCase = require('./swapCase');
      s.escapeHTML = require('./escapeHTML');
      s.unescapeHTML = require('./unescapeHTML');
      s.splice = require('./splice');
      s.insert = require('./insert');
      s.replaceAll = require('./replaceAll');
      s.include = require('./include');
      s.join = require('./join');
      s.lines = require('./lines');
      s.dedent = require('./dedent');
      s.reverse = require('./reverse');
      s.startsWith = require('./startsWith');
      s.endsWith = require('./endsWith');
      s.pred = require('./pred');
      s.succ = require('./succ');
      s.titleize = require('./titleize');
      s.camelize = require('./camelize');
      s.underscored = require('./underscored');
      s.dasherize = require('./dasherize');
      s.classify = require('./classify');
      s.humanize = require('./humanize');
      s.ltrim = require('./ltrim');
      s.rtrim = require('./rtrim');
      s.truncate = require('./truncate');
      s.prune = require('./prune');
      s.words = require('./words');
      s.pad = require('./pad');
      s.lpad = require('./lpad');
      s.rpad = require('./rpad');
      s.lrpad = require('./lrpad');
      s.sprintf = require('./sprintf');
      s.vsprintf = require('./vsprintf');
      s.toNumber = require('./toNumber');
      s.numberFormat = require('./numberFormat');
      s.strRight = require('./strRight');
      s.strRightBack = require('./strRightBack');
      s.strLeft = require('./strLeft');
      s.strLeftBack = require('./strLeftBack');
      s.toSentence = require('./toSentence');
      s.toSentenceSerial = require('./toSentenceSerial');
      s.slugify = require('./slugify');
      s.surround = require('./surround');
      s.quote = require('./quote');
      s.unquote = require('./unquote');
      s.repeat = require('./repeat');
      s.naturalCmp = require('./naturalCmp');
      s.levenshtein = require('./levenshtein');
      s.toBoolean = require('./toBoolean');
      s.exports = require('./exports');
      s.escapeRegExp = require('./helper/escapeRegExp');
      s.wrap = require('./wrap');
      s.map = require('./map');

      // Aliases
      s.strip = s.trim;
      s.lstrip = s.ltrim;
      s.rstrip = s.rtrim;
      s.center = s.lrpad;
      s.rjust = s.lpad;
      s.ljust = s.rpad;
      s.contains = s.include;
      s.q = s.quote;
      s.toBool = s.toBoolean;
      s.camelcase = s.camelize;
      s.mapChars = s.map;

      // Implement chaining
      s.prototype = {
        value: function value() {
          return this._wrapped;
        }
      };

      function fn2method(key, fn) {
        if (typeof fn !== 'function') return;
        s.prototype[key] = function () {
          var args = [this._wrapped].concat(Array.prototype.slice.call(arguments));
          var res = fn.apply(null, args);
          // if the result is non-string stop the chain and return the value
          return typeof res === 'string' ? new s(res) : res;
        };
      }

      // Copy functions to instance methods for chaining
      for (var key in s) {
        fn2method(key, s[key]);
      }fn2method('tap', function tap(string, fn) {
        return fn(string);
      });

      function prototype2method(methodName) {
        fn2method(methodName, function (context) {
          var args = Array.prototype.slice.call(arguments, 1);
          return String.prototype[methodName].apply(context, args);
        });
      }

      var prototypeMethods = ['toUpperCase', 'toLowerCase', 'split', 'replace', 'slice', 'substring', 'substr', 'concat'];

      for (var method in prototypeMethods) {
        prototype2method(prototypeMethods[method]);
      }module.exports = s;
    }, { "./camelize": 1, "./capitalize": 2, "./chars": 3, "./chop": 4, "./classify": 5, "./clean": 6, "./cleanDiacritics": 7, "./count": 8, "./dasherize": 9, "./decapitalize": 10, "./dedent": 11, "./endsWith": 12, "./escapeHTML": 13, "./exports": 14, "./helper/escapeRegExp": 18, "./humanize": 23, "./include": 24, "./insert": 26, "./isBlank": 27, "./join": 28, "./levenshtein": 29, "./lines": 30, "./lpad": 31, "./lrpad": 32, "./ltrim": 33, "./map": 34, "./naturalCmp": 35, "./numberFormat": 38, "./pad": 39, "./pred": 40, "./prune": 41, "./quote": 42, "./repeat": 43, "./replaceAll": 44, "./reverse": 45, "./rpad": 46, "./rtrim": 47, "./slugify": 48, "./splice": 49, "./sprintf": 50, "./startsWith": 51, "./strLeft": 52, "./strLeftBack": 53, "./strRight": 54, "./strRightBack": 55, "./stripTags": 56, "./succ": 57, "./surround": 58, "./swapCase": 59, "./titleize": 60, "./toBoolean": 61, "./toNumber": 62, "./toSentence": 63, "./toSentenceSerial": 64, "./trim": 65, "./truncate": 66, "./underscored": 67, "./unescapeHTML": 68, "./unquote": 69, "./vsprintf": 70, "./words": 71, "./wrap": 72 }], 26: [function (require, module, exports) {
      var splice = require('./splice');

      module.exports = function insert(str, i, substr) {
        return splice(str, i, 0, substr);
      };
    }, { "./splice": 49 }], 27: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      module.exports = function isBlank(str) {
        return (/^\s*$/.test(makeString(str))
        );
      };
    }, { "./helper/makeString": 20 }], 28: [function (require, module, exports) {
      var makeString = require('./helper/makeString');
      var slice = [].slice;

      module.exports = function join() {
        var args = slice.call(arguments),
            separator = args.shift();

        return args.join(makeString(separator));
      };
    }, { "./helper/makeString": 20 }], 29: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      /**
       * Based on the implementation here: https://github.com/hiddentao/fast-levenshtein
       */
      module.exports = function levenshtein(str1, str2) {
        'use strict';

        str1 = makeString(str1);
        str2 = makeString(str2);

        // Short cut cases  
        if (str1 === str2) return 0;
        if (!str1 || !str2) return Math.max(str1.length, str2.length);

        // two rows
        var prevRow = new Array(str2.length + 1);

        // initialise previous row
        for (var i = 0; i < prevRow.length; ++i) {
          prevRow[i] = i;
        }

        // calculate current row distance from previous row
        for (i = 0; i < str1.length; ++i) {
          var nextCol = i + 1;

          for (var j = 0; j < str2.length; ++j) {
            var curCol = nextCol;

            // substution
            nextCol = prevRow[j] + (str1.charAt(i) === str2.charAt(j) ? 0 : 1);
            // insertion
            var tmp = curCol + 1;
            if (nextCol > tmp) {
              nextCol = tmp;
            }
            // deletion
            tmp = prevRow[j + 1] + 1;
            if (nextCol > tmp) {
              nextCol = tmp;
            }

            // copy current col value into previous (in preparation for next iteration)
            prevRow[j] = curCol;
          }

          // copy last col value into previous (in preparation for next iteration)
          prevRow[j] = nextCol;
        }

        return nextCol;
      };
    }, { "./helper/makeString": 20 }], 30: [function (require, module, exports) {
      module.exports = function lines(str) {
        if (str == null) return [];
        return String(str).split(/\r\n?|\n/);
      };
    }, {}], 31: [function (require, module, exports) {
      var pad = require('./pad');

      module.exports = function lpad(str, length, padStr) {
        return pad(str, length, padStr);
      };
    }, { "./pad": 39 }], 32: [function (require, module, exports) {
      var pad = require('./pad');

      module.exports = function lrpad(str, length, padStr) {
        return pad(str, length, padStr, 'both');
      };
    }, { "./pad": 39 }], 33: [function (require, module, exports) {
      var makeString = require('./helper/makeString');
      var defaultToWhiteSpace = require('./helper/defaultToWhiteSpace');
      var nativeTrimLeft = String.prototype.trimLeft;

      module.exports = function ltrim(str, characters) {
        str = makeString(str);
        if (!characters && nativeTrimLeft) return nativeTrimLeft.call(str);
        characters = defaultToWhiteSpace(characters);
        return str.replace(new RegExp('^' + characters + '+'), '');
      };
    }, { "./helper/defaultToWhiteSpace": 16, "./helper/makeString": 20 }], 34: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      module.exports = function (str, callback) {
        str = makeString(str);

        if (str.length === 0 || typeof callback !== 'function') return str;

        return str.replace(/./g, callback);
      };
    }, { "./helper/makeString": 20 }], 35: [function (require, module, exports) {
      module.exports = function naturalCmp(str1, str2) {
        if (str1 == str2) return 0;
        if (!str1) return -1;
        if (!str2) return 1;

        var cmpRegex = /(\.\d+|\d+|\D+)/g,
            tokens1 = String(str1).match(cmpRegex),
            tokens2 = String(str2).match(cmpRegex),
            count = Math.min(tokens1.length, tokens2.length);

        for (var i = 0; i < count; i++) {
          var a = tokens1[i],
              b = tokens2[i];

          if (a !== b) {
            var num1 = +a;
            var num2 = +b;
            if (num1 === num1 && num2 === num2) {
              return num1 > num2 ? 1 : -1;
            }
            return a < b ? -1 : 1;
          }
        }

        if (tokens1.length != tokens2.length) return tokens1.length - tokens2.length;

        return str1 < str2 ? -1 : 1;
      };
    }, {}], 36: [function (require, module, exports) {
      (function (window) {
        var re = {
          not_string: /[^s]/,
          number: /[diefg]/,
          json: /[j]/,
          not_json: /[^j]/,
          text: /^[^\x25]+/,
          modulo: /^\x25{2}/,
          placeholder: /^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,
          key: /^([a-z_][a-z_\d]*)/i,
          key_access: /^\.([a-z_][a-z_\d]*)/i,
          index_access: /^\[(\d+)\]/,
          sign: /^[\+\-]/
        };

        function sprintf() {
          var key = arguments[0],
              cache = sprintf.cache;
          if (!(cache[key] && cache.hasOwnProperty(key))) {
            cache[key] = sprintf.parse(key);
          }
          return sprintf.format.call(null, cache[key], arguments);
        }

        sprintf.format = function (parse_tree, argv) {
          var cursor = 1,
              tree_length = parse_tree.length,
              node_type = "",
              arg,
              output = [],
              i,
              k,
              match,
              pad,
              pad_character,
              pad_length,
              is_positive = true,
              sign = "";
          for (i = 0; i < tree_length; i++) {
            node_type = get_type(parse_tree[i]);
            if (node_type === "string") {
              output[output.length] = parse_tree[i];
            } else if (node_type === "array") {
              match = parse_tree[i]; // convenience purposes only
              if (match[2]) {
                // keyword argument
                arg = argv[cursor];
                for (k = 0; k < match[2].length; k++) {
                  if (!arg.hasOwnProperty(match[2][k])) {
                    throw new Error(sprintf("[sprintf] property '%s' does not exist", match[2][k]));
                  }
                  arg = arg[match[2][k]];
                }
              } else if (match[1]) {
                // positional argument (explicit)
                arg = argv[match[1]];
              } else {
                // positional argument (implicit)
                arg = argv[cursor++];
              }

              if (get_type(arg) == "function") {
                arg = arg();
              }

              if (re.not_string.test(match[8]) && re.not_json.test(match[8]) && get_type(arg) != "number" && isNaN(arg)) {
                throw new TypeError(sprintf("[sprintf] expecting number but found %s", get_type(arg)));
              }

              if (re.number.test(match[8])) {
                is_positive = arg >= 0;
              }

              switch (match[8]) {
                case "b":
                  arg = arg.toString(2);
                  break;
                case "c":
                  arg = String.fromCharCode(arg);
                  break;
                case "d":
                case "i":
                  arg = parseInt(arg, 10);
                  break;
                case "j":
                  arg = JSON.stringify(arg, null, match[6] ? parseInt(match[6]) : 0);
                  break;
                case "e":
                  arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential();
                  break;
                case "f":
                  arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg);
                  break;
                case "g":
                  arg = match[7] ? parseFloat(arg).toPrecision(match[7]) : parseFloat(arg);
                  break;
                case "o":
                  arg = arg.toString(8);
                  break;
                case "s":
                  arg = (arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg;
                  break;
                case "u":
                  arg = arg >>> 0;
                  break;
                case "x":
                  arg = arg.toString(16);
                  break;
                case "X":
                  arg = arg.toString(16).toUpperCase();
                  break;
              }
              if (re.json.test(match[8])) {
                output[output.length] = arg;
              } else {
                if (re.number.test(match[8]) && (!is_positive || match[3])) {
                  sign = is_positive ? "+" : "-";
                  arg = arg.toString().replace(re.sign, "");
                } else {
                  sign = "";
                }
                pad_character = match[4] ? match[4] === "0" ? "0" : match[4].charAt(1) : " ";
                pad_length = match[6] - (sign + arg).length;
                pad = match[6] ? pad_length > 0 ? str_repeat(pad_character, pad_length) : "" : "";
                output[output.length] = match[5] ? sign + arg + pad : pad_character === "0" ? sign + pad + arg : pad + sign + arg;
              }
            }
          }
          return output.join("");
        };

        sprintf.cache = {};

        sprintf.parse = function (fmt) {
          var _fmt = fmt,
              match = [],
              parse_tree = [],
              arg_names = 0;
          while (_fmt) {
            if ((match = re.text.exec(_fmt)) !== null) {
              parse_tree[parse_tree.length] = match[0];
            } else if ((match = re.modulo.exec(_fmt)) !== null) {
              parse_tree[parse_tree.length] = "%";
            } else if ((match = re.placeholder.exec(_fmt)) !== null) {
              if (match[2]) {
                arg_names |= 1;
                var field_list = [],
                    replacement_field = match[2],
                    field_match = [];
                if ((field_match = re.key.exec(replacement_field)) !== null) {
                  field_list[field_list.length] = field_match[1];
                  while ((replacement_field = replacement_field.substring(field_match[0].length)) !== "") {
                    if ((field_match = re.key_access.exec(replacement_field)) !== null) {
                      field_list[field_list.length] = field_match[1];
                    } else if ((field_match = re.index_access.exec(replacement_field)) !== null) {
                      field_list[field_list.length] = field_match[1];
                    } else {
                      throw new SyntaxError("[sprintf] failed to parse named argument key");
                    }
                  }
                } else {
                  throw new SyntaxError("[sprintf] failed to parse named argument key");
                }
                match[2] = field_list;
              } else {
                arg_names |= 2;
              }
              if (arg_names === 3) {
                throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");
              }
              parse_tree[parse_tree.length] = match;
            } else {
              throw new SyntaxError("[sprintf] unexpected placeholder");
            }
            _fmt = _fmt.substring(match[0].length);
          }
          return parse_tree;
        };

        var vsprintf = function vsprintf(fmt, argv, _argv) {
          _argv = (argv || []).slice(0);
          _argv.splice(0, 0, fmt);
          return sprintf.apply(null, _argv);
        };

        /**
         * helpers
         */
        function get_type(variable) {
          return Object.prototype.toString.call(variable).slice(8, -1).toLowerCase();
        }

        function str_repeat(input, multiplier) {
          return Array(multiplier + 1).join(input);
        }

        /**
         * export to either browser or node.js
         */
        if (typeof exports !== "undefined") {
          exports.sprintf = sprintf;
          exports.vsprintf = vsprintf;
        } else {
          window.sprintf = sprintf;
          window.vsprintf = vsprintf;

          if (typeof define === "function" && define.amd) {
            define(function () {
              return {
                sprintf: sprintf,
                vsprintf: vsprintf
              };
            });
          }
        }
      })(typeof window === "undefined" ? this : window);
    }, {}], 37: [function (require, module, exports) {
      (function (global) {

        /**
         * Module exports.
         */

        module.exports = deprecate;

        /**
         * Mark that a method should not be used.
         * Returns a modified function which warns once by default.
         *
         * If `localStorage.noDeprecation = true` is set, then it is a no-op.
         *
         * If `localStorage.throwDeprecation = true` is set, then deprecated functions
         * will throw an Error when invoked.
         *
         * If `localStorage.traceDeprecation = true` is set, then deprecated functions
         * will invoke `console.trace()` instead of `console.error()`.
         *
         * @param {Function} fn - the function to deprecate
         * @param {String} msg - the string to print to the console when `fn` is invoked
         * @returns {Function} a new "deprecated" version of `fn`
         * @api public
         */

        function deprecate(fn, msg) {
          if (config('noDeprecation')) {
            return fn;
          }

          var warned = false;
          function deprecated() {
            if (!warned) {
              if (config('throwDeprecation')) {
                throw new Error(msg);
              } else if (config('traceDeprecation')) {
                console.trace(msg);
              } else {
                console.warn(msg);
              }
              warned = true;
            }
            return fn.apply(this, arguments);
          }

          return deprecated;
        }

        /**
         * Checks `localStorage` for boolean values for the given `name`.
         *
         * @param {String} name
         * @returns {Boolean}
         * @api private
         */

        function config(name) {
          // accessing global.localStorage can trigger a DOMException in sandboxed iframes
          try {
            if (!global.localStorage) return false;
          } catch (_) {
            return false;
          }
          var val = global.localStorage[name];
          if (null == val) return false;
          return String(val).toLowerCase() === 'true';
        }
      }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
    }, {}], 38: [function (require, module, exports) {
      module.exports = function numberFormat(number, dec, dsep, tsep) {
        if (isNaN(number) || number == null) return '';

        number = number.toFixed(~~dec);
        tsep = typeof tsep == 'string' ? tsep : ',';

        var parts = number.split('.'),
            fnums = parts[0],
            decimals = parts[1] ? (dsep || '.') + parts[1] : '';

        return fnums.replace(/(\d)(?=(?:\d{3})+$)/g, '$1' + tsep) + decimals;
      };
    }, {}], 39: [function (require, module, exports) {
      var makeString = require('./helper/makeString');
      var strRepeat = require('./helper/strRepeat');

      module.exports = function pad(str, length, padStr, type) {
        str = makeString(str);
        length = ~~length;

        var padlen = 0;

        if (!padStr) padStr = ' ';else if (padStr.length > 1) padStr = padStr.charAt(0);

        switch (type) {
          case 'right':
            padlen = length - str.length;
            return str + strRepeat(padStr, padlen);
          case 'both':
            padlen = length - str.length;
            return strRepeat(padStr, Math.ceil(padlen / 2)) + str + strRepeat(padStr, Math.floor(padlen / 2));
          default:
            // 'left'
            padlen = length - str.length;
            return strRepeat(padStr, padlen) + str;
        }
      };
    }, { "./helper/makeString": 20, "./helper/strRepeat": 21 }], 40: [function (require, module, exports) {
      var adjacent = require('./helper/adjacent');

      module.exports = function succ(str) {
        return adjacent(str, -1);
      };
    }, { "./helper/adjacent": 15 }], 41: [function (require, module, exports) {
      /**
       * _s.prune: a more elegant version of truncate
       * prune extra chars, never leaving a half-chopped word.
       * @author github.com/rwz
       */
      var makeString = require('./helper/makeString');
      var rtrim = require('./rtrim');

      module.exports = function prune(str, length, pruneStr) {
        str = makeString(str);
        length = ~~length;
        pruneStr = pruneStr != null ? String(pruneStr) : '...';

        if (str.length <= length) return str;

        var tmpl = function tmpl(c) {
          return c.toUpperCase() !== c.toLowerCase() ? 'A' : ' ';
        },
            template = str.slice(0, length + 1).replace(/.(?=\W*\w*$)/g, tmpl); // 'Hello, world' -> 'HellAA AAAAA'

        if (template.slice(template.length - 2).match(/\w\w/)) template = template.replace(/\s*\S+$/, '');else template = rtrim(template.slice(0, template.length - 1));

        return (template + pruneStr).length > str.length ? str : str.slice(0, template.length) + pruneStr;
      };
    }, { "./helper/makeString": 20, "./rtrim": 47 }], 42: [function (require, module, exports) {
      var surround = require('./surround');

      module.exports = function quote(str, quoteChar) {
        return surround(str, quoteChar || '"');
      };
    }, { "./surround": 58 }], 43: [function (require, module, exports) {
      var makeString = require('./helper/makeString');
      var strRepeat = require('./helper/strRepeat');

      module.exports = function repeat(str, qty, separator) {
        str = makeString(str);

        qty = ~~qty;

        // using faster implementation if separator is not needed;
        if (separator == null) return strRepeat(str, qty);

        // this one is about 300x slower in Google Chrome
        /*eslint no-empty: 0*/
        for (var repeat = []; qty > 0; repeat[--qty] = str) {}
        return repeat.join(separator);
      };
    }, { "./helper/makeString": 20, "./helper/strRepeat": 21 }], 44: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      module.exports = function replaceAll(str, find, replace, ignorecase) {
        var flags = ignorecase === true ? 'gi' : 'g';
        var reg = new RegExp(find, flags);

        return makeString(str).replace(reg, replace);
      };
    }, { "./helper/makeString": 20 }], 45: [function (require, module, exports) {
      var chars = require('./chars');

      module.exports = function reverse(str) {
        return chars(str).reverse().join('');
      };
    }, { "./chars": 3 }], 46: [function (require, module, exports) {
      var pad = require('./pad');

      module.exports = function rpad(str, length, padStr) {
        return pad(str, length, padStr, 'right');
      };
    }, { "./pad": 39 }], 47: [function (require, module, exports) {
      var makeString = require('./helper/makeString');
      var defaultToWhiteSpace = require('./helper/defaultToWhiteSpace');
      var nativeTrimRight = String.prototype.trimRight;

      module.exports = function rtrim(str, characters) {
        str = makeString(str);
        if (!characters && nativeTrimRight) return nativeTrimRight.call(str);
        characters = defaultToWhiteSpace(characters);
        return str.replace(new RegExp(characters + '+$'), '');
      };
    }, { "./helper/defaultToWhiteSpace": 16, "./helper/makeString": 20 }], 48: [function (require, module, exports) {
      var trim = require('./trim');
      var dasherize = require('./dasherize');
      var cleanDiacritics = require('./cleanDiacritics');

      module.exports = function slugify(str) {
        return trim(dasherize(cleanDiacritics(str).replace(/[^\w\s-]/g, '-').toLowerCase()), '-');
      };
    }, { "./cleanDiacritics": 7, "./dasherize": 9, "./trim": 65 }], 49: [function (require, module, exports) {
      var chars = require('./chars');

      module.exports = function splice(str, i, howmany, substr) {
        var arr = chars(str);
        arr.splice(~~i, ~~howmany, substr);
        return arr.join('');
      };
    }, { "./chars": 3 }], 50: [function (require, module, exports) {
      var deprecate = require('util-deprecate');

      module.exports = deprecate(require('sprintf-js').sprintf, 'sprintf() will be removed in the next major release, use the sprintf-js package instead.');
    }, { "sprintf-js": 36, "util-deprecate": 37 }], 51: [function (require, module, exports) {
      var makeString = require('./helper/makeString');
      var toPositive = require('./helper/toPositive');

      module.exports = function startsWith(str, starts, position) {
        str = makeString(str);
        starts = '' + starts;
        position = position == null ? 0 : Math.min(toPositive(position), str.length);
        return str.lastIndexOf(starts, position) === position;
      };
    }, { "./helper/makeString": 20, "./helper/toPositive": 22 }], 52: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      module.exports = function strLeft(str, sep) {
        str = makeString(str);
        sep = makeString(sep);
        var pos = !sep ? -1 : str.indexOf(sep);
        return ~pos ? str.slice(0, pos) : str;
      };
    }, { "./helper/makeString": 20 }], 53: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      module.exports = function strLeftBack(str, sep) {
        str = makeString(str);
        sep = makeString(sep);
        var pos = str.lastIndexOf(sep);
        return ~pos ? str.slice(0, pos) : str;
      };
    }, { "./helper/makeString": 20 }], 54: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      module.exports = function strRight(str, sep) {
        str = makeString(str);
        sep = makeString(sep);
        var pos = !sep ? -1 : str.indexOf(sep);
        return ~pos ? str.slice(pos + sep.length, str.length) : str;
      };
    }, { "./helper/makeString": 20 }], 55: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      module.exports = function strRightBack(str, sep) {
        str = makeString(str);
        sep = makeString(sep);
        var pos = !sep ? -1 : str.lastIndexOf(sep);
        return ~pos ? str.slice(pos + sep.length, str.length) : str;
      };
    }, { "./helper/makeString": 20 }], 56: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      module.exports = function stripTags(str) {
        return makeString(str).replace(/<\/?[^>]+>/g, '');
      };
    }, { "./helper/makeString": 20 }], 57: [function (require, module, exports) {
      var adjacent = require('./helper/adjacent');

      module.exports = function succ(str) {
        return adjacent(str, 1);
      };
    }, { "./helper/adjacent": 15 }], 58: [function (require, module, exports) {
      module.exports = function surround(str, wrapper) {
        return [wrapper, str, wrapper].join('');
      };
    }, {}], 59: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      module.exports = function swapCase(str) {
        return makeString(str).replace(/\S/g, function (c) {
          return c === c.toUpperCase() ? c.toLowerCase() : c.toUpperCase();
        });
      };
    }, { "./helper/makeString": 20 }], 60: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      module.exports = function titleize(str) {
        return makeString(str).toLowerCase().replace(/(?:^|\s|-)\S/g, function (c) {
          return c.toUpperCase();
        });
      };
    }, { "./helper/makeString": 20 }], 61: [function (require, module, exports) {
      var trim = require('./trim');

      function boolMatch(s, matchers) {
        var i,
            matcher,
            down = s.toLowerCase();
        matchers = [].concat(matchers);
        for (i = 0; i < matchers.length; i += 1) {
          matcher = matchers[i];
          if (!matcher) continue;
          if (matcher.test && matcher.test(s)) return true;
          if (matcher.toLowerCase() === down) return true;
        }
      }

      module.exports = function toBoolean(str, trueValues, falseValues) {
        if (typeof str === 'number') str = '' + str;
        if (typeof str !== 'string') return !!str;
        str = trim(str);
        if (boolMatch(str, trueValues || ['true', '1'])) return true;
        if (boolMatch(str, falseValues || ['false', '0'])) return false;
      };
    }, { "./trim": 65 }], 62: [function (require, module, exports) {
      module.exports = function toNumber(num, precision) {
        if (num == null) return 0;
        var factor = Math.pow(10, isFinite(precision) ? precision : 0);
        return Math.round(num * factor) / factor;
      };
    }, {}], 63: [function (require, module, exports) {
      var rtrim = require('./rtrim');

      module.exports = function toSentence(array, separator, lastSeparator, serial) {
        separator = separator || ', ';
        lastSeparator = lastSeparator || ' and ';
        var a = array.slice(),
            lastMember = a.pop();

        if (array.length > 2 && serial) lastSeparator = rtrim(separator) + lastSeparator;

        return a.length ? a.join(separator) + lastSeparator + lastMember : lastMember;
      };
    }, { "./rtrim": 47 }], 64: [function (require, module, exports) {
      var toSentence = require('./toSentence');

      module.exports = function toSentenceSerial(array, sep, lastSep) {
        return toSentence(array, sep, lastSep, true);
      };
    }, { "./toSentence": 63 }], 65: [function (require, module, exports) {
      var makeString = require('./helper/makeString');
      var defaultToWhiteSpace = require('./helper/defaultToWhiteSpace');
      var nativeTrim = String.prototype.trim;

      module.exports = function trim(str, characters) {
        str = makeString(str);
        if (!characters && nativeTrim) return nativeTrim.call(str);
        characters = defaultToWhiteSpace(characters);
        return str.replace(new RegExp('^' + characters + '+|' + characters + '+$', 'g'), '');
      };
    }, { "./helper/defaultToWhiteSpace": 16, "./helper/makeString": 20 }], 66: [function (require, module, exports) {
      var makeString = require('./helper/makeString');

      module.exports = function truncate(str, length, truncateStr) {
        str = makeString(str);
        truncateStr = truncateStr || '...';
        length = ~~length;
        return str.length > length ? str.slice(0, length) + truncateStr : str;
      };
    }, { "./helper/makeString": 20 }], 67: [function (require, module, exports) {
      var trim = require('./trim');

      module.exports = function underscored(str) {
        return trim(str).replace(/([a-z\d])([A-Z]+)/g, '$1_$2').replace(/[-\s]+/g, '_').toLowerCase();
      };
    }, { "./trim": 65 }], 68: [function (require, module, exports) {
      var makeString = require('./helper/makeString');
      var htmlEntities = require('./helper/htmlEntities');

      module.exports = function unescapeHTML(str) {
        return makeString(str).replace(/\&([^;]+);/g, function (entity, entityCode) {
          var match;

          if (entityCode in htmlEntities) {
            return htmlEntities[entityCode];
            /*eslint no-cond-assign: 0*/
          } else if (match = entityCode.match(/^#x([\da-fA-F]+)$/)) {
            return String.fromCharCode(parseInt(match[1], 16));
            /*eslint no-cond-assign: 0*/
          } else if (match = entityCode.match(/^#(\d+)$/)) {
            return String.fromCharCode(~~match[1]);
          } else {
            return entity;
          }
        });
      };
    }, { "./helper/htmlEntities": 19, "./helper/makeString": 20 }], 69: [function (require, module, exports) {
      module.exports = function unquote(str, quoteChar) {
        quoteChar = quoteChar || '"';
        if (str[0] === quoteChar && str[str.length - 1] === quoteChar) return str.slice(1, str.length - 1);else return str;
      };
    }, {}], 70: [function (require, module, exports) {
      var deprecate = require('util-deprecate');

      module.exports = deprecate(require('sprintf-js').vsprintf, 'vsprintf() will be removed in the next major release, use the sprintf-js package instead.');
    }, { "sprintf-js": 36, "util-deprecate": 37 }], 71: [function (require, module, exports) {
      var isBlank = require('./isBlank');
      var trim = require('./trim');

      module.exports = function words(str, delimiter) {
        if (isBlank(str)) return [];
        return trim(str, delimiter).split(delimiter || /\s+/);
      };
    }, { "./isBlank": 27, "./trim": 65 }], 72: [function (require, module, exports) {
      // Wrap
      // wraps a string by a certain width

      var makeString = require('./helper/makeString');

      module.exports = function wrap(str, options) {
        str = makeString(str);

        options = options || {};

        var width = options.width || 75;
        var seperator = options.seperator || '\n';
        var cut = options.cut || false;
        var preserveSpaces = options.preserveSpaces || false;
        var trailingSpaces = options.trailingSpaces || false;

        var result;

        if (width <= 0) {
          return str;
        } else if (!cut) {

          var words = str.split(' ');
          var current_column = 0;
          result = '';

          while (words.length > 0) {

            // if adding a space and the next word would cause this line to be longer than width...
            if (1 + words[0].length + current_column > width) {
              //start a new line if this line is not already empty
              if (current_column > 0) {
                // add a space at the end of the line is preserveSpaces is true
                if (preserveSpaces) {
                  result += ' ';
                  current_column++;
                }
                // fill the rest of the line with spaces if trailingSpaces option is true
                else if (trailingSpaces) {
                    while (current_column < width) {
                      result += ' ';
                      current_column++;
                    }
                  }
                //start new line
                result += seperator;
                current_column = 0;
              }
            }

            // if not at the begining of the line, add a space in front of the word
            if (current_column > 0) {
              result += ' ';
              current_column++;
            }

            // tack on the next word, update current column, a pop words array
            result += words[0];
            current_column += words[0].length;
            words.shift();
          }

          // fill the rest of the line with spaces if trailingSpaces option is true
          if (trailingSpaces) {
            while (current_column < width) {
              result += ' ';
              current_column++;
            }
          }

          return result;
        } else {

          var index = 0;
          result = '';

          // walk through each character and add seperators where appropriate
          while (index < str.length) {
            if (index % width == 0 && index > 0) {
              result += seperator;
            }
            result += str.charAt(index);
            index++;
          }

          // fill the rest of the line with spaces if trailingSpaces option is true
          if (trailingSpaces) {
            while (index % width > 0) {
              result += ' ';
              index++;
            }
          }

          return result;
        }
      };
    }, { "./helper/makeString": 20 }] }, {}, [25])(25);
});
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__("./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./common/static/common/js/xblock/core.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {/*** IMPORTS FROM imports-loader ***/
var jquery = __webpack_require__(0);
var jquery = jquery || {};
jquery.immediateDescendents = __webpack_require__("./common/static/js/src/jquery.immediateDescendents.js");
(function () {

    (function ($, JSON) {
        'use strict';

        var XBlock;

        function initializeBlockLikes(blockClass, initializer, element, requestToken) {
            var selector;
            requestToken = requestToken || $(element).data('request-token');
            if (requestToken) {
                selector = '.' + blockClass + '[data-request-token="' + requestToken + '"]';
            } else {
                selector = '.' + blockClass;
            }
            // After an element is initialized, a class is added to it. To avoid repeat initialization, no
            // elements with that class should be selected.
            selector += ':not(.xblock-initialized)';
            return $(element).immediateDescendents(selector).map(function (idx, elem) {
                return initializer(elem, requestToken);
            }).toArray();
        }

        function elementRuntime(element) {
            var $element = $(element),
                runtime = $element.data('runtime-class'),
                version = $element.data('runtime-version'),
                initFnName = $element.data('init');

            if (runtime && version && initFnName) {
                return new window[runtime]['v' + version]();
            } else {
                if (runtime || version || initFnName) {
                    console.log('Block ' + $element.outerHTML + ' is missing data-runtime, data-runtime-version or data-init, ' + 'and can\'t be initialized');
                } // else this XBlock doesn't have a JS init function.
                return null;
            }
        }

        function initArgs(element) {
            var initargs = $(element).children('.xblock-json-init-args').remove().text();
            return initargs ? JSON.parse(initargs) : {};
        }

        /**
         * Construct an XBlock family object from an element. The constructor
         * function is loaded from the 'data-init' attribute of the element.
         * The constructor is called with the arguments 'runtime', 'element',
         * and then all of 'block_args'.
         */
        function constructBlock(element, blockArgs) {
            var block;
            var $element = $(element);
            var runtime = elementRuntime(element);

            blockArgs.unshift(element);
            blockArgs.unshift(runtime);

            if (runtime) {
                block = function () {
                    var initFn = window[$element.data('init')];

                    // This create a new constructor that can then apply() the block_args
                    // to the initFn.
                    function Block() {
                        return initFn.apply(this, blockArgs);
                    }
                    Block.prototype = initFn.prototype;

                    return new Block();
                }();
                block.runtime = runtime;
            } else {
                block = {};
            }
            block.element = element;
            block.name = $element.data('name');
            block.type = $element.data('block-type');
            $element.trigger('xblock-initialized');
            $element.data('initialized', true);
            $element.addClass('xblock-initialized');
            return block;
        }

        XBlock = {
            Runtime: {},

            /**
             * Initialize the javascript for a single xblock element, and for all of it's
             * xblock children that match requestToken. If requestToken is omitted, use the
             * data-request-token attribute from element, or use the request-tokens specified on
             * the children themselves.
             */
            initializeBlock: function initializeBlock(element, requestToken) {
                var $element = $(element),
                    children,
                    asides;

                requestToken = requestToken || $element.data('request-token');
                children = XBlock.initializeXBlocks($element, requestToken);
                asides = XBlock.initializeXBlockAsides($element, requestToken);
                if (asides) {
                    children = children.concat(asides);
                }
                $element.prop('xblock_children', children);

                return constructBlock(element, [initArgs(element)]);
            },

            /**
             * Initialize the javascript for a single xblock aside element that matches requestToken.
             * If requestToken is omitted, use the data-request-token attribute from element, or use
             * the request-tokens specified on the children themselves.
             */
            initializeAside: function initializeAside(element) {
                var blockUsageId = $(element).data('block-id');
                var blockElement = $(element).siblings('[data-usage-id="' + blockUsageId + '"]')[0];

                return constructBlock(element, [blockElement, initArgs(element)]);
            },

            /**
             * Initialize all XBlocks inside element that were rendered with requestToken.
             * If requestToken is omitted, and element has a 'data-request-token' attribute, use that.
             * If neither is available, then use the request tokens of the immediateDescendent xblocks.
             */
            initializeXBlocks: function initializeXBlocks(element, requestToken) {
                return initializeBlockLikes('xblock', XBlock.initializeBlock, element, requestToken);
            },

            /**
             * Initialize all XBlockAsides inside element that were rendered with requestToken.
             * If requestToken is omitted, and element has a 'data-request-token' attribute, use that.
             * If neither is available, then use the request tokens of the immediateDescendent xblocks.
             */
            initializeXBlockAsides: function initializeXBlockAsides(element, requestToken) {
                return initializeBlockLikes('xblock_asides-v1', XBlock.initializeAside, element, requestToken);
            },

            /**
             * Initialize all XBlock-family blocks inside element that were rendered with requestToken.
             * If requestToken is omitted, and element has a 'data-request-token' attribute, use that.
             * If neither is available, then use the request tokens of the immediateDescendent xblocks.
             */
            initializeBlocks: function initializeBlocks(element, requestToken) {
                var asides = XBlock.initializeXBlockAsides(element, requestToken);
                var xblocks = XBlock.initializeXBlocks(element, requestToken);
                if (asides) {
                    xblocks = xblocks.concat(asides);
                }
                return xblocks;
            }
        };

        this.XBlock = XBlock;
    }).call(this, $, JSON);
}).call(window);

/*** EXPORTS FROM exports-loader ***/
module.exports = window.XBlock;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./common/static/common/js/xblock/runtime.v1.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {/*** IMPORTS FROM imports-loader ***/
var XBlock = __webpack_require__("./common/static/common/js/xblock/core.js");
(function () {

    (function () {
        'use strict';

        this.XBlock.Runtime.v1 = function () {
            function v1() {
                var block = this;
                this.childMap = function () {
                    return v1.prototype.childMap.apply(block, arguments);
                };
                this.children = function () {
                    return v1.prototype.children.apply(block, arguments);
                };
            }

            v1.prototype.children = function (block) {
                return $(block).prop('xblock_children');
            };

            v1.prototype.childMap = function (block, childName) {
                var child, idx, len, ref;
                ref = this.children(block);
                for (idx = 0, len = ref.length; idx < len; idx++) {
                    child = ref[idx];
                    if (child.name === childName) {
                        return child;
                    }
                }
                return null;
            };

            /**
             * Notify the client-side runtime that an event has occurred.
             *
             * This allows the runtime to update the UI in a consistent way
             * for different XBlocks.
             * `name` is an arbitrary string (for example, "save")
             * `data` is an object (for example, {state: 'starting'})
             * The default implementation is a no-op.
             *
             * WARNING: This is an interim solution and not officially supported!
             */
            v1.prototype.notify = function () {
                // Do nothing
            };

            return v1;
        }();
    }).call(this);
}).call(window);

/*** EXPORTS FROM exports-loader ***/
module.exports = window.XBlock;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./common/static/common/templates/components/paging-footer.underscore":
/***/ (function(module, exports) {

module.exports = "<nav class=\"pagination pagination-full bottom\" aria-label=\"<%- paginationLabel %>\">\n    <div class=\"nav-item previous\"><button class=\"nav-link previous-page-link\"><span class=\"icon fa fa-angle-left\" aria-hidden=\"true\"></span> <span class=\"nav-label\"><%- gettext(\"Previous\") %></span></button></div>\n    <div class=\"nav-item page\">\n        <div class=\"pagination-form\">\n            <label class=\"page-number-label\" for=\"page-number-input\"><%- interpolate(\n                    gettext(\"Page number out of %(total_pages)s\"),\n                    {total_pages: total_pages},\n                    true\n                )%></label>\n            <input id=\"page-number-input\" class=\"page-number-input\" name=\"page-number\" type=\"text\" size=\"4\" autocomplete=\"off\" aria-describedby=\"page-number-input-helper\"/>\n            <span class=\"sr field-helper\" id=\"page-number-input-helper\"><%- gettext(\"Enter the page number you'd like to quickly navigate to.\") %></span>\n        </div>\n\n        <span class=\"current-page\"><%- current_page %></span>\n        <span class=\"sr\">&nbsp;out of&nbsp;</span>\n        <span class=\"page-divider\" aria-hidden=\"true\">/</span>\n        <span class=\"total-pages\"><%- total_pages %></span>\n    </div>\n    <div class=\"nav-item next\"><button class=\"nav-link next-page-link\"><span class=\"nav-label\"><%- gettext(\"Next\") %></span> <span class=\"icon fa fa-angle-right\" aria-hidden=\"true\"></span></button></div>\n</nav>\n"

/***/ }),

/***/ "./common/static/common/templates/components/system-feedback.underscore":
/***/ (function(module, exports) {

module.exports = "<div class=\"wrapper wrapper-<%- type %> wrapper-<%- type %>-<%- intent %>\n            <% if(obj.shown) { %>is-shown<% } else { %>is-hiding<% } %>\n            <% if(_.contains(['help', 'mini'], intent)) { %>wrapper-<%- type %>-status<% } %>\"\n     id=\"<%- type %>-<%- intent %>\"\n     aria-hidden=\"<% if(obj.shown) { %>false<% } else { %>true<% } %>\"\n     aria-labelledby=\"<%- type %>-<%- intent %>-title\"\n     tabindex=\"-1\"\n     <% if (obj.message) { %>aria-describedby=\"<%- type %>-<%- intent %>-description\" <% } %>\n     <% if (obj.actions) { %>role=\"dialog\"<% } %>\n  >\n  <div class=\"<%- type %> <%- intent %> <% if(obj.actions) { %>has-actions<% } %>\">\n    <% if(obj.icon) { %>\n      <% var iconClass = {\"warning\": \"warning\", \"confirmation\": \"check\", \"error\": \"warning\", \"announcement\": \"bullhorn\", \"step-required\": \"exclamation-circle\", \"help\": \"question\", \"mini\": \"cog\"} %>\n      <span class=\"feedback-symbol fa fa-<%- iconClass[intent] %>\" aria-hidden=\"true\"></span>\n    <% } %>\n\n    <div class=\"copy\">\n      <h2 class=\"title title-3\" id=\"<%- type %>-<%- intent %>-title\"><%- title %></h2>\n      <% if(obj.message) { %><p class=\"message\" id=\"<%- type %>-<%- intent %>-description\"><%- message %></p><% } %>\n    </div>\n\n    <% if(obj.actions) { %>\n    <nav class=\"nav-actions\">\n      <ul>\n        <% if(actions.primary) { %>\n        <li class=\"nav-item\">\n          <button class=\"action-primary <%- actions.primary.class %>\"><%- actions.primary.text %></button>\n        </li>\n        <% } %>\n        <% if(actions.secondary) {\n             _.each(actions.secondary, function(secondary) { %>\n        <li class=\"nav-item\">\n          <button class=\"action-secondary <%- secondary.class %>\"><%- secondary.text %></button>\n        </li>\n        <%   });\n           } %>\n      </ul>\n    </nav>\n    <% } %>\n\n    <% if(obj.closeIcon) { %>\n    <a href=\"#\" rel=\"view\" class=\"action action-close action-<%- type %>-close\">\n      <span class=\"icon fa fa-times-circle\" aria-hidden=\"true\"></span>\n      <span class=\"label\">close <%- type %></span>\n    </a>\n    <% } %>\n  </div>\n</div>\n"

/***/ }),

/***/ "./common/static/js/src/accessibility_tools.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($, __webpack_provided_edx_dot_HtmlUtils) {/*

============================================
License for Application
============================================

This license is governed by United States copyright law, and with respect to matters
of tort, contract, and other causes of action it is governed by North Carolina law,
without regard to North Carolina choice of law provisions.  The forum for any dispute
resolution shall be in Wake County, North Carolina.

Redistribution and use in source and binary forms, with or without modification, are
permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list
   of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this
   list of conditions and the following disclaimer in the documentation and/or other
   materials provided with the distribution.

3. The name of the author may not be used to endorse or promote products derived from
   this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR "AS IS" AND ANY EXPRESS OR IMPLIED
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE
LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

*/

var $focusedElementBeforeModal,
    focusableElementsString = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]';

var reassignTabIndexesAndAriaHidden = function reassignTabIndexesAndAriaHidden(focusableElementsFilterString, closeButtonId, modalId, mainPageId) {
    // Sets appropriate elements to tab indexable and properly sets aria_hidden on content outside of modal
    // "focusableElementsFilterString" is a string that indicates all elements that should be focusable
    // "closeButtonId" is the selector for the button that closes out the modal.
    // "modalId" is the selector for the modal being managed
    // "mainPageId" is the selector for the main part of the page
    // Returns a list of focusableItems
    var focusableItems;

    $(mainPageId).attr('aria-hidden', 'true');
    $(modalId).attr('aria-hidden', 'false');

    focusableItems = $(modalId).find('*').filter(focusableElementsFilterString).filter(':visible');

    focusableItems.attr('tabindex', '2');
    $(closeButtonId).attr('tabindex', '1').focus();

    return focusableItems;
};

var trapTabFocus = function trapTabFocus(focusableItems, closeButtonId) {
    // Determines last element in modal and traps focus by causing tab
    // to focus on the first modal element (close button)
    // "focusableItems" all elements in the modal that are focusable
    // "closeButtonId" is the selector for the button that closes out the modal.
    // returns the last focusable element in the modal.
    var $last;
    if (focusableItems.length !== 0) {
        $last = focusableItems.last();
    } else {
        $last = $(closeButtonId);
    }

    // tab on last element in modal returns to the first one
    $last.on('keydown', function (e) {
        var keyCode = e.keyCode || e.which;
        // 9 is the js keycode for tab
        if (!e.shiftKey && keyCode === 9) {
            e.preventDefault();
            $(closeButtonId).focus();
        }
    });

    return $last;
};

var trapShiftTabFocus = function trapShiftTabFocus($last, closeButtonId) {
    $(closeButtonId).on('keydown', function (e) {
        var keyCode = e.keyCode || e.which;
        // 9 is the js keycode for tab
        if (e.shiftKey && keyCode === 9) {
            e.preventDefault();
            $last.focus();
        }
    });
};

var bindReturnFocusListener = function bindReturnFocusListener($previouslyFocusedElement, closeButtonId, modalId, mainPageId) {
    // Ensures that on modal close, focus is returned to the element
    // that had focus before the modal was opened.
    $('#lean_overlay, ' + closeButtonId).click(function () {
        $(mainPageId).attr('aria-hidden', 'false');
        $(modalId).attr('aria-hidden', 'true');
        $previouslyFocusedElement.focus();
    });
};

var bindEscapeKeyListener = function bindEscapeKeyListener(modalId, closeButtonId) {
    $(modalId).on('keydown', function (e) {
        var keyCode = e.keyCode || e.which;
        // 27 is the javascript keycode for the ESC key
        if (keyCode === 27) {
            e.preventDefault();
            $(closeButtonId).click();
        }
    });
};

var trapFocusForAccessibleModal = function trapFocusForAccessibleModal($previouslyFocusedElement, focusableElementsFilterString, closeButtonId, modalId, mainPageId) {
    // Re assess the page for which items internal to the modal should be focusable,
    // Should be called after the content of the accessible_modal is changed in order
    // to ensure that the correct elements are accessible.
    var focusableItems, $last;
    focusableItems = reassignTabIndexesAndAriaHidden(focusableElementsFilterString, closeButtonId, modalId, mainPageId);
    $last = trapTabFocus(focusableItems, closeButtonId);
    trapShiftTabFocus($last, closeButtonId);
    bindReturnFocusListener($previouslyFocusedElement, closeButtonId, modalId, mainPageId);
    bindEscapeKeyListener(modalId, closeButtonId);
};

var accessible_modal = function accessible_modal(trigger, closeButtonId, modalId, mainPageId) {
    // Modifies a lean modal to optimize focus management.
    // "trigger" is the selector for the link element that triggers the modal.
    // "closeButtonId" is the selector for the button that closes out the modal.
    // "modalId" is the selector for the modal being managed
    // "mainPageId" is the selector for the main part of the page
    //
    // based on http://accessibility.oit.ncsu.edu/training/aria/modal-window/modal-window.js
    //
    // see http://accessibility.oit.ncsu.edu/blog/2013/09/13/the-incredible-accessible-modal-dialog/
    // for more information on managing modals
    //
    var initialFocus;
    $(trigger).click(function () {
        $focusedElementBeforeModal = $(trigger);

        trapFocusForAccessibleModal($focusedElementBeforeModal, focusableElementsString, closeButtonId, modalId, mainPageId);

        // In IE, focus shifts to iframes when they load.
        // These lines ensure that focus is shifted back to the close button
        // in the case that a modal that contains an iframe is opened in IE.
        // see http://stackoverflow.com/questions/15792620/
        initialFocus = true;
        $(modalId).find('iframe').on('focus', function () {
            if (initialFocus) {
                $(closeButtonId).focus();
                initialFocus = false;
            }
        });
    });
};

// NOTE: This is a gross hack to make the skip links work for Webkit browsers
// see http://stackoverflow.com/questions/6280399/skip-links-not-working-in-chrome/12720183#12720183

// handle things properly for clicks
$('.nav-skip').click(function () {
    var href = $(this).attr('href');
    if (href) {
        $(href).attr('tabIndex', -1).focus();
    }
});
// and for the enter key
$('.nav-skip').keypress(function (e) {
    var href;
    if (e.which === 13) {
        href = $(this).attr('href');
        if (href) {
            $(href).attr('tabIndex', -1).focus();
        }
    }
});

// Creates a window level SR object that can be used for giving audible feedback to screen readers.
$(function () {
    var SRAlert;

    SRAlert = function () {
        function SRAlert() {
            // This initialization sometimes gets done twice, so take to only create a single reader-feedback div.
            var readerFeedbackID = 'reader-feedback',
                $readerFeedbackSelector = $('#' + readerFeedbackID);

            if ($readerFeedbackSelector.length === 0) {
                __webpack_provided_edx_dot_HtmlUtils.append($('body'), __webpack_provided_edx_dot_HtmlUtils.interpolateHtml(__webpack_provided_edx_dot_HtmlUtils.HTML('<div id="{readerFeedbackID}" class="sr" aria-live="polite"></div>'), { readerFeedbackID: readerFeedbackID }));
            }
            this.el = $('#' + readerFeedbackID);
        }

        SRAlert.prototype.clear = function () {
            __webpack_provided_edx_dot_HtmlUtils.setHtml(this.el, '');
        };

        SRAlert.prototype.readElts = function (elts) {
            var texts = [];
            $.each(elts, function (idx, value) {
                texts.push($(value).html());
            });
            return this.readTexts(texts);
        };

        SRAlert.prototype.readText = function (text) {
            return this.readTexts([text]);
        };

        SRAlert.prototype.readTexts = function (texts) {
            var htmlFeedback = __webpack_provided_edx_dot_HtmlUtils.HTML('');
            $.each(texts, function (idx, value) {
                htmlFeedback = __webpack_provided_edx_dot_HtmlUtils.interpolateHtml(__webpack_provided_edx_dot_HtmlUtils.HTML('{previous_feedback}<p>{value}</p>\n'),
                // "value" may be HTML, if an element is being passed
                { previous_feedback: htmlFeedback, value: __webpack_provided_edx_dot_HtmlUtils.HTML(value) });
            });
            __webpack_provided_edx_dot_HtmlUtils.setHtml(this.el, htmlFeedback);
        };

        return SRAlert;
    }();

    window.SR = new SRAlert();
});
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")))

/***/ }),

/***/ "./common/static/js/src/ajax_prefix.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {// Once generated by CoffeeScript 1.9.3, but now lives as pure JS
/* eslint-disable */
(function () {
  this.AjaxPrefix = {
    addAjaxPrefix: function addAjaxPrefix(jQuery, prefix) {
      jQuery.postWithPrefix = function (url, data, callback, type) {
        return $.post("" + prefix() + url, data, callback, type);
      };
      jQuery.getWithPrefix = function (url, data, callback, type) {
        return $.get("" + prefix() + url, data, callback, type);
      };
      return jQuery.ajaxWithPrefix = function (url, settings) {
        if (settings != null) {
          return $.ajax("" + prefix() + url, settings);
        } else {
          settings = url;
          settings.url = "" + prefix() + settings.url;
          return $.ajax(settings);
        }
      };
    }
  };
}).call(this);

/*** EXPORTS FROM exports-loader ***/
module.exports = this.AjaxPrefix;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./common/static/js/src/ie_shim.js":
/***/ (function(module, exports) {

/*
 * This file is used for keeping compatibility with Internet Explorer.
 * As starting with IE10, the conditional comments are not supported, this file
 * will always be loaded whether the browser is IE or not. Therefore, the code
 * here should not make any assumption and should always detect the execution
 * conditions itself.
 */

// Shim name: Create the attribute of 'window.location.origin'
// IE version: 11 or earlier, 12 or later not tested
// Internet Explorer does not have built-in property 'window.location.origin',
// we need to create one here as some vendor code such as TinyMCE uses this.
if (!window.location.origin) {
  window.location.origin = window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '');
}

/***/ }),

/***/ "./common/static/js/src/jquery.immediateDescendents.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {// Once generated by CoffeeScript 1.9.3, but now lives as pure JS
/* eslint-disable */

/*
Find all the children of an element that match the selector, but only
the first instance found down any path.  For example, we'll find all
the ".xblock" elements below us, but not the ones that are themselves
contained somewhere inside ".xblock" elements.
 */
(function () {
  jQuery.fn.immediateDescendents = function (selector) {
    return this.children().map(function () {
      var elem;
      elem = jQuery(this);
      if (elem.is(selector)) {
        return this;
      } else {
        return elem.immediateDescendents(selector).get();
      }
    });
  };
}).call(this);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./common/static/js/src/jquery_extend_patch.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/*

`extend` function of jquery (jQuery < 3.4.0) is known to have Prototype Pollution vulnerability.
This IIFE is used to rebind `extend` function with its patched implementation.

TODO: Remove this file and all its uses after upgrading to version >= 3.4.0

*/

(function () {

    jQuery.extend = jQuery.fn.extend = function () {
        var options,
            name,
            src,
            copy,
            copyIsArray,
            clone,
            target = arguments[0] || {},
            i = 1,
            length = arguments.length,
            deep = false;

        // Handle a deep copy situation
        if (typeof target === "boolean") {
            deep = target;

            // Skip the boolean and the target
            target = arguments[i] || {};
            i++;
        }

        // Handle case when target is a string or something (possible in deep copy)
        if ((typeof target === "undefined" ? "undefined" : _typeof(target)) !== "object" && !jQuery.isFunction(target)) {
            target = {};
        }

        // Extend jQuery itself if only one argument is passed
        if (i === length) {
            target = this;
            i--;
        }

        for (; i < length; i++) {

            // Only deal with non-null/undefined values
            if ((options = arguments[i]) != null) {

                // Extend the base object
                for (name in options) {
                    copy = options[name];

                    // Prevent Object.prototype pollution
                    // Prevent never-ending loop
                    if (name === "__proto__" || target === copy) {
                        continue;
                    }

                    // Recurse if we're merging plain objects or arrays
                    if (deep && copy && (jQuery.isPlainObject(copy) || (copyIsArray = Array.isArray(copy)))) {
                        src = target[name];

                        // Ensure proper type for the source value
                        if (copyIsArray && !Array.isArray(src)) {
                            clone = [];
                        } else if (!copyIsArray && !jQuery.isPlainObject(src)) {
                            clone = {};
                        } else {
                            clone = src;
                        }
                        copyIsArray = false;

                        // Never move original objects, clone them
                        target[name] = jQuery.extend(deep, clone, copy);

                        // Don't bring in undefined values
                    } else if (copy !== undefined) {
                        target[name] = copy;
                    }
                }
            }
        }

        // Return the modified object
        return target;
    };
})();
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./common/static/js/src/lang_edx.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var Language = function () {
    'use strict';

    var $settings_language_selector,
        self = null;
    return {
        init: function init() {
            $settings_language_selector = $('#settings-language-value');
            self = this;
            this.listenForLanguagePreferenceChange();
        },

        /**
         * Listener on changing language from selector.
         * Send an ajax request to save user language preferences.
         */
        listenForLanguagePreferenceChange: function listenForLanguagePreferenceChange() {
            $settings_language_selector.change(function (event) {
                var language = this.value,
                    url = $('.url-endpoint').val(),
                    is_user_authenticated = JSON.parse($('.url-endpoint').data('user-is-authenticated'));
                event.preventDefault();
                self.submitAjaxRequest(language, url, function () {
                    if (is_user_authenticated) {
                        // User language preference has been set successfully
                        // Now submit the form in success callback.
                        $('#language-settings-form').submit();
                    } else {
                        self.refresh();
                    }
                });
            });
        },

        /**
         * Send an ajax request to set user language preferences.
         */
        submitAjaxRequest: function submitAjaxRequest(language, url, callback) {
            $.ajax({
                type: 'PATCH',
                data: JSON.stringify({ 'pref-lang': language }),
                url: url,
                dataType: 'json',
                contentType: 'application/merge-patch+json',
                notifyOnError: false,
                beforeSend: function beforeSend(xhr) {
                    xhr.setRequestHeader('X-CSRFToken', $.cookie('csrftoken'));
                }
            }).done(function () {
                callback();
            }).fail(function () {
                self.refresh();
            });
        },

        /**
         * refresh the page.
         */
        refresh: function refresh() {
            // reloading the page so we can get the latest state of released languages from model
            location.reload();
        }

    };
}();
$(document).ready(function () {
    'use strict';

    Language.init();
});
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./common/static/js/src/logger.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {/*** IMPORTS FROM imports-loader ***/
(function () {

    (function () {
        'use strict';

        var Logger = function () {
            // listeners[event_type][element] -> list of callbacks
            var listeners = {},
                sendRequest,
                has;

            sendRequest = function sendRequest(data, options) {
                var request = $.ajaxWithPrefix ? $.ajaxWithPrefix : $.ajax;

                options = $.extend(true, {
                    url: '/event',
                    type: 'POST',
                    data: data,
                    async: true
                }, options);
                return request(options);
            };

            has = function has(object, propertyName) {
                return {}.hasOwnProperty.call(object, propertyName);
            };

            return {
                /**
                 * Emits an event.
                 *
                 * Note that this method is used by external XBlocks, and the API cannot change without
                 * proper deprecation and notification for external authors.
                 */
                log: function log(eventType, data, element, requestOptions) {
                    var callbacks;

                    if (!element) {
                        // null element in the listener dictionary means any element will do.
                        // null element in the Logger.log call means we don't know the element name.
                        element = null;
                    }
                    // Check to see if we're listening for the event type.
                    if (has(listeners, eventType)) {
                        if (has(listeners[eventType], element)) {
                            // Make the callbacks.
                            callbacks = listeners[eventType][element];
                            $.each(callbacks, function (index, callback) {
                                try {
                                    callback(eventType, data, element);
                                } catch (err) {
                                    console.error({
                                        eventType: eventType,
                                        data: data,
                                        element: element,
                                        error: err
                                    });
                                }
                            });
                        }
                    }
                    // Regardless of whether any callbacks were made, log this event.
                    return sendRequest({
                        event_type: eventType,
                        event: JSON.stringify(data),
                        courserun_key: typeof $$course_id !== 'undefined' ? $$course_id : null,
                        page: window.location.href
                    }, requestOptions);
                },

                /**
                 * Adds a listener. If you want any element to trigger this listener,
                 * do element = null.
                 *
                 * Note that this method is used by external XBlocks, and the API cannot change without
                 * proper deprecation and notification for external authors.
                 */
                listen: function listen(eventType, element, callback) {
                    listeners[eventType] = listeners[eventType] || {};
                    listeners[eventType][element] = listeners[eventType][element] || [];
                    listeners[eventType][element].push(callback);
                },

                /**
                 * Binds `page_close` event.
                 *
                 * Note that this method is used by external XBlocks, and the API cannot change without
                 * proper deprecation and notification for external authors.
                 */
                bind: function bind() {
                    window.onunload = function () {
                        sendRequest({
                            event_type: 'page_close',
                            event: '',
                            page: window.location.href
                        }, { type: 'GET', async: false });
                    };
                }
            };
        }();

        this.Logger = Logger;
        // log_event exists for compatibility reasons and will soon be deprecated.
        this.log_event = Logger.log;
    }).call(this);
}).call(window);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./common/static/js/src/tooltip_manager.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($, _) {(function () {
    'use strict';

    var TooltipManager = function TooltipManager(element) {
        this.element = $(element);
        // If tooltip container already exist, use it.
        this.tooltip = $('div.' + this.className.split(/\s+/).join('.'));
        // Otherwise, create new one.
        if (!this.tooltip.length) {
            this.tooltip = $('<div />', {
                class: this.className
            }).appendTo(this.element); // xss-lint: disable=javascript-jquery-insert-into-target
        }

        this.hide();
        _.bindAll(this, 'show', 'hide', 'showTooltip', 'moveTooltip', 'hideTooltip', 'click');
        this.bindEvents();
    };

    TooltipManager.prototype = {
        // Space separated list of class names for the tooltip container.
        className: 'tooltip',
        SELECTOR: '[data-tooltip]',

        bindEvents: function bindEvents() {
            this.element.on({
                'mouseover.TooltipManager': this.showTooltip,
                'mousemove.TooltipManager': this.moveTooltip,
                'mouseout.TooltipManager': this.hideTooltip,
                'click.TooltipManager': this.click
            }, this.SELECTOR);
        },

        getCoords: function getCoords(pageX, pageY) {
            return {
                left: pageX - 0.5 * this.tooltip.outerWidth(),
                top: pageY - (this.tooltip.outerHeight() + 15)
            };
        },

        show: function show() {
            this.tooltip.show().css('opacity', 1);
        },

        hide: function hide() {
            this.tooltip.hide().css('opacity', 0);
        },

        showTooltip: function showTooltip(event) {
            this.prepareTooltip(event.currentTarget, event.pageX, event.pageY);
            if (this.tooltipTimer) {
                clearTimeout(this.tooltipTimer);
            }
            this.tooltipTimer = setTimeout(this.show, 500);
        },

        prepareTooltip: function prepareTooltip(element, pageX, pageY) {
            pageX = typeof pageX !== 'undefined' ? pageX : element.offset().left + element.width() / 2;
            pageY = typeof pageY !== 'undefined' ? pageY : element.offset().top + element.height() / 2;
            var tooltipText = $(element).attr('data-tooltip');
            this.tooltip.text(tooltipText).css(this.getCoords(pageX, pageY));
        },

        // To manually trigger a tooltip to reveal, other than through user mouse movement:
        openTooltip: function openTooltip(element) {
            this.prepareTooltip(element);
            this.show();
            if (this.tooltipTimer) {
                clearTimeout(this.tooltipTimer);
            }
        },

        moveTooltip: function moveTooltip(event) {
            this.tooltip.css(this.getCoords(event.pageX, event.pageY));
        },

        hideTooltip: function hideTooltip() {
            clearTimeout(this.tooltipTimer);
            // Wait for a 50ms before hiding the tooltip to avoid blinking when
            // the item contains nested elements.
            this.tooltipTimer = setTimeout(this.hide, 50);
        },

        click: function click(event) {
            var showOnClick = !!$(event.currentTarget).data('tooltip-show-on-click'); // Default is false
            if (showOnClick) {
                this.show();
                if (this.tooltipTimer) {
                    clearTimeout(this.tooltipTimer);
                }
            } else {
                this.hideTooltip(event);
            }
        },

        destroy: function destroy() {
            this.tooltip.remove();
            // Unbind all delegated event handlers in the ".TooltipManager"
            // namespace.
            this.element.off('.TooltipManager', this.SELECTOR);
        }
    };

    window.TooltipManager = TooltipManager;
    $(document).ready(function () {
        window.globalTooltipManager = new TooltipManager(document.body);
    });
})();
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0), __webpack_require__(1)))

/***/ }),

/***/ "./common/static/js/src/utility.js":
/***/ (function(module, exports) {

// checks whether or not the url is external to the local site.
// generously provided by StackOverflow: http://stackoverflow.com/questions/6238351/fastest-way-to-detect-external-urls
window.isExternal = function (url) {
    // parse the url into protocol, host, path, query, and fragment. More information can be found here: http://tools.ietf.org/html/rfc3986#appendix-B
    var match = url.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);
    // match[1] matches a protocol if one exists in the url
    // if the protocol in the url does not match the protocol in the window's location, this url is considered external
    if (typeof match[1] === 'string' && match[1].length > 0 && match[1].toLowerCase() !== location.protocol) {
        return true;
    }
    // match[2] matches the host if one exists in the url
    // if the host in the url does not match the host of the window location, this url is considered external
    if (typeof match[2] === 'string' && match[2].length > 0 &&
    // this regex removes the port number if it patches the current location's protocol
    match[2].replace(new RegExp(':(' + { 'http:': 80, 'https:': 443 }[location.protocol] + ')?$'), '') !== location.host) {
        return true;
    }
    return false;
};

// Utility method for replacing a portion of a string.
window.rewriteStaticLinks = function (content, from, to) {
    if (from === null || to === null) {
        return content;
    }
    // replace only relative urls
    function replacer(match) {
        if (match === from) {
            return to;
        } else {
            return match;
        }
    }
    // change all relative urls only which may be embedded inside other tags in content.
    // handle http and https
    // escape all regex interpretable chars
    fromRe = from.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    var regex = new RegExp('(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}([-a-zA-Z0-9@:%_\+.~#?&//=]*))?' + fromRe, 'g');
    return content.replace(regex, replacer);
};

/***/ }),

/***/ "./common/static/js/vendor/date.js":
/***/ (function(module, exports) {

/**
 * @version: 1.0 Alpha-1
 * @author: Coolite Inc. http://www.coolite.com/
 * @date: 2008-05-13
 * @copyright: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 * @license: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/.
 * @website: http://www.datejs.com/
 */
Date.CultureInfo = { name: "en-US", englishName: "English (United States)", nativeName: "English (United States)", dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], abbreviatedDayNames: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], shortestDayNames: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], firstLetterDayNames: ["S", "M", "T", "W", "T", "F", "S"], monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], abbreviatedMonthNames: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], amDesignator: "AM", pmDesignator: "PM", firstDayOfWeek: 0, twoDigitYearMax: 2029, dateElementOrder: "mdy", formatPatterns: { shortDate: "M/d/yyyy", longDate: "dddd, MMMM dd, yyyy", shortTime: "h:mm tt", longTime: "h:mm:ss tt", fullDateTime: "dddd, MMMM dd, yyyy h:mm:ss tt", sortableDateTime: "yyyy-MM-ddTHH:mm:ss", universalSortableDateTime: "yyyy-MM-dd HH:mm:ssZ", rfc1123: "ddd, dd MMM yyyy HH:mm:ss GMT", monthDay: "MMMM dd", yearMonth: "MMMM, yyyy" }, regexPatterns: { jan: /^jan(uary)?/i, feb: /^feb(ruary)?/i, mar: /^mar(ch)?/i, apr: /^apr(il)?/i, may: /^may/i, jun: /^jun(e)?/i, jul: /^jul(y)?/i, aug: /^aug(ust)?/i, sep: /^sep(t(ember)?)?/i, oct: /^oct(ober)?/i, nov: /^nov(ember)?/i, dec: /^dec(ember)?/i, sun: /^su(n(day)?)?/i, mon: /^mo(n(day)?)?/i, tue: /^tu(e(s(day)?)?)?/i, wed: /^we(d(nesday)?)?/i, thu: /^th(u(r(s(day)?)?)?)?/i, fri: /^fr(i(day)?)?/i, sat: /^sa(t(urday)?)?/i, future: /^next/i, past: /^last|past|prev(ious)?/i, add: /^(\+|aft(er)?|from|hence)/i, subtract: /^(\-|bef(ore)?|ago)/i, yesterday: /^yes(terday)?/i, today: /^t(od(ay)?)?/i, tomorrow: /^tom(orrow)?/i, now: /^n(ow)?/i, millisecond: /^ms|milli(second)?s?/i, second: /^sec(ond)?s?/i, minute: /^mn|min(ute)?s?/i, hour: /^h(our)?s?/i, week: /^w(eek)?s?/i, month: /^m(onth)?s?/i, day: /^d(ay)?s?/i, year: /^y(ear)?s?/i, shortMeridian: /^(a|p)/i, longMeridian: /^(a\.?m?\.?|p\.?m?\.?)/i, timezone: /^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i, ordinalSuffix: /^\s*(st|nd|rd|th)/i, timeContext: /^\s*(\:|a(?!u|p)|p)/i }, timezones: [{ name: "UTC", offset: "-000" }, { name: "GMT", offset: "-000" }, { name: "EST", offset: "-0500" }, { name: "EDT", offset: "-0400" }, { name: "CST", offset: "-0600" }, { name: "CDT", offset: "-0500" }, { name: "MST", offset: "-0700" }, { name: "MDT", offset: "-0600" }, { name: "PST", offset: "-0800" }, { name: "PDT", offset: "-0700" }] };
(function () {
  var $D = Date,
      $P = $D.prototype,
      $C = $D.CultureInfo,
      p = function p(s, l) {
    if (!l) {
      l = 2;
    }
    return ("000" + s).slice(l * -1);
  };$P.clearTime = function () {
    this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this;
  };$P.setTimeToNow = function () {
    var n = new Date();this.setHours(n.getHours());this.setMinutes(n.getMinutes());this.setSeconds(n.getSeconds());this.setMilliseconds(n.getMilliseconds());return this;
  };$D.today = function () {
    return new Date().clearTime();
  };$D.compare = function (date1, date2) {
    if (isNaN(date1) || isNaN(date2)) {
      throw new Error(date1 + " - " + date2);
    } else if (date1 instanceof Date && date2 instanceof Date) {
      return date1 < date2 ? -1 : date1 > date2 ? 1 : 0;
    } else {
      throw new TypeError(date1 + " - " + date2);
    }
  };$D.equals = function (date1, date2) {
    return date1.compareTo(date2) === 0;
  };$D.getDayNumberFromName = function (name) {
    var n = $C.dayNames,
        m = $C.abbreviatedDayNames,
        o = $C.shortestDayNames,
        s = name.toLowerCase();for (var i = 0; i < n.length; i++) {
      if (n[i].toLowerCase() == s || m[i].toLowerCase() == s || o[i].toLowerCase() == s) {
        return i;
      }
    }
    return -1;
  };$D.getMonthNumberFromName = function (name) {
    var n = $C.monthNames,
        m = $C.abbreviatedMonthNames,
        s = name.toLowerCase();for (var i = 0; i < n.length; i++) {
      if (n[i].toLowerCase() == s || m[i].toLowerCase() == s) {
        return i;
      }
    }
    return -1;
  };$D.isLeapYear = function (year) {
    return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;
  };$D.getDaysInMonth = function (year, month) {
    return [31, $D.isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
  };$D.getTimezoneAbbreviation = function (offset) {
    var z = $C.timezones,
        p;for (var i = 0; i < z.length; i++) {
      if (z[i].offset === offset) {
        return z[i].name;
      }
    }
    return null;
  };$D.getTimezoneOffset = function (name) {
    var z = $C.timezones,
        p;for (var i = 0; i < z.length; i++) {
      if (z[i].name === name.toUpperCase()) {
        return z[i].offset;
      }
    }
    return null;
  };$P.clone = function () {
    return new Date(this.getTime());
  };$P.compareTo = function (date) {
    return Date.compare(this, date);
  };$P.equals = function (date) {
    return Date.equals(this, date || new Date());
  };$P.between = function (start, end) {
    return this.getTime() >= start.getTime() && this.getTime() <= end.getTime();
  };$P.isAfter = function (date) {
    return this.compareTo(date || new Date()) === 1;
  };$P.isBefore = function (date) {
    return this.compareTo(date || new Date()) === -1;
  };$P.isToday = function () {
    return this.isSameDay(new Date());
  };$P.isSameDay = function (date) {
    return this.clone().clearTime().equals(date.clone().clearTime());
  };$P.addMilliseconds = function (value) {
    this.setMilliseconds(this.getMilliseconds() + value);return this;
  };$P.addSeconds = function (value) {
    return this.addMilliseconds(value * 1000);
  };$P.addMinutes = function (value) {
    return this.addMilliseconds(value * 60000);
  };$P.addHours = function (value) {
    return this.addMilliseconds(value * 3600000);
  };$P.addDays = function (value) {
    this.setDate(this.getDate() + value);return this;
  };$P.addWeeks = function (value) {
    return this.addDays(value * 7);
  };$P.addMonths = function (value) {
    var n = this.getDate();this.setDate(1);this.setMonth(this.getMonth() + value);this.setDate(Math.min(n, $D.getDaysInMonth(this.getFullYear(), this.getMonth())));return this;
  };$P.addYears = function (value) {
    return this.addMonths(value * 12);
  };$P.add = function (config) {
    if (typeof config == "number") {
      this._orient = config;return this;
    }
    var x = config;if (x.milliseconds) {
      this.addMilliseconds(x.milliseconds);
    }
    if (x.seconds) {
      this.addSeconds(x.seconds);
    }
    if (x.minutes) {
      this.addMinutes(x.minutes);
    }
    if (x.hours) {
      this.addHours(x.hours);
    }
    if (x.weeks) {
      this.addWeeks(x.weeks);
    }
    if (x.months) {
      this.addMonths(x.months);
    }
    if (x.years) {
      this.addYears(x.years);
    }
    if (x.days) {
      this.addDays(x.days);
    }
    return this;
  };var $y, $m, $d;$P.getWeek = function () {
    var a, b, c, d, e, f, g, n, s, w;$y = !$y ? this.getFullYear() : $y;$m = !$m ? this.getMonth() + 1 : $m;$d = !$d ? this.getDate() : $d;if ($m <= 2) {
      a = $y - 1;b = (a / 4 | 0) - (a / 100 | 0) + (a / 400 | 0);c = ((a - 1) / 4 | 0) - ((a - 1) / 100 | 0) + ((a - 1) / 400 | 0);s = b - c;e = 0;f = $d - 1 + 31 * ($m - 1);
    } else {
      a = $y;b = (a / 4 | 0) - (a / 100 | 0) + (a / 400 | 0);c = ((a - 1) / 4 | 0) - ((a - 1) / 100 | 0) + ((a - 1) / 400 | 0);s = b - c;e = s + 1;f = $d + (153 * ($m - 3) + 2) / 5 + 58 + s;
    }
    g = (a + b) % 7;d = (f + g - e) % 7;n = f + 3 - d | 0;if (n < 0) {
      w = 53 - ((g - s) / 5 | 0);
    } else if (n > 364 + s) {
      w = 1;
    } else {
      w = (n / 7 | 0) + 1;
    }
    $y = $m = $d = null;return w;
  };$P.getISOWeek = function () {
    $y = this.getUTCFullYear();$m = this.getUTCMonth() + 1;$d = this.getUTCDate();return p(this.getWeek());
  };$P.setWeek = function (n) {
    return this.moveToDayOfWeek(1).addWeeks(n - this.getWeek());
  };$D._validate = function (n, min, max, name) {
    if (typeof n == "undefined") {
      return false;
    } else if (typeof n != "number") {
      throw new TypeError(n + " is not a Number.");
    } else if (n < min || n > max) {
      throw new RangeError(n + " is not a valid value for " + name + ".");
    }
    return true;
  };$D.validateMillisecond = function (value) {
    return $D._validate(value, 0, 999, "millisecond");
  };$D.validateSecond = function (value) {
    return $D._validate(value, 0, 59, "second");
  };$D.validateMinute = function (value) {
    return $D._validate(value, 0, 59, "minute");
  };$D.validateHour = function (value) {
    return $D._validate(value, 0, 23, "hour");
  };$D.validateDay = function (value, year, month) {
    return $D._validate(value, 1, $D.getDaysInMonth(year, month), "day");
  };$D.validateMonth = function (value) {
    return $D._validate(value, 0, 11, "month");
  };$D.validateYear = function (value) {
    return $D._validate(value, 0, 9999, "year");
  };$P.set = function (config) {
    if ($D.validateMillisecond(config.millisecond)) {
      this.addMilliseconds(config.millisecond - this.getMilliseconds());
    }
    if ($D.validateSecond(config.second)) {
      this.addSeconds(config.second - this.getSeconds());
    }
    if ($D.validateMinute(config.minute)) {
      this.addMinutes(config.minute - this.getMinutes());
    }
    if ($D.validateHour(config.hour)) {
      this.addHours(config.hour - this.getHours());
    }
    if ($D.validateMonth(config.month)) {
      this.addMonths(config.month - this.getMonth());
    }
    if ($D.validateYear(config.year)) {
      this.addYears(config.year - this.getFullYear());
    }
    if ($D.validateDay(config.day, this.getFullYear(), this.getMonth())) {
      this.addDays(config.day - this.getDate());
    }
    if (config.timezone) {
      this.setTimezone(config.timezone);
    }
    if (config.timezoneOffset) {
      this.setTimezoneOffset(config.timezoneOffset);
    }
    if (config.week && $D._validate(config.week, 0, 53, "week")) {
      this.setWeek(config.week);
    }
    return this;
  };$P.moveToFirstDayOfMonth = function () {
    return this.set({ day: 1 });
  };$P.moveToLastDayOfMonth = function () {
    return this.set({ day: $D.getDaysInMonth(this.getFullYear(), this.getMonth()) });
  };$P.moveToNthOccurrence = function (dayOfWeek, occurrence) {
    var shift = 0;if (occurrence > 0) {
      shift = occurrence - 1;
    } else if (occurrence === -1) {
      this.moveToLastDayOfMonth();if (this.getDay() !== dayOfWeek) {
        this.moveToDayOfWeek(dayOfWeek, -1);
      }
      return this;
    }
    return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(dayOfWeek, +1).addWeeks(shift);
  };$P.moveToDayOfWeek = function (dayOfWeek, orient) {
    var diff = (dayOfWeek - this.getDay() + 7 * (orient || +1)) % 7;return this.addDays(diff === 0 ? diff += 7 * (orient || +1) : diff);
  };$P.moveToMonth = function (month, orient) {
    var diff = (month - this.getMonth() + 12 * (orient || +1)) % 12;return this.addMonths(diff === 0 ? diff += 12 * (orient || +1) : diff);
  };$P.getOrdinalNumber = function () {
    return Math.ceil((this.clone().clearTime() - new Date(this.getFullYear(), 0, 1)) / 86400000) + 1;
  };$P.getTimezone = function () {
    return $D.getTimezoneAbbreviation(this.getUTCOffset());
  };$P.setTimezoneOffset = function (offset) {
    var here = this.getTimezoneOffset(),
        there = Number(offset) * -6 / 10;return this.addMinutes(there - here);
  };$P.setTimezone = function (offset) {
    return this.setTimezoneOffset($D.getTimezoneOffset(offset));
  };$P.hasDaylightSavingTime = function () {
    return Date.today().set({ month: 0, day: 1 }).getTimezoneOffset() !== Date.today().set({ month: 6, day: 1 }).getTimezoneOffset();
  };$P.isDaylightSavingTime = function () {
    return this.hasDaylightSavingTime() && new Date().getTimezoneOffset() === Date.today().set({ month: 6, day: 1 }).getTimezoneOffset();
  };$P.getUTCOffset = function () {
    var n = this.getTimezoneOffset() * -10 / 6,
        r;if (n < 0) {
      r = (n - 10000).toString();return r.charAt(0) + r.substr(2);
    } else {
      r = (n + 10000).toString();return "+" + r.substr(1);
    }
  };$P.getElapsed = function (date) {
    return (date || new Date()) - this;
  };if (!$P.toISOString) {
    $P.toISOString = function () {
      function f(n) {
        return n < 10 ? '0' + n : n;
      }
      return '"' + this.getUTCFullYear() + '-' + f(this.getUTCMonth() + 1) + '-' + f(this.getUTCDate()) + 'T' + f(this.getUTCHours()) + ':' + f(this.getUTCMinutes()) + ':' + f(this.getUTCSeconds()) + 'Z"';
    };
  }
  if (typeof $P._toString === 'undefined') {
    $P._toString = $P.toString;
  }$P.toString = function (format) {
    var x = this;if (format && format.length == 1) {
      var c = $C.formatPatterns;x.t = x.toString;switch (format) {case "d":
          return x.t(c.shortDate);case "D":
          return x.t(c.longDate);case "F":
          return x.t(c.fullDateTime);case "m":
          return x.t(c.monthDay);case "r":
          return x.t(c.rfc1123);case "s":
          return x.t(c.sortableDateTime);case "t":
          return x.t(c.shortTime);case "T":
          return x.t(c.longTime);case "u":
          return x.t(c.universalSortableDateTime);case "y":
          return x.t(c.yearMonth);}
    }
    var ord = function ord(n) {
      switch (n * 1) {case 1:case 21:case 31:
          return "st";case 2:case 22:
          return "nd";case 3:case 23:
          return "rd";default:
          return "th";}
    };return format ? format.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g, function (m) {
      if (m.charAt(0) === "\\") {
        return m.replace("\\", "");
      }
      x.h = x.getHours;switch (m) {case "hh":
          return p(x.h() < 13 ? x.h() === 0 ? 12 : x.h() : x.h() - 12);case "h":
          return x.h() < 13 ? x.h() === 0 ? 12 : x.h() : x.h() - 12;case "HH":
          return p(x.h());case "H":
          return x.h();case "mm":
          return p(x.getMinutes());case "m":
          return x.getMinutes();case "ss":
          return p(x.getSeconds());case "s":
          return x.getSeconds();case "yyyy":
          return p(x.getFullYear(), 4);case "yy":
          return p(x.getFullYear());case "dddd":
          return $C.dayNames[x.getDay()];case "ddd":
          return $C.abbreviatedDayNames[x.getDay()];case "dd":
          return p(x.getDate());case "d":
          return x.getDate();case "MMMM":
          return $C.monthNames[x.getMonth()];case "MMM":
          return $C.abbreviatedMonthNames[x.getMonth()];case "MM":
          return p(x.getMonth() + 1);case "M":
          return x.getMonth() + 1;case "t":
          return x.h() < 12 ? $C.amDesignator.substring(0, 1) : $C.pmDesignator.substring(0, 1);case "tt":
          return x.h() < 12 ? $C.amDesignator : $C.pmDesignator;case "S":
          return ord(x.getDate());default:
          return m;}
    }) : this._toString();
  };
})();
(function () {
  var $D = Date,
      $P = $D.prototype,
      $C = $D.CultureInfo,
      $N = Number.prototype;$P._orient = +1;$P._nth = null;$P._is = false;$P._same = false;$P._isSecond = false;$N._dateElement = "day";$P.next = function () {
    this._orient = +1;return this;
  };$D.next = function () {
    return $D.today().next();
  };$P.last = $P.prev = $P.previous = function () {
    this._orient = -1;return this;
  };$D.last = $D.prev = $D.previous = function () {
    return $D.today().last();
  };$P.is = function () {
    this._is = true;return this;
  };$P.same = function () {
    this._same = true;this._isSecond = false;return this;
  };$P.today = function () {
    return this.same().day();
  };$P.weekday = function () {
    if (this._is) {
      this._is = false;return !this.is().sat() && !this.is().sun();
    }
    return false;
  };$P.at = function (time) {
    return typeof time === "string" ? $D.parse(this.toString("d") + " " + time) : this.set(time);
  };$N.fromNow = $N.after = function (date) {
    var c = {};c[this._dateElement] = this;return (!date ? new Date() : date.clone()).add(c);
  };$N.ago = $N.before = function (date) {
    var c = {};c[this._dateElement] = this * -1;return (!date ? new Date() : date.clone()).add(c);
  };var dx = "sunday monday tuesday wednesday thursday friday saturday".split(/\s/),
      mx = "january february march april may june july august september october november december".split(/\s/),
      px = "Millisecond Second Minute Hour Day Week Month Year".split(/\s/),
      pxf = "Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),
      nth = "final first second third fourth fifth".split(/\s/),
      de;$P.toObject = function () {
    var o = {};for (var i = 0; i < px.length; i++) {
      o[px[i].toLowerCase()] = this["get" + pxf[i]]();
    }
    return o;
  };$D.fromObject = function (config) {
    config.week = null;return Date.today().set(config);
  };var df = function df(n) {
    return function () {
      if (this._is) {
        this._is = false;return this.getDay() == n;
      }
      if (this._nth !== null) {
        if (this._isSecond) {
          this.addSeconds(this._orient * -1);
        }
        this._isSecond = false;var ntemp = this._nth;this._nth = null;var temp = this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(n, ntemp);if (this > temp) {
          throw new RangeError($D.getDayName(n) + " does not occur " + ntemp + " times in the month of " + $D.getMonthName(temp.getMonth()) + " " + temp.getFullYear() + ".");
        }
        return this;
      }
      return this.moveToDayOfWeek(n, this._orient);
    };
  };var sdf = function sdf(n) {
    return function () {
      var t = $D.today(),
          shift = n - t.getDay();if (n === 0 && $C.firstDayOfWeek === 1 && t.getDay() !== 0) {
        shift = shift + 7;
      }
      return t.addDays(shift);
    };
  };for (var i = 0; i < dx.length; i++) {
    $D[dx[i].toUpperCase()] = $D[dx[i].toUpperCase().substring(0, 3)] = i;$D[dx[i]] = $D[dx[i].substring(0, 3)] = sdf(i);$P[dx[i]] = $P[dx[i].substring(0, 3)] = df(i);
  }
  var mf = function mf(n) {
    return function () {
      if (this._is) {
        this._is = false;return this.getMonth() === n;
      }
      return this.moveToMonth(n, this._orient);
    };
  };var smf = function smf(n) {
    return function () {
      return $D.today().set({ month: n, day: 1 });
    };
  };for (var j = 0; j < mx.length; j++) {
    $D[mx[j].toUpperCase()] = $D[mx[j].toUpperCase().substring(0, 3)] = j;$D[mx[j]] = $D[mx[j].substring(0, 3)] = smf(j);$P[mx[j]] = $P[mx[j].substring(0, 3)] = mf(j);
  }
  var ef = function ef(j) {
    return function () {
      if (this._isSecond) {
        this._isSecond = false;return this;
      }
      if (this._same) {
        this._same = this._is = false;var o1 = this.toObject(),
            o2 = (arguments[0] || new Date()).toObject(),
            v = "",
            k = j.toLowerCase();for (var m = px.length - 1; m > -1; m--) {
          v = px[m].toLowerCase();if (o1[v] != o2[v]) {
            return false;
          }
          if (k == v) {
            break;
          }
        }
        return true;
      }
      if (j.substring(j.length - 1) != "s") {
        j += "s";
      }
      return this["add" + j](this._orient);
    };
  };var nf = function nf(n) {
    return function () {
      this._dateElement = n;return this;
    };
  };for (var k = 0; k < px.length; k++) {
    de = px[k].toLowerCase();$P[de] = $P[de + "s"] = ef(px[k]);$N[de] = $N[de + "s"] = nf(de);
  }
  $P._ss = ef("Second");var nthfn = function nthfn(n) {
    return function (dayOfWeek) {
      if (this._same) {
        return this._ss(arguments[0]);
      }
      if (dayOfWeek || dayOfWeek === 0) {
        return this.moveToNthOccurrence(dayOfWeek, n);
      }
      this._nth = n;if (n === 2 && (dayOfWeek === undefined || dayOfWeek === null)) {
        this._isSecond = true;return this.addSeconds(this._orient);
      }
      return this;
    };
  };for (var l = 0; l < nth.length; l++) {
    $P[nth[l]] = l === 0 ? nthfn(-1) : nthfn(l);
  }
})();
(function () {
  Date.Parsing = { Exception: function Exception(s) {
      this.message = "Parse error at '" + s.substring(0, 10) + " ...'";
    } };var $P = Date.Parsing;var _ = $P.Operators = { rtoken: function rtoken(r) {
      return function (s) {
        var mx = s.match(r);if (mx) {
          return [mx[0], s.substring(mx[0].length)];
        } else {
          throw new $P.Exception(s);
        }
      };
    }, token: function token(s) {
      return function (s) {
        return _.rtoken(new RegExp("^\s*" + s + "\s*"))(s);
      };
    }, stoken: function stoken(s) {
      return _.rtoken(new RegExp("^" + s));
    }, until: function until(p) {
      return function (s) {
        var qx = [],
            rx = null;while (s.length) {
          try {
            rx = p.call(this, s);
          } catch (e) {
            qx.push(rx[0]);s = rx[1];continue;
          }
          break;
        }
        return [qx, s];
      };
    }, many: function many(p) {
      return function (s) {
        var rx = [],
            r = null;while (s.length) {
          try {
            r = p.call(this, s);
          } catch (e) {
            return [rx, s];
          }
          rx.push(r[0]);s = r[1];
        }
        return [rx, s];
      };
    }, optional: function optional(p) {
      return function (s) {
        var r = null;try {
          r = p.call(this, s);
        } catch (e) {
          return [null, s];
        }
        return [r[0], r[1]];
      };
    }, not: function not(p) {
      return function (s) {
        try {
          p.call(this, s);
        } catch (e) {
          return [null, s];
        }
        throw new $P.Exception(s);
      };
    }, ignore: function ignore(p) {
      return p ? function (s) {
        var r = null;r = p.call(this, s);return [null, r[1]];
      } : null;
    }, product: function product() {
      var px = arguments[0],
          qx = Array.prototype.slice.call(arguments, 1),
          rx = [];for (var i = 0; i < px.length; i++) {
        rx.push(_.each(px[i], qx));
      }
      return rx;
    }, cache: function cache(rule) {
      var cache = {},
          r = null;return function (s) {
        try {
          r = cache[s] = cache[s] || rule.call(this, s);
        } catch (e) {
          r = cache[s] = e;
        }
        if (r instanceof $P.Exception) {
          throw r;
        } else {
          return r;
        }
      };
    }, any: function any() {
      var px = arguments;return function (s) {
        var r = null;for (var i = 0; i < px.length; i++) {
          if (px[i] == null) {
            continue;
          }
          try {
            r = px[i].call(this, s);
          } catch (e) {
            r = null;
          }
          if (r) {
            return r;
          }
        }
        throw new $P.Exception(s);
      };
    }, each: function each() {
      var px = arguments;return function (s) {
        var rx = [],
            r = null;for (var i = 0; i < px.length; i++) {
          if (px[i] == null) {
            continue;
          }
          try {
            r = px[i].call(this, s);
          } catch (e) {
            throw new $P.Exception(s);
          }
          rx.push(r[0]);s = r[1];
        }
        return [rx, s];
      };
    }, all: function all() {
      var px = arguments,
          _ = _;return _.each(_.optional(px));
    }, sequence: function sequence(px, d, c) {
      d = d || _.rtoken(/^\s*/);c = c || null;if (px.length == 1) {
        return px[0];
      }
      return function (s) {
        var r = null,
            q = null;var rx = [];for (var i = 0; i < px.length; i++) {
          try {
            r = px[i].call(this, s);
          } catch (e) {
            break;
          }
          rx.push(r[0]);try {
            q = d.call(this, r[1]);
          } catch (ex) {
            q = null;break;
          }
          s = q[1];
        }
        if (!r) {
          throw new $P.Exception(s);
        }
        if (q) {
          throw new $P.Exception(q[1]);
        }
        if (c) {
          try {
            r = c.call(this, r[1]);
          } catch (ey) {
            throw new $P.Exception(r[1]);
          }
        }
        return [rx, r ? r[1] : s];
      };
    }, between: function between(d1, p, d2) {
      d2 = d2 || d1;var _fn = _.each(_.ignore(d1), p, _.ignore(d2));return function (s) {
        var rx = _fn.call(this, s);return [[rx[0][0], r[0][2]], rx[1]];
      };
    }, list: function list(p, d, c) {
      d = d || _.rtoken(/^\s*/);c = c || null;return p instanceof Array ? _.each(_.product(p.slice(0, -1), _.ignore(d)), p.slice(-1), _.ignore(c)) : _.each(_.many(_.each(p, _.ignore(d))), px, _.ignore(c));
    }, set: function set(px, d, c) {
      d = d || _.rtoken(/^\s*/);c = c || null;return function (s) {
        var r = null,
            p = null,
            q = null,
            rx = null,
            best = [[], s],
            last = false;for (var i = 0; i < px.length; i++) {
          q = null;p = null;r = null;last = px.length == 1;try {
            r = px[i].call(this, s);
          } catch (e) {
            continue;
          }
          rx = [[r[0]], r[1]];if (r[1].length > 0 && !last) {
            try {
              q = d.call(this, r[1]);
            } catch (ex) {
              last = true;
            }
          } else {
            last = true;
          }
          if (!last && q[1].length === 0) {
            last = true;
          }
          if (!last) {
            var qx = [];for (var j = 0; j < px.length; j++) {
              if (i != j) {
                qx.push(px[j]);
              }
            }
            p = _.set(qx, d).call(this, q[1]);if (p[0].length > 0) {
              rx[0] = rx[0].concat(p[0]);rx[1] = p[1];
            }
          }
          if (rx[1].length < best[1].length) {
            best = rx;
          }
          if (best[1].length === 0) {
            break;
          }
        }
        if (best[0].length === 0) {
          return best;
        }
        if (c) {
          try {
            q = c.call(this, best[1]);
          } catch (ey) {
            throw new $P.Exception(best[1]);
          }
          best[1] = q[1];
        }
        return best;
      };
    }, forward: function forward(gr, fname) {
      return function (s) {
        return gr[fname].call(this, s);
      };
    }, replace: function replace(rule, repl) {
      return function (s) {
        var r = rule.call(this, s);return [repl, r[1]];
      };
    }, process: function process(rule, fn) {
      return function (s) {
        var r = rule.call(this, s);return [fn.call(this, r[0]), r[1]];
      };
    }, min: function min(_min, rule) {
      return function (s) {
        var rx = rule.call(this, s);if (rx[0].length < _min) {
          throw new $P.Exception(s);
        }
        return rx;
      };
    } };var _generator = function _generator(op) {
    return function () {
      var args = null,
          rx = [];if (arguments.length > 1) {
        args = Array.prototype.slice.call(arguments);
      } else if (arguments[0] instanceof Array) {
        args = arguments[0];
      }
      if (args) {
        for (var i = 0, px = args.shift(); i < px.length; i++) {
          args.unshift(px[i]);rx.push(op.apply(null, args));args.shift();return rx;
        }
      } else {
        return op.apply(null, arguments);
      }
    };
  };var gx = "optional not ignore cache".split(/\s/);for (var i = 0; i < gx.length; i++) {
    _[gx[i]] = _generator(_[gx[i]]);
  }
  var _vector = function _vector(op) {
    return function () {
      if (arguments[0] instanceof Array) {
        return op.apply(null, arguments[0]);
      } else {
        return op.apply(null, arguments);
      }
    };
  };var vx = "each any all".split(/\s/);for (var j = 0; j < vx.length; j++) {
    _[vx[j]] = _vector(_[vx[j]]);
  }
})();(function () {
  var $D = Date,
      $P = $D.prototype,
      $C = $D.CultureInfo;var flattenAndCompact = function flattenAndCompact(ax) {
    var rx = [];for (var i = 0; i < ax.length; i++) {
      if (ax[i] instanceof Array) {
        rx = rx.concat(flattenAndCompact(ax[i]));
      } else {
        if (ax[i]) {
          rx.push(ax[i]);
        }
      }
    }
    return rx;
  };$D.Grammar = {};$D.Translator = { hour: function hour(s) {
      return function () {
        this.hour = Number(s);
      };
    }, minute: function minute(s) {
      return function () {
        this.minute = Number(s);
      };
    }, second: function second(s) {
      return function () {
        this.second = Number(s);
      };
    }, meridian: function meridian(s) {
      return function () {
        this.meridian = s.slice(0, 1).toLowerCase();
      };
    }, timezone: function timezone(s) {
      return function () {
        var n = s.replace(/[^\d\+\-]/g, "");if (n.length) {
          this.timezoneOffset = Number(n);
        } else {
          this.timezone = s.toLowerCase();
        }
      };
    }, day: function day(x) {
      var s = x[0];return function () {
        this.day = Number(s.match(/\d+/)[0]);
      };
    }, month: function month(s) {
      return function () {
        this.month = s.length == 3 ? "jan feb mar apr may jun jul aug sep oct nov dec".indexOf(s) / 4 : Number(s) - 1;
      };
    }, year: function year(s) {
      return function () {
        var n = Number(s);this.year = s.length > 2 ? n : n + (n + 2000 < $C.twoDigitYearMax ? 2000 : 1900);
      };
    }, rday: function rday(s) {
      return function () {
        switch (s) {case "yesterday":
            this.days = -1;break;case "tomorrow":
            this.days = 1;break;case "today":
            this.days = 0;break;case "now":
            this.days = 0;this.now = true;break;}
      };
    }, finishExact: function finishExact(x) {
      x = x instanceof Array ? x : [x];for (var i = 0; i < x.length; i++) {
        if (x[i]) {
          x[i].call(this);
        }
      }
      var now = new Date();if ((this.hour || this.minute) && !this.month && !this.year && !this.day) {
        this.day = now.getDate();
      }
      if (!this.year) {
        this.year = now.getFullYear();
      }
      if (!this.month && this.month !== 0) {
        this.month = now.getMonth();
      }
      if (!this.day) {
        this.day = 1;
      }
      if (!this.hour) {
        this.hour = 0;
      }
      if (!this.minute) {
        this.minute = 0;
      }
      if (!this.second) {
        this.second = 0;
      }
      if (this.meridian && this.hour) {
        if (this.meridian == "p" && this.hour < 12) {
          this.hour = this.hour + 12;
        } else if (this.meridian == "a" && this.hour == 12) {
          this.hour = 0;
        }
      }
      if (this.day > $D.getDaysInMonth(this.year, this.month)) {
        throw new RangeError(this.day + " is not a valid value for days.");
      }
      var r = new Date(this.year, this.month, this.day, this.hour, this.minute, this.second);if (this.timezone) {
        r.set({ timezone: this.timezone });
      } else if (this.timezoneOffset) {
        r.set({ timezoneOffset: this.timezoneOffset });
      }
      return r;
    }, finish: function finish(x) {
      x = x instanceof Array ? flattenAndCompact(x) : [x];if (x.length === 0) {
        return null;
      }
      for (var i = 0; i < x.length; i++) {
        if (typeof x[i] == "function") {
          x[i].call(this);
        }
      }
      var today = $D.today();if (this.now && !this.unit && !this.operator) {
        return new Date();
      } else if (this.now) {
        today = new Date();
      }
      var expression = !!(this.days && this.days !== null || this.orient || this.operator);var gap, mod, orient;orient = this.orient == "past" || this.operator == "subtract" ? -1 : 1;if (!this.now && "hour minute second".indexOf(this.unit) != -1) {
        today.setTimeToNow();
      }
      if (this.month || this.month === 0) {
        if ("year day hour minute second".indexOf(this.unit) != -1) {
          this.value = this.month + 1;this.month = null;expression = true;
        }
      }
      if (!expression && this.weekday && !this.day && !this.days) {
        var temp = Date[this.weekday]();this.day = temp.getDate();if (!this.month) {
          this.month = temp.getMonth();
        }
        this.year = temp.getFullYear();
      }
      if (expression && this.weekday && this.unit != "month") {
        this.unit = "day";gap = $D.getDayNumberFromName(this.weekday) - today.getDay();mod = 7;this.days = gap ? (gap + orient * mod) % mod : orient * mod;
      }
      if (this.month && this.unit == "day" && this.operator) {
        this.value = this.month + 1;this.month = null;
      }
      if (this.value != null && this.month != null && this.year != null) {
        this.day = this.value * 1;
      }
      if (this.month && !this.day && this.value) {
        today.set({ day: this.value * 1 });if (!expression) {
          this.day = this.value * 1;
        }
      }
      if (!this.month && this.value && this.unit == "month" && !this.now) {
        this.month = this.value;expression = true;
      }
      if (expression && (this.month || this.month === 0) && this.unit != "year") {
        this.unit = "month";gap = this.month - today.getMonth();mod = 12;this.months = gap ? (gap + orient * mod) % mod : orient * mod;this.month = null;
      }
      if (!this.unit) {
        this.unit = "day";
      }
      if (!this.value && this.operator && this.operator !== null && this[this.unit + "s"] && this[this.unit + "s"] !== null) {
        this[this.unit + "s"] = this[this.unit + "s"] + (this.operator == "add" ? 1 : -1) + (this.value || 0) * orient;
      } else if (this[this.unit + "s"] == null || this.operator != null) {
        if (!this.value) {
          this.value = 1;
        }
        this[this.unit + "s"] = this.value * orient;
      }
      if (this.meridian && this.hour) {
        if (this.meridian == "p" && this.hour < 12) {
          this.hour = this.hour + 12;
        } else if (this.meridian == "a" && this.hour == 12) {
          this.hour = 0;
        }
      }
      if (this.weekday && !this.day && !this.days) {
        var temp = Date[this.weekday]();this.day = temp.getDate();if (temp.getMonth() !== today.getMonth()) {
          this.month = temp.getMonth();
        }
      }
      if ((this.month || this.month === 0) && !this.day) {
        this.day = 1;
      }
      if (!this.orient && !this.operator && this.unit == "week" && this.value && !this.day && !this.month) {
        return Date.today().setWeek(this.value);
      }
      if (expression && this.timezone && this.day && this.days) {
        this.day = this.days;
      }
      return expression ? today.add(this) : today.set(this);
    } };var _ = $D.Parsing.Operators,
      g = $D.Grammar,
      t = $D.Translator,
      _fn;g.datePartDelimiter = _.rtoken(/^([\s\-\.\,\/\x27]+)/);g.timePartDelimiter = _.stoken(":");g.whiteSpace = _.rtoken(/^\s*/);g.generalDelimiter = _.rtoken(/^(([\s\,]|at|@|on)+)/);var _C = {};g.ctoken = function (keys) {
    var fn = _C[keys];if (!fn) {
      var c = $C.regexPatterns;var kx = keys.split(/\s+/),
          px = [];for (var i = 0; i < kx.length; i++) {
        px.push(_.replace(_.rtoken(c[kx[i]]), kx[i]));
      }
      fn = _C[keys] = _.any.apply(null, px);
    }
    return fn;
  };g.ctoken2 = function (key) {
    return _.rtoken($C.regexPatterns[key]);
  };g.h = _.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2]|[1-9])/), t.hour));g.hh = _.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2])/), t.hour));g.H = _.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/), t.hour));g.HH = _.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3])/), t.hour));g.m = _.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/), t.minute));g.mm = _.cache(_.process(_.rtoken(/^[0-5][0-9]/), t.minute));g.s = _.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/), t.second));g.ss = _.cache(_.process(_.rtoken(/^[0-5][0-9]/), t.second));g.hms = _.cache(_.sequence([g.H, g.m, g.s], g.timePartDelimiter));g.t = _.cache(_.process(g.ctoken2("shortMeridian"), t.meridian));g.tt = _.cache(_.process(g.ctoken2("longMeridian"), t.meridian));g.z = _.cache(_.process(_.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/), t.timezone));g.zz = _.cache(_.process(_.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/), t.timezone));g.zzz = _.cache(_.process(g.ctoken2("timezone"), t.timezone));g.timeSuffix = _.each(_.ignore(g.whiteSpace), _.set([g.tt, g.zzz]));g.time = _.each(_.optional(_.ignore(_.stoken("T"))), g.hms, g.timeSuffix);g.d = _.cache(_.process(_.each(_.rtoken(/^([0-2]\d|3[0-1]|\d)/), _.optional(g.ctoken2("ordinalSuffix"))), t.day));g.dd = _.cache(_.process(_.each(_.rtoken(/^([0-2]\d|3[0-1])/), _.optional(g.ctoken2("ordinalSuffix"))), t.day));g.ddd = g.dddd = _.cache(_.process(g.ctoken("sun mon tue wed thu fri sat"), function (s) {
    return function () {
      this.weekday = s;
    };
  }));g.M = _.cache(_.process(_.rtoken(/^(1[0-2]|0\d|\d)/), t.month));g.MM = _.cache(_.process(_.rtoken(/^(1[0-2]|0\d)/), t.month));g.MMM = g.MMMM = _.cache(_.process(g.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"), t.month));g.y = _.cache(_.process(_.rtoken(/^(\d\d?)/), t.year));g.yy = _.cache(_.process(_.rtoken(/^(\d\d)/), t.year));g.yyy = _.cache(_.process(_.rtoken(/^(\d\d?\d?\d?)/), t.year));g.yyyy = _.cache(_.process(_.rtoken(/^(\d\d\d\d)/), t.year));_fn = function _fn() {
    return _.each(_.any.apply(null, arguments), _.not(g.ctoken2("timeContext")));
  };g.day = _fn(g.d, g.dd);g.month = _fn(g.M, g.MMM);g.year = _fn(g.yyyy, g.yy);g.orientation = _.process(g.ctoken("past future"), function (s) {
    return function () {
      this.orient = s;
    };
  });g.operator = _.process(g.ctoken("add subtract"), function (s) {
    return function () {
      this.operator = s;
    };
  });g.rday = _.process(g.ctoken("yesterday tomorrow today now"), t.rday);g.unit = _.process(g.ctoken("second minute hour day week month year"), function (s) {
    return function () {
      this.unit = s;
    };
  });g.value = _.process(_.rtoken(/^\d\d?(st|nd|rd|th)?/), function (s) {
    return function () {
      this.value = s.replace(/\D/g, "");
    };
  });g.expression = _.set([g.rday, g.operator, g.value, g.unit, g.orientation, g.ddd, g.MMM]);_fn = function _fn() {
    return _.set(arguments, g.datePartDelimiter);
  };g.mdy = _fn(g.ddd, g.month, g.day, g.year);g.ymd = _fn(g.ddd, g.year, g.month, g.day);g.dmy = _fn(g.ddd, g.day, g.month, g.year);g.date = function (s) {
    return (g[$C.dateElementOrder] || g.mdy).call(this, s);
  };g.format = _.process(_.many(_.any(_.process(_.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/), function (fmt) {
    if (g[fmt]) {
      return g[fmt];
    } else {
      throw $D.Parsing.Exception(fmt);
    }
  }), _.process(_.rtoken(/^[^dMyhHmstz]+/), function (s) {
    return _.ignore(_.stoken(s));
  }))), function (rules) {
    return _.process(_.each.apply(null, rules), t.finishExact);
  });var _F = {};var _get = function _get(f) {
    return _F[f] = _F[f] || g.format(f)[0];
  };g.formats = function (fx) {
    if (fx instanceof Array) {
      var rx = [];for (var i = 0; i < fx.length; i++) {
        rx.push(_get(fx[i]));
      }
      return _.any.apply(null, rx);
    } else {
      return _get(fx);
    }
  };g._formats = g.formats(["\"yyyy-MM-ddTHH:mm:ssZ\"", "yyyy-MM-ddTHH:mm:ssZ", "yyyy-MM-ddTHH:mm:ssz", "yyyy-MM-ddTHH:mm:ss", "yyyy-MM-ddTHH:mmZ", "yyyy-MM-ddTHH:mmz", "yyyy-MM-ddTHH:mm", "ddd, MMM dd, yyyy H:mm:ss tt", "ddd MMM d yyyy HH:mm:ss zzz", "MMddyyyy", "ddMMyyyy", "Mddyyyy", "ddMyyyy", "Mdyyyy", "dMyyyy", "yyyy", "Mdyy", "dMyy", "d"]);g._start = _.process(_.set([g.date, g.time, g.expression], g.generalDelimiter, g.whiteSpace), t.finish);g.start = function (s) {
    try {
      var r = g._formats.call({}, s);if (r[1].length === 0) {
        return r;
      }
    } catch (e) {}
    return g._start.call({}, s);
  };$D._parse = $D.parse;$D.parse = function (s) {
    var r = null;if (!s) {
      return null;
    }
    if (s instanceof Date) {
      return s;
    }
    try {
      r = $D.Grammar.start.call({}, s.replace(/^\s*(\S*(\s+\S+)*)\s*$/, "$1"));
    } catch (e) {
      return null;
    }
    return r[1].length === 0 ? r[0] : null;
  };$D.getParseFunction = function (fx) {
    var fn = $D.Grammar.formats(fx);return function (s) {
      var r = null;try {
        r = fn.call({}, s);
      } catch (e) {
        return null;
      }
      return r[1].length === 0 ? r[0] : null;
    };
  };$D.parseExact = function (s, fx) {
    return $D.getParseFunction(fx)(s);
  };
})();

/***/ }),

/***/ "./common/static/js/vendor/domReady.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_RESULT__;/**
 * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/domReady for details
 */
/*jslint */
/*global require: false, define: false, requirejs: false,
  window: false, clearInterval: false, document: false,
  self: false, setInterval: false */

!(__WEBPACK_AMD_DEFINE_RESULT__ = function () {
    'use strict';

    var isTop,
        testDiv,
        scrollIntervalId,
        isBrowser = typeof window !== "undefined" && window.document,
        isPageLoaded = !isBrowser,
        doc = isBrowser ? document : null,
        readyCalls = [];

    function runCallbacks(callbacks) {
        var i;
        for (i = 0; i < callbacks.length; i += 1) {
            callbacks[i](doc);
        }
    }

    function callReady() {
        var callbacks = readyCalls;

        if (isPageLoaded) {
            //Call the DOM ready callbacks
            if (callbacks.length) {
                readyCalls = [];
                runCallbacks(callbacks);
            }
        }
    }

    /**
     * Sets the page as loaded.
     */
    function pageLoaded() {
        if (!isPageLoaded) {
            isPageLoaded = true;
            if (scrollIntervalId) {
                clearInterval(scrollIntervalId);
            }

            callReady();
        }
    }

    if (isBrowser) {
        if (document.addEventListener) {
            //Standards. Hooray! Assumption here that if standards based,
            //it knows about DOMContentLoaded.
            document.addEventListener("DOMContentLoaded", pageLoaded, false);
            window.addEventListener("load", pageLoaded, false);
        } else if (window.attachEvent) {
            window.attachEvent("onload", pageLoaded);

            testDiv = document.createElement('div');
            try {
                isTop = window.frameElement === null;
            } catch (e) {}

            //DOMContentLoaded approximation that uses a doScroll, as found by
            //Diego Perini: http://javascript.nwbox.com/IEContentLoaded/,
            //but modified by other contributors, including jdalton
            if (testDiv.doScroll && isTop && window.external) {
                scrollIntervalId = setInterval(function () {
                    try {
                        testDiv.doScroll();
                        pageLoaded();
                    } catch (e) {}
                }, 30);
            }
        }

        //Check if document already complete, and if so, just trigger page load
        //listeners. Latest webkit browsers also use "interactive", and
        //will fire the onDOMContentLoaded before "interactive" but not after
        //entering "interactive" or "complete". More details:
        //http://dev.w3.org/html5/spec/the-end.html#the-end
        //http://stackoverflow.com/questions/3665561/document-readystate-of-interactive-vs-ondomcontentloaded
        //Hmm, this is more complicated on further use, see "firing too early"
        //bug: https://github.com/requirejs/domReady/issues/1
        //so removing the || document.readyState === "interactive" test.
        //There is still a window.onload binding that should get fired if
        //DOMContentLoaded is missed.
        if (document.readyState === "complete") {
            pageLoaded();
        }
    }

    /** START OF PUBLIC API **/

    /**
     * Registers a callback for DOM ready. If DOM is already ready, the
     * callback is called immediately.
     * @param {Function} callback
     */
    function domReady(callback) {
        if (isPageLoaded) {
            callback(doc);
        } else {
            readyCalls.push(callback);
        }
        return domReady;
    }

    domReady.version = '2.0.1';

    /**
     * Loader Plugin API method
     */
    domReady.load = function (name, req, onLoad, config) {
        if (config.isBuild) {
            onLoad(null);
        } else {
            domReady(onLoad);
        }
    };

    /** END OF PUBLIC API **/

    return domReady;
}.call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./common/static/js/vendor/flot/jquery.flot.min.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/* Javascript plotting library for jQuery, v. 0.7.
 *
 * Released under the MIT license by IOLA, December 2007.
 *
 */
(function (b) {
  b.color = {};b.color.make = function (d, e, g, f) {
    var c = {};c.r = d || 0;c.g = e || 0;c.b = g || 0;c.a = f != null ? f : 1;c.add = function (h, j) {
      for (var k = 0; k < h.length; ++k) {
        c[h.charAt(k)] += j;
      }return c.normalize();
    };c.scale = function (h, j) {
      for (var k = 0; k < h.length; ++k) {
        c[h.charAt(k)] *= j;
      }return c.normalize();
    };c.toString = function () {
      if (c.a >= 1) {
        return "rgb(" + [c.r, c.g, c.b].join(",") + ")";
      } else {
        return "rgba(" + [c.r, c.g, c.b, c.a].join(",") + ")";
      }
    };c.normalize = function () {
      function h(k, j, l) {
        return j < k ? k : j > l ? l : j;
      }c.r = h(0, parseInt(c.r), 255);c.g = h(0, parseInt(c.g), 255);c.b = h(0, parseInt(c.b), 255);c.a = h(0, c.a, 1);return c;
    };c.clone = function () {
      return b.color.make(c.r, c.b, c.g, c.a);
    };return c.normalize();
  };b.color.extract = function (d, e) {
    var c;do {
      c = d.css(e).toLowerCase();if (c != "" && c != "transparent") {
        break;
      }d = d.parent();
    } while (!b.nodeName(d.get(0), "body"));if (c == "rgba(0, 0, 0, 0)") {
      c = "transparent";
    }return b.color.parse(c);
  };b.color.parse = function (c) {
    var d,
        f = b.color.make;if (d = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c)) {
      return f(parseInt(d[1], 10), parseInt(d[2], 10), parseInt(d[3], 10));
    }if (d = /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)) {
      return f(parseInt(d[1], 10), parseInt(d[2], 10), parseInt(d[3], 10), parseFloat(d[4]));
    }if (d = /rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c)) {
      return f(parseFloat(d[1]) * 2.55, parseFloat(d[2]) * 2.55, parseFloat(d[3]) * 2.55);
    }if (d = /rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)) {
      return f(parseFloat(d[1]) * 2.55, parseFloat(d[2]) * 2.55, parseFloat(d[3]) * 2.55, parseFloat(d[4]));
    }if (d = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c)) {
      return f(parseInt(d[1], 16), parseInt(d[2], 16), parseInt(d[3], 16));
    }if (d = /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c)) {
      return f(parseInt(d[1] + d[1], 16), parseInt(d[2] + d[2], 16), parseInt(d[3] + d[3], 16));
    }var e = b.trim(c).toLowerCase();if (e == "transparent") {
      return f(255, 255, 255, 0);
    } else {
      d = a[e] || [0, 0, 0];return f(d[0], d[1], d[2]);
    }
  };var a = { aqua: [0, 255, 255], azure: [240, 255, 255], beige: [245, 245, 220], black: [0, 0, 0], blue: [0, 0, 255], brown: [165, 42, 42], cyan: [0, 255, 255], darkblue: [0, 0, 139], darkcyan: [0, 139, 139], darkgrey: [169, 169, 169], darkgreen: [0, 100, 0], darkkhaki: [189, 183, 107], darkmagenta: [139, 0, 139], darkolivegreen: [85, 107, 47], darkorange: [255, 140, 0], darkorchid: [153, 50, 204], darkred: [139, 0, 0], darksalmon: [233, 150, 122], darkviolet: [148, 0, 211], fuchsia: [255, 0, 255], gold: [255, 215, 0], green: [0, 128, 0], indigo: [75, 0, 130], khaki: [240, 230, 140], lightblue: [173, 216, 230], lightcyan: [224, 255, 255], lightgreen: [144, 238, 144], lightgrey: [211, 211, 211], lightpink: [255, 182, 193], lightyellow: [255, 255, 224], lime: [0, 255, 0], magenta: [255, 0, 255], maroon: [128, 0, 0], navy: [0, 0, 128], olive: [128, 128, 0], orange: [255, 165, 0], pink: [255, 192, 203], purple: [128, 0, 128], violet: [128, 0, 128], red: [255, 0, 0], silver: [192, 192, 192], white: [255, 255, 255], yellow: [255, 255, 0] };
})(jQuery);(function (c) {
  function b(av, ai, J, af) {
    var Q = [],
        O = { colors: ["#edc240", "#afd8f8", "#cb4b4b", "#4da74d", "#9440ed"], legend: { show: true, noColumns: 1, labelFormatter: null, labelBoxBorderColor: "#ccc", container: null, position: "ne", margin: 5, backgroundColor: null, backgroundOpacity: 0.85 }, xaxis: { show: null, position: "bottom", mode: null, color: null, tickColor: null, transform: null, inverseTransform: null, min: null, max: null, autoscaleMargin: null, ticks: null, tickFormatter: null, labelWidth: null, labelHeight: null, reserveSpace: null, tickLength: null, alignTicksWithAxis: null, tickDecimals: null, tickSize: null, minTickSize: null, monthNames: null, timeformat: null, twelveHourClock: false }, yaxis: { autoscaleMargin: 0.02, position: "left" }, xaxes: [], yaxes: [], series: { points: { show: false, radius: 3, lineWidth: 2, fill: true, fillColor: "#ffffff", symbol: "circle" }, lines: { lineWidth: 2, fill: false, fillColor: null, steps: false }, bars: { show: false, lineWidth: 2, barWidth: 1, fill: true, fillColor: null, align: "left", horizontal: false }, shadowSize: 3 }, grid: { show: true, aboveData: false, color: "#545454", backgroundColor: null, borderColor: null, tickColor: null, labelMargin: 5, axisMargin: 8, borderWidth: 2, minBorderMargin: null, markings: null, markingsColor: "#f4f4f4", markingsLineWidth: 2, clickable: false, hoverable: false, autoHighlight: true, mouseActiveRadius: 10 }, hooks: {} },
        az = null,
        ad = null,
        y = null,
        H = null,
        A = null,
        p = [],
        aw = [],
        q = { left: 0, right: 0, top: 0, bottom: 0 },
        G = 0,
        I = 0,
        h = 0,
        w = 0,
        ak = { processOptions: [], processRawData: [], processDatapoints: [], drawSeries: [], draw: [], bindEvents: [], drawOverlay: [], shutdown: [] },
        aq = this;aq.setData = aj;aq.setupGrid = t;aq.draw = W;aq.getPlaceholder = function () {
      return av;
    };aq.getCanvas = function () {
      return az;
    };aq.getPlotOffset = function () {
      return q;
    };aq.width = function () {
      return h;
    };aq.height = function () {
      return w;
    };aq.offset = function () {
      var aB = y.offset();aB.left += q.left;aB.top += q.top;return aB;
    };aq.getData = function () {
      return Q;
    };aq.getAxes = function () {
      var aC = {},
          aB;c.each(p.concat(aw), function (aD, aE) {
        if (aE) {
          aC[aE.direction + (aE.n != 1 ? aE.n : "") + "axis"] = aE;
        }
      });return aC;
    };aq.getXAxes = function () {
      return p;
    };aq.getYAxes = function () {
      return aw;
    };aq.c2p = C;aq.p2c = ar;aq.getOptions = function () {
      return O;
    };aq.highlight = x;aq.unhighlight = T;aq.triggerRedrawOverlay = f;aq.pointOffset = function (aB) {
      return { left: parseInt(p[aA(aB, "x") - 1].p2c(+aB.x) + q.left), top: parseInt(aw[aA(aB, "y") - 1].p2c(+aB.y) + q.top) };
    };aq.shutdown = ag;aq.resize = function () {
      B();g(az);g(ad);
    };aq.hooks = ak;F(aq);Z(J);X();aj(ai);t();W();ah();function an(aD, aB) {
      aB = [aq].concat(aB);for (var aC = 0; aC < aD.length; ++aC) {
        aD[aC].apply(this, aB);
      }
    }function F() {
      for (var aB = 0; aB < af.length; ++aB) {
        var aC = af[aB];aC.init(aq);if (aC.options) {
          c.extend(true, O, aC.options);
        }
      }
    }function Z(aC) {
      var aB;c.extend(true, O, aC);if (O.xaxis.color == null) {
        O.xaxis.color = O.grid.color;
      }if (O.yaxis.color == null) {
        O.yaxis.color = O.grid.color;
      }if (O.xaxis.tickColor == null) {
        O.xaxis.tickColor = O.grid.tickColor;
      }if (O.yaxis.tickColor == null) {
        O.yaxis.tickColor = O.grid.tickColor;
      }if (O.grid.borderColor == null) {
        O.grid.borderColor = O.grid.color;
      }if (O.grid.tickColor == null) {
        O.grid.tickColor = c.color.parse(O.grid.color).scale("a", 0.22).toString();
      }for (aB = 0; aB < Math.max(1, O.xaxes.length); ++aB) {
        O.xaxes[aB] = c.extend(true, {}, O.xaxis, O.xaxes[aB]);
      }for (aB = 0; aB < Math.max(1, O.yaxes.length); ++aB) {
        O.yaxes[aB] = c.extend(true, {}, O.yaxis, O.yaxes[aB]);
      }if (O.xaxis.noTicks && O.xaxis.ticks == null) {
        O.xaxis.ticks = O.xaxis.noTicks;
      }if (O.yaxis.noTicks && O.yaxis.ticks == null) {
        O.yaxis.ticks = O.yaxis.noTicks;
      }if (O.x2axis) {
        O.xaxes[1] = c.extend(true, {}, O.xaxis, O.x2axis);O.xaxes[1].position = "top";
      }if (O.y2axis) {
        O.yaxes[1] = c.extend(true, {}, O.yaxis, O.y2axis);O.yaxes[1].position = "right";
      }if (O.grid.coloredAreas) {
        O.grid.markings = O.grid.coloredAreas;
      }if (O.grid.coloredAreasColor) {
        O.grid.markingsColor = O.grid.coloredAreasColor;
      }if (O.lines) {
        c.extend(true, O.series.lines, O.lines);
      }if (O.points) {
        c.extend(true, O.series.points, O.points);
      }if (O.bars) {
        c.extend(true, O.series.bars, O.bars);
      }if (O.shadowSize != null) {
        O.series.shadowSize = O.shadowSize;
      }for (aB = 0; aB < O.xaxes.length; ++aB) {
        V(p, aB + 1).options = O.xaxes[aB];
      }for (aB = 0; aB < O.yaxes.length; ++aB) {
        V(aw, aB + 1).options = O.yaxes[aB];
      }for (var aD in ak) {
        if (O.hooks[aD] && O.hooks[aD].length) {
          ak[aD] = ak[aD].concat(O.hooks[aD]);
        }
      }an(ak.processOptions, [O]);
    }function aj(aB) {
      Q = Y(aB);ax();z();
    }function Y(aE) {
      var aC = [];for (var aB = 0; aB < aE.length; ++aB) {
        var aD = c.extend(true, {}, O.series);if (aE[aB].data != null) {
          aD.data = aE[aB].data;delete aE[aB].data;c.extend(true, aD, aE[aB]);aE[aB].data = aD.data;
        } else {
          aD.data = aE[aB];
        }aC.push(aD);
      }return aC;
    }function aA(aC, aD) {
      var aB = aC[aD + "axis"];if ((typeof aB === "undefined" ? "undefined" : _typeof(aB)) == "object") {
        aB = aB.n;
      }if (typeof aB != "number") {
        aB = 1;
      }return aB;
    }function m() {
      return c.grep(p.concat(aw), function (aB) {
        return aB;
      });
    }function C(aE) {
      var aC = {},
          aB,
          aD;for (aB = 0; aB < p.length; ++aB) {
        aD = p[aB];if (aD && aD.used) {
          aC["x" + aD.n] = aD.c2p(aE.left);
        }
      }for (aB = 0; aB < aw.length; ++aB) {
        aD = aw[aB];if (aD && aD.used) {
          aC["y" + aD.n] = aD.c2p(aE.top);
        }
      }if (aC.x1 !== undefined) {
        aC.x = aC.x1;
      }if (aC.y1 !== undefined) {
        aC.y = aC.y1;
      }return aC;
    }function ar(aF) {
      var aD = {},
          aC,
          aE,
          aB;for (aC = 0; aC < p.length; ++aC) {
        aE = p[aC];if (aE && aE.used) {
          aB = "x" + aE.n;if (aF[aB] == null && aE.n == 1) {
            aB = "x";
          }if (aF[aB] != null) {
            aD.left = aE.p2c(aF[aB]);break;
          }
        }
      }for (aC = 0; aC < aw.length; ++aC) {
        aE = aw[aC];if (aE && aE.used) {
          aB = "y" + aE.n;if (aF[aB] == null && aE.n == 1) {
            aB = "y";
          }if (aF[aB] != null) {
            aD.top = aE.p2c(aF[aB]);break;
          }
        }
      }return aD;
    }function V(aC, aB) {
      if (!aC[aB - 1]) {
        aC[aB - 1] = { n: aB, direction: aC == p ? "x" : "y", options: c.extend(true, {}, aC == p ? O.xaxis : O.yaxis) };
      }return aC[aB - 1];
    }function ax() {
      var aG;var aM = Q.length,
          aB = [],
          aE = [];for (aG = 0; aG < Q.length; ++aG) {
        var aJ = Q[aG].color;if (aJ != null) {
          --aM;if (typeof aJ == "number") {
            aE.push(aJ);
          } else {
            aB.push(c.color.parse(Q[aG].color));
          }
        }
      }for (aG = 0; aG < aE.length; ++aG) {
        aM = Math.max(aM, aE[aG] + 1);
      }var aC = [],
          aF = 0;aG = 0;while (aC.length < aM) {
        var aI;if (O.colors.length == aG) {
          aI = c.color.make(100, 100, 100);
        } else {
          aI = c.color.parse(O.colors[aG]);
        }var aD = aF % 2 == 1 ? -1 : 1;aI.scale("rgb", 1 + aD * Math.ceil(aF / 2) * 0.2);aC.push(aI);++aG;if (aG >= O.colors.length) {
          aG = 0;++aF;
        }
      }var aH = 0,
          aN;for (aG = 0; aG < Q.length; ++aG) {
        aN = Q[aG];if (aN.color == null) {
          aN.color = aC[aH].toString();++aH;
        } else {
          if (typeof aN.color == "number") {
            aN.color = aC[aN.color].toString();
          }
        }if (aN.lines.show == null) {
          var aL,
              aK = true;for (aL in aN) {
            if (aN[aL] && aN[aL].show) {
              aK = false;break;
            }
          }if (aK) {
            aN.lines.show = true;
          }
        }aN.xaxis = V(p, aA(aN, "x"));aN.yaxis = V(aw, aA(aN, "y"));
      }
    }function z() {
      var aO = Number.POSITIVE_INFINITY,
          aI = Number.NEGATIVE_INFINITY,
          aB = Number.MAX_VALUE,
          aU,
          aS,
          aR,
          aN,
          aD,
          aJ,
          aT,
          aP,
          aH,
          aG,
          aC,
          a0,
          aX,
          aL;function aF(a3, a2, a1) {
        if (a2 < a3.datamin && a2 != -aB) {
          a3.datamin = a2;
        }if (a1 > a3.datamax && a1 != aB) {
          a3.datamax = a1;
        }
      }c.each(m(), function (a1, a2) {
        a2.datamin = aO;a2.datamax = aI;a2.used = false;
      });for (aU = 0; aU < Q.length; ++aU) {
        aJ = Q[aU];aJ.datapoints = { points: [] };an(ak.processRawData, [aJ, aJ.data, aJ.datapoints]);
      }for (aU = 0; aU < Q.length; ++aU) {
        aJ = Q[aU];var aZ = aJ.data,
            aW = aJ.datapoints.format;if (!aW) {
          aW = [];aW.push({ x: true, number: true, required: true });aW.push({ y: true, number: true, required: true });if (aJ.bars.show || aJ.lines.show && aJ.lines.fill) {
            aW.push({ y: true, number: true, required: false, defaultValue: 0 });if (aJ.bars.horizontal) {
              delete aW[aW.length - 1].y;aW[aW.length - 1].x = true;
            }
          }aJ.datapoints.format = aW;
        }if (aJ.datapoints.pointsize != null) {
          continue;
        }aJ.datapoints.pointsize = aW.length;aP = aJ.datapoints.pointsize;aT = aJ.datapoints.points;insertSteps = aJ.lines.show && aJ.lines.steps;aJ.xaxis.used = aJ.yaxis.used = true;for (aS = aR = 0; aS < aZ.length; ++aS, aR += aP) {
          aL = aZ[aS];var aE = aL == null;if (!aE) {
            for (aN = 0; aN < aP; ++aN) {
              a0 = aL[aN];aX = aW[aN];if (aX) {
                if (aX.number && a0 != null) {
                  a0 = +a0;if (isNaN(a0)) {
                    a0 = null;
                  } else {
                    if (a0 == Infinity) {
                      a0 = aB;
                    } else {
                      if (a0 == -Infinity) {
                        a0 = -aB;
                      }
                    }
                  }
                }if (a0 == null) {
                  if (aX.required) {
                    aE = true;
                  }if (aX.defaultValue != null) {
                    a0 = aX.defaultValue;
                  }
                }
              }aT[aR + aN] = a0;
            }
          }if (aE) {
            for (aN = 0; aN < aP; ++aN) {
              a0 = aT[aR + aN];if (a0 != null) {
                aX = aW[aN];if (aX.x) {
                  aF(aJ.xaxis, a0, a0);
                }if (aX.y) {
                  aF(aJ.yaxis, a0, a0);
                }
              }aT[aR + aN] = null;
            }
          } else {
            if (insertSteps && aR > 0 && aT[aR - aP] != null && aT[aR - aP] != aT[aR] && aT[aR - aP + 1] != aT[aR + 1]) {
              for (aN = 0; aN < aP; ++aN) {
                aT[aR + aP + aN] = aT[aR + aN];
              }aT[aR + 1] = aT[aR - aP + 1];aR += aP;
            }
          }
        }
      }for (aU = 0; aU < Q.length; ++aU) {
        aJ = Q[aU];an(ak.processDatapoints, [aJ, aJ.datapoints]);
      }for (aU = 0; aU < Q.length; ++aU) {
        aJ = Q[aU];aT = aJ.datapoints.points, aP = aJ.datapoints.pointsize;var aK = aO,
            aQ = aO,
            aM = aI,
            aV = aI;for (aS = 0; aS < aT.length; aS += aP) {
          if (aT[aS] == null) {
            continue;
          }for (aN = 0; aN < aP; ++aN) {
            a0 = aT[aS + aN];aX = aW[aN];if (!aX || a0 == aB || a0 == -aB) {
              continue;
            }if (aX.x) {
              if (a0 < aK) {
                aK = a0;
              }if (a0 > aM) {
                aM = a0;
              }
            }if (aX.y) {
              if (a0 < aQ) {
                aQ = a0;
              }if (a0 > aV) {
                aV = a0;
              }
            }
          }
        }if (aJ.bars.show) {
          var aY = aJ.bars.align == "left" ? 0 : -aJ.bars.barWidth / 2;if (aJ.bars.horizontal) {
            aQ += aY;aV += aY + aJ.bars.barWidth;
          } else {
            aK += aY;aM += aY + aJ.bars.barWidth;
          }
        }aF(aJ.xaxis, aK, aM);aF(aJ.yaxis, aQ, aV);
      }c.each(m(), function (a1, a2) {
        if (a2.datamin == aO) {
          a2.datamin = null;
        }if (a2.datamax == aI) {
          a2.datamax = null;
        }
      });
    }function j(aB, aC) {
      var aD = document.createElement("canvas");aD.className = aC;aD.width = G;aD.height = I;if (!aB) {
        c(aD).css({ position: "absolute", left: 0, top: 0 });
      }c(aD).appendTo(av);if (!aD.getContext) {
        aD = window.G_vmlCanvasManager.initElement(aD);
      }aD.getContext("2d").save();return aD;
    }function B() {
      G = av.width();I = av.height();if (G <= 0 || I <= 0) {
        throw "Invalid dimensions for plot, width = " + G + ", height = " + I;
      }
    }function g(aC) {
      if (aC.width != G) {
        aC.width = G;
      }if (aC.height != I) {
        aC.height = I;
      }var aB = aC.getContext("2d");aB.restore();aB.save();
    }function X() {
      var aC,
          aB = av.children("canvas.base"),
          aD = av.children("canvas.overlay");if (aB.length == 0 || aD == 0) {
        av.html("");av.css({ padding: 0 });if (av.css("position") == "static") {
          av.css("position", "relative");
        }B();az = j(true, "base");ad = j(false, "overlay");aC = false;
      } else {
        az = aB.get(0);ad = aD.get(0);aC = true;
      }H = az.getContext("2d");A = ad.getContext("2d");y = c([ad, az]);if (aC) {
        av.data("plot").shutdown();aq.resize();A.clearRect(0, 0, G, I);y.unbind();av.children().not([az, ad]).remove();
      }av.data("plot", aq);
    }function ah() {
      if (O.grid.hoverable) {
        y.mousemove(aa);y.mouseleave(l);
      }if (O.grid.clickable) {
        y.click(R);
      }an(ak.bindEvents, [y]);
    }function ag() {
      if (M) {
        clearTimeout(M);
      }y.unbind("mousemove", aa);y.unbind("mouseleave", l);y.unbind("click", R);an(ak.shutdown, [y]);
    }function r(aG) {
      function aC(aH) {
        return aH;
      }var aF,
          aB,
          aD = aG.options.transform || aC,
          aE = aG.options.inverseTransform;if (aG.direction == "x") {
        aF = aG.scale = h / Math.abs(aD(aG.max) - aD(aG.min));aB = Math.min(aD(aG.max), aD(aG.min));
      } else {
        aF = aG.scale = w / Math.abs(aD(aG.max) - aD(aG.min));aF = -aF;aB = Math.max(aD(aG.max), aD(aG.min));
      }if (aD == aC) {
        aG.p2c = function (aH) {
          return (aH - aB) * aF;
        };
      } else {
        aG.p2c = function (aH) {
          return (aD(aH) - aB) * aF;
        };
      }if (!aE) {
        aG.c2p = function (aH) {
          return aB + aH / aF;
        };
      } else {
        aG.c2p = function (aH) {
          return aE(aB + aH / aF);
        };
      }
    }function L(aD) {
      var aB = aD.options,
          aF,
          aJ = aD.ticks || [],
          aI = [],
          aE,
          aK = aB.labelWidth,
          aG = aB.labelHeight,
          aC;function aH(aM, aL) {
        return c('<div style="position:absolute;top:-10000px;' + aL + 'font-size:smaller"><div class="' + aD.direction + "Axis " + aD.direction + aD.n + 'Axis">' + aM.join("") + "</div></div>").appendTo(av);
      }if (aD.direction == "x") {
        if (aK == null) {
          aK = Math.floor(G / (aJ.length > 0 ? aJ.length : 1));
        }if (aG == null) {
          aI = [];for (aF = 0; aF < aJ.length; ++aF) {
            aE = aJ[aF].label;if (aE) {
              aI.push('<div class="tickLabel" style="float:left;width:' + aK + 'px">' + aE + "</div>");
            }
          }if (aI.length > 0) {
            aI.push('<div style="clear:left"></div>');aC = aH(aI, "width:10000px;");aG = aC.height();aC.remove();
          }
        }
      } else {
        if (aK == null || aG == null) {
          for (aF = 0; aF < aJ.length; ++aF) {
            aE = aJ[aF].label;if (aE) {
              aI.push('<div class="tickLabel">' + aE + "</div>");
            }
          }if (aI.length > 0) {
            aC = aH(aI, "");if (aK == null) {
              aK = aC.children().width();
            }if (aG == null) {
              aG = aC.find("div.tickLabel").height();
            }aC.remove();
          }
        }
      }if (aK == null) {
        aK = 0;
      }if (aG == null) {
        aG = 0;
      }aD.labelWidth = aK;aD.labelHeight = aG;
    }function au(aD) {
      var aC = aD.labelWidth,
          aL = aD.labelHeight,
          aH = aD.options.position,
          aF = aD.options.tickLength,
          aG = O.grid.axisMargin,
          aJ = O.grid.labelMargin,
          aK = aD.direction == "x" ? p : aw,
          aE;var aB = c.grep(aK, function (aN) {
        return aN && aN.options.position == aH && aN.reserveSpace;
      });if (c.inArray(aD, aB) == aB.length - 1) {
        aG = 0;
      }if (aF == null) {
        aF = "full";
      }var aI = c.grep(aK, function (aN) {
        return aN && aN.reserveSpace;
      });var aM = c.inArray(aD, aI) == 0;if (!aM && aF == "full") {
        aF = 5;
      }if (!isNaN(+aF)) {
        aJ += +aF;
      }if (aD.direction == "x") {
        aL += aJ;if (aH == "bottom") {
          q.bottom += aL + aG;aD.box = { top: I - q.bottom, height: aL };
        } else {
          aD.box = { top: q.top + aG, height: aL };q.top += aL + aG;
        }
      } else {
        aC += aJ;if (aH == "left") {
          aD.box = { left: q.left + aG, width: aC };q.left += aC + aG;
        } else {
          q.right += aC + aG;aD.box = { left: G - q.right, width: aC };
        }
      }aD.position = aH;aD.tickLength = aF;aD.box.padding = aJ;aD.innermost = aM;
    }function U(aB) {
      if (aB.direction == "x") {
        aB.box.left = q.left;aB.box.width = h;
      } else {
        aB.box.top = q.top;aB.box.height = w;
      }
    }function t() {
      var aC,
          aE = m();c.each(aE, function (aF, aG) {
        aG.show = aG.options.show;if (aG.show == null) {
          aG.show = aG.used;
        }aG.reserveSpace = aG.show || aG.options.reserveSpace;n(aG);
      });allocatedAxes = c.grep(aE, function (aF) {
        return aF.reserveSpace;
      });q.left = q.right = q.top = q.bottom = 0;if (O.grid.show) {
        c.each(allocatedAxes, function (aF, aG) {
          S(aG);P(aG);ap(aG, aG.ticks);L(aG);
        });for (aC = allocatedAxes.length - 1; aC >= 0; --aC) {
          au(allocatedAxes[aC]);
        }var aD = O.grid.minBorderMargin;if (aD == null) {
          aD = 0;for (aC = 0; aC < Q.length; ++aC) {
            aD = Math.max(aD, Q[aC].points.radius + Q[aC].points.lineWidth / 2);
          }
        }for (var aB in q) {
          q[aB] += O.grid.borderWidth;q[aB] = Math.max(aD, q[aB]);
        }
      }h = G - q.left - q.right;w = I - q.bottom - q.top;c.each(aE, function (aF, aG) {
        r(aG);
      });if (O.grid.show) {
        c.each(allocatedAxes, function (aF, aG) {
          U(aG);
        });k();
      }o();
    }function n(aE) {
      var aF = aE.options,
          aD = +(aF.min != null ? aF.min : aE.datamin),
          aB = +(aF.max != null ? aF.max : aE.datamax),
          aH = aB - aD;if (aH == 0) {
        var aC = aB == 0 ? 1 : 0.01;if (aF.min == null) {
          aD -= aC;
        }if (aF.max == null || aF.min != null) {
          aB += aC;
        }
      } else {
        var aG = aF.autoscaleMargin;if (aG != null) {
          if (aF.min == null) {
            aD -= aH * aG;if (aD < 0 && aE.datamin != null && aE.datamin >= 0) {
              aD = 0;
            }
          }if (aF.max == null) {
            aB += aH * aG;if (aB > 0 && aE.datamax != null && aE.datamax <= 0) {
              aB = 0;
            }
          }
        }
      }aE.min = aD;aE.max = aB;
    }function S(aG) {
      var aM = aG.options;var aH;if (typeof aM.ticks == "number" && aM.ticks > 0) {
        aH = aM.ticks;
      } else {
        aH = 0.3 * Math.sqrt(aG.direction == "x" ? G : I);
      }var aT = (aG.max - aG.min) / aH,
          aO,
          aB,
          aN,
          aR,
          aS,
          aQ,
          aI;if (aM.mode == "time") {
        var aJ = { second: 1000, minute: 60 * 1000, hour: 60 * 60 * 1000, day: 24 * 60 * 60 * 1000, month: 30 * 24 * 60 * 60 * 1000, year: 365.2425 * 24 * 60 * 60 * 1000 };var aK = [[1, "second"], [2, "second"], [5, "second"], [10, "second"], [30, "second"], [1, "minute"], [2, "minute"], [5, "minute"], [10, "minute"], [30, "minute"], [1, "hour"], [2, "hour"], [4, "hour"], [8, "hour"], [12, "hour"], [1, "day"], [2, "day"], [3, "day"], [0.25, "month"], [0.5, "month"], [1, "month"], [2, "month"], [3, "month"], [6, "month"], [1, "year"]];var aC = 0;if (aM.minTickSize != null) {
          if (typeof aM.tickSize == "number") {
            aC = aM.tickSize;
          } else {
            aC = aM.minTickSize[0] * aJ[aM.minTickSize[1]];
          }
        }for (var aS = 0; aS < aK.length - 1; ++aS) {
          if (aT < (aK[aS][0] * aJ[aK[aS][1]] + aK[aS + 1][0] * aJ[aK[aS + 1][1]]) / 2 && aK[aS][0] * aJ[aK[aS][1]] >= aC) {
            break;
          }
        }aO = aK[aS][0];aN = aK[aS][1];if (aN == "year") {
          aQ = Math.pow(10, Math.floor(Math.log(aT / aJ.year) / Math.LN10));aI = aT / aJ.year / aQ;if (aI < 1.5) {
            aO = 1;
          } else {
            if (aI < 3) {
              aO = 2;
            } else {
              if (aI < 7.5) {
                aO = 5;
              } else {
                aO = 10;
              }
            }
          }aO *= aQ;
        }aG.tickSize = aM.tickSize || [aO, aN];aB = function aB(aX) {
          var a2 = [],
              a0 = aX.tickSize[0],
              a3 = aX.tickSize[1],
              a1 = new Date(aX.min);var aW = a0 * aJ[a3];if (a3 == "second") {
            a1.setUTCSeconds(a(a1.getUTCSeconds(), a0));
          }if (a3 == "minute") {
            a1.setUTCMinutes(a(a1.getUTCMinutes(), a0));
          }if (a3 == "hour") {
            a1.setUTCHours(a(a1.getUTCHours(), a0));
          }if (a3 == "month") {
            a1.setUTCMonth(a(a1.getUTCMonth(), a0));
          }if (a3 == "year") {
            a1.setUTCFullYear(a(a1.getUTCFullYear(), a0));
          }a1.setUTCMilliseconds(0);if (aW >= aJ.minute) {
            a1.setUTCSeconds(0);
          }if (aW >= aJ.hour) {
            a1.setUTCMinutes(0);
          }if (aW >= aJ.day) {
            a1.setUTCHours(0);
          }if (aW >= aJ.day * 4) {
            a1.setUTCDate(1);
          }if (aW >= aJ.year) {
            a1.setUTCMonth(0);
          }var a5 = 0,
              a4 = Number.NaN,
              aY;do {
            aY = a4;a4 = a1.getTime();a2.push(a4);if (a3 == "month") {
              if (a0 < 1) {
                a1.setUTCDate(1);var aV = a1.getTime();a1.setUTCMonth(a1.getUTCMonth() + 1);var aZ = a1.getTime();a1.setTime(a4 + a5 * aJ.hour + (aZ - aV) * a0);a5 = a1.getUTCHours();a1.setUTCHours(0);
              } else {
                a1.setUTCMonth(a1.getUTCMonth() + a0);
              }
            } else {
              if (a3 == "year") {
                a1.setUTCFullYear(a1.getUTCFullYear() + a0);
              } else {
                a1.setTime(a4 + aW);
              }
            }
          } while (a4 < aX.max && a4 != aY);return a2;
        };aR = function aR(aV, aY) {
          var a0 = new Date(aV);if (aM.timeformat != null) {
            return c.plot.formatDate(a0, aM.timeformat, aM.monthNames);
          }var aW = aY.tickSize[0] * aJ[aY.tickSize[1]];var aX = aY.max - aY.min;var aZ = aM.twelveHourClock ? " %p" : "";if (aW < aJ.minute) {
            fmt = "%h:%M:%S" + aZ;
          } else {
            if (aW < aJ.day) {
              if (aX < 2 * aJ.day) {
                fmt = "%h:%M" + aZ;
              } else {
                fmt = "%b %d %h:%M" + aZ;
              }
            } else {
              if (aW < aJ.month) {
                fmt = "%b %d";
              } else {
                if (aW < aJ.year) {
                  if (aX < aJ.year) {
                    fmt = "%b";
                  } else {
                    fmt = "%b %y";
                  }
                } else {
                  fmt = "%y";
                }
              }
            }
          }return c.plot.formatDate(a0, fmt, aM.monthNames);
        };
      } else {
        var aU = aM.tickDecimals;var aP = -Math.floor(Math.log(aT) / Math.LN10);if (aU != null && aP > aU) {
          aP = aU;
        }aQ = Math.pow(10, -aP);aI = aT / aQ;if (aI < 1.5) {
          aO = 1;
        } else {
          if (aI < 3) {
            aO = 2;if (aI > 2.25 && (aU == null || aP + 1 <= aU)) {
              aO = 2.5;++aP;
            }
          } else {
            if (aI < 7.5) {
              aO = 5;
            } else {
              aO = 10;
            }
          }
        }aO *= aQ;if (aM.minTickSize != null && aO < aM.minTickSize) {
          aO = aM.minTickSize;
        }aG.tickDecimals = Math.max(0, aU != null ? aU : aP);aG.tickSize = aM.tickSize || aO;aB = function aB(aX) {
          var aZ = [];var a0 = a(aX.min, aX.tickSize),
              aW = 0,
              aV = Number.NaN,
              aY;do {
            aY = aV;aV = a0 + aW * aX.tickSize;aZ.push(aV);++aW;
          } while (aV < aX.max && aV != aY);return aZ;
        };aR = function aR(aV, aW) {
          return aV.toFixed(aW.tickDecimals);
        };
      }if (aM.alignTicksWithAxis != null) {
        var aF = (aG.direction == "x" ? p : aw)[aM.alignTicksWithAxis - 1];if (aF && aF.used && aF != aG) {
          var aL = aB(aG);if (aL.length > 0) {
            if (aM.min == null) {
              aG.min = Math.min(aG.min, aL[0]);
            }if (aM.max == null && aL.length > 1) {
              aG.max = Math.max(aG.max, aL[aL.length - 1]);
            }
          }aB = function aB(aX) {
            var aY = [],
                aV,
                aW;for (aW = 0; aW < aF.ticks.length; ++aW) {
              aV = (aF.ticks[aW].v - aF.min) / (aF.max - aF.min);aV = aX.min + aV * (aX.max - aX.min);aY.push(aV);
            }return aY;
          };if (aG.mode != "time" && aM.tickDecimals == null) {
            var aE = Math.max(0, -Math.floor(Math.log(aT) / Math.LN10) + 1),
                aD = aB(aG);if (!(aD.length > 1 && /\..*0$/.test((aD[1] - aD[0]).toFixed(aE)))) {
              aG.tickDecimals = aE;
            }
          }
        }
      }aG.tickGenerator = aB;if (c.isFunction(aM.tickFormatter)) {
        aG.tickFormatter = function (aV, aW) {
          return "" + aM.tickFormatter(aV, aW);
        };
      } else {
        aG.tickFormatter = aR;
      }
    }function P(aF) {
      var aH = aF.options.ticks,
          aG = [];if (aH == null || typeof aH == "number" && aH > 0) {
        aG = aF.tickGenerator(aF);
      } else {
        if (aH) {
          if (c.isFunction(aH)) {
            aG = aH({ min: aF.min, max: aF.max });
          } else {
            aG = aH;
          }
        }
      }var aE, aB;aF.ticks = [];for (aE = 0; aE < aG.length; ++aE) {
        var aC = null;var aD = aG[aE];if ((typeof aD === "undefined" ? "undefined" : _typeof(aD)) == "object") {
          aB = +aD[0];if (aD.length > 1) {
            aC = aD[1];
          }
        } else {
          aB = +aD;
        }if (aC == null) {
          aC = aF.tickFormatter(aB, aF);
        }if (!isNaN(aB)) {
          aF.ticks.push({ v: aB, label: aC });
        }
      }
    }function ap(aB, aC) {
      if (aB.options.autoscaleMargin && aC.length > 0) {
        if (aB.options.min == null) {
          aB.min = Math.min(aB.min, aC[0].v);
        }if (aB.options.max == null && aC.length > 1) {
          aB.max = Math.max(aB.max, aC[aC.length - 1].v);
        }
      }
    }function W() {
      H.clearRect(0, 0, G, I);var aC = O.grid;if (aC.show && aC.backgroundColor) {
        N();
      }if (aC.show && !aC.aboveData) {
        ac();
      }for (var aB = 0; aB < Q.length; ++aB) {
        an(ak.drawSeries, [H, Q[aB]]);d(Q[aB]);
      }an(ak.draw, [H]);if (aC.show && aC.aboveData) {
        ac();
      }
    }function D(aB, aI) {
      var aE,
          aH,
          aG,
          aD,
          aF = m();for (i = 0; i < aF.length; ++i) {
        aE = aF[i];if (aE.direction == aI) {
          aD = aI + aE.n + "axis";if (!aB[aD] && aE.n == 1) {
            aD = aI + "axis";
          }if (aB[aD]) {
            aH = aB[aD].from;aG = aB[aD].to;break;
          }
        }
      }if (!aB[aD]) {
        aE = aI == "x" ? p[0] : aw[0];aH = aB[aI + "1"];aG = aB[aI + "2"];
      }if (aH != null && aG != null && aH > aG) {
        var aC = aH;aH = aG;aG = aC;
      }return { from: aH, to: aG, axis: aE };
    }function N() {
      H.save();H.translate(q.left, q.top);H.fillStyle = am(O.grid.backgroundColor, w, 0, "rgba(255, 255, 255, 0)");H.fillRect(0, 0, h, w);H.restore();
    }function ac() {
      var aF;H.save();H.translate(q.left, q.top);var aH = O.grid.markings;if (aH) {
        if (c.isFunction(aH)) {
          var aK = aq.getAxes();aK.xmin = aK.xaxis.min;aK.xmax = aK.xaxis.max;aK.ymin = aK.yaxis.min;aK.ymax = aK.yaxis.max;aH = aH(aK);
        }for (aF = 0; aF < aH.length; ++aF) {
          var aD = aH[aF],
              aC = D(aD, "x"),
              aI = D(aD, "y");if (aC.from == null) {
            aC.from = aC.axis.min;
          }if (aC.to == null) {
            aC.to = aC.axis.max;
          }if (aI.from == null) {
            aI.from = aI.axis.min;
          }if (aI.to == null) {
            aI.to = aI.axis.max;
          }if (aC.to < aC.axis.min || aC.from > aC.axis.max || aI.to < aI.axis.min || aI.from > aI.axis.max) {
            continue;
          }aC.from = Math.max(aC.from, aC.axis.min);aC.to = Math.min(aC.to, aC.axis.max);aI.from = Math.max(aI.from, aI.axis.min);aI.to = Math.min(aI.to, aI.axis.max);if (aC.from == aC.to && aI.from == aI.to) {
            continue;
          }aC.from = aC.axis.p2c(aC.from);aC.to = aC.axis.p2c(aC.to);aI.from = aI.axis.p2c(aI.from);aI.to = aI.axis.p2c(aI.to);if (aC.from == aC.to || aI.from == aI.to) {
            H.beginPath();H.strokeStyle = aD.color || O.grid.markingsColor;H.lineWidth = aD.lineWidth || O.grid.markingsLineWidth;H.moveTo(aC.from, aI.from);H.lineTo(aC.to, aI.to);H.stroke();
          } else {
            H.fillStyle = aD.color || O.grid.markingsColor;H.fillRect(aC.from, aI.to, aC.to - aC.from, aI.from - aI.to);
          }
        }
      }var aK = m(),
          aM = O.grid.borderWidth;for (var aE = 0; aE < aK.length; ++aE) {
        var aB = aK[aE],
            aG = aB.box,
            aQ = aB.tickLength,
            aN,
            aL,
            aP,
            aJ;if (!aB.show || aB.ticks.length == 0) {
          continue;
        }H.strokeStyle = aB.options.tickColor || c.color.parse(aB.options.color).scale("a", 0.22).toString();H.lineWidth = 1;if (aB.direction == "x") {
          aN = 0;if (aQ == "full") {
            aL = aB.position == "top" ? 0 : w;
          } else {
            aL = aG.top - q.top + (aB.position == "top" ? aG.height : 0);
          }
        } else {
          aL = 0;if (aQ == "full") {
            aN = aB.position == "left" ? 0 : h;
          } else {
            aN = aG.left - q.left + (aB.position == "left" ? aG.width : 0);
          }
        }if (!aB.innermost) {
          H.beginPath();aP = aJ = 0;if (aB.direction == "x") {
            aP = h;
          } else {
            aJ = w;
          }if (H.lineWidth == 1) {
            aN = Math.floor(aN) + 0.5;aL = Math.floor(aL) + 0.5;
          }H.moveTo(aN, aL);H.lineTo(aN + aP, aL + aJ);H.stroke();
        }H.beginPath();for (aF = 0; aF < aB.ticks.length; ++aF) {
          var aO = aB.ticks[aF].v;aP = aJ = 0;if (aO < aB.min || aO > aB.max || aQ == "full" && aM > 0 && (aO == aB.min || aO == aB.max)) {
            continue;
          }if (aB.direction == "x") {
            aN = aB.p2c(aO);aJ = aQ == "full" ? -w : aQ;if (aB.position == "top") {
              aJ = -aJ;
            }
          } else {
            aL = aB.p2c(aO);aP = aQ == "full" ? -h : aQ;if (aB.position == "left") {
              aP = -aP;
            }
          }if (H.lineWidth == 1) {
            if (aB.direction == "x") {
              aN = Math.floor(aN) + 0.5;
            } else {
              aL = Math.floor(aL) + 0.5;
            }
          }H.moveTo(aN, aL);H.lineTo(aN + aP, aL + aJ);
        }H.stroke();
      }if (aM) {
        H.lineWidth = aM;H.strokeStyle = O.grid.borderColor;H.strokeRect(-aM / 2, -aM / 2, h + aM, w + aM);
      }H.restore();
    }function k() {
      av.find(".tickLabels").remove();var aG = ['<div class="tickLabels" style="font-size:smaller">'];var aJ = m();for (var aD = 0; aD < aJ.length; ++aD) {
        var aC = aJ[aD],
            aF = aC.box;if (!aC.show) {
          continue;
        }aG.push('<div class="' + aC.direction + "Axis " + aC.direction + aC.n + 'Axis" style="color:' + aC.options.color + '">');for (var aE = 0; aE < aC.ticks.length; ++aE) {
          var aH = aC.ticks[aE];if (!aH.label || aH.v < aC.min || aH.v > aC.max) {
            continue;
          }var aK = {},
              aI;if (aC.direction == "x") {
            aI = "center";aK.left = Math.round(q.left + aC.p2c(aH.v) - aC.labelWidth / 2);if (aC.position == "bottom") {
              aK.top = aF.top + aF.padding;
            } else {
              aK.bottom = I - (aF.top + aF.height - aF.padding);
            }
          } else {
            aK.top = Math.round(q.top + aC.p2c(aH.v) - aC.labelHeight / 2);if (aC.position == "left") {
              aK.right = G - (aF.left + aF.width - aF.padding);aI = "right";
            } else {
              aK.left = aF.left + aF.padding;aI = "left";
            }
          }aK.width = aC.labelWidth;var aB = ["position:absolute", "text-align:" + aI];for (var aL in aK) {
            aB.push(aL + ":" + aK[aL] + "px");
          }aG.push('<div class="tickLabel" style="' + aB.join(";") + '">' + aH.label + "</div>");
        }aG.push("</div>");
      }aG.push("</div>");av.append(aG.join(""));
    }function d(aB) {
      if (aB.lines.show) {
        at(aB);
      }if (aB.bars.show) {
        e(aB);
      }if (aB.points.show) {
        ao(aB);
      }
    }function at(aE) {
      function aD(aP, aQ, aI, aU, aT) {
        var aV = aP.points,
            aJ = aP.pointsize,
            aN = null,
            aM = null;H.beginPath();for (var aO = aJ; aO < aV.length; aO += aJ) {
          var aL = aV[aO - aJ],
              aS = aV[aO - aJ + 1],
              aK = aV[aO],
              aR = aV[aO + 1];if (aL == null || aK == null) {
            continue;
          }if (aS <= aR && aS < aT.min) {
            if (aR < aT.min) {
              continue;
            }aL = (aT.min - aS) / (aR - aS) * (aK - aL) + aL;aS = aT.min;
          } else {
            if (aR <= aS && aR < aT.min) {
              if (aS < aT.min) {
                continue;
              }aK = (aT.min - aS) / (aR - aS) * (aK - aL) + aL;aR = aT.min;
            }
          }if (aS >= aR && aS > aT.max) {
            if (aR > aT.max) {
              continue;
            }aL = (aT.max - aS) / (aR - aS) * (aK - aL) + aL;aS = aT.max;
          } else {
            if (aR >= aS && aR > aT.max) {
              if (aS > aT.max) {
                continue;
              }aK = (aT.max - aS) / (aR - aS) * (aK - aL) + aL;aR = aT.max;
            }
          }if (aL <= aK && aL < aU.min) {
            if (aK < aU.min) {
              continue;
            }aS = (aU.min - aL) / (aK - aL) * (aR - aS) + aS;aL = aU.min;
          } else {
            if (aK <= aL && aK < aU.min) {
              if (aL < aU.min) {
                continue;
              }aR = (aU.min - aL) / (aK - aL) * (aR - aS) + aS;aK = aU.min;
            }
          }if (aL >= aK && aL > aU.max) {
            if (aK > aU.max) {
              continue;
            }aS = (aU.max - aL) / (aK - aL) * (aR - aS) + aS;aL = aU.max;
          } else {
            if (aK >= aL && aK > aU.max) {
              if (aL > aU.max) {
                continue;
              }aR = (aU.max - aL) / (aK - aL) * (aR - aS) + aS;aK = aU.max;
            }
          }if (aL != aN || aS != aM) {
            H.moveTo(aU.p2c(aL) + aQ, aT.p2c(aS) + aI);
          }aN = aK;aM = aR;H.lineTo(aU.p2c(aK) + aQ, aT.p2c(aR) + aI);
        }H.stroke();
      }function aF(aI, aQ, aP) {
        var aW = aI.points,
            aV = aI.pointsize,
            aN = Math.min(Math.max(0, aP.min), aP.max),
            aX = 0,
            aU,
            aT = false,
            aM = 1,
            aL = 0,
            aR = 0;while (true) {
          if (aV > 0 && aX > aW.length + aV) {
            break;
          }aX += aV;var aZ = aW[aX - aV],
              aK = aW[aX - aV + aM],
              aY = aW[aX],
              aJ = aW[aX + aM];if (aT) {
            if (aV > 0 && aZ != null && aY == null) {
              aR = aX;aV = -aV;aM = 2;continue;
            }if (aV < 0 && aX == aL + aV) {
              H.fill();aT = false;aV = -aV;aM = 1;aX = aL = aR + aV;continue;
            }
          }if (aZ == null || aY == null) {
            continue;
          }if (aZ <= aY && aZ < aQ.min) {
            if (aY < aQ.min) {
              continue;
            }aK = (aQ.min - aZ) / (aY - aZ) * (aJ - aK) + aK;aZ = aQ.min;
          } else {
            if (aY <= aZ && aY < aQ.min) {
              if (aZ < aQ.min) {
                continue;
              }aJ = (aQ.min - aZ) / (aY - aZ) * (aJ - aK) + aK;aY = aQ.min;
            }
          }if (aZ >= aY && aZ > aQ.max) {
            if (aY > aQ.max) {
              continue;
            }aK = (aQ.max - aZ) / (aY - aZ) * (aJ - aK) + aK;aZ = aQ.max;
          } else {
            if (aY >= aZ && aY > aQ.max) {
              if (aZ > aQ.max) {
                continue;
              }aJ = (aQ.max - aZ) / (aY - aZ) * (aJ - aK) + aK;aY = aQ.max;
            }
          }if (!aT) {
            H.beginPath();H.moveTo(aQ.p2c(aZ), aP.p2c(aN));aT = true;
          }if (aK >= aP.max && aJ >= aP.max) {
            H.lineTo(aQ.p2c(aZ), aP.p2c(aP.max));H.lineTo(aQ.p2c(aY), aP.p2c(aP.max));continue;
          } else {
            if (aK <= aP.min && aJ <= aP.min) {
              H.lineTo(aQ.p2c(aZ), aP.p2c(aP.min));H.lineTo(aQ.p2c(aY), aP.p2c(aP.min));continue;
            }
          }var aO = aZ,
              aS = aY;if (aK <= aJ && aK < aP.min && aJ >= aP.min) {
            aZ = (aP.min - aK) / (aJ - aK) * (aY - aZ) + aZ;aK = aP.min;
          } else {
            if (aJ <= aK && aJ < aP.min && aK >= aP.min) {
              aY = (aP.min - aK) / (aJ - aK) * (aY - aZ) + aZ;aJ = aP.min;
            }
          }if (aK >= aJ && aK > aP.max && aJ <= aP.max) {
            aZ = (aP.max - aK) / (aJ - aK) * (aY - aZ) + aZ;aK = aP.max;
          } else {
            if (aJ >= aK && aJ > aP.max && aK <= aP.max) {
              aY = (aP.max - aK) / (aJ - aK) * (aY - aZ) + aZ;aJ = aP.max;
            }
          }if (aZ != aO) {
            H.lineTo(aQ.p2c(aO), aP.p2c(aK));
          }H.lineTo(aQ.p2c(aZ), aP.p2c(aK));H.lineTo(aQ.p2c(aY), aP.p2c(aJ));if (aY != aS) {
            H.lineTo(aQ.p2c(aY), aP.p2c(aJ));H.lineTo(aQ.p2c(aS), aP.p2c(aJ));
          }
        }
      }H.save();H.translate(q.left, q.top);H.lineJoin = "round";var aG = aE.lines.lineWidth,
          aB = aE.shadowSize;if (aG > 0 && aB > 0) {
        H.lineWidth = aB;H.strokeStyle = "rgba(0,0,0,0.1)";var aH = Math.PI / 18;aD(aE.datapoints, Math.sin(aH) * (aG / 2 + aB / 2), Math.cos(aH) * (aG / 2 + aB / 2), aE.xaxis, aE.yaxis);H.lineWidth = aB / 2;aD(aE.datapoints, Math.sin(aH) * (aG / 2 + aB / 4), Math.cos(aH) * (aG / 2 + aB / 4), aE.xaxis, aE.yaxis);
      }H.lineWidth = aG;H.strokeStyle = aE.color;var aC = ae(aE.lines, aE.color, 0, w);if (aC) {
        H.fillStyle = aC;aF(aE.datapoints, aE.xaxis, aE.yaxis);
      }if (aG > 0) {
        aD(aE.datapoints, 0, 0, aE.xaxis, aE.yaxis);
      }H.restore();
    }function ao(aE) {
      function aH(aN, aM, aU, aK, aS, aT, aQ, aJ) {
        var aR = aN.points,
            aI = aN.pointsize;for (var aL = 0; aL < aR.length; aL += aI) {
          var aP = aR[aL],
              aO = aR[aL + 1];if (aP == null || aP < aT.min || aP > aT.max || aO < aQ.min || aO > aQ.max) {
            continue;
          }H.beginPath();aP = aT.p2c(aP);aO = aQ.p2c(aO) + aK;if (aJ == "circle") {
            H.arc(aP, aO, aM, 0, aS ? Math.PI : Math.PI * 2, false);
          } else {
            aJ(H, aP, aO, aM, aS);
          }H.closePath();if (aU) {
            H.fillStyle = aU;H.fill();
          }H.stroke();
        }
      }H.save();H.translate(q.left, q.top);var aG = aE.points.lineWidth,
          aC = aE.shadowSize,
          aB = aE.points.radius,
          aF = aE.points.symbol;if (aG > 0 && aC > 0) {
        var aD = aC / 2;H.lineWidth = aD;H.strokeStyle = "rgba(0,0,0,0.1)";aH(aE.datapoints, aB, null, aD + aD / 2, true, aE.xaxis, aE.yaxis, aF);H.strokeStyle = "rgba(0,0,0,0.2)";aH(aE.datapoints, aB, null, aD / 2, true, aE.xaxis, aE.yaxis, aF);
      }H.lineWidth = aG;H.strokeStyle = aE.color;aH(aE.datapoints, aB, ae(aE.points, aE.color), 0, false, aE.xaxis, aE.yaxis, aF);H.restore();
    }function E(aN, aM, aV, aI, aQ, aF, aD, aL, aK, aU, aR, aC) {
      var aE, aT, aJ, aP, aG, aB, aO, aH, aS;if (aR) {
        aH = aB = aO = true;aG = false;aE = aV;aT = aN;aP = aM + aI;aJ = aM + aQ;if (aT < aE) {
          aS = aT;aT = aE;aE = aS;aG = true;aB = false;
        }
      } else {
        aG = aB = aO = true;aH = false;aE = aN + aI;aT = aN + aQ;aJ = aV;aP = aM;if (aP < aJ) {
          aS = aP;aP = aJ;aJ = aS;aH = true;aO = false;
        }
      }if (aT < aL.min || aE > aL.max || aP < aK.min || aJ > aK.max) {
        return;
      }if (aE < aL.min) {
        aE = aL.min;aG = false;
      }if (aT > aL.max) {
        aT = aL.max;aB = false;
      }if (aJ < aK.min) {
        aJ = aK.min;aH = false;
      }if (aP > aK.max) {
        aP = aK.max;aO = false;
      }aE = aL.p2c(aE);aJ = aK.p2c(aJ);aT = aL.p2c(aT);aP = aK.p2c(aP);if (aD) {
        aU.beginPath();aU.moveTo(aE, aJ);aU.lineTo(aE, aP);aU.lineTo(aT, aP);aU.lineTo(aT, aJ);aU.fillStyle = aD(aJ, aP);aU.fill();
      }if (aC > 0 && (aG || aB || aO || aH)) {
        aU.beginPath();aU.moveTo(aE, aJ + aF);if (aG) {
          aU.lineTo(aE, aP + aF);
        } else {
          aU.moveTo(aE, aP + aF);
        }if (aO) {
          aU.lineTo(aT, aP + aF);
        } else {
          aU.moveTo(aT, aP + aF);
        }if (aB) {
          aU.lineTo(aT, aJ + aF);
        } else {
          aU.moveTo(aT, aJ + aF);
        }if (aH) {
          aU.lineTo(aE, aJ + aF);
        } else {
          aU.moveTo(aE, aJ + aF);
        }aU.stroke();
      }
    }function e(aD) {
      function aC(aJ, aI, aL, aG, aK, aN, aM) {
        var aO = aJ.points,
            aF = aJ.pointsize;for (var aH = 0; aH < aO.length; aH += aF) {
          if (aO[aH] == null) {
            continue;
          }E(aO[aH], aO[aH + 1], aO[aH + 2], aI, aL, aG, aK, aN, aM, H, aD.bars.horizontal, aD.bars.lineWidth);
        }
      }H.save();H.translate(q.left, q.top);H.lineWidth = aD.bars.lineWidth;H.strokeStyle = aD.color;var aB = aD.bars.align == "left" ? 0 : -aD.bars.barWidth / 2;var aE = aD.bars.fill ? function (aF, aG) {
        return ae(aD.bars, aD.color, aF, aG);
      } : null;aC(aD.datapoints, aB, aB + aD.bars.barWidth, 0, aE, aD.xaxis, aD.yaxis);H.restore();
    }function ae(aD, aB, aC, aF) {
      var aE = aD.fill;if (!aE) {
        return null;
      }if (aD.fillColor) {
        return am(aD.fillColor, aC, aF, aB);
      }var aG = c.color.parse(aB);aG.a = typeof aE == "number" ? aE : 0.4;aG.normalize();return aG.toString();
    }function o() {
      av.find(".legend").remove();if (!O.legend.show) {
        return;
      }var aH = [],
          aF = false,
          aN = O.legend.labelFormatter,
          aM,
          aJ;for (var aE = 0; aE < Q.length; ++aE) {
        aM = Q[aE];aJ = aM.label;if (!aJ) {
          continue;
        }if (aE % O.legend.noColumns == 0) {
          if (aF) {
            aH.push("</tr>");
          }aH.push("<tr>");aF = true;
        }if (aN) {
          aJ = aN(aJ, aM);
        }aH.push('<td class="legendColorBox"><div style="border:1px solid ' + O.legend.labelBoxBorderColor + ';padding:1px"><div style="width:4px;height:0;border:5px solid ' + aM.color + ';overflow:hidden"></div></div></td><td class="legendLabel">' + aJ + "</td>");
      }if (aF) {
        aH.push("</tr>");
      }if (aH.length == 0) {
        return;
      }var aL = '<table style="font-size:smaller;color:' + O.grid.color + '">' + aH.join("") + "</table>";if (O.legend.container != null) {
        c(O.legend.container).html(aL);
      } else {
        var aI = "",
            aC = O.legend.position,
            aD = O.legend.margin;if (aD[0] == null) {
          aD = [aD, aD];
        }if (aC.charAt(0) == "n") {
          aI += "top:" + (aD[1] + q.top) + "px;";
        } else {
          if (aC.charAt(0) == "s") {
            aI += "bottom:" + (aD[1] + q.bottom) + "px;";
          }
        }if (aC.charAt(1) == "e") {
          aI += "right:" + (aD[0] + q.right) + "px;";
        } else {
          if (aC.charAt(1) == "w") {
            aI += "left:" + (aD[0] + q.left) + "px;";
          }
        }var aK = c('<div class="legend">' + aL.replace('style="', 'style="position:absolute;' + aI + ";") + "</div>").appendTo(av);if (O.legend.backgroundOpacity != 0) {
          var aG = O.legend.backgroundColor;if (aG == null) {
            aG = O.grid.backgroundColor;if (aG && typeof aG == "string") {
              aG = c.color.parse(aG);
            } else {
              aG = c.color.extract(aK, "background-color");
            }aG.a = 1;aG = aG.toString();
          }var aB = aK.children();c('<div style="position:absolute;width:' + aB.width() + "px;height:" + aB.height() + "px;" + aI + "background-color:" + aG + ';"> </div>').prependTo(aK).css("opacity", O.legend.backgroundOpacity);
        }
      }
    }var ab = [],
        M = null;function K(aI, aG, aD) {
      var aO = O.grid.mouseActiveRadius,
          a0 = aO * aO + 1,
          aY = null,
          aR = false,
          aW,
          aU;for (aW = Q.length - 1; aW >= 0; --aW) {
        if (!aD(Q[aW])) {
          continue;
        }var aP = Q[aW],
            aH = aP.xaxis,
            aF = aP.yaxis,
            aV = aP.datapoints.points,
            aT = aP.datapoints.pointsize,
            aQ = aH.c2p(aI),
            aN = aF.c2p(aG),
            aC = aO / aH.scale,
            aB = aO / aF.scale;if (aH.options.inverseTransform) {
          aC = Number.MAX_VALUE;
        }if (aF.options.inverseTransform) {
          aB = Number.MAX_VALUE;
        }if (aP.lines.show || aP.points.show) {
          for (aU = 0; aU < aV.length; aU += aT) {
            var aK = aV[aU],
                aJ = aV[aU + 1];if (aK == null) {
              continue;
            }if (aK - aQ > aC || aK - aQ < -aC || aJ - aN > aB || aJ - aN < -aB) {
              continue;
            }var aM = Math.abs(aH.p2c(aK) - aI),
                aL = Math.abs(aF.p2c(aJ) - aG),
                aS = aM * aM + aL * aL;if (aS < a0) {
              a0 = aS;aY = [aW, aU / aT];
            }
          }
        }if (aP.bars.show && !aY) {
          var aE = aP.bars.align == "left" ? 0 : -aP.bars.barWidth / 2,
              aX = aE + aP.bars.barWidth;for (aU = 0; aU < aV.length; aU += aT) {
            var aK = aV[aU],
                aJ = aV[aU + 1],
                aZ = aV[aU + 2];if (aK == null) {
              continue;
            }if (Q[aW].bars.horizontal ? aQ <= Math.max(aZ, aK) && aQ >= Math.min(aZ, aK) && aN >= aJ + aE && aN <= aJ + aX : aQ >= aK + aE && aQ <= aK + aX && aN >= Math.min(aZ, aJ) && aN <= Math.max(aZ, aJ)) {
              aY = [aW, aU / aT];
            }
          }
        }
      }if (aY) {
        aW = aY[0];aU = aY[1];aT = Q[aW].datapoints.pointsize;return { datapoint: Q[aW].datapoints.points.slice(aU * aT, (aU + 1) * aT), dataIndex: aU, series: Q[aW], seriesIndex: aW };
      }return null;
    }function aa(aB) {
      if (O.grid.hoverable) {
        u("plothover", aB, function (aC) {
          return aC.hoverable != false;
        });
      }
    }function l(aB) {
      if (O.grid.hoverable) {
        u("plothover", aB, function (aC) {
          return false;
        });
      }
    }function R(aB) {
      u("plotclick", aB, function (aC) {
        return aC.clickable != false;
      });
    }function u(aC, aB, aD) {
      var aE = y.offset(),
          aH = aB.pageX - aE.left - q.left,
          aF = aB.pageY - aE.top - q.top,
          aJ = C({ left: aH, top: aF });aJ.pageX = aB.pageX;aJ.pageY = aB.pageY;var aK = K(aH, aF, aD);if (aK) {
        aK.pageX = parseInt(aK.series.xaxis.p2c(aK.datapoint[0]) + aE.left + q.left);aK.pageY = parseInt(aK.series.yaxis.p2c(aK.datapoint[1]) + aE.top + q.top);
      }if (O.grid.autoHighlight) {
        for (var aG = 0; aG < ab.length; ++aG) {
          var aI = ab[aG];if (aI.auto == aC && !(aK && aI.series == aK.series && aI.point[0] == aK.datapoint[0] && aI.point[1] == aK.datapoint[1])) {
            T(aI.series, aI.point);
          }
        }if (aK) {
          x(aK.series, aK.datapoint, aC);
        }
      }av.trigger(aC, [aJ, aK]);
    }function f() {
      if (!M) {
        M = setTimeout(s, 30);
      }
    }function s() {
      M = null;A.save();A.clearRect(0, 0, G, I);A.translate(q.left, q.top);var aC, aB;for (aC = 0; aC < ab.length; ++aC) {
        aB = ab[aC];if (aB.series.bars.show) {
          v(aB.series, aB.point);
        } else {
          ay(aB.series, aB.point);
        }
      }A.restore();an(ak.drawOverlay, [A]);
    }function x(aD, aB, aF) {
      if (typeof aD == "number") {
        aD = Q[aD];
      }if (typeof aB == "number") {
        var aE = aD.datapoints.pointsize;aB = aD.datapoints.points.slice(aE * aB, aE * (aB + 1));
      }var aC = al(aD, aB);if (aC == -1) {
        ab.push({ series: aD, point: aB, auto: aF });f();
      } else {
        if (!aF) {
          ab[aC].auto = false;
        }
      }
    }function T(aD, aB) {
      if (aD == null && aB == null) {
        ab = [];f();
      }if (typeof aD == "number") {
        aD = Q[aD];
      }if (typeof aB == "number") {
        aB = aD.data[aB];
      }var aC = al(aD, aB);if (aC != -1) {
        ab.splice(aC, 1);f();
      }
    }function al(aD, aE) {
      for (var aB = 0; aB < ab.length; ++aB) {
        var aC = ab[aB];if (aC.series == aD && aC.point[0] == aE[0] && aC.point[1] == aE[1]) {
          return aB;
        }
      }return -1;
    }function ay(aE, aD) {
      var aC = aD[0],
          aI = aD[1],
          aH = aE.xaxis,
          aG = aE.yaxis;if (aC < aH.min || aC > aH.max || aI < aG.min || aI > aG.max) {
        return;
      }var aF = aE.points.radius + aE.points.lineWidth / 2;A.lineWidth = aF;A.strokeStyle = c.color.parse(aE.color).scale("a", 0.5).toString();var aB = 1.5 * aF,
          aC = aH.p2c(aC),
          aI = aG.p2c(aI);A.beginPath();if (aE.points.symbol == "circle") {
        A.arc(aC, aI, aB, 0, 2 * Math.PI, false);
      } else {
        aE.points.symbol(A, aC, aI, aB, false);
      }A.closePath();A.stroke();
    }function v(aE, aB) {
      A.lineWidth = aE.bars.lineWidth;A.strokeStyle = c.color.parse(aE.color).scale("a", 0.5).toString();var aD = c.color.parse(aE.color).scale("a", 0.5).toString();var aC = aE.bars.align == "left" ? 0 : -aE.bars.barWidth / 2;E(aB[0], aB[1], aB[2] || 0, aC, aC + aE.bars.barWidth, 0, function () {
        return aD;
      }, aE.xaxis, aE.yaxis, A, aE.bars.horizontal, aE.bars.lineWidth);
    }function am(aJ, aB, aH, aC) {
      if (typeof aJ == "string") {
        return aJ;
      } else {
        var aI = H.createLinearGradient(0, aH, 0, aB);for (var aE = 0, aD = aJ.colors.length; aE < aD; ++aE) {
          var aF = aJ.colors[aE];if (typeof aF != "string") {
            var aG = c.color.parse(aC);if (aF.brightness != null) {
              aG = aG.scale("rgb", aF.brightness);
            }if (aF.opacity != null) {
              aG.a *= aF.opacity;
            }aF = aG.toString();
          }aI.addColorStop(aE / (aD - 1), aF);
        }return aI;
      }
    }
  }c.plot = function (g, e, d) {
    var f = new b(c(g), e, d, c.plot.plugins);return f;
  };c.plot.version = "0.7";c.plot.plugins = [];c.plot.formatDate = function (l, f, h) {
    var o = function o(d) {
      d = "" + d;return d.length == 1 ? "0" + d : d;
    };var e = [];var p = false,
        j = false;var n = l.getUTCHours();var k = n < 12;if (h == null) {
      h = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
    }if (f.search(/%p|%P/) != -1) {
      if (n > 12) {
        n = n - 12;
      } else {
        if (n == 0) {
          n = 12;
        }
      }
    }for (var g = 0; g < f.length; ++g) {
      var m = f.charAt(g);if (p) {
        switch (m) {case "h":
            m = "" + n;break;case "H":
            m = o(n);break;case "M":
            m = o(l.getUTCMinutes());break;case "S":
            m = o(l.getUTCSeconds());break;case "d":
            m = "" + l.getUTCDate();break;case "m":
            m = "" + (l.getUTCMonth() + 1);break;case "y":
            m = "" + l.getUTCFullYear();break;case "b":
            m = "" + h[l.getUTCMonth()];break;case "p":
            m = k ? "am" : "pm";break;case "P":
            m = k ? "AM" : "PM";break;case "0":
            m = "";j = true;break;}if (m && j) {
          m = o(m);j = false;
        }e.push(m);if (!j) {
          p = false;
        }
      } else {
        if (m == "%") {
          p = true;
        } else {
          e.push(m);
        }
      }
    }return e.join("");
  };function a(e, d) {
    return d * Math.floor(e / d);
  }
})(jQuery);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./common/static/js/vendor/html5-input-polyfills/number-polyfill.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {// Generated by CoffeeScript 1.4.0

/*
HTML5 Number polyfill | Jonathan Stipe | https://github.com/jonstipe/number-polyfill
*/

(function () {

  (function ($) {
    var i;
    i = document.createElement("input");
    i.setAttribute("type", "number");
    if (i.type === "text") {
      $.fn.inputNumber = function () {
        var clipValues, decrement, domMouseScrollHandler, extractNumDecimalDigits, getParams, increment, matchStep, mouseWheelHandler;
        getParams = function getParams(elem) {
          var $elem, max, min, step, val;
          $elem = $(elem);
          step = $elem.attr('step');
          min = $elem.attr('min');
          max = $elem.attr('max');
          val = parseFloat($elem.val());
          step = /^-?\d+(?:\.\d+)?$/.test(step) ? parseFloat(step) : null;
          min = /^-?\d+(?:\.\d+)?$/.test(min) ? parseFloat(min) : null;
          max = /^-?\d+(?:\.\d+)?$/.test(max) ? parseFloat(max) : null;
          if (isNaN(val)) {
            val = min || 0;
          }
          return {
            min: min,
            max: max,
            step: step,
            val: val
          };
        };
        clipValues = function clipValues(value, min, max) {
          if (max != null && value > max) {
            return max;
          } else if (min != null && value < min) {
            return min;
          } else {
            return value;
          }
        };
        extractNumDecimalDigits = function extractNumDecimalDigits(input) {
          var num, raisedNum;
          if (input != null) {
            num = 0;
            raisedNum = input;
            while (raisedNum !== Math.round(raisedNum)) {
              num += 1;
              raisedNum = input * Math.pow(10, num);
            }
            return num;
          } else {
            return 0;
          }
        };
        matchStep = function matchStep(value, min, max, step) {
          var mod, raiseTo, raisedMod, raisedStep, raisedStepDown, raisedStepUp, raisedValue, stepDecimalDigits, stepDown, stepUp;
          stepDecimalDigits = extractNumDecimalDigits(step);
          if (step == null) {
            return value;
          } else if (stepDecimalDigits === 0) {
            mod = (value - (min || 0)) % step;
            if (mod === 0) {
              return value;
            } else {
              stepDown = value - mod;
              stepUp = stepDown + step;
              if (stepUp > max || value - stepDown < stepUp - value) {
                return stepDown;
              } else {
                return stepUp;
              }
            }
          } else {
            raiseTo = Math.pow(10, stepDecimalDigits);
            raisedStep = step * raiseTo;
            raisedMod = (value - (min || 0)) * raiseTo % raisedStep;
            if (raisedMod === 0) {
              return value;
            } else {
              raisedValue = value * raiseTo;
              raisedStepDown = raisedValue - raisedMod;
              raisedStepUp = raisedStepDown + raisedStep;
              if (raisedStepUp / raiseTo > max || raisedValue - raisedStepDown < raisedStepUp - raisedValue) {
                return raisedStepDown / raiseTo;
              } else {
                return raisedStepUp / raiseTo;
              }
            }
          }
        };
        increment = function increment(elem) {
          var newVal, params, raiseTo;
          if (!$(elem).is(":disabled")) {
            params = getParams(elem);
            raiseTo = Math.pow(10, Math.max(extractNumDecimalDigits(params['val']), extractNumDecimalDigits(params['step'])));
            newVal = (Math.round(params['val'] * raiseTo) + Math.round((params['step'] || 1) * raiseTo)) / raiseTo;
            if (params['max'] != null && newVal > params['max']) {
              newVal = params['max'];
            }
            newVal = matchStep(newVal, params['min'], params['max'], params['step']);
            $(elem).val(newVal).change();
          }
          return null;
        };
        decrement = function decrement(elem) {
          var newVal, params, raiseTo;
          if (!$(elem).is(":disabled")) {
            params = getParams(elem);
            raiseTo = Math.pow(10, Math.max(extractNumDecimalDigits(params['val']), extractNumDecimalDigits(params['step'])));
            newVal = (Math.round(params['val'] * raiseTo) - Math.round((params['step'] || 1) * raiseTo)) / raiseTo;
            if (params['min'] != null && newVal < params['min']) {
              newVal = params['min'];
            }
            newVal = matchStep(newVal, params['min'], params['max'], params['step']);
            $(elem).val(newVal).change();
          }
          return null;
        };
        domMouseScrollHandler = function domMouseScrollHandler(e) {
          e.preventDefault();
          if (e.originalEvent.detail < 0) {
            increment(this);
          } else {
            decrement(this);
          }
          return null;
        };
        mouseWheelHandler = function mouseWheelHandler(e) {
          e.preventDefault();
          if (e.originalEvent.wheelDelta > 0) {
            increment(this);
          } else {
            decrement(this);
          }
          return null;
        };
        $(this).filter('input[type="number"]').each(function () {
          var $downBtn, $elem, $upBtn, attrMutationCallback, attrObserver, btnContainer, downBtn, elem, halfHeight, upBtn;
          elem = this;
          $elem = $(elem);
          halfHeight = $elem.outerHeight() / 6 + 'px';
          upBtn = document.createElement('div');
          downBtn = document.createElement('div');
          $upBtn = $(upBtn);
          $downBtn = $(downBtn);
          btnContainer = document.createElement('div');
          $upBtn.addClass('number-spin-btn number-spin-btn-up').css('height', halfHeight);
          $downBtn.addClass('number-spin-btn number-spin-btn-down').css('height', halfHeight);
          btnContainer.appendChild(upBtn);
          btnContainer.appendChild(downBtn);
          $(btnContainer).addClass('number-spin-btn-container').insertAfter(elem);
          $elem.on({
            focus: function focus(e) {
              $elem.on({
                DOMMouseScroll: domMouseScrollHandler,
                mousewheel: mouseWheelHandler
              });
              return null;
            },
            blur: function blur(e) {
              $elem.off({
                DOMMouseScroll: domMouseScrollHandler,
                mousewheel: mouseWheelHandler
              });
              return null;
            },
            keypress: function keypress(e) {
              var _ref, _ref1;
              if (e.keyCode === 38) {
                increment(this);
              } else if (e.keyCode === 40) {
                decrement(this);
              } else if ((_ref = e.keyCode) !== 8 && _ref !== 9 && _ref !== 35 && _ref !== 36 && _ref !== 37 && _ref !== 39 && (_ref1 = e.which) !== 45 && _ref1 !== 46 && _ref1 !== 48 && _ref1 !== 49 && _ref1 !== 50 && _ref1 !== 51 && _ref1 !== 52 && _ref1 !== 53 && _ref1 !== 54 && _ref1 !== 55 && _ref1 !== 56 && _ref1 !== 57) {
                e.preventDefault();
              }
              return null;
            },
            change: function change(e) {
              var newVal, params;
              if (e.originalEvent != null) {
                params = getParams(this);
                newVal = clipValues(params['val'], params['min'], params['max']);
                newVal = matchStep(newVal, params['min'], params['max'], params['step'], params['stepDecimal']);
                $(this).val(newVal);
              }
              return null;
            }
          });
          $upBtn.on("mousedown", function (e) {
            var _releaseFunc, _timeoutFunc;
            increment(elem);
            _timeoutFunc = function timeoutFunc(elem, incFunc) {
              incFunc(elem);
              $elem.data("timeoutID", window.setTimeout(_timeoutFunc, 10, elem, incFunc));
              return null;
            };
            _releaseFunc = function releaseFunc(e) {
              window.clearTimeout($elem.data("timeoutID"));
              $(document).off('mouseup', _releaseFunc);
              $upBtn.off('mouseleave', _releaseFunc);
              return null;
            };
            $(document).on('mouseup', _releaseFunc);
            $upBtn.on('mouseleave', _releaseFunc);
            $elem.data("timeoutID", window.setTimeout(_timeoutFunc, 700, elem, increment));
            return null;
          });
          $downBtn.on("mousedown", function (e) {
            var _releaseFunc2, _timeoutFunc2;
            decrement(elem);
            _timeoutFunc2 = function timeoutFunc(elem, decFunc) {
              decFunc(elem);
              $elem.data("timeoutID", window.setTimeout(_timeoutFunc2, 10, elem, decFunc));
              return null;
            };
            _releaseFunc2 = function releaseFunc(e) {
              window.clearTimeout($elem.data("timeoutID"));
              $(document).off('mouseup', _releaseFunc2);
              $downBtn.off('mouseleave', _releaseFunc2);
              return null;
            };
            $(document).on('mouseup', _releaseFunc2);
            $downBtn.on('mouseleave', _releaseFunc2);
            $elem.data("timeoutID", window.setTimeout(_timeoutFunc2, 700, elem, decrement));
            return null;
          });
          $elem.css("textAlign", 'left');
          if ($elem.css("opacity") !== "1") {
            $(btnContainer).css("opacity", $elem.css("opacity"));
          }
          if ($elem.css("visibility") !== "visible") {
            $(btnContainer).css("visibility", $elem.css("visibility"));
          }
          if (elem.style.display !== "") {
            $(btnContainer).css("display", $elem.css("display"));
          }
          if (typeof WebKitMutationObserver !== "undefined" && WebKitMutationObserver !== null || typeof MutationObserver !== "undefined" && MutationObserver !== null) {
            attrMutationCallback = function attrMutationCallback(mutations, observer) {
              var mutation, _i, _len;
              for (_i = 0, _len = mutations.length; _i < _len; _i++) {
                mutation = mutations[_i];
                if (mutation.type === "attributes") {
                  if (mutation.attributeName === "class") {
                    $(btnContainer).removeClass(mutation.oldValue).addClass(elem.className);
                  } else if (mutation.attributeName === "style") {
                    $(btnContainer).css({
                      "opacity": elem.style.opacity,
                      "visibility": elem.style.visibility,
                      "display": elem.style.display
                    });
                  }
                }
              }
              return null;
            };
            attrObserver = typeof WebKitMutationObserver !== "undefined" && WebKitMutationObserver !== null ? new WebKitMutationObserver(attrMutationCallback) : typeof MutationObserver !== "undefined" && MutationObserver !== null ? new MutationObserver(attrMutationCallback) : null;
            attrObserver.observe(elem, {
              attributes: true,
              attributeOldValue: true,
              attributeFilter: ["class", "style"]
            });
          } else if (typeof MutationEvent !== "undefined" && MutationEvent !== null) {
            $elem.on("DOMAttrModified", function (evt) {
              if (evt.originalEvent.attrName === "class") {
                $(btnContainer).removeClass(evt.originalEvent.prevValue).addClass(evt.originalEvent.newValue);
              } else if (evt.originalEvent.attrName === "style") {
                $(btnContainer).css({
                  "display": elem.style.display,
                  "visibility": elem.style.visibility,
                  "opacity": elem.style.opacity
                });
              }
              return null;
            });
          }
          return null;
        });
        return $(this);
      };
      $(function () {
        $('input[type="number"]').inputNumber();
        return null;
      });
      null;
    } else {
      $.fn.inputNumber = function () {
        return $(this);
      };
      null;
    }
    return null;
  })(jQuery);
}).call(this);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./common/static/js/vendor/jquery-ui.min.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/*! jQuery UI - v1.10.0 - 2013-01-23
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright (c) 2013 jQuery Foundation and other contributors Licensed MIT */

(function (e, t) {
  function i(t, n) {
    var r,
        i,
        o,
        u = t.nodeName.toLowerCase();return "area" === u ? (r = t.parentNode, i = r.name, !t.href || !i || r.nodeName.toLowerCase() !== "map" ? !1 : (o = e("img[usemap=#" + i + "]")[0], !!o && s(o))) : (/input|select|textarea|button|object/.test(u) ? !t.disabled : "a" === u ? t.href || n : n) && s(t);
  }function s(t) {
    return e.expr.filters.visible(t) && !e(t).parents().addBack().filter(function () {
      return e.css(this, "visibility") === "hidden";
    }).length;
  }var n = 0,
      r = /^ui-id-\d+$/;e.ui = e.ui || {};if (e.ui.version) return;e.extend(e.ui, { version: "1.10.0", keyCode: { BACKSPACE: 8, COMMA: 188, DELETE: 46, DOWN: 40, END: 35, ENTER: 13, ESCAPE: 27, HOME: 36, LEFT: 37, NUMPAD_ADD: 107, NUMPAD_DECIMAL: 110, NUMPAD_DIVIDE: 111, NUMPAD_ENTER: 108, NUMPAD_MULTIPLY: 106, NUMPAD_SUBTRACT: 109, PAGE_DOWN: 34, PAGE_UP: 33, PERIOD: 190, RIGHT: 39, SPACE: 32, TAB: 9, UP: 38 } }), e.fn.extend({ _focus: e.fn.focus, focus: function focus(t, n) {
      return typeof t == "number" ? this.each(function () {
        var r = this;setTimeout(function () {
          e(r).focus(), n && n.call(r);
        }, t);
      }) : this._focus.apply(this, arguments);
    }, scrollParent: function scrollParent() {
      var t;return e.ui.ie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? t = this.parents().filter(function () {
        return (/(relative|absolute|fixed)/.test(e.css(this, "position")) && /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x"))
        );
      }).eq(0) : t = this.parents().filter(function () {
        return (/(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x"))
        );
      }).eq(0), /fixed/.test(this.css("position")) || !t.length ? e(document) : t;
    }, zIndex: function zIndex(n) {
      if (n !== t) return this.css("zIndex", n);if (this.length) {
        var r = e(this[0]),
            i,
            s;while (r.length && r[0] !== document) {
          i = r.css("position");if (i === "absolute" || i === "relative" || i === "fixed") {
            s = parseInt(r.css("zIndex"), 10);if (!isNaN(s) && s !== 0) return s;
          }r = r.parent();
        }
      }return 0;
    }, uniqueId: function uniqueId() {
      return this.each(function () {
        this.id || (this.id = "ui-id-" + ++n);
      });
    }, removeUniqueId: function removeUniqueId() {
      return this.each(function () {
        r.test(this.id) && e(this).removeAttr("id");
      });
    } }), e.extend(e.expr[":"], { data: e.expr.createPseudo ? e.expr.createPseudo(function (t) {
      return function (n) {
        return !!e.data(n, t);
      };
    }) : function (t, n, r) {
      return !!e.data(t, r[3]);
    }, focusable: function focusable(t) {
      return i(t, !isNaN(e.attr(t, "tabindex")));
    }, tabbable: function tabbable(t) {
      var n = e.attr(t, "tabindex"),
          r = isNaN(n);return (r || n >= 0) && i(t, !r);
    } }), e("<a>").outerWidth(1).jquery || e.each(["Width", "Height"], function (n, r) {
    function u(t, n, r, s) {
      return e.each(i, function () {
        n -= parseFloat(e.css(t, "padding" + this)) || 0, r && (n -= parseFloat(e.css(t, "border" + this + "Width")) || 0), s && (n -= parseFloat(e.css(t, "margin" + this)) || 0);
      }), n;
    }var i = r === "Width" ? ["Left", "Right"] : ["Top", "Bottom"],
        s = r.toLowerCase(),
        o = { innerWidth: e.fn.innerWidth, innerHeight: e.fn.innerHeight, outerWidth: e.fn.outerWidth, outerHeight: e.fn.outerHeight };e.fn["inner" + r] = function (n) {
      return n === t ? o["inner" + r].call(this) : this.each(function () {
        e(this).css(s, u(this, n) + "px");
      });
    }, e.fn["outer" + r] = function (t, n) {
      return typeof t != "number" ? o["outer" + r].call(this, t) : this.each(function () {
        e(this).css(s, u(this, t, !0, n) + "px");
      });
    };
  }), e.fn.addBack || (e.fn.addBack = function (e) {
    return this.add(e == null ? this.prevObject : this.prevObject.filter(e));
  }), e("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (e.fn.removeData = function (t) {
    return function (n) {
      return arguments.length ? t.call(this, e.camelCase(n)) : t.call(this);
    };
  }(e.fn.removeData)), e.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()), e.support.selectstart = "onselectstart" in document.createElement("div"), e.fn.extend({ disableSelection: function disableSelection() {
      return this.bind((e.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function (e) {
        e.preventDefault();
      });
    }, enableSelection: function enableSelection() {
      return this.unbind(".ui-disableSelection");
    } }), e.extend(e.ui, { plugin: { add: function add(t, n, r) {
        var i,
            s = e.ui[t].prototype;for (i in r) {
          s.plugins[i] = s.plugins[i] || [], s.plugins[i].push([n, r[i]]);
        }
      }, call: function call(e, t, n) {
        var r,
            i = e.plugins[t];if (!i || !e.element[0].parentNode || e.element[0].parentNode.nodeType === 11) return;for (r = 0; r < i.length; r++) {
          e.options[i[r][0]] && i[r][1].apply(e.element, n);
        }
      } }, hasScroll: function hasScroll(t, n) {
      if (e(t).css("overflow") === "hidden") return !1;var r = n && n === "left" ? "scrollLeft" : "scrollTop",
          i = !1;return t[r] > 0 ? !0 : (t[r] = 1, i = t[r] > 0, t[r] = 0, i);
    } });
})(jQuery);(function (e, t) {
  var n = 0,
      r = Array.prototype.slice,
      i = e.cleanData;e.cleanData = function (t) {
    for (var n = 0, r; (r = t[n]) != null; n++) {
      try {
        e(r).triggerHandler("remove");
      } catch (s) {}
    }i(t);
  }, e.widget = function (t, n, r) {
    var i,
        s,
        o,
        u,
        a = {},
        f = t.split(".")[0];t = t.split(".")[1], i = f + "-" + t, r || (r = n, n = e.Widget), e.expr[":"][i.toLowerCase()] = function (t) {
      return !!e.data(t, i);
    }, e[f] = e[f] || {}, s = e[f][t], o = e[f][t] = function (e, t) {
      if (!this._createWidget) return new o(e, t);arguments.length && this._createWidget(e, t);
    }, e.extend(o, s, { version: r.version, _proto: e.extend({}, r), _childConstructors: [] }), u = new n(), u.options = e.widget.extend({}, u.options), e.each(r, function (t, r) {
      if (!e.isFunction(r)) {
        a[t] = r;return;
      }a[t] = function () {
        var e = function e() {
          return n.prototype[t].apply(this, arguments);
        },
            i = function i(e) {
          return n.prototype[t].apply(this, e);
        };return function () {
          var t = this._super,
              n = this._superApply,
              s;return this._super = e, this._superApply = i, s = r.apply(this, arguments), this._super = t, this._superApply = n, s;
        };
      }();
    }), o.prototype = e.widget.extend(u, { widgetEventPrefix: s ? u.widgetEventPrefix : t }, a, { constructor: o, namespace: f, widgetName: t, widgetFullName: i }), s ? (e.each(s._childConstructors, function (t, n) {
      var r = n.prototype;e.widget(r.namespace + "." + r.widgetName, o, n._proto);
    }), delete s._childConstructors) : n._childConstructors.push(o), e.widget.bridge(t, o);
  }, e.widget.extend = function (n) {
    var i = r.call(arguments, 1),
        s = 0,
        o = i.length,
        u,
        a;for (; s < o; s++) {
      for (u in i[s]) {
        a = i[s][u], i[s].hasOwnProperty(u) && a !== t && (e.isPlainObject(a) ? n[u] = e.isPlainObject(n[u]) ? e.widget.extend({}, n[u], a) : e.widget.extend({}, a) : n[u] = a);
      }
    }return n;
  }, e.widget.bridge = function (n, i) {
    var s = i.prototype.widgetFullName || n;e.fn[n] = function (o) {
      var u = typeof o == "string",
          a = r.call(arguments, 1),
          f = this;return o = !u && a.length ? e.widget.extend.apply(null, [o].concat(a)) : o, u ? this.each(function () {
        var r,
            i = e.data(this, s);if (!i) return e.error("cannot call methods on " + n + " prior to initialization; " + "attempted to call method '" + o + "'");if (!e.isFunction(i[o]) || o.charAt(0) === "_") return e.error("no such method '" + o + "' for " + n + " widget instance");r = i[o].apply(i, a);if (r !== i && r !== t) return f = r && r.jquery ? f.pushStack(r.get()) : r, !1;
      }) : this.each(function () {
        var t = e.data(this, s);t ? t.option(o || {})._init() : e.data(this, s, new i(o, this));
      }), f;
    };
  }, e.Widget = function () {}, e.Widget._childConstructors = [], e.Widget.prototype = { widgetName: "widget", widgetEventPrefix: "", defaultElement: "<div>", options: { disabled: !1, create: null }, _createWidget: function _createWidget(t, r) {
      r = e(r || this.defaultElement || this)[0], this.element = e(r), this.uuid = n++, this.eventNamespace = "." + this.widgetName + this.uuid, this.options = e.widget.extend({}, this.options, this._getCreateOptions(), t), this.bindings = e(), this.hoverable = e(), this.focusable = e(), r !== this && (e.data(r, this.widgetFullName, this), this._on(!0, this.element, { remove: function remove(e) {
          e.target === r && this.destroy();
        } }), this.document = e(r.style ? r.ownerDocument : r.document || r), this.window = e(this.document[0].defaultView || this.document[0].parentWindow)), this._create(), this._trigger("create", null, this._getCreateEventData()), this._init();
    }, _getCreateOptions: e.noop, _getCreateEventData: e.noop, _create: e.noop, _init: e.noop, destroy: function destroy() {
      this._destroy(), this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)), this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled " + "ui-state-disabled"), this.bindings.unbind(this.eventNamespace), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus");
    }, _destroy: e.noop, widget: function widget() {
      return this.element;
    }, option: function option(n, r) {
      var i = n,
          s,
          o,
          u;if (arguments.length === 0) return e.widget.extend({}, this.options);if (typeof n == "string") {
        i = {}, s = n.split("."), n = s.shift();if (s.length) {
          o = i[n] = e.widget.extend({}, this.options[n]);for (u = 0; u < s.length - 1; u++) {
            o[s[u]] = o[s[u]] || {}, o = o[s[u]];
          }n = s.pop();if (r === t) return o[n] === t ? null : o[n];o[n] = r;
        } else {
          if (r === t) return this.options[n] === t ? null : this.options[n];i[n] = r;
        }
      }return this._setOptions(i), this;
    }, _setOptions: function _setOptions(e) {
      var t;for (t in e) {
        this._setOption(t, e[t]);
      }return this;
    }, _setOption: function _setOption(e, t) {
      return this.options[e] = t, e === "disabled" && (this.widget().toggleClass(this.widgetFullName + "-disabled ui-state-disabled", !!t).attr("aria-disabled", t), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")), this;
    }, enable: function enable() {
      return this._setOption("disabled", !1);
    }, disable: function disable() {
      return this._setOption("disabled", !0);
    }, _on: function _on(t, n, r) {
      var i,
          s = this;typeof t != "boolean" && (r = n, n = t, t = !1), r ? (n = i = e(n), this.bindings = this.bindings.add(n)) : (r = n, n = this.element, i = this.widget()), e.each(r, function (r, o) {
        function u() {
          if (!t && (s.options.disabled === !0 || e(this).hasClass("ui-state-disabled"))) return;return (typeof o == "string" ? s[o] : o).apply(s, arguments);
        }typeof o != "string" && (u.guid = o.guid = o.guid || u.guid || e.guid++);var a = r.match(/^(\w+)\s*(.*)$/),
            f = a[1] + s.eventNamespace,
            l = a[2];l ? i.delegate(l, f, u) : n.bind(f, u);
      });
    }, _off: function _off(e, t) {
      t = (t || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, e.unbind(t).undelegate(t);
    }, _delay: function _delay(e, t) {
      function n() {
        return (typeof e == "string" ? r[e] : e).apply(r, arguments);
      }var r = this;return setTimeout(n, t || 0);
    }, _hoverable: function _hoverable(t) {
      this.hoverable = this.hoverable.add(t), this._on(t, { mouseenter: function mouseenter(t) {
          e(t.currentTarget).addClass("ui-state-hover");
        }, mouseleave: function mouseleave(t) {
          e(t.currentTarget).removeClass("ui-state-hover");
        } });
    }, _focusable: function _focusable(t) {
      this.focusable = this.focusable.add(t), this._on(t, { focusin: function focusin(t) {
          e(t.currentTarget).addClass("ui-state-focus");
        }, focusout: function focusout(t) {
          e(t.currentTarget).removeClass("ui-state-focus");
        } });
    }, _trigger: function _trigger(t, n, r) {
      var i,
          s,
          o = this.options[t];r = r || {}, n = e.Event(n), n.type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(), n.target = this.element[0], s = n.originalEvent;if (s) for (i in s) {
        i in n || (n[i] = s[i]);
      }return this.element.trigger(n, r), !(e.isFunction(o) && o.apply(this.element[0], [n].concat(r)) === !1 || n.isDefaultPrevented());
    } }, e.each({ show: "fadeIn", hide: "fadeOut" }, function (t, n) {
    e.Widget.prototype["_" + t] = function (r, i, s) {
      typeof i == "string" && (i = { effect: i });var o,
          u = i ? i === !0 || typeof i == "number" ? n : i.effect || n : t;i = i || {}, typeof i == "number" && (i = { duration: i }), o = !e.isEmptyObject(i), i.complete = s, i.delay && r.delay(i.delay), o && e.effects && e.effects.effect[u] ? r[t](i) : u !== t && r[u] ? r[u](i.duration, i.easing, s) : r.queue(function (n) {
        e(this)[t](), s && s.call(r[0]), n();
      });
    };
  });
})(jQuery);(function (e, t) {
  var n = !1;e(document).mouseup(function () {
    n = !1;
  }), e.widget("ui.mouse", { version: "1.10.0", options: { cancel: "input,textarea,button,select,option", distance: 1, delay: 0 }, _mouseInit: function _mouseInit() {
      var t = this;this.element.bind("mousedown." + this.widgetName, function (e) {
        return t._mouseDown(e);
      }).bind("click." + this.widgetName, function (n) {
        if (!0 === e.data(n.target, t.widgetName + ".preventClickEvent")) return e.removeData(n.target, t.widgetName + ".preventClickEvent"), n.stopImmediatePropagation(), !1;
      }), this.started = !1;
    }, _mouseDestroy: function _mouseDestroy() {
      this.element.unbind("." + this.widgetName), this._mouseMoveDelegate && e(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate);
    }, _mouseDown: function _mouseDown(t) {
      if (n) return;this._mouseStarted && this._mouseUp(t), this._mouseDownEvent = t;var r = this,
          i = t.which === 1,
          s = typeof this.options.cancel == "string" && t.target.nodeName ? e(t.target).closest(this.options.cancel).length : !1;if (!i || s || !this._mouseCapture(t)) return !0;this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () {
        r.mouseDelayMet = !0;
      }, this.options.delay));if (this._mouseDistanceMet(t) && this._mouseDelayMet(t)) {
        this._mouseStarted = this._mouseStart(t) !== !1;if (!this._mouseStarted) return t.preventDefault(), !0;
      }return !0 === e.data(t.target, this.widgetName + ".preventClickEvent") && e.removeData(t.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function (e) {
        return r._mouseMove(e);
      }, this._mouseUpDelegate = function (e) {
        return r._mouseUp(e);
      }, e(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), t.preventDefault(), n = !0, !0;
    }, _mouseMove: function _mouseMove(t) {
      return e.ui.ie && (!document.documentMode || document.documentMode < 9) && !t.button ? this._mouseUp(t) : this._mouseStarted ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1, this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted);
    }, _mouseUp: function _mouseUp(t) {
      return e(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, t.target === this._mouseDownEvent.target && e.data(t.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(t)), !1;
    }, _mouseDistanceMet: function _mouseDistanceMet(e) {
      return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance;
    }, _mouseDelayMet: function _mouseDelayMet() {
      return this.mouseDelayMet;
    }, _mouseStart: function _mouseStart() {}, _mouseDrag: function _mouseDrag() {}, _mouseStop: function _mouseStop() {}, _mouseCapture: function _mouseCapture() {
      return !0;
    } });
})(jQuery);(function (e, t) {
  function h(e, t, n) {
    return [parseInt(e[0], 10) * (l.test(e[0]) ? t / 100 : 1), parseInt(e[1], 10) * (l.test(e[1]) ? n / 100 : 1)];
  }function p(t, n) {
    return parseInt(e.css(t, n), 10) || 0;
  }function d(t) {
    var n = t[0];return n.nodeType === 9 ? { width: t.width(), height: t.height(), offset: { top: 0, left: 0 } } : e.isWindow(n) ? { width: t.width(), height: t.height(), offset: { top: t.scrollTop(), left: t.scrollLeft() } } : n.preventDefault ? { width: 0, height: 0, offset: { top: n.pageY, left: n.pageX } } : { width: t.outerWidth(), height: t.outerHeight(), offset: t.offset() };
  }e.ui = e.ui || {};var n,
      r = Math.max,
      i = Math.abs,
      s = Math.round,
      o = /left|center|right/,
      u = /top|center|bottom/,
      a = /[\+\-]\d+%?/,
      f = /^\w+/,
      l = /%$/,
      c = e.fn.position;e.position = { scrollbarWidth: function scrollbarWidth() {
      if (n !== t) return n;var r,
          i,
          s = e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
          o = s.children()[0];return e("body").append(s), r = o.offsetWidth, s.css("overflow", "scroll"), i = o.offsetWidth, r === i && (i = s[0].clientWidth), s.remove(), n = r - i;
    }, getScrollInfo: function getScrollInfo(t) {
      var n = t.isWindow ? "" : t.element.css("overflow-x"),
          r = t.isWindow ? "" : t.element.css("overflow-y"),
          i = n === "scroll" || n === "auto" && t.width < t.element[0].scrollWidth,
          s = r === "scroll" || r === "auto" && t.height < t.element[0].scrollHeight;return { width: i ? e.position.scrollbarWidth() : 0, height: s ? e.position.scrollbarWidth() : 0 };
    }, getWithinInfo: function getWithinInfo(t) {
      var n = e(t || window),
          r = e.isWindow(n[0]);return { element: n, isWindow: r, offset: n.offset() || { left: 0, top: 0 }, scrollLeft: n.scrollLeft(), scrollTop: n.scrollTop(), width: r ? n.width() : n.outerWidth(), height: r ? n.height() : n.outerHeight() };
    } }, e.fn.position = function (t) {
    if (!t || !t.of) return c.apply(this, arguments);t = e.extend({}, t);var n,
        l,
        v,
        m,
        g,
        y,
        b = e(t.of),
        w = e.position.getWithinInfo(t.within),
        E = e.position.getScrollInfo(w),
        S = (t.collision || "flip").split(" "),
        x = {};return y = d(b), b[0].preventDefault && (t.at = "left top"), l = y.width, v = y.height, m = y.offset, g = e.extend({}, m), e.each(["my", "at"], function () {
      var e = (t[this] || "").split(" "),
          n,
          r;e.length === 1 && (e = o.test(e[0]) ? e.concat(["center"]) : u.test(e[0]) ? ["center"].concat(e) : ["center", "center"]), e[0] = o.test(e[0]) ? e[0] : "center", e[1] = u.test(e[1]) ? e[1] : "center", n = a.exec(e[0]), r = a.exec(e[1]), x[this] = [n ? n[0] : 0, r ? r[0] : 0], t[this] = [f.exec(e[0])[0], f.exec(e[1])[0]];
    }), S.length === 1 && (S[1] = S[0]), t.at[0] === "right" ? g.left += l : t.at[0] === "center" && (g.left += l / 2), t.at[1] === "bottom" ? g.top += v : t.at[1] === "center" && (g.top += v / 2), n = h(x.at, l, v), g.left += n[0], g.top += n[1], this.each(function () {
      var o,
          u,
          a = e(this),
          f = a.outerWidth(),
          c = a.outerHeight(),
          d = p(this, "marginLeft"),
          y = p(this, "marginTop"),
          T = f + d + p(this, "marginRight") + E.width,
          N = c + y + p(this, "marginBottom") + E.height,
          C = e.extend({}, g),
          k = h(x.my, a.outerWidth(), a.outerHeight());t.my[0] === "right" ? C.left -= f : t.my[0] === "center" && (C.left -= f / 2), t.my[1] === "bottom" ? C.top -= c : t.my[1] === "center" && (C.top -= c / 2), C.left += k[0], C.top += k[1], e.support.offsetFractions || (C.left = s(C.left), C.top = s(C.top)), o = { marginLeft: d, marginTop: y }, e.each(["left", "top"], function (r, i) {
        e.ui.position[S[r]] && e.ui.position[S[r]][i](C, { targetWidth: l, targetHeight: v, elemWidth: f, elemHeight: c, collisionPosition: o, collisionWidth: T, collisionHeight: N, offset: [n[0] + k[0], n[1] + k[1]], my: t.my, at: t.at, within: w, elem: a });
      }), t.using && (u = function u(e) {
        var n = m.left - C.left,
            s = n + l - f,
            o = m.top - C.top,
            u = o + v - c,
            h = { target: { element: b, left: m.left, top: m.top, width: l, height: v }, element: { element: a, left: C.left, top: C.top, width: f, height: c }, horizontal: s < 0 ? "left" : n > 0 ? "right" : "center", vertical: u < 0 ? "top" : o > 0 ? "bottom" : "middle" };l < f && i(n + s) < l && (h.horizontal = "center"), v < c && i(o + u) < v && (h.vertical = "middle"), r(i(n), i(s)) > r(i(o), i(u)) ? h.important = "horizontal" : h.important = "vertical", t.using.call(this, e, h);
      }), a.offset(e.extend(C, { using: u }));
    });
  }, e.ui.position = { fit: { left: function left(e, t) {
        var n = t.within,
            i = n.isWindow ? n.scrollLeft : n.offset.left,
            s = n.width,
            o = e.left - t.collisionPosition.marginLeft,
            u = i - o,
            a = o + t.collisionWidth - s - i,
            f;t.collisionWidth > s ? u > 0 && a <= 0 ? (f = e.left + u + t.collisionWidth - s - i, e.left += u - f) : a > 0 && u <= 0 ? e.left = i : u > a ? e.left = i + s - t.collisionWidth : e.left = i : u > 0 ? e.left += u : a > 0 ? e.left -= a : e.left = r(e.left - o, e.left);
      }, top: function top(e, t) {
        var n = t.within,
            i = n.isWindow ? n.scrollTop : n.offset.top,
            s = t.within.height,
            o = e.top - t.collisionPosition.marginTop,
            u = i - o,
            a = o + t.collisionHeight - s - i,
            f;t.collisionHeight > s ? u > 0 && a <= 0 ? (f = e.top + u + t.collisionHeight - s - i, e.top += u - f) : a > 0 && u <= 0 ? e.top = i : u > a ? e.top = i + s - t.collisionHeight : e.top = i : u > 0 ? e.top += u : a > 0 ? e.top -= a : e.top = r(e.top - o, e.top);
      } }, flip: { left: function left(e, t) {
        var n = t.within,
            r = n.offset.left + n.scrollLeft,
            s = n.width,
            o = n.isWindow ? n.scrollLeft : n.offset.left,
            u = e.left - t.collisionPosition.marginLeft,
            a = u - o,
            f = u + t.collisionWidth - s - o,
            l = t.my[0] === "left" ? -t.elemWidth : t.my[0] === "right" ? t.elemWidth : 0,
            c = t.at[0] === "left" ? t.targetWidth : t.at[0] === "right" ? -t.targetWidth : 0,
            h = -2 * t.offset[0],
            p,
            d;if (a < 0) {
          p = e.left + l + c + h + t.collisionWidth - s - r;if (p < 0 || p < i(a)) e.left += l + c + h;
        } else if (f > 0) {
          d = e.left - t.collisionPosition.marginLeft + l + c + h - o;if (d > 0 || i(d) < f) e.left += l + c + h;
        }
      }, top: function top(e, t) {
        var n = t.within,
            r = n.offset.top + n.scrollTop,
            s = n.height,
            o = n.isWindow ? n.scrollTop : n.offset.top,
            u = e.top - t.collisionPosition.marginTop,
            a = u - o,
            f = u + t.collisionHeight - s - o,
            l = t.my[1] === "top",
            c = l ? -t.elemHeight : t.my[1] === "bottom" ? t.elemHeight : 0,
            h = t.at[1] === "top" ? t.targetHeight : t.at[1] === "bottom" ? -t.targetHeight : 0,
            p = -2 * t.offset[1],
            d,
            v;a < 0 ? (v = e.top + c + h + p + t.collisionHeight - s - r, e.top + c + h + p > a && (v < 0 || v < i(a)) && (e.top += c + h + p)) : f > 0 && (d = e.top - t.collisionPosition.marginTop + c + h + p - o, e.top + c + h + p > f && (d > 0 || i(d) < f) && (e.top += c + h + p));
      } }, flipfit: { left: function left() {
        e.ui.position.flip.left.apply(this, arguments), e.ui.position.fit.left.apply(this, arguments);
      }, top: function top() {
        e.ui.position.flip.top.apply(this, arguments), e.ui.position.fit.top.apply(this, arguments);
      } } }, function () {
    var t,
        n,
        r,
        i,
        s,
        o = document.getElementsByTagName("body")[0],
        u = document.createElement("div");t = document.createElement(o ? "div" : "body"), r = { visibility: "hidden", width: 0, height: 0, border: 0, margin: 0, background: "none" }, o && e.extend(r, { position: "absolute", left: "-1000px", top: "-1000px" });for (s in r) {
      t.style[s] = r[s];
    }t.appendChild(u), n = o || document.documentElement, n.insertBefore(t, n.firstChild), u.style.cssText = "position: absolute; left: 10.7432222px;", i = e(u).offset().left, e.support.offsetFractions = i > 10 && i < 11, t.innerHTML = "", n.removeChild(t);
  }();
})(jQuery);(function (e, t) {
  e.widget("ui.draggable", e.ui.mouse, { version: "1.10.0", widgetEventPrefix: "drag", options: { addClasses: !0, appendTo: "parent", axis: !1, connectToSortable: !1, containment: !1, cursor: "auto", cursorAt: !1, grid: !1, handle: !1, helper: "original", iframeFix: !1, opacity: !1, refreshPositions: !1, revert: !1, revertDuration: 500, scope: "default", scroll: !0, scrollSensitivity: 20, scrollSpeed: 20, snap: !1, snapMode: "both", snapTolerance: 20, stack: !1, zIndex: !1, drag: null, start: null, stop: null }, _create: function _create() {
      this.options.helper === "original" && !/^(?:r|a|f)/.test(this.element.css("position")) && (this.element[0].style.position = "relative"), this.options.addClasses && this.element.addClass("ui-draggable"), this.options.disabled && this.element.addClass("ui-draggable-disabled"), this._mouseInit();
    }, _destroy: function _destroy() {
      this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"), this._mouseDestroy();
    }, _mouseCapture: function _mouseCapture(t) {
      var n = this.options;return this.helper || n.disabled || e(t.target).closest(".ui-resizable-handle").length > 0 ? !1 : (this.handle = this._getHandle(t), this.handle ? (e(n.iframeFix === !0 ? "iframe" : n.iframeFix).each(function () {
        e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({ width: this.offsetWidth + "px", height: this.offsetHeight + "px", position: "absolute", opacity: "0.001", zIndex: 1e3 }).css(e(this).offset()).appendTo("body");
      }), !0) : !1);
    }, _mouseStart: function _mouseStart(t) {
      var n = this.options;return this.helper = this._createHelper(t), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), e.ui.ddmanager && (e.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(), this.offset = this.positionAbs = this.element.offset(), this.offset = { top: this.offset.top - this.margins.top, left: this.offset.left - this.margins.left }, e.extend(this.offset, { click: { left: t.pageX - this.offset.left, top: t.pageY - this.offset.top }, parent: this._getParentOffset(), relative: this._getRelativeOffset() }), this.originalPosition = this.position = this._generatePosition(t), this.originalPageX = t.pageX, this.originalPageY = t.pageY, n.cursorAt && this._adjustOffsetFromHelper(n.cursorAt), n.containment && this._setContainment(), this._trigger("start", t) === !1 ? (this._clear(), !1) : (this._cacheHelperProportions(), e.ui.ddmanager && !n.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t), this._mouseDrag(t, !0), e.ui.ddmanager && e.ui.ddmanager.dragStart(this, t), !0);
    }, _mouseDrag: function _mouseDrag(t, n) {
      this.position = this._generatePosition(t), this.positionAbs = this._convertPositionTo("absolute");if (!n) {
        var r = this._uiHash();if (this._trigger("drag", t, r) === !1) return this._mouseUp({}), !1;this.position = r.position;
      }if (!this.options.axis || this.options.axis !== "y") this.helper[0].style.left = this.position.left + "px";if (!this.options.axis || this.options.axis !== "x") this.helper[0].style.top = this.position.top + "px";return e.ui.ddmanager && e.ui.ddmanager.drag(this, t), !1;
    }, _mouseStop: function _mouseStop(t) {
      var n,
          r = this,
          i = !1,
          s = !1;e.ui.ddmanager && !this.options.dropBehaviour && (s = e.ui.ddmanager.drop(this, t)), this.dropped && (s = this.dropped, this.dropped = !1), n = this.element[0];while (n && (n = n.parentNode)) {
        n === document && (i = !0);
      }return !i && this.options.helper === "original" ? !1 : (this.options.revert === "invalid" && !s || this.options.revert === "valid" && s || this.options.revert === !0 || e.isFunction(this.options.revert) && this.options.revert.call(this.element, s) ? e(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () {
        r._trigger("stop", t) !== !1 && r._clear();
      }) : this._trigger("stop", t) !== !1 && this._clear(), !1);
    }, _mouseUp: function _mouseUp(t) {
      return e("div.ui-draggable-iframeFix").each(function () {
        this.parentNode.removeChild(this);
      }), e.ui.ddmanager && e.ui.ddmanager.dragStop(this, t), e.ui.mouse.prototype._mouseUp.call(this, t);
    }, cancel: function cancel() {
      return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this;
    }, _getHandle: function _getHandle(t) {
      var n = !this.options.handle || !e(this.options.handle, this.element).length ? !0 : !1;return e(this.options.handle, this.element).find("*").addBack().each(function () {
        this === t.target && (n = !0);
      }), n;
    }, _createHelper: function _createHelper(t) {
      var n = this.options,
          r = e.isFunction(n.helper) ? e(n.helper.apply(this.element[0], [t])) : n.helper === "clone" ? this.element.clone().removeAttr("id") : this.element;return r.parents("body").length || r.appendTo(n.appendTo === "parent" ? this.element[0].parentNode : n.appendTo), r[0] !== this.element[0] && !/(fixed|absolute)/.test(r.css("position")) && r.css("position", "absolute"), r;
    }, _adjustOffsetFromHelper: function _adjustOffsetFromHelper(t) {
      typeof t == "string" && (t = t.split(" ")), e.isArray(t) && (t = { left: +t[0], top: +t[1] || 0 }), "left" in t && (this.offset.click.left = t.left + this.margins.left), "right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left), "top" in t && (this.offset.click.top = t.top + this.margins.top), "bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top);
    }, _getParentOffset: function _getParentOffset() {
      this.offsetParent = this.helper.offsetParent();var t = this.offsetParent.offset();this.cssPosition === "absolute" && this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop());if (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() === "html" && e.ui.ie) t = { top: 0, left: 0 };return { top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0), left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0) };
    }, _getRelativeOffset: function _getRelativeOffset() {
      if (this.cssPosition === "relative") {
        var e = this.element.position();return { top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(), left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft() };
      }return { top: 0, left: 0 };
    }, _cacheMargins: function _cacheMargins() {
      this.margins = { left: parseInt(this.element.css("marginLeft"), 10) || 0, top: parseInt(this.element.css("marginTop"), 10) || 0, right: parseInt(this.element.css("marginRight"), 10) || 0, bottom: parseInt(this.element.css("marginBottom"), 10) || 0 };
    }, _cacheHelperProportions: function _cacheHelperProportions() {
      this.helperProportions = { width: this.helper.outerWidth(), height: this.helper.outerHeight() };
    }, _setContainment: function _setContainment() {
      var t,
          n,
          r,
          i = this.options;i.containment === "parent" && (i.containment = this.helper[0].parentNode);if (i.containment === "document" || i.containment === "window") this.containment = [i.containment === "document" ? 0 : e(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, i.containment === "document" ? 0 : e(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, (i.containment === "document" ? 0 : e(window).scrollLeft()) + e(i.containment === "document" ? document : window).width() - this.helperProportions.width - this.margins.left, (i.containment === "document" ? 0 : e(window).scrollTop()) + (e(i.containment === "document" ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];if (!/^(document|window|parent)$/.test(i.containment) && i.containment.constructor !== Array) {
        n = e(i.containment), r = n[0];if (!r) return;t = e(r).css("overflow") !== "hidden", this.containment = [(parseInt(e(r).css("borderLeftWidth"), 10) || 0) + (parseInt(e(r).css("paddingLeft"), 10) || 0), (parseInt(e(r).css("borderTopWidth"), 10) || 0) + (parseInt(e(r).css("paddingTop"), 10) || 0), (t ? Math.max(r.scrollWidth, r.offsetWidth) : r.offsetWidth) - (parseInt(e(r).css("borderLeftWidth"), 10) || 0) - (parseInt(e(r).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (t ? Math.max(r.scrollHeight, r.offsetHeight) : r.offsetHeight) - (parseInt(e(r).css("borderTopWidth"), 10) || 0) - (parseInt(e(r).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relative_container = n;
      } else i.containment.constructor === Array && (this.containment = i.containment);
    }, _convertPositionTo: function _convertPositionTo(t, n) {
      n || (n = this.position);var r = t === "absolute" ? 1 : -1,
          i = this.cssPosition !== "absolute" || this.scrollParent[0] !== document && !!e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
          s = /(html|body)/i.test(i[0].tagName);return { top: n.top + this.offset.relative.top * r + this.offset.parent.top * r - (this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : s ? 0 : i.scrollTop()) * r, left: n.left + this.offset.relative.left * r + this.offset.parent.left * r - (this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : s ? 0 : i.scrollLeft()) * r };
    }, _generatePosition: function _generatePosition(t) {
      var n,
          r,
          i,
          s,
          o = this.options,
          u = this.cssPosition !== "absolute" || this.scrollParent[0] !== document && !!e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
          a = /(html|body)/i.test(u[0].tagName),
          f = t.pageX,
          l = t.pageY;return this.originalPosition && (this.containment && (this.relative_container ? (r = this.relative_container.offset(), n = [this.containment[0] + r.left, this.containment[1] + r.top, this.containment[2] + r.left, this.containment[3] + r.top]) : n = this.containment, t.pageX - this.offset.click.left < n[0] && (f = n[0] + this.offset.click.left), t.pageY - this.offset.click.top < n[1] && (l = n[1] + this.offset.click.top), t.pageX - this.offset.click.left > n[2] && (f = n[2] + this.offset.click.left), t.pageY - this.offset.click.top > n[3] && (l = n[3] + this.offset.click.top)), o.grid && (i = o.grid[1] ? this.originalPageY + Math.round((l - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY, l = n ? i - this.offset.click.top >= n[1] || i - this.offset.click.top > n[3] ? i : i - this.offset.click.top >= n[1] ? i - o.grid[1] : i + o.grid[1] : i, s = o.grid[0] ? this.originalPageX + Math.round((f - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX, f = n ? s - this.offset.click.left >= n[0] || s - this.offset.click.left > n[2] ? s : s - this.offset.click.left >= n[0] ? s - o.grid[0] : s + o.grid[0] : s)), { top: l - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : a ? 0 : u.scrollTop()), left: f - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : a ? 0 : u.scrollLeft()) };
    }, _clear: function _clear() {
      this.helper.removeClass("ui-draggable-dragging"), this.helper[0] !== this.element[0] && !this.cancelHelperRemoval && this.helper.remove(), this.helper = null, this.cancelHelperRemoval = !1;
    }, _trigger: function _trigger(t, n, r) {
      return r = r || this._uiHash(), e.ui.plugin.call(this, t, [n, r]), t === "drag" && (this.positionAbs = this._convertPositionTo("absolute")), e.Widget.prototype._trigger.call(this, t, n, r);
    }, plugins: {}, _uiHash: function _uiHash() {
      return { helper: this.helper, position: this.position, originalPosition: this.originalPosition, offset: this.positionAbs };
    } }), e.ui.plugin.add("draggable", "connectToSortable", { start: function start(t, n) {
      var r = e(this).data("ui-draggable"),
          i = r.options,
          s = e.extend({}, n, { item: r.element });r.sortables = [], e(i.connectToSortable).each(function () {
        var n = e.data(this, "ui-sortable");n && !n.options.disabled && (r.sortables.push({ instance: n, shouldRevert: n.options.revert }), n.refreshPositions(), n._trigger("activate", t, s));
      });
    }, stop: function stop(t, n) {
      var r = e(this).data("ui-draggable"),
          i = e.extend({}, n, { item: r.element });e.each(r.sortables, function () {
        this.instance.isOver ? (this.instance.isOver = 0, r.cancelHelperRemoval = !0, this.instance.cancelHelperRemoval = !1, this.shouldRevert && (this.instance.options.revert = !0), this.instance._mouseStop(t), this.instance.options.helper = this.instance.options._helper, r.options.helper === "original" && this.instance.currentItem.css({ top: "auto", left: "auto" })) : (this.instance.cancelHelperRemoval = !1, this.instance._trigger("deactivate", t, i));
      });
    }, drag: function drag(t, n) {
      var r = e(this).data("ui-draggable"),
          i = this;e.each(r.sortables, function () {
        var s = !1,
            o = this;this.instance.positionAbs = r.positionAbs, this.instance.helperProportions = r.helperProportions, this.instance.offset.click = r.offset.click, this.instance._intersectsWith(this.instance.containerCache) && (s = !0, e.each(r.sortables, function () {
          return this.instance.positionAbs = r.positionAbs, this.instance.helperProportions = r.helperProportions, this.instance.offset.click = r.offset.click, this !== o && this.instance._intersectsWith(this.instance.containerCache) && e.ui.contains(o.instance.element[0], this.instance.element[0]) && (s = !1), s;
        })), s ? (this.instance.isOver || (this.instance.isOver = 1, this.instance.currentItem = e(i).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item", !0), this.instance.options._helper = this.instance.options.helper, this.instance.options.helper = function () {
          return n.helper[0];
        }, t.target = this.instance.currentItem[0], this.instance._mouseCapture(t, !0), this.instance._mouseStart(t, !0, !0), this.instance.offset.click.top = r.offset.click.top, this.instance.offset.click.left = r.offset.click.left, this.instance.offset.parent.left -= r.offset.parent.left - this.instance.offset.parent.left, this.instance.offset.parent.top -= r.offset.parent.top - this.instance.offset.parent.top, r._trigger("toSortable", t), r.dropped = this.instance.element, r.currentItem = r.element, this.instance.fromOutside = r), this.instance.currentItem && this.instance._mouseDrag(t)) : this.instance.isOver && (this.instance.isOver = 0, this.instance.cancelHelperRemoval = !0, this.instance.options.revert = !1, this.instance._trigger("out", t, this.instance._uiHash(this.instance)), this.instance._mouseStop(t, !0), this.instance.options.helper = this.instance.options._helper, this.instance.currentItem.remove(), this.instance.placeholder && this.instance.placeholder.remove(), r._trigger("fromSortable", t), r.dropped = !1);
      });
    } }), e.ui.plugin.add("draggable", "cursor", { start: function start() {
      var t = e("body"),
          n = e(this).data("ui-draggable").options;t.css("cursor") && (n._cursor = t.css("cursor")), t.css("cursor", n.cursor);
    }, stop: function stop() {
      var t = e(this).data("ui-draggable").options;t._cursor && e("body").css("cursor", t._cursor);
    } }), e.ui.plugin.add("draggable", "opacity", { start: function start(t, n) {
      var r = e(n.helper),
          i = e(this).data("ui-draggable").options;r.css("opacity") && (i._opacity = r.css("opacity")), r.css("opacity", i.opacity);
    }, stop: function stop(t, n) {
      var r = e(this).data("ui-draggable").options;r._opacity && e(n.helper).css("opacity", r._opacity);
    } }), e.ui.plugin.add("draggable", "scroll", { start: function start() {
      var t = e(this).data("ui-draggable");t.scrollParent[0] !== document && t.scrollParent[0].tagName !== "HTML" && (t.overflowOffset = t.scrollParent.offset());
    }, drag: function drag(t) {
      var n = e(this).data("ui-draggable"),
          r = n.options,
          i = !1;if (n.scrollParent[0] !== document && n.scrollParent[0].tagName !== "HTML") {
        if (!r.axis || r.axis !== "x") n.overflowOffset.top + n.scrollParent[0].offsetHeight - t.pageY < r.scrollSensitivity ? n.scrollParent[0].scrollTop = i = n.scrollParent[0].scrollTop + r.scrollSpeed : t.pageY - n.overflowOffset.top < r.scrollSensitivity && (n.scrollParent[0].scrollTop = i = n.scrollParent[0].scrollTop - r.scrollSpeed);if (!r.axis || r.axis !== "y") n.overflowOffset.left + n.scrollParent[0].offsetWidth - t.pageX < r.scrollSensitivity ? n.scrollParent[0].scrollLeft = i = n.scrollParent[0].scrollLeft + r.scrollSpeed : t.pageX - n.overflowOffset.left < r.scrollSensitivity && (n.scrollParent[0].scrollLeft = i = n.scrollParent[0].scrollLeft - r.scrollSpeed);
      } else {
        if (!r.axis || r.axis !== "x") t.pageY - e(document).scrollTop() < r.scrollSensitivity ? i = e(document).scrollTop(e(document).scrollTop() - r.scrollSpeed) : e(window).height() - (t.pageY - e(document).scrollTop()) < r.scrollSensitivity && (i = e(document).scrollTop(e(document).scrollTop() + r.scrollSpeed));if (!r.axis || r.axis !== "y") t.pageX - e(document).scrollLeft() < r.scrollSensitivity ? i = e(document).scrollLeft(e(document).scrollLeft() - r.scrollSpeed) : e(window).width() - (t.pageX - e(document).scrollLeft()) < r.scrollSensitivity && (i = e(document).scrollLeft(e(document).scrollLeft() + r.scrollSpeed));
      }i !== !1 && e.ui.ddmanager && !r.dropBehaviour && e.ui.ddmanager.prepareOffsets(n, t);
    } }), e.ui.plugin.add("draggable", "snap", { start: function start() {
      var t = e(this).data("ui-draggable"),
          n = t.options;t.snapElements = [], e(n.snap.constructor !== String ? n.snap.items || ":data(ui-draggable)" : n.snap).each(function () {
        var n = e(this),
            r = n.offset();this !== t.element[0] && t.snapElements.push({ item: this, width: n.outerWidth(), height: n.outerHeight(), top: r.top, left: r.left });
      });
    }, drag: function drag(t, n) {
      var r,
          i,
          s,
          o,
          u,
          a,
          f,
          l,
          c,
          h,
          p = e(this).data("ui-draggable"),
          d = p.options,
          v = d.snapTolerance,
          m = n.offset.left,
          g = m + p.helperProportions.width,
          y = n.offset.top,
          b = y + p.helperProportions.height;for (c = p.snapElements.length - 1; c >= 0; c--) {
        u = p.snapElements[c].left, a = u + p.snapElements[c].width, f = p.snapElements[c].top, l = f + p.snapElements[c].height;if (!(u - v < m && m < a + v && f - v < y && y < l + v || u - v < m && m < a + v && f - v < b && b < l + v || u - v < g && g < a + v && f - v < y && y < l + v || u - v < g && g < a + v && f - v < b && b < l + v)) {
          p.snapElements[c].snapping && p.options.snap.release && p.options.snap.release.call(p.element, t, e.extend(p._uiHash(), { snapItem: p.snapElements[c].item })), p.snapElements[c].snapping = !1;continue;
        }d.snapMode !== "inner" && (r = Math.abs(f - b) <= v, i = Math.abs(l - y) <= v, s = Math.abs(u - g) <= v, o = Math.abs(a - m) <= v, r && (n.position.top = p._convertPositionTo("relative", { top: f - p.helperProportions.height, left: 0 }).top - p.margins.top), i && (n.position.top = p._convertPositionTo("relative", { top: l, left: 0 }).top - p.margins.top), s && (n.position.left = p._convertPositionTo("relative", { top: 0, left: u - p.helperProportions.width }).left - p.margins.left), o && (n.position.left = p._convertPositionTo("relative", { top: 0, left: a }).left - p.margins.left)), h = r || i || s || o, d.snapMode !== "outer" && (r = Math.abs(f - y) <= v, i = Math.abs(l - b) <= v, s = Math.abs(u - m) <= v, o = Math.abs(a - g) <= v, r && (n.position.top = p._convertPositionTo("relative", { top: f, left: 0 }).top - p.margins.top), i && (n.position.top = p._convertPositionTo("relative", { top: l - p.helperProportions.height, left: 0 }).top - p.margins.top), s && (n.position.left = p._convertPositionTo("relative", { top: 0, left: u }).left - p.margins.left), o && (n.position.left = p._convertPositionTo("relative", { top: 0, left: a - p.helperProportions.width }).left - p.margins.left)), !p.snapElements[c].snapping && (r || i || s || o || h) && p.options.snap.snap && p.options.snap.snap.call(p.element, t, e.extend(p._uiHash(), { snapItem: p.snapElements[c].item })), p.snapElements[c].snapping = r || i || s || o || h;
      }
    } }), e.ui.plugin.add("draggable", "stack", { start: function start() {
      var t,
          n = e(this).data("ui-draggable").options,
          r = e.makeArray(e(n.stack)).sort(function (t, n) {
        return (parseInt(e(t).css("zIndex"), 10) || 0) - (parseInt(e(n).css("zIndex"), 10) || 0);
      });if (!r.length) return;t = parseInt(r[0].style.zIndex, 10) || 0, e(r).each(function (e) {
        this.style.zIndex = t + e;
      }), this[0].style.zIndex = t + r.length;
    } }), e.ui.plugin.add("draggable", "zIndex", { start: function start(t, n) {
      var r = e(n.helper),
          i = e(this).data("ui-draggable").options;r.css("zIndex") && (i._zIndex = r.css("zIndex")), r.css("zIndex", i.zIndex);
    }, stop: function stop(t, n) {
      var r = e(this).data("ui-draggable").options;r._zIndex && e(n.helper).css("zIndex", r._zIndex);
    } });
})(jQuery);(function (e, t) {
  function n(e, t, n) {
    return e > t && e < t + n;
  }e.widget("ui.droppable", { version: "1.10.0", widgetEventPrefix: "drop", options: { accept: "*", activeClass: !1, addClasses: !0, greedy: !1, hoverClass: !1, scope: "default", tolerance: "intersect", activate: null, deactivate: null, drop: null, out: null, over: null }, _create: function _create() {
      var t = this.options,
          n = t.accept;this.isover = !1, this.isout = !0, this.accept = e.isFunction(n) ? n : function (e) {
        return e.is(n);
      }, this.proportions = { width: this.element[0].offsetWidth, height: this.element[0].offsetHeight }, e.ui.ddmanager.droppables[t.scope] = e.ui.ddmanager.droppables[t.scope] || [], e.ui.ddmanager.droppables[t.scope].push(this), t.addClasses && this.element.addClass("ui-droppable");
    }, _destroy: function _destroy() {
      var t = 0,
          n = e.ui.ddmanager.droppables[this.options.scope];for (; t < n.length; t++) {
        n[t] === this && n.splice(t, 1);
      }this.element.removeClass("ui-droppable ui-droppable-disabled");
    }, _setOption: function _setOption(t, n) {
      t === "accept" && (this.accept = e.isFunction(n) ? n : function (e) {
        return e.is(n);
      }), e.Widget.prototype._setOption.apply(this, arguments);
    }, _activate: function _activate(t) {
      var n = e.ui.ddmanager.current;this.options.activeClass && this.element.addClass(this.options.activeClass), n && this._trigger("activate", t, this.ui(n));
    }, _deactivate: function _deactivate(t) {
      var n = e.ui.ddmanager.current;this.options.activeClass && this.element.removeClass(this.options.activeClass), n && this._trigger("deactivate", t, this.ui(n));
    }, _over: function _over(t) {
      var n = e.ui.ddmanager.current;if (!n || (n.currentItem || n.element)[0] === this.element[0]) return;this.accept.call(this.element[0], n.currentItem || n.element) && (this.options.hoverClass && this.element.addClass(this.options.hoverClass), this._trigger("over", t, this.ui(n)));
    }, _out: function _out(t) {
      var n = e.ui.ddmanager.current;if (!n || (n.currentItem || n.element)[0] === this.element[0]) return;this.accept.call(this.element[0], n.currentItem || n.element) && (this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("out", t, this.ui(n)));
    }, _drop: function _drop(t, n) {
      var r = n || e.ui.ddmanager.current,
          i = !1;return !r || (r.currentItem || r.element)[0] === this.element[0] ? !1 : (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function () {
        var t = e.data(this, "ui-droppable");if (t.options.greedy && !t.options.disabled && t.options.scope === r.options.scope && t.accept.call(t.element[0], r.currentItem || r.element) && e.ui.intersect(r, e.extend(t, { offset: t.element.offset() }), t.options.tolerance)) return i = !0, !1;
      }), i ? !1 : this.accept.call(this.element[0], r.currentItem || r.element) ? (this.options.activeClass && this.element.removeClass(this.options.activeClass), this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("drop", t, this.ui(r)), this.element) : !1);
    }, ui: function ui(e) {
      return { draggable: e.currentItem || e.element, helper: e.helper, position: e.position, offset: e.positionAbs };
    } }), e.ui.intersect = function (e, t, r) {
    if (!t.offset) return !1;var i,
        s,
        o = (e.positionAbs || e.position.absolute).left,
        u = o + e.helperProportions.width,
        a = (e.positionAbs || e.position.absolute).top,
        f = a + e.helperProportions.height,
        l = t.offset.left,
        c = l + t.proportions.width,
        h = t.offset.top,
        p = h + t.proportions.height;switch (r) {case "fit":
        return l <= o && u <= c && h <= a && f <= p;case "intersect":
        return l < o + e.helperProportions.width / 2 && u - e.helperProportions.width / 2 < c && h < a + e.helperProportions.height / 2 && f - e.helperProportions.height / 2 < p;case "pointer":
        return i = (e.positionAbs || e.position.absolute).left + (e.clickOffset || e.offset.click).left, s = (e.positionAbs || e.position.absolute).top + (e.clickOffset || e.offset.click).top, n(s, h, t.proportions.height) && n(i, l, t.proportions.width);case "touch":
        return (a >= h && a <= p || f >= h && f <= p || a < h && f > p) && (o >= l && o <= c || u >= l && u <= c || o < l && u > c);default:
        return !1;}
  }, e.ui.ddmanager = { current: null, droppables: { "default": [] }, prepareOffsets: function prepareOffsets(t, n) {
      var r,
          i,
          s = e.ui.ddmanager.droppables[t.options.scope] || [],
          o = n ? n.type : null,
          u = (t.currentItem || t.element).find(":data(ui-droppable)").addBack();e: for (r = 0; r < s.length; r++) {
        if (s[r].options.disabled || t && !s[r].accept.call(s[r].element[0], t.currentItem || t.element)) continue;for (i = 0; i < u.length; i++) {
          if (u[i] === s[r].element[0]) {
            s[r].proportions.height = 0;continue e;
          }
        }s[r].visible = s[r].element.css("display") !== "none";if (!s[r].visible) continue;o === "mousedown" && s[r]._activate.call(s[r], n), s[r].offset = s[r].element.offset(), s[r].proportions = { width: s[r].element[0].offsetWidth, height: s[r].element[0].offsetHeight };
      }
    }, drop: function drop(t, n) {
      var r = !1;return e.each(e.ui.ddmanager.droppables[t.options.scope] || [], function () {
        if (!this.options) return;!this.options.disabled && this.visible && e.ui.intersect(t, this, this.options.tolerance) && (r = this._drop.call(this, n) || r), !this.options.disabled && this.visible && this.accept.call(this.element[0], t.currentItem || t.element) && (this.isout = !0, this.isover = !1, this._deactivate.call(this, n));
      }), r;
    }, dragStart: function dragStart(t, n) {
      t.element.parentsUntil("body").bind("scroll.droppable", function () {
        t.options.refreshPositions || e.ui.ddmanager.prepareOffsets(t, n);
      });
    }, drag: function drag(t, n) {
      t.options.refreshPositions && e.ui.ddmanager.prepareOffsets(t, n), e.each(e.ui.ddmanager.droppables[t.options.scope] || [], function () {
        if (this.options.disabled || this.greedyChild || !this.visible) return;var r,
            i,
            s,
            o = e.ui.intersect(t, this, this.options.tolerance),
            u = !o && this.isover ? "isout" : o && !this.isover ? "isover" : null;if (!u) return;this.options.greedy && (i = this.options.scope, s = this.element.parents(":data(ui-droppable)").filter(function () {
          return e.data(this, "ui-droppable").options.scope === i;
        }), s.length && (r = e.data(s[0], "ui-droppable"), r.greedyChild = u === "isover")), r && u === "isover" && (r.isover = !1, r.isout = !0, r._out.call(r, n)), this[u] = !0, this[u === "isout" ? "isover" : "isout"] = !1, this[u === "isover" ? "_over" : "_out"].call(this, n), r && u === "isout" && (r.isout = !1, r.isover = !0, r._over.call(r, n));
      });
    }, dragStop: function dragStop(t, n) {
      t.element.parentsUntil("body").unbind("scroll.droppable"), t.options.refreshPositions || e.ui.ddmanager.prepareOffsets(t, n);
    } };
})(jQuery);(function (e, t) {
  function n(e) {
    return parseInt(e, 10) || 0;
  }function r(e) {
    return !isNaN(parseInt(e, 10));
  }e.widget("ui.resizable", e.ui.mouse, { version: "1.10.0", widgetEventPrefix: "resize", options: { alsoResize: !1, animate: !1, animateDuration: "slow", animateEasing: "swing", aspectRatio: !1, autoHide: !1, containment: !1, ghost: !1, grid: !1, handles: "e,s,se", helper: !1, maxHeight: null, maxWidth: null, minHeight: 10, minWidth: 10, zIndex: 90, resize: null, start: null, stop: null }, _create: function _create() {
      var t,
          n,
          r,
          i,
          s,
          o = this,
          u = this.options;this.element.addClass("ui-resizable"), e.extend(this, { _aspectRatio: !!u.aspectRatio, aspectRatio: u.aspectRatio, originalElement: this.element, _proportionallyResizeElements: [], _helper: u.helper || u.ghost || u.animate ? u.helper || "ui-resizable-helper" : null }), this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i) && (this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({ position: this.element.css("position"), width: this.element.outerWidth(), height: this.element.outerHeight(), top: this.element.css("top"), left: this.element.css("left") })), this.element = this.element.parent().data("ui-resizable", this.element.data("ui-resizable")), this.elementIsWrapper = !0, this.element.css({ marginLeft: this.originalElement.css("marginLeft"), marginTop: this.originalElement.css("marginTop"), marginRight: this.originalElement.css("marginRight"), marginBottom: this.originalElement.css("marginBottom") }), this.originalElement.css({ marginLeft: 0, marginTop: 0, marginRight: 0, marginBottom: 0 }), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({ position: "static", zoom: 1, display: "block" })), this.originalElement.css({ margin: this.originalElement.css("margin") }), this._proportionallyResize()), this.handles = u.handles || (e(".ui-resizable-handle", this.element).length ? { n: ".ui-resizable-n", e: ".ui-resizable-e", s: ".ui-resizable-s", w: ".ui-resizable-w", se: ".ui-resizable-se", sw: ".ui-resizable-sw", ne: ".ui-resizable-ne", nw: ".ui-resizable-nw" } : "e,s,se");if (this.handles.constructor === String) {
        this.handles === "all" && (this.handles = "n,e,s,w,se,sw,ne,nw"), t = this.handles.split(","), this.handles = {};for (n = 0; n < t.length; n++) {
          r = e.trim(t[n]), s = "ui-resizable-" + r, i = e("<div class='ui-resizable-handle " + s + "'></div>"), i.css({ zIndex: u.zIndex }), "se" === r && i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"), this.handles[r] = ".ui-resizable-" + r, this.element.append(i);
        }
      }this._renderAxis = function (t) {
        var n, r, i, s;t = t || this.element;for (n in this.handles) {
          this.handles[n].constructor === String && (this.handles[n] = e(this.handles[n], this.element).show()), this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i) && (r = e(this.handles[n], this.element), s = /sw|ne|nw|se|n|s/.test(n) ? r.outerHeight() : r.outerWidth(), i = ["padding", /ne|nw|n/.test(n) ? "Top" : /se|sw|s/.test(n) ? "Bottom" : /^e$/.test(n) ? "Right" : "Left"].join(""), t.css(i, s), this._proportionallyResize());if (!e(this.handles[n]).length) continue;
        }
      }, this._renderAxis(this.element), this._handles = e(".ui-resizable-handle", this.element).disableSelection(), this._handles.mouseover(function () {
        o.resizing || (this.className && (i = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), o.axis = i && i[1] ? i[1] : "se");
      }), u.autoHide && (this._handles.hide(), e(this.element).addClass("ui-resizable-autohide").mouseenter(function () {
        if (u.disabled) return;e(this).removeClass("ui-resizable-autohide"), o._handles.show();
      }).mouseleave(function () {
        if (u.disabled) return;o.resizing || (e(this).addClass("ui-resizable-autohide"), o._handles.hide());
      })), this._mouseInit();
    }, _destroy: function _destroy() {
      this._mouseDestroy();var t,
          n = function n(t) {
        e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove();
      };return this.elementIsWrapper && (n(this.element), t = this.element, this.originalElement.css({ position: t.css("position"), width: t.outerWidth(), height: t.outerHeight(), top: t.css("top"), left: t.css("left") }).insertAfter(t), t.remove()), this.originalElement.css("resize", this.originalResizeStyle), n(this.originalElement), this;
    }, _mouseCapture: function _mouseCapture(t) {
      var n,
          r,
          i = !1;for (n in this.handles) {
        r = e(this.handles[n])[0];if (r === t.target || e.contains(r, t.target)) i = !0;
      }return !this.options.disabled && i;
    }, _mouseStart: function _mouseStart(t) {
      var r,
          i,
          s,
          o = this.options,
          u = this.element.position(),
          a = this.element;return this.resizing = !0, /absolute/.test(a.css("position")) ? a.css({ position: "absolute", top: a.css("top"), left: a.css("left") }) : a.is(".ui-draggable") && a.css({ position: "absolute", top: u.top, left: u.left }), this._renderProxy(), r = n(this.helper.css("left")), i = n(this.helper.css("top")), o.containment && (r += e(o.containment).scrollLeft() || 0, i += e(o.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = { left: r, top: i }, this.size = this._helper ? { width: a.outerWidth(), height: a.outerHeight() } : { width: a.width(), height: a.height() }, this.originalSize = this._helper ? { width: a.outerWidth(), height: a.outerHeight() } : { width: a.width(), height: a.height() }, this.originalPosition = { left: r, top: i }, this.sizeDiff = { width: a.outerWidth() - a.width(), height: a.outerHeight() - a.height() }, this.originalMousePosition = { left: t.pageX, top: t.pageY }, this.aspectRatio = typeof o.aspectRatio == "number" ? o.aspectRatio : this.originalSize.width / this.originalSize.height || 1, s = e(".ui-resizable-" + this.axis).css("cursor"), e("body").css("cursor", s === "auto" ? this.axis + "-resize" : s), a.addClass("ui-resizable-resizing"), this._propagate("start", t), !0;
    }, _mouseDrag: function _mouseDrag(t) {
      var n,
          r = this.helper,
          i = {},
          s = this.originalMousePosition,
          o = this.axis,
          u = this.position.top,
          a = this.position.left,
          f = this.size.width,
          l = this.size.height,
          c = t.pageX - s.left || 0,
          h = t.pageY - s.top || 0,
          p = this._change[o];if (!p) return !1;n = p.apply(this, [t, c, h]), this._updateVirtualBoundaries(t.shiftKey);if (this._aspectRatio || t.shiftKey) n = this._updateRatio(n, t);return n = this._respectSize(n, t), this._updateCache(n), this._propagate("resize", t), this.position.top !== u && (i.top = this.position.top + "px"), this.position.left !== a && (i.left = this.position.left + "px"), this.size.width !== f && (i.width = this.size.width + "px"), this.size.height !== l && (i.height = this.size.height + "px"), r.css(i), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), e.isEmptyObject(i) || this._trigger("resize", t, this.ui()), !1;
    }, _mouseStop: function _mouseStop(t) {
      this.resizing = !1;var n,
          r,
          i,
          s,
          o,
          u,
          a,
          f = this.options,
          l = this;return this._helper && (n = this._proportionallyResizeElements, r = n.length && /textarea/i.test(n[0].nodeName), i = r && e.ui.hasScroll(n[0], "left") ? 0 : l.sizeDiff.height, s = r ? 0 : l.sizeDiff.width, o = { width: l.helper.width() - s, height: l.helper.height() - i }, u = parseInt(l.element.css("left"), 10) + (l.position.left - l.originalPosition.left) || null, a = parseInt(l.element.css("top"), 10) + (l.position.top - l.originalPosition.top) || null, f.animate || this.element.css(e.extend(o, { top: a, left: u })), l.helper.height(l.size.height), l.helper.width(l.size.width), this._helper && !f.animate && this._proportionallyResize()), e("body").css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", t), this._helper && this.helper.remove(), !1;
    }, _updateVirtualBoundaries: function _updateVirtualBoundaries(e) {
      var t,
          n,
          i,
          s,
          o,
          u = this.options;o = { minWidth: r(u.minWidth) ? u.minWidth : 0, maxWidth: r(u.maxWidth) ? u.maxWidth : Infinity, minHeight: r(u.minHeight) ? u.minHeight : 0, maxHeight: r(u.maxHeight) ? u.maxHeight : Infinity };if (this._aspectRatio || e) t = o.minHeight * this.aspectRatio, i = o.minWidth / this.aspectRatio, n = o.maxHeight * this.aspectRatio, s = o.maxWidth / this.aspectRatio, t > o.minWidth && (o.minWidth = t), i > o.minHeight && (o.minHeight = i), n < o.maxWidth && (o.maxWidth = n), s < o.maxHeight && (o.maxHeight = s);this._vBoundaries = o;
    }, _updateCache: function _updateCache(e) {
      this.offset = this.helper.offset(), r(e.left) && (this.position.left = e.left), r(e.top) && (this.position.top = e.top), r(e.height) && (this.size.height = e.height), r(e.width) && (this.size.width = e.width);
    }, _updateRatio: function _updateRatio(e) {
      var t = this.position,
          n = this.size,
          i = this.axis;return r(e.height) ? e.width = e.height * this.aspectRatio : r(e.width) && (e.height = e.width / this.aspectRatio), i === "sw" && (e.left = t.left + (n.width - e.width), e.top = null), i === "nw" && (e.top = t.top + (n.height - e.height), e.left = t.left + (n.width - e.width)), e;
    }, _respectSize: function _respectSize(e) {
      var t = this._vBoundaries,
          n = this.axis,
          i = r(e.width) && t.maxWidth && t.maxWidth < e.width,
          s = r(e.height) && t.maxHeight && t.maxHeight < e.height,
          o = r(e.width) && t.minWidth && t.minWidth > e.width,
          u = r(e.height) && t.minHeight && t.minHeight > e.height,
          a = this.originalPosition.left + this.originalSize.width,
          f = this.position.top + this.size.height,
          l = /sw|nw|w/.test(n),
          c = /nw|ne|n/.test(n);return o && (e.width = t.minWidth), u && (e.height = t.minHeight), i && (e.width = t.maxWidth), s && (e.height = t.maxHeight), o && l && (e.left = a - t.minWidth), i && l && (e.left = a - t.maxWidth), u && c && (e.top = f - t.minHeight), s && c && (e.top = f - t.maxHeight), !e.width && !e.height && !e.left && e.top ? e.top = null : !e.width && !e.height && !e.top && e.left && (e.left = null), e;
    }, _proportionallyResize: function _proportionallyResize() {
      if (!this._proportionallyResizeElements.length) return;var e,
          t,
          n,
          r,
          i,
          s = this.helper || this.element;for (e = 0; e < this._proportionallyResizeElements.length; e++) {
        i = this._proportionallyResizeElements[e];if (!this.borderDif) {
          this.borderDif = [], n = [i.css("borderTopWidth"), i.css("borderRightWidth"), i.css("borderBottomWidth"), i.css("borderLeftWidth")], r = [i.css("paddingTop"), i.css("paddingRight"), i.css("paddingBottom"), i.css("paddingLeft")];for (t = 0; t < n.length; t++) {
            this.borderDif[t] = (parseInt(n[t], 10) || 0) + (parseInt(r[t], 10) || 0);
          }
        }i.css({ height: s.height() - this.borderDif[0] - this.borderDif[2] || 0, width: s.width() - this.borderDif[1] - this.borderDif[3] || 0 });
      }
    }, _renderProxy: function _renderProxy() {
      var t = this.element,
          n = this.options;this.elementOffset = t.offset(), this._helper ? (this.helper = this.helper || e("<div style='overflow:hidden;'></div>"), this.helper.addClass(this._helper).css({ width: this.element.outerWidth() - 1, height: this.element.outerHeight() - 1, position: "absolute", left: this.elementOffset.left + "px", top: this.elementOffset.top + "px", zIndex: ++n.zIndex }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element;
    }, _change: { e: function e(_e, t) {
        return { width: this.originalSize.width + t };
      }, w: function w(e, t) {
        var n = this.originalSize,
            r = this.originalPosition;return { left: r.left + t, width: n.width - t };
      }, n: function n(e, t, _n) {
        var r = this.originalSize,
            i = this.originalPosition;return { top: i.top + _n, height: r.height - _n };
      }, s: function s(e, t, n) {
        return { height: this.originalSize.height + n };
      }, se: function se(t, n, r) {
        return e.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [t, n, r]));
      }, sw: function sw(t, n, r) {
        return e.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [t, n, r]));
      }, ne: function ne(t, n, r) {
        return e.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [t, n, r]));
      }, nw: function nw(t, n, r) {
        return e.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [t, n, r]));
      } }, _propagate: function _propagate(t, n) {
      e.ui.plugin.call(this, t, [n, this.ui()]), t !== "resize" && this._trigger(t, n, this.ui());
    }, plugins: {}, ui: function ui() {
      return { originalElement: this.originalElement, element: this.element, helper: this.helper, position: this.position, size: this.size, originalSize: this.originalSize, originalPosition: this.originalPosition };
    } }), e.ui.plugin.add("resizable", "animate", { stop: function stop(t) {
      var n = e(this).data("ui-resizable"),
          r = n.options,
          i = n._proportionallyResizeElements,
          s = i.length && /textarea/i.test(i[0].nodeName),
          o = s && e.ui.hasScroll(i[0], "left") ? 0 : n.sizeDiff.height,
          u = s ? 0 : n.sizeDiff.width,
          a = { width: n.size.width - u, height: n.size.height - o },
          f = parseInt(n.element.css("left"), 10) + (n.position.left - n.originalPosition.left) || null,
          l = parseInt(n.element.css("top"), 10) + (n.position.top - n.originalPosition.top) || null;n.element.animate(e.extend(a, l && f ? { top: l, left: f } : {}), { duration: r.animateDuration, easing: r.animateEasing, step: function step() {
          var r = { width: parseInt(n.element.css("width"), 10), height: parseInt(n.element.css("height"), 10), top: parseInt(n.element.css("top"), 10), left: parseInt(n.element.css("left"), 10) };i && i.length && e(i[0]).css({ width: r.width, height: r.height }), n._updateCache(r), n._propagate("resize", t);
        } });
    } }), e.ui.plugin.add("resizable", "containment", { start: function start() {
      var t,
          r,
          i,
          s,
          o,
          u,
          a,
          f = e(this).data("ui-resizable"),
          l = f.options,
          c = f.element,
          h = l.containment,
          p = h instanceof e ? h.get(0) : /parent/.test(h) ? c.parent().get(0) : h;if (!p) return;f.containerElement = e(p), /document/.test(h) || h === document ? (f.containerOffset = { left: 0, top: 0 }, f.containerPosition = { left: 0, top: 0 }, f.parentData = { element: e(document), left: 0, top: 0, width: e(document).width(), height: e(document).height() || document.body.parentNode.scrollHeight }) : (t = e(p), r = [], e(["Top", "Right", "Left", "Bottom"]).each(function (e, i) {
        r[e] = n(t.css("padding" + i));
      }), f.containerOffset = t.offset(), f.containerPosition = t.position(), f.containerSize = { height: t.innerHeight() - r[3], width: t.innerWidth() - r[1] }, i = f.containerOffset, s = f.containerSize.height, o = f.containerSize.width, u = e.ui.hasScroll(p, "left") ? p.scrollWidth : o, a = e.ui.hasScroll(p) ? p.scrollHeight : s, f.parentData = { element: p, left: i.left, top: i.top, width: u, height: a });
    }, resize: function resize(t) {
      var n,
          r,
          i,
          s,
          o = e(this).data("ui-resizable"),
          u = o.options,
          a = o.containerOffset,
          f = o.position,
          l = o._aspectRatio || t.shiftKey,
          c = { top: 0, left: 0 },
          h = o.containerElement;h[0] !== document && /static/.test(h.css("position")) && (c = a), f.left < (o._helper ? a.left : 0) && (o.size.width = o.size.width + (o._helper ? o.position.left - a.left : o.position.left - c.left), l && (o.size.height = o.size.width / o.aspectRatio), o.position.left = u.helper ? a.left : 0), f.top < (o._helper ? a.top : 0) && (o.size.height = o.size.height + (o._helper ? o.position.top - a.top : o.position.top), l && (o.size.width = o.size.height * o.aspectRatio), o.position.top = o._helper ? a.top : 0), o.offset.left = o.parentData.left + o.position.left, o.offset.top = o.parentData.top + o.position.top, n = Math.abs((o._helper ? o.offset.left - c.left : o.offset.left - c.left) + o.sizeDiff.width), r = Math.abs((o._helper ? o.offset.top - c.top : o.offset.top - a.top) + o.sizeDiff.height), i = o.containerElement.get(0) === o.element.parent().get(0), s = /relative|absolute/.test(o.containerElement.css("position")), i && s && (n -= o.parentData.left), n + o.size.width >= o.parentData.width && (o.size.width = o.parentData.width - n, l && (o.size.height = o.size.width / o.aspectRatio)), r + o.size.height >= o.parentData.height && (o.size.height = o.parentData.height - r, l && (o.size.width = o.size.height * o.aspectRatio));
    }, stop: function stop() {
      var t = e(this).data("ui-resizable"),
          n = t.options,
          r = t.containerOffset,
          i = t.containerPosition,
          s = t.containerElement,
          o = e(t.helper),
          u = o.offset(),
          a = o.outerWidth() - t.sizeDiff.width,
          f = o.outerHeight() - t.sizeDiff.height;t._helper && !n.animate && /relative/.test(s.css("position")) && e(this).css({ left: u.left - i.left - r.left, width: a, height: f }), t._helper && !n.animate && /static/.test(s.css("position")) && e(this).css({ left: u.left - i.left - r.left, width: a, height: f });
    } }), e.ui.plugin.add("resizable", "alsoResize", { start: function start() {
      var t = e(this).data("ui-resizable"),
          n = t.options,
          r = function r(t) {
        e(t).each(function () {
          var t = e(this);t.data("ui-resizable-alsoresize", { width: parseInt(t.width(), 10), height: parseInt(t.height(), 10), left: parseInt(t.css("left"), 10), top: parseInt(t.css("top"), 10) });
        });
      };_typeof(n.alsoResize) == "object" && !n.alsoResize.parentNode ? n.alsoResize.length ? (n.alsoResize = n.alsoResize[0], r(n.alsoResize)) : e.each(n.alsoResize, function (e) {
        r(e);
      }) : r(n.alsoResize);
    }, resize: function resize(t, n) {
      var r = e(this).data("ui-resizable"),
          i = r.options,
          s = r.originalSize,
          o = r.originalPosition,
          u = { height: r.size.height - s.height || 0, width: r.size.width - s.width || 0, top: r.position.top - o.top || 0, left: r.position.left - o.left || 0 },
          a = function a(t, r) {
        e(t).each(function () {
          var t = e(this),
              i = e(this).data("ui-resizable-alsoresize"),
              s = {},
              o = r && r.length ? r : t.parents(n.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];e.each(o, function (e, t) {
            var n = (i[t] || 0) + (u[t] || 0);n && n >= 0 && (s[t] = n || null);
          }), t.css(s);
        });
      };_typeof(i.alsoResize) == "object" && !i.alsoResize.nodeType ? e.each(i.alsoResize, function (e, t) {
        a(e, t);
      }) : a(i.alsoResize);
    }, stop: function stop() {
      e(this).removeData("resizable-alsoresize");
    } }), e.ui.plugin.add("resizable", "ghost", { start: function start() {
      var t = e(this).data("ui-resizable"),
          n = t.options,
          r = t.size;t.ghost = t.originalElement.clone(), t.ghost.css({ opacity: .25, display: "block", position: "relative", height: r.height, width: r.width, margin: 0, left: 0, top: 0 }).addClass("ui-resizable-ghost").addClass(typeof n.ghost == "string" ? n.ghost : ""), t.ghost.appendTo(t.helper);
    }, resize: function resize() {
      var t = e(this).data("ui-resizable");t.ghost && t.ghost.css({ position: "relative", height: t.size.height, width: t.size.width });
    }, stop: function stop() {
      var t = e(this).data("ui-resizable");t.ghost && t.helper && t.helper.get(0).removeChild(t.ghost.get(0));
    } }), e.ui.plugin.add("resizable", "grid", { resize: function resize() {
      var t = e(this).data("ui-resizable"),
          n = t.options,
          r = t.size,
          i = t.originalSize,
          s = t.originalPosition,
          o = t.axis,
          u = typeof n.grid == "number" ? [n.grid, n.grid] : n.grid,
          a = u[0] || 1,
          f = u[1] || 1,
          l = Math.round((r.width - i.width) / a) * a,
          c = Math.round((r.height - i.height) / f) * f,
          h = i.width + l,
          p = i.height + c,
          d = n.maxWidth && n.maxWidth < h,
          v = n.maxHeight && n.maxHeight < p,
          m = n.minWidth && n.minWidth > h,
          g = n.minHeight && n.minHeight > p;n.grid = u, m && (h += a), g && (p += f), d && (h -= a), v && (p -= f), /^(se|s|e)$/.test(o) ? (t.size.width = h, t.size.height = p) : /^(ne)$/.test(o) ? (t.size.width = h, t.size.height = p, t.position.top = s.top - c) : /^(sw)$/.test(o) ? (t.size.width = h, t.size.height = p, t.position.left = s.left - l) : (t.size.width = h, t.size.height = p, t.position.top = s.top - c, t.position.left = s.left - l);
    } });
})(jQuery);(function (e, t) {
  e.widget("ui.selectable", e.ui.mouse, { version: "1.10.0", options: { appendTo: "body", autoRefresh: !0, distance: 0, filter: "*", tolerance: "touch", selected: null, selecting: null, start: null, stop: null, unselected: null, unselecting: null }, _create: function _create() {
      var t,
          n = this;this.element.addClass("ui-selectable"), this.dragged = !1, this.refresh = function () {
        t = e(n.options.filter, n.element[0]), t.addClass("ui-selectee"), t.each(function () {
          var t = e(this),
              n = t.offset();e.data(this, "selectable-item", { element: this, $element: t, left: n.left, top: n.top, right: n.left + t.outerWidth(), bottom: n.top + t.outerHeight(), startselected: !1, selected: t.hasClass("ui-selected"), selecting: t.hasClass("ui-selecting"), unselecting: t.hasClass("ui-unselecting") });
        });
      }, this.refresh(), this.selectees = t.addClass("ui-selectee"), this._mouseInit(), this.helper = e("<div class='ui-selectable-helper'></div>");
    }, _destroy: function _destroy() {
      this.selectees.removeClass("ui-selectee").removeData("selectable-item"), this.element.removeClass("ui-selectable ui-selectable-disabled"), this._mouseDestroy();
    }, _mouseStart: function _mouseStart(t) {
      var n = this,
          r = this.options;this.opos = [t.pageX, t.pageY];if (this.options.disabled) return;this.selectees = e(r.filter, this.element[0]), this._trigger("start", t), e(r.appendTo).append(this.helper), this.helper.css({ left: t.pageX, top: t.pageY, width: 0, height: 0 }), r.autoRefresh && this.refresh(), this.selectees.filter(".ui-selected").each(function () {
        var r = e.data(this, "selectable-item");r.startselected = !0, !t.metaKey && !t.ctrlKey && (r.$element.removeClass("ui-selected"), r.selected = !1, r.$element.addClass("ui-unselecting"), r.unselecting = !0, n._trigger("unselecting", t, { unselecting: r.element }));
      }), e(t.target).parents().addBack().each(function () {
        var r,
            i = e.data(this, "selectable-item");if (i) return r = !t.metaKey && !t.ctrlKey || !i.$element.hasClass("ui-selected"), i.$element.removeClass(r ? "ui-unselecting" : "ui-selected").addClass(r ? "ui-selecting" : "ui-unselecting"), i.unselecting = !r, i.selecting = r, i.selected = r, r ? n._trigger("selecting", t, { selecting: i.element }) : n._trigger("unselecting", t, { unselecting: i.element }), !1;
      });
    }, _mouseDrag: function _mouseDrag(t) {
      this.dragged = !0;if (this.options.disabled) return;var n,
          r = this,
          i = this.options,
          s = this.opos[0],
          o = this.opos[1],
          u = t.pageX,
          a = t.pageY;return s > u && (n = u, u = s, s = n), o > a && (n = a, a = o, o = n), this.helper.css({ left: s, top: o, width: u - s, height: a - o }), this.selectees.each(function () {
        var n = e.data(this, "selectable-item"),
            f = !1;if (!n || n.element === r.element[0]) return;i.tolerance === "touch" ? f = !(n.left > u || n.right < s || n.top > a || n.bottom < o) : i.tolerance === "fit" && (f = n.left > s && n.right < u && n.top > o && n.bottom < a), f ? (n.selected && (n.$element.removeClass("ui-selected"), n.selected = !1), n.unselecting && (n.$element.removeClass("ui-unselecting"), n.unselecting = !1), n.selecting || (n.$element.addClass("ui-selecting"), n.selecting = !0, r._trigger("selecting", t, { selecting: n.element }))) : (n.selecting && ((t.metaKey || t.ctrlKey) && n.startselected ? (n.$element.removeClass("ui-selecting"), n.selecting = !1, n.$element.addClass("ui-selected"), n.selected = !0) : (n.$element.removeClass("ui-selecting"), n.selecting = !1, n.startselected && (n.$element.addClass("ui-unselecting"), n.unselecting = !0), r._trigger("unselecting", t, { unselecting: n.element }))), n.selected && !t.metaKey && !t.ctrlKey && !n.startselected && (n.$element.removeClass("ui-selected"), n.selected = !1, n.$element.addClass("ui-unselecting"), n.unselecting = !0, r._trigger("unselecting", t, { unselecting: n.element })));
      }), !1;
    }, _mouseStop: function _mouseStop(t) {
      var n = this;return this.dragged = !1, e(".ui-unselecting", this.element[0]).each(function () {
        var r = e.data(this, "selectable-item");r.$element.removeClass("ui-unselecting"), r.unselecting = !1, r.startselected = !1, n._trigger("unselected", t, { unselected: r.element });
      }), e(".ui-selecting", this.element[0]).each(function () {
        var r = e.data(this, "selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"), r.selecting = !1, r.selected = !0, r.startselected = !0, n._trigger("selected", t, { selected: r.element });
      }), this._trigger("stop", t), this.helper.remove(), !1;
    } });
})(jQuery);(function (e, t) {
  function n(e, t, n) {
    return e > t && e < t + n;
  }e.widget("ui.sortable", e.ui.mouse, { version: "1.10.0", widgetEventPrefix: "sort", ready: !1, options: { appendTo: "parent", axis: !1, connectWith: !1, containment: !1, cursor: "auto", cursorAt: !1, dropOnEmpty: !0, forcePlaceholderSize: !1, forceHelperSize: !1, grid: !1, handle: !1, helper: "original", items: "> *", opacity: !1, placeholder: !1, revert: !1, scroll: !0, scrollSensitivity: 20, scrollSpeed: 20, scope: "default", tolerance: "intersect", zIndex: 1e3, activate: null, beforeStop: null, change: null, deactivate: null, out: null, over: null, receive: null, remove: null, sort: null, start: null, stop: null, update: null }, _create: function _create() {
      var e = this.options;this.containerCache = {}, this.element.addClass("ui-sortable"), this.refresh(), this.floating = this.items.length ? e.axis === "x" || /left|right/.test(this.items[0].item.css("float")) || /inline|table-cell/.test(this.items[0].item.css("display")) : !1, this.offset = this.element.offset(), this._mouseInit(), this.ready = !0;
    }, _destroy: function _destroy() {
      this.element.removeClass("ui-sortable ui-sortable-disabled"), this._mouseDestroy();for (var e = this.items.length - 1; e >= 0; e--) {
        this.items[e].item.removeData(this.widgetName + "-item");
      }return this;
    }, _setOption: function _setOption(t, n) {
      t === "disabled" ? (this.options[t] = n, this.widget().toggleClass("ui-sortable-disabled", !!n)) : e.Widget.prototype._setOption.apply(this, arguments);
    }, _mouseCapture: function _mouseCapture(t, n) {
      var r = null,
          i = !1,
          s = this;if (this.reverting) return !1;if (this.options.disabled || this.options.type === "static") return !1;this._refreshItems(t), e(t.target).parents().each(function () {
        if (e.data(this, s.widgetName + "-item") === s) return r = e(this), !1;
      }), e.data(t.target, s.widgetName + "-item") === s && (r = e(t.target));if (!r) return !1;if (this.options.handle && !n) {
        e(this.options.handle, r).find("*").addBack().each(function () {
          this === t.target && (i = !0);
        });if (!i) return !1;
      }return this.currentItem = r, this._removeCurrentsFromItems(), !0;
    }, _mouseStart: function _mouseStart(t, n, r) {
      var i,
          s = this.options;this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(t), this._cacheHelperProportions(), this._cacheMargins(), this.scrollParent = this.helper.scrollParent(), this.offset = this.currentItem.offset(), this.offset = { top: this.offset.top - this.margins.top, left: this.offset.left - this.margins.left }, e.extend(this.offset, { click: { left: t.pageX - this.offset.left, top: t.pageY - this.offset.top }, parent: this._getParentOffset(), relative: this._getRelativeOffset() }), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(t), this.originalPageX = t.pageX, this.originalPageY = t.pageY, s.cursorAt && this._adjustOffsetFromHelper(s.cursorAt), this.domPosition = { prev: this.currentItem.prev()[0], parent: this.currentItem.parent()[0] }, this.helper[0] !== this.currentItem[0] && this.currentItem.hide(), this._createPlaceholder(), s.containment && this._setContainment(), s.cursor && (e("body").css("cursor") && (this._storedCursor = e("body").css("cursor")), e("body").css("cursor", s.cursor)), s.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css("opacity", s.opacity)), s.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper.css("zIndex", s.zIndex)), this.scrollParent[0] !== document && this.scrollParent[0].tagName !== "HTML" && (this.overflowOffset = this.scrollParent.offset()), this._trigger("start", t, this._uiHash()), this._preserveHelperProportions || this._cacheHelperProportions();if (!r) for (i = this.containers.length - 1; i >= 0; i--) {
        this.containers[i]._trigger("activate", t, this._uiHash(this));
      }return e.ui.ddmanager && (e.ui.ddmanager.current = this), e.ui.ddmanager && !s.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t), this.dragging = !0, this.helper.addClass("ui-sortable-helper"), this._mouseDrag(t), !0;
    }, _mouseDrag: function _mouseDrag(t) {
      var n,
          r,
          i,
          s,
          o = this.options,
          u = !1;this.position = this._generatePosition(t), this.positionAbs = this._convertPositionTo("absolute"), this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs), this.options.scroll && (this.scrollParent[0] !== document && this.scrollParent[0].tagName !== "HTML" ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - t.pageY < o.scrollSensitivity ? this.scrollParent[0].scrollTop = u = this.scrollParent[0].scrollTop + o.scrollSpeed : t.pageY - this.overflowOffset.top < o.scrollSensitivity && (this.scrollParent[0].scrollTop = u = this.scrollParent[0].scrollTop - o.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - t.pageX < o.scrollSensitivity ? this.scrollParent[0].scrollLeft = u = this.scrollParent[0].scrollLeft + o.scrollSpeed : t.pageX - this.overflowOffset.left < o.scrollSensitivity && (this.scrollParent[0].scrollLeft = u = this.scrollParent[0].scrollLeft - o.scrollSpeed)) : (t.pageY - e(document).scrollTop() < o.scrollSensitivity ? u = e(document).scrollTop(e(document).scrollTop() - o.scrollSpeed) : e(window).height() - (t.pageY - e(document).scrollTop()) < o.scrollSensitivity && (u = e(document).scrollTop(e(document).scrollTop() + o.scrollSpeed)), t.pageX - e(document).scrollLeft() < o.scrollSensitivity ? u = e(document).scrollLeft(e(document).scrollLeft() - o.scrollSpeed) : e(window).width() - (t.pageX - e(document).scrollLeft()) < o.scrollSensitivity && (u = e(document).scrollLeft(e(document).scrollLeft() + o.scrollSpeed))), u !== !1 && e.ui.ddmanager && !o.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t)), this.positionAbs = this._convertPositionTo("absolute");if (!this.options.axis || this.options.axis !== "y") this.helper[0].style.left = this.position.left + "px";if (!this.options.axis || this.options.axis !== "x") this.helper[0].style.top = this.position.top + "px";for (n = this.items.length - 1; n >= 0; n--) {
        r = this.items[n], i = r.item[0], s = this._intersectsWithPointer(r);if (!s) continue;if (r.instance !== this.currentContainer) continue;if (i !== this.currentItem[0] && this.placeholder[s === 1 ? "next" : "prev"]()[0] !== i && !e.contains(this.placeholder[0], i) && (this.options.type === "semi-dynamic" ? !e.contains(this.element[0], i) : !0)) {
          this.direction = s === 1 ? "down" : "up";if (this.options.tolerance !== "pointer" && !this._intersectsWithSides(r)) break;this._rearrange(t, r), this._trigger("change", t, this._uiHash());break;
        }
      }return this._contactContainers(t), e.ui.ddmanager && e.ui.ddmanager.drag(this, t), this._trigger("sort", t, this._uiHash()), this.lastPositionAbs = this.positionAbs, !1;
    }, _mouseStop: function _mouseStop(t, n) {
      if (!t) return;e.ui.ddmanager && !this.options.dropBehaviour && e.ui.ddmanager.drop(this, t);if (this.options.revert) {
        var r = this,
            i = this.placeholder.offset();this.reverting = !0, e(this.helper).animate({ left: i.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollLeft), top: i.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollTop) }, parseInt(this.options.revert, 10) || 500, function () {
          r._clear(t);
        });
      } else this._clear(t, n);return !1;
    }, cancel: function cancel() {
      if (this.dragging) {
        this._mouseUp({ target: null }), this.options.helper === "original" ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show();for (var t = this.containers.length - 1; t >= 0; t--) {
          this.containers[t]._trigger("deactivate", null, this._uiHash(this)), this.containers[t].containerCache.over && (this.containers[t]._trigger("out", null, this._uiHash(this)), this.containers[t].containerCache.over = 0);
        }
      }return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.options.helper !== "original" && this.helper && this.helper[0].parentNode && this.helper.remove(), e.extend(this, { helper: null, dragging: !1, reverting: !1, _noFinalSort: null }), this.domPosition.prev ? e(this.domPosition.prev).after(this.currentItem) : e(this.domPosition.parent).prepend(this.currentItem)), this;
    }, serialize: function serialize(t) {
      var n = this._getItemsAsjQuery(t && t.connected),
          r = [];return t = t || {}, e(n).each(function () {
        var n = (e(t.item || this).attr(t.attribute || "id") || "").match(t.expression || /(.+)[\-=_](.+)/);n && r.push((t.key || n[1] + "[]") + "=" + (t.key && t.expression ? n[1] : n[2]));
      }), !r.length && t.key && r.push(t.key + "="), r.join("&");
    }, toArray: function toArray(t) {
      var n = this._getItemsAsjQuery(t && t.connected),
          r = [];return t = t || {}, n.each(function () {
        r.push(e(t.item || this).attr(t.attribute || "id") || "");
      }), r;
    }, _intersectsWith: function _intersectsWith(e) {
      var t = this.positionAbs.left,
          n = t + this.helperProportions.width,
          r = this.positionAbs.top,
          i = r + this.helperProportions.height,
          s = e.left,
          o = s + e.width,
          u = e.top,
          a = u + e.height,
          f = this.offset.click.top,
          l = this.offset.click.left,
          c = r + f > u && r + f < a && t + l > s && t + l < o;return this.options.tolerance === "pointer" || this.options.forcePointerForContainers || this.options.tolerance !== "pointer" && this.helperProportions[this.floating ? "width" : "height"] > e[this.floating ? "width" : "height"] ? c : s < t + this.helperProportions.width / 2 && n - this.helperProportions.width / 2 < o && u < r + this.helperProportions.height / 2 && i - this.helperProportions.height / 2 < a;
    }, _intersectsWithPointer: function _intersectsWithPointer(e) {
      var t = this.options.axis === "x" || n(this.positionAbs.top + this.offset.click.top, e.top, e.height),
          r = this.options.axis === "y" || n(this.positionAbs.left + this.offset.click.left, e.left, e.width),
          i = t && r,
          s = this._getDragVerticalDirection(),
          o = this._getDragHorizontalDirection();return i ? this.floating ? o && o === "right" || s === "down" ? 2 : 1 : s && (s === "down" ? 2 : 1) : !1;
    }, _intersectsWithSides: function _intersectsWithSides(e) {
      var t = n(this.positionAbs.top + this.offset.click.top, e.top + e.height / 2, e.height),
          r = n(this.positionAbs.left + this.offset.click.left, e.left + e.width / 2, e.width),
          i = this._getDragVerticalDirection(),
          s = this._getDragHorizontalDirection();return this.floating && s ? s === "right" && r || s === "left" && !r : i && (i === "down" && t || i === "up" && !t);
    }, _getDragVerticalDirection: function _getDragVerticalDirection() {
      var e = this.positionAbs.top - this.lastPositionAbs.top;return e !== 0 && (e > 0 ? "down" : "up");
    }, _getDragHorizontalDirection: function _getDragHorizontalDirection() {
      var e = this.positionAbs.left - this.lastPositionAbs.left;return e !== 0 && (e > 0 ? "right" : "left");
    }, refresh: function refresh(e) {
      return this._refreshItems(e), this.refreshPositions(), this;
    }, _connectWith: function _connectWith() {
      var e = this.options;return e.connectWith.constructor === String ? [e.connectWith] : e.connectWith;
    }, _getItemsAsjQuery: function _getItemsAsjQuery(t) {
      var n,
          r,
          i,
          s,
          o = [],
          u = [],
          a = this._connectWith();if (a && t) for (n = a.length - 1; n >= 0; n--) {
        i = e(a[n]);for (r = i.length - 1; r >= 0; r--) {
          s = e.data(i[r], this.widgetFullName), s && s !== this && !s.options.disabled && u.push([e.isFunction(s.options.items) ? s.options.items.call(s.element) : e(s.options.items, s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), s]);
        }
      }u.push([e.isFunction(this.options.items) ? this.options.items.call(this.element, null, { options: this.options, item: this.currentItem }) : e(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]);for (n = u.length - 1; n >= 0; n--) {
        u[n][0].each(function () {
          o.push(this);
        });
      }return e(o);
    }, _removeCurrentsFromItems: function _removeCurrentsFromItems() {
      var t = this.currentItem.find(":data(" + this.widgetName + "-item)");this.items = e.grep(this.items, function (e) {
        for (var n = 0; n < t.length; n++) {
          if (t[n] === e.item[0]) return !1;
        }return !0;
      });
    }, _refreshItems: function _refreshItems(t) {
      this.items = [], this.containers = [this];var n,
          r,
          i,
          s,
          o,
          u,
          a,
          f,
          l = this.items,
          c = [[e.isFunction(this.options.items) ? this.options.items.call(this.element[0], t, { item: this.currentItem }) : e(this.options.items, this.element), this]],
          h = this._connectWith();if (h && this.ready) for (n = h.length - 1; n >= 0; n--) {
        i = e(h[n]);for (r = i.length - 1; r >= 0; r--) {
          s = e.data(i[r], this.widgetFullName), s && s !== this && !s.options.disabled && (c.push([e.isFunction(s.options.items) ? s.options.items.call(s.element[0], t, { item: this.currentItem }) : e(s.options.items, s.element), s]), this.containers.push(s));
        }
      }for (n = c.length - 1; n >= 0; n--) {
        o = c[n][1], u = c[n][0];for (r = 0, f = u.length; r < f; r++) {
          a = e(u[r]), a.data(this.widgetName + "-item", o), l.push({ item: a, instance: o, width: 0, height: 0, left: 0, top: 0 });
        }
      }
    }, refreshPositions: function refreshPositions(t) {
      this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());var n, r, i, s;for (n = this.items.length - 1; n >= 0; n--) {
        r = this.items[n];if (r.instance !== this.currentContainer && this.currentContainer && r.item[0] !== this.currentItem[0]) continue;i = this.options.toleranceElement ? e(this.options.toleranceElement, r.item) : r.item, t || (r.width = i.outerWidth(), r.height = i.outerHeight()), s = i.offset(), r.left = s.left, r.top = s.top;
      }if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this);else for (n = this.containers.length - 1; n >= 0; n--) {
        s = this.containers[n].element.offset(), this.containers[n].containerCache.left = s.left, this.containers[n].containerCache.top = s.top, this.containers[n].containerCache.width = this.containers[n].element.outerWidth(), this.containers[n].containerCache.height = this.containers[n].element.outerHeight();
      }return this;
    }, _createPlaceholder: function _createPlaceholder(t) {
      t = t || this;var n,
          r = t.options;if (!r.placeholder || r.placeholder.constructor === String) n = r.placeholder, r.placeholder = { element: function element() {
          var r = e(document.createElement(t.currentItem[0].nodeName)).addClass(n || t.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return n || (r.style.visibility = "hidden"), r;
        }, update: function update(e, i) {
          if (n && !r.forcePlaceholderSize) return;i.height() || i.height(t.currentItem.innerHeight() - parseInt(t.currentItem.css("paddingTop") || 0, 10) - parseInt(t.currentItem.css("paddingBottom") || 0, 10)), i.width() || i.width(t.currentItem.innerWidth() - parseInt(t.currentItem.css("paddingLeft") || 0, 10) - parseInt(t.currentItem.css("paddingRight") || 0, 10));
        } };t.placeholder = e(r.placeholder.element.call(t.element, t.currentItem)), t.currentItem.after(t.placeholder), r.placeholder.update(t, t.placeholder);
    }, _contactContainers: function _contactContainers(t) {
      var n,
          r,
          i,
          s,
          o,
          u,
          a,
          f,
          l,
          c = null,
          h = null;for (n = this.containers.length - 1; n >= 0; n--) {
        if (e.contains(this.currentItem[0], this.containers[n].element[0])) continue;if (this._intersectsWith(this.containers[n].containerCache)) {
          if (c && e.contains(this.containers[n].element[0], c.element[0])) continue;c = this.containers[n], h = n;
        } else this.containers[n].containerCache.over && (this.containers[n]._trigger("out", t, this._uiHash(this)), this.containers[n].containerCache.over = 0);
      }if (!c) return;if (this.containers.length === 1) this.containers[h]._trigger("over", t, this._uiHash(this)), this.containers[h].containerCache.over = 1;else {
        i = 1e4, s = null, o = this.containers[h].floating ? "left" : "top", u = this.containers[h].floating ? "width" : "height", a = this.positionAbs[o] + this.offset.click[o];for (r = this.items.length - 1; r >= 0; r--) {
          if (!e.contains(this.containers[h].element[0], this.items[r].item[0])) continue;if (this.items[r].item[0] === this.currentItem[0]) continue;f = this.items[r].item.offset()[o], l = !1, Math.abs(f - a) > Math.abs(f + this.items[r][u] - a) && (l = !0, f += this.items[r][u]), Math.abs(f - a) < i && (i = Math.abs(f - a), s = this.items[r], this.direction = l ? "up" : "down");
        }if (!s && !this.options.dropOnEmpty) return;this.currentContainer = this.containers[h], s ? this._rearrange(t, s, null, !0) : this._rearrange(t, null, this.containers[h].element, !0), this._trigger("change", t, this._uiHash()), this.containers[h]._trigger("change", t, this._uiHash(this)), this.options.placeholder.update(this.currentContainer, this.placeholder), this.containers[h]._trigger("over", t, this._uiHash(this)), this.containers[h].containerCache.over = 1;
      }
    }, _createHelper: function _createHelper(t) {
      var n = this.options,
          r = e.isFunction(n.helper) ? e(n.helper.apply(this.element[0], [t, this.currentItem])) : n.helper === "clone" ? this.currentItem.clone() : this.currentItem;return r.parents("body").length || e(n.appendTo !== "parent" ? n.appendTo : this.currentItem[0].parentNode)[0].appendChild(r[0]), r[0] === this.currentItem[0] && (this._storedCSS = { width: this.currentItem[0].style.width, height: this.currentItem[0].style.height, position: this.currentItem.css("position"), top: this.currentItem.css("top"), left: this.currentItem.css("left") }), (!r[0].style.width || n.forceHelperSize) && r.width(this.currentItem.width()), (!r[0].style.height || n.forceHelperSize) && r.height(this.currentItem.height()), r;
    }, _adjustOffsetFromHelper: function _adjustOffsetFromHelper(t) {
      typeof t == "string" && (t = t.split(" ")), e.isArray(t) && (t = { left: +t[0], top: +t[1] || 0 }), "left" in t && (this.offset.click.left = t.left + this.margins.left), "right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left), "top" in t && (this.offset.click.top = t.top + this.margins.top), "bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top);
    }, _getParentOffset: function _getParentOffset() {
      this.offsetParent = this.helper.offsetParent();var t = this.offsetParent.offset();this.cssPosition === "absolute" && this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop());if (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() === "html" && e.ui.ie) t = { top: 0, left: 0 };return { top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0), left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0) };
    }, _getRelativeOffset: function _getRelativeOffset() {
      if (this.cssPosition === "relative") {
        var e = this.currentItem.position();return { top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(), left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft() };
      }return { top: 0, left: 0 };
    }, _cacheMargins: function _cacheMargins() {
      this.margins = { left: parseInt(this.currentItem.css("marginLeft"), 10) || 0, top: parseInt(this.currentItem.css("marginTop"), 10) || 0 };
    }, _cacheHelperProportions: function _cacheHelperProportions() {
      this.helperProportions = { width: this.helper.outerWidth(), height: this.helper.outerHeight() };
    }, _setContainment: function _setContainment() {
      var t,
          n,
          r,
          i = this.options;i.containment === "parent" && (i.containment = this.helper[0].parentNode);if (i.containment === "document" || i.containment === "window") this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, e(i.containment === "document" ? document : window).width() - this.helperProportions.width - this.margins.left, (e(i.containment === "document" ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];/^(document|window|parent)$/.test(i.containment) || (t = e(i.containment)[0], n = e(i.containment).offset(), r = e(t).css("overflow") !== "hidden", this.containment = [n.left + (parseInt(e(t).css("borderLeftWidth"), 10) || 0) + (parseInt(e(t).css("paddingLeft"), 10) || 0) - this.margins.left, n.top + (parseInt(e(t).css("borderTopWidth"), 10) || 0) + (parseInt(e(t).css("paddingTop"), 10) || 0) - this.margins.top, n.left + (r ? Math.max(t.scrollWidth, t.offsetWidth) : t.offsetWidth) - (parseInt(e(t).css("borderLeftWidth"), 10) || 0) - (parseInt(e(t).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, n.top + (r ? Math.max(t.scrollHeight, t.offsetHeight) : t.offsetHeight) - (parseInt(e(t).css("borderTopWidth"), 10) || 0) - (parseInt(e(t).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top]);
    }, _convertPositionTo: function _convertPositionTo(t, n) {
      n || (n = this.position);var r = t === "absolute" ? 1 : -1,
          i = this.cssPosition !== "absolute" || this.scrollParent[0] !== document && !!e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
          s = /(html|body)/i.test(i[0].tagName);return { top: n.top + this.offset.relative.top * r + this.offset.parent.top * r - (this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : s ? 0 : i.scrollTop()) * r, left: n.left + this.offset.relative.left * r + this.offset.parent.left * r - (this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : s ? 0 : i.scrollLeft()) * r };
    }, _generatePosition: function _generatePosition(t) {
      var n,
          r,
          i = this.options,
          s = t.pageX,
          o = t.pageY,
          u = this.cssPosition !== "absolute" || this.scrollParent[0] !== document && !!e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
          a = /(html|body)/i.test(u[0].tagName);return this.cssPosition === "relative" && (this.scrollParent[0] === document || this.scrollParent[0] === this.offsetParent[0]) && (this.offset.relative = this._getRelativeOffset()), this.originalPosition && (this.containment && (t.pageX - this.offset.click.left < this.containment[0] && (s = this.containment[0] + this.offset.click.left), t.pageY - this.offset.click.top < this.containment[1] && (o = this.containment[1] + this.offset.click.top), t.pageX - this.offset.click.left > this.containment[2] && (s = this.containment[2] + this.offset.click.left), t.pageY - this.offset.click.top > this.containment[3] && (o = this.containment[3] + this.offset.click.top)), i.grid && (n = this.originalPageY + Math.round((o - this.originalPageY) / i.grid[1]) * i.grid[1], o = this.containment ? n - this.offset.click.top >= this.containment[1] && n - this.offset.click.top <= this.containment[3] ? n : n - this.offset.click.top >= this.containment[1] ? n - i.grid[1] : n + i.grid[1] : n, r = this.originalPageX + Math.round((s - this.originalPageX) / i.grid[0]) * i.grid[0], s = this.containment ? r - this.offset.click.left >= this.containment[0] && r - this.offset.click.left <= this.containment[2] ? r : r - this.offset.click.left >= this.containment[0] ? r - i.grid[0] : r + i.grid[0] : r)), { top: o - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : a ? 0 : u.scrollTop()), left: s - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : a ? 0 : u.scrollLeft()) };
    }, _rearrange: function _rearrange(e, t, n, r) {
      n ? n[0].appendChild(this.placeholder[0]) : t.item[0].parentNode.insertBefore(this.placeholder[0], this.direction === "down" ? t.item[0] : t.item[0].nextSibling), this.counter = this.counter ? ++this.counter : 1;var i = this.counter;this._delay(function () {
        i === this.counter && this.refreshPositions(!r);
      });
    }, _clear: function _clear(t, n) {
      this.reverting = !1;var r,
          i = [];!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem), this._noFinalSort = null;if (this.helper[0] === this.currentItem[0]) {
        for (r in this._storedCSS) {
          if (this._storedCSS[r] === "auto" || this._storedCSS[r] === "static") this._storedCSS[r] = "";
        }this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");
      } else this.currentItem.show();this.fromOutside && !n && i.push(function (e) {
        this._trigger("receive", e, this._uiHash(this.fromOutside));
      }), (this.fromOutside || this.domPosition.prev !== this.currentItem.prev().not(".ui-sortable-helper")[0] || this.domPosition.parent !== this.currentItem.parent()[0]) && !n && i.push(function (e) {
        this._trigger("update", e, this._uiHash());
      }), this !== this.currentContainer && (n || (i.push(function (e) {
        this._trigger("remove", e, this._uiHash());
      }), i.push(function (e) {
        return function (t) {
          e._trigger("receive", t, this._uiHash(this));
        };
      }.call(this, this.currentContainer)), i.push(function (e) {
        return function (t) {
          e._trigger("update", t, this._uiHash(this));
        };
      }.call(this, this.currentContainer))));for (r = this.containers.length - 1; r >= 0; r--) {
        n || i.push(function (e) {
          return function (t) {
            e._trigger("deactivate", t, this._uiHash(this));
          };
        }.call(this, this.containers[r])), this.containers[r].containerCache.over && (i.push(function (e) {
          return function (t) {
            e._trigger("out", t, this._uiHash(this));
          };
        }.call(this, this.containers[r])), this.containers[r].containerCache.over = 0);
      }this._storedCursor && e("body").css("cursor", this._storedCursor), this._storedOpacity && this.helper.css("opacity", this._storedOpacity), this._storedZIndex && this.helper.css("zIndex", this._storedZIndex === "auto" ? "" : this._storedZIndex), this.dragging = !1;if (this.cancelHelperRemoval) {
        if (!n) {
          this._trigger("beforeStop", t, this._uiHash());for (r = 0; r < i.length; r++) {
            i[r].call(this, t);
          }this._trigger("stop", t, this._uiHash());
        }return this.fromOutside = !1, !1;
      }n || this._trigger("beforeStop", t, this._uiHash()), this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.helper[0] !== this.currentItem[0] && this.helper.remove(), this.helper = null;if (!n) {
        for (r = 0; r < i.length; r++) {
          i[r].call(this, t);
        }this._trigger("stop", t, this._uiHash());
      }return this.fromOutside = !1, !0;
    }, _trigger: function _trigger() {
      e.Widget.prototype._trigger.apply(this, arguments) === !1 && this.cancel();
    }, _uiHash: function _uiHash(t) {
      var n = t || this;return { helper: n.helper, placeholder: n.placeholder || e([]), position: n.position, originalPosition: n.originalPosition, offset: n.positionAbs, item: n.currentItem, sender: t ? t.element : null };
    } });
})(jQuery);(function (e, t) {
  var n = 0,
      r = {},
      i = {};r.height = r.paddingTop = r.paddingBottom = r.borderTopWidth = r.borderBottomWidth = "hide", i.height = i.paddingTop = i.paddingBottom = i.borderTopWidth = i.borderBottomWidth = "show", e.widget("ui.accordion", { version: "1.10.0", options: { active: 0, animate: {}, collapsible: !1, event: "click", header: "> li > :first-child,> :not(li):even", heightStyle: "auto", icons: { activeHeader: "ui-icon-triangle-1-s", header: "ui-icon-triangle-1-e" }, activate: null, beforeActivate: null }, _create: function _create() {
      var t = this.options;this.prevShow = this.prevHide = e(), this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist"), !t.collapsible && (t.active === !1 || t.active == null) && (t.active = 0), this._processPanels(), t.active < 0 && (t.active += this.headers.length), this._refresh();
    }, _getCreateEventData: function _getCreateEventData() {
      return { header: this.active, content: this.active.length ? this.active.next() : e() };
    }, _createIcons: function _createIcons() {
      var t = this.options.icons;t && (e("<span>").addClass("ui-accordion-header-icon ui-icon " + t.header).prependTo(this.headers), this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader), this.headers.addClass("ui-accordion-icons"));
    }, _destroyIcons: function _destroyIcons() {
      this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove();
    }, _destroy: function _destroy() {
      var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"), this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function () {
        /^ui-accordion/.test(this.id) && this.removeAttribute("id");
      }), this._destroyIcons(), e = this.headers.next().css("display", "").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function () {
        /^ui-accordion/.test(this.id) && this.removeAttribute("id");
      }), this.options.heightStyle !== "content" && e.css("height", "");
    }, _setOption: function _setOption(e, t) {
      if (e === "active") {
        this._activate(t);return;
      }e === "event" && (this.options.event && this._off(this.headers, this.options.event), this._setupEvents(t)), this._super(e, t), e === "collapsible" && !t && this.options.active === !1 && this._activate(0), e === "icons" && (this._destroyIcons(), t && this._createIcons()), e === "disabled" && this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!t);
    }, _keydown: function _keydown(t) {
      if (t.altKey || t.ctrlKey) return;var n = e.ui.keyCode,
          r = this.headers.length,
          i = this.headers.index(t.target),
          s = !1;switch (t.keyCode) {case n.RIGHT:case n.DOWN:
          s = this.headers[(i + 1) % r];break;case n.LEFT:case n.UP:
          s = this.headers[(i - 1 + r) % r];break;case n.SPACE:case n.ENTER:
          this._eventHandler(t);break;case n.HOME:
          s = this.headers[0];break;case n.END:
          s = this.headers[r - 1];}s && (e(t.target).attr("tabIndex", -1), e(s).attr("tabIndex", 0), s.focus(), t.preventDefault());
    }, _panelKeyDown: function _panelKeyDown(t) {
      t.keyCode === e.ui.keyCode.UP && t.ctrlKey && e(t.currentTarget).prev().focus();
    }, refresh: function refresh() {
      var t = this.options;this._processPanels();if (t.active === !1 && t.collapsible === !0 || !this.headers.length) t.active = !1, this.active = e();t.active === !1 ? this._activate(0) : this.active.length && !e.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (t.active = !1, this.active = e()) : this._activate(Math.max(0, t.active - 1)) : t.active = this.headers.index(this.active), this._destroyIcons(), this._refresh();
    }, _processPanels: function _processPanels() {
      this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"), this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();
    }, _refresh: function _refresh() {
      var t,
          r = this.options,
          i = r.heightStyle,
          s = this.element.parent(),
          o = this.accordionId = "ui-accordion-" + (this.element.attr("id") || ++n);this.active = this._findActive(r.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"), this.active.next().addClass("ui-accordion-content-active").show(), this.headers.attr("role", "tab").each(function (t) {
        var n = e(this),
            r = n.attr("id"),
            i = n.next(),
            s = i.attr("id");r || (r = o + "-header-" + t, n.attr("id", r)), s || (s = o + "-panel-" + t, i.attr("id", s)), n.attr("aria-controls", s), i.attr("aria-labelledby", r);
      }).next().attr("role", "tabpanel"), this.headers.not(this.active).attr({ "aria-selected": "false", tabIndex: -1 }).next().attr({ "aria-expanded": "false", "aria-hidden": "true" }).hide(), this.active.length ? this.active.attr({ "aria-selected": "true", tabIndex: 0 }).next().attr({ "aria-expanded": "true", "aria-hidden": "false" }) : this.headers.eq(0).attr("tabIndex", 0), this._createIcons(), this._setupEvents(r.event), i === "fill" ? (t = s.height(), this.element.siblings(":visible").each(function () {
        var n = e(this),
            r = n.css("position");if (r === "absolute" || r === "fixed") return;t -= n.outerHeight(!0);
      }), this.headers.each(function () {
        t -= e(this).outerHeight(!0);
      }), this.headers.next().each(function () {
        e(this).height(Math.max(0, t - e(this).innerHeight() + e(this).height()));
      }).css("overflow", "auto")) : i === "auto" && (t = 0, this.headers.next().each(function () {
        t = Math.max(t, e(this).css("height", "").height());
      }).height(t));
    }, _activate: function _activate(t) {
      var n = this._findActive(t)[0];if (n === this.active[0]) return;n = n || this.active[0], this._eventHandler({ target: n, currentTarget: n, preventDefault: e.noop });
    }, _findActive: function _findActive(t) {
      return typeof t == "number" ? this.headers.eq(t) : e();
    }, _setupEvents: function _setupEvents(t) {
      var n = { keydown: "_keydown" };t && e.each(t.split(" "), function (e, t) {
        n[t] = "_eventHandler";
      }), this._off(this.headers.add(this.headers.next())), this._on(this.headers, n), this._on(this.headers.next(), { keydown: "_panelKeyDown" }), this._hoverable(this.headers), this._focusable(this.headers);
    }, _eventHandler: function _eventHandler(t) {
      var n = this.options,
          r = this.active,
          i = e(t.currentTarget),
          s = i[0] === r[0],
          o = s && n.collapsible,
          u = o ? e() : i.next(),
          a = r.next(),
          f = { oldHeader: r, oldPanel: a, newHeader: o ? e() : i, newPanel: u };t.preventDefault();if (s && !n.collapsible || this._trigger("beforeActivate", t, f) === !1) return;n.active = o ? !1 : this.headers.index(i), this.active = s ? e() : i, this._toggle(f), r.removeClass("ui-accordion-header-active ui-state-active"), n.icons && r.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header), s || (i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"), n.icons && i.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader), i.next().addClass("ui-accordion-content-active"));
    }, _toggle: function _toggle(t) {
      var n = t.newPanel,
          r = this.prevShow.length ? this.prevShow : t.oldPanel;this.prevShow.add(this.prevHide).stop(!0, !0), this.prevShow = n, this.prevHide = r, this.options.animate ? this._animate(n, r, t) : (r.hide(), n.show(), this._toggleComplete(t)), r.attr({ "aria-expanded": "false", "aria-hidden": "true" }), r.prev().attr("aria-selected", "false"), n.length && r.length ? r.prev().attr("tabIndex", -1) : n.length && this.headers.filter(function () {
        return e(this).attr("tabIndex") === 0;
      }).attr("tabIndex", -1), n.attr({ "aria-expanded": "true", "aria-hidden": "false" }).prev().attr({ "aria-selected": "true", tabIndex: 0 });
    }, _animate: function _animate(e, t, n) {
      var s,
          o,
          u,
          a = this,
          f = 0,
          l = e.length && (!t.length || e.index() < t.index()),
          c = this.options.animate || {},
          h = l && c.down || c,
          p = function p() {
        a._toggleComplete(n);
      };typeof h == "number" && (u = h), typeof h == "string" && (o = h), o = o || h.easing || c.easing, u = u || h.duration || c.duration;if (!t.length) return e.animate(i, u, o, p);if (!e.length) return t.animate(r, u, o, p);s = e.show().outerHeight(), t.animate(r, { duration: u, easing: o, step: function step(e, t) {
          t.now = Math.round(e);
        } }), e.hide().animate(i, { duration: u, easing: o, complete: p, step: function step(e, n) {
          n.now = Math.round(e), n.prop !== "height" ? f += n.now : a.options.heightStyle !== "content" && (n.now = Math.round(s - t.outerHeight() - f), f = 0);
        } });
    }, _toggleComplete: function _toggleComplete(e) {
      var t = e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"), t.length && (t.parent()[0].className = t.parent()[0].className), this._trigger("activate", null, e);
    } });
})(jQuery);(function (e, t) {
  var n = 0;e.widget("ui.autocomplete", { version: "1.10.0", defaultElement: "<input>", options: { appendTo: null, autoFocus: !1, delay: 300, minLength: 1, position: { my: "left top", at: "left bottom", collision: "none" }, source: null, change: null, close: null, focus: null, open: null, response: null, search: null, select: null }, pending: 0, _create: function _create() {
      var t, n, r;this.isMultiLine = this._isMultiLine(), this.valueMethod = this.element[this.element.is("input,textarea") ? "val" : "text"], this.isNewMenu = !0, this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off"), this._on(this.element, { keydown: function keydown(i) {
          if (this.element.prop("readOnly")) {
            t = !0, r = !0, n = !0;return;
          }t = !1, r = !1, n = !1;var s = e.ui.keyCode;switch (i.keyCode) {case s.PAGE_UP:
              t = !0, this._move("previousPage", i);break;case s.PAGE_DOWN:
              t = !0, this._move("nextPage", i);break;case s.UP:
              t = !0, this._keyEvent("previous", i);break;case s.DOWN:
              t = !0, this._keyEvent("next", i);break;case s.ENTER:case s.NUMPAD_ENTER:
              this.menu.active && (t = !0, i.preventDefault(), this.menu.select(i));break;case s.TAB:
              this.menu.active && this.menu.select(i);break;case s.ESCAPE:
              this.menu.element.is(":visible") && (this._value(this.term), this.close(i), i.preventDefault());break;default:
              n = !0, this._searchTimeout(i);}
        }, keypress: function keypress(r) {
          if (t) {
            t = !1, r.preventDefault();return;
          }if (n) return;var i = e.ui.keyCode;switch (r.keyCode) {case i.PAGE_UP:
              this._move("previousPage", r);break;case i.PAGE_DOWN:
              this._move("nextPage", r);break;case i.UP:
              this._keyEvent("previous", r);break;case i.DOWN:
              this._keyEvent("next", r);}
        }, input: function input(e) {
          if (r) {
            r = !1, e.preventDefault();return;
          }this._searchTimeout(e);
        }, focus: function focus() {
          this.selectedItem = null, this.previous = this._value();
        }, blur: function blur(e) {
          if (this.cancelBlur) {
            delete this.cancelBlur;return;
          }clearTimeout(this.searching), this.close(e), this._change(e);
        } }), this._initSource(), this.menu = e("<ul>").addClass("ui-autocomplete").appendTo(this._appendTo()).menu({ input: e(), role: null }).zIndex(this.element.zIndex() + 1).hide().data("ui-menu"), this._on(this.menu.element, { mousedown: function mousedown(t) {
          t.preventDefault(), this.cancelBlur = !0, this._delay(function () {
            delete this.cancelBlur;
          });var n = this.menu.element[0];e(t.target).closest(".ui-menu-item").length || this._delay(function () {
            var t = this;this.document.one("mousedown", function (r) {
              r.target !== t.element[0] && r.target !== n && !e.contains(n, r.target) && t.close();
            });
          });
        }, menufocus: function menufocus(t, n) {
          if (this.isNewMenu) {
            this.isNewMenu = !1;if (t.originalEvent && /^mouse/.test(t.originalEvent.type)) {
              this.menu.blur(), this.document.one("mousemove", function () {
                e(t.target).trigger(t.originalEvent);
              });return;
            }
          }var r = n.item.data("ui-autocomplete-item");!1 !== this._trigger("focus", t, { item: r }) ? t.originalEvent && /^key/.test(t.originalEvent.type) && this._value(r.value) : this.liveRegion.text(r.value);
        }, menuselect: function menuselect(e, t) {
          var n = t.item.data("ui-autocomplete-item"),
              r = this.previous;this.element[0] !== this.document[0].activeElement && (this.element.focus(), this.previous = r, this._delay(function () {
            this.previous = r, this.selectedItem = n;
          })), !1 !== this._trigger("select", e, { item: n }) && this._value(n.value), this.term = this._value(), this.close(e), this.selectedItem = n;
        } }), this.liveRegion = e("<span>", { role: "status", "aria-live": "polite" }).addClass("ui-helper-hidden-accessible").insertAfter(this.element), this._on(this.window, { beforeunload: function beforeunload() {
          this.element.removeAttr("autocomplete");
        } });
    }, _destroy: function _destroy() {
      clearTimeout(this.searching), this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"), this.menu.element.remove(), this.liveRegion.remove();
    }, _setOption: function _setOption(e, t) {
      this._super(e, t), e === "source" && this._initSource(), e === "appendTo" && this.menu.element.appendTo(this._appendTo()), e === "disabled" && t && this.xhr && this.xhr.abort();
    }, _appendTo: function _appendTo() {
      var t = this.options.appendTo;return t && (t = t.jquery || t.nodeType ? e(t) : this.document.find(t).eq(0)), t || (t = this.element.closest(".ui-front")), t.length || (t = this.document[0].body), t;
    }, _isMultiLine: function _isMultiLine() {
      return this.element.is("textarea") ? !0 : this.element.is("input") ? !1 : this.element.prop("isContentEditable");
    }, _initSource: function _initSource() {
      var t,
          n,
          r = this;e.isArray(this.options.source) ? (t = this.options.source, this.source = function (n, r) {
        r(e.ui.autocomplete.filter(t, n.term));
      }) : typeof this.options.source == "string" ? (n = this.options.source, this.source = function (t, i) {
        r.xhr && r.xhr.abort(), r.xhr = e.ajax({ url: n, data: t, dataType: "json", success: function success(e) {
            i(e);
          }, error: function error() {
            i([]);
          } });
      }) : this.source = this.options.source;
    }, _searchTimeout: function _searchTimeout(e) {
      clearTimeout(this.searching), this.searching = this._delay(function () {
        this.term !== this._value() && (this.selectedItem = null, this.search(null, e));
      }, this.options.delay);
    }, search: function search(e, t) {
      e = e != null ? e : this._value(), this.term = this._value();if (e.length < this.options.minLength) return this.close(t);if (this._trigger("search", t) === !1) return;return this._search(e);
    }, _search: function _search(e) {
      this.pending++, this.element.addClass("ui-autocomplete-loading"), this.cancelSearch = !1, this.source({ term: e }, this._response());
    }, _response: function _response() {
      var e = this,
          t = ++n;return function (r) {
        t === n && e.__response(r), e.pending--, e.pending || e.element.removeClass("ui-autocomplete-loading");
      };
    }, __response: function __response(e) {
      e && (e = this._normalize(e)), this._trigger("response", null, { content: e }), !this.options.disabled && e && e.length && !this.cancelSearch ? (this._suggest(e), this._trigger("open")) : this._close();
    }, close: function close(e) {
      this.cancelSearch = !0, this._close(e);
    }, _close: function _close(e) {
      this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.blur(), this.isNewMenu = !0, this._trigger("close", e));
    }, _change: function _change(e) {
      this.previous !== this._value() && this._trigger("change", e, { item: this.selectedItem });
    }, _normalize: function _normalize(t) {
      return t.length && t[0].label && t[0].value ? t : e.map(t, function (t) {
        return typeof t == "string" ? { label: t, value: t } : e.extend({ label: t.label || t.value, value: t.value || t.label }, t);
      });
    }, _suggest: function _suggest(t) {
      var n = this.menu.element.empty().zIndex(this.element.zIndex() + 1);this._renderMenu(n, t), this.menu.refresh(), n.show(), this._resizeMenu(), n.position(e.extend({ of: this.element }, this.options.position)), this.options.autoFocus && this.menu.next();
    }, _resizeMenu: function _resizeMenu() {
      var e = this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth() + 1, this.element.outerWidth()));
    }, _renderMenu: function _renderMenu(t, n) {
      var r = this;e.each(n, function (e, n) {
        r._renderItemData(t, n);
      });
    }, _renderItemData: function _renderItemData(e, t) {
      return this._renderItem(e, t).data("ui-autocomplete-item", t);
    }, _renderItem: function _renderItem(t, n) {
      return e("<li>").append(e("<a>").text(n.label)).appendTo(t);
    }, _move: function _move(e, t) {
      if (!this.menu.element.is(":visible")) {
        this.search(null, t);return;
      }if (this.menu.isFirstItem() && /^previous/.test(e) || this.menu.isLastItem() && /^next/.test(e)) {
        this._value(this.term), this.menu.blur();return;
      }this.menu[e](t);
    }, widget: function widget() {
      return this.menu.element;
    }, _value: function _value() {
      return this.valueMethod.apply(this.element, arguments);
    }, _keyEvent: function _keyEvent(e, t) {
      if (!this.isMultiLine || this.menu.element.is(":visible")) this._move(e, t), t.preventDefault();
    } }), e.extend(e.ui.autocomplete, { escapeRegex: function escapeRegex(e) {
      return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
    }, filter: function filter(t, n) {
      var r = new RegExp(e.ui.autocomplete.escapeRegex(n), "i");return e.grep(t, function (e) {
        return r.test(e.label || e.value || e);
      });
    } }), e.widget("ui.autocomplete", e.ui.autocomplete, { options: { messages: { noResults: "No search results.", results: function results(e) {
          return e + (e > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate.";
        } } }, __response: function __response(e) {
      var t;this._superApply(arguments);if (this.options.disabled || this.cancelSearch) return;e && e.length ? t = this.options.messages.results(e.length) : t = this.options.messages.noResults, this.liveRegion.text(t);
    } });
})(jQuery);(function (e, t) {
  var n,
      r,
      i,
      s,
      o = "ui-button ui-widget ui-state-default ui-corner-all",
      u = "ui-state-hover ui-state-active ",
      a = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
      f = function f() {
    var t = e(this).find(":ui-button");setTimeout(function () {
      t.button("refresh");
    }, 1);
  },
      l = function l(t) {
    var n = t.name,
        r = t.form,
        i = e([]);return n && (n = n.replace(/'/g, "\\'"), r ? i = e(r).find("[name='" + n + "']") : i = e("[name='" + n + "']", t.ownerDocument).filter(function () {
      return !this.form;
    })), i;
  };e.widget("ui.button", { version: "1.10.0", defaultElement: "<button>", options: { disabled: null, text: !0, label: null, icons: { primary: null, secondary: null } }, _create: function _create() {
      this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, f), typeof this.options.disabled != "boolean" ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled), this._determineButtonType(), this.hasTitle = !!this.buttonElement.attr("title");var t = this,
          u = this.options,
          a = this.type === "checkbox" || this.type === "radio",
          c = a ? "" : "ui-state-active",
          h = "ui-state-focus";u.label === null && (u.label = this.type === "input" ? this.buttonElement.val() : this.buttonElement.html()), this._hoverable(this.buttonElement), this.buttonElement.addClass(o).attr("role", "button").bind("mouseenter" + this.eventNamespace, function () {
        if (u.disabled) return;this === n && e(this).addClass("ui-state-active");
      }).bind("mouseleave" + this.eventNamespace, function () {
        if (u.disabled) return;e(this).removeClass(c);
      }).bind("click" + this.eventNamespace, function (e) {
        u.disabled && (e.preventDefault(), e.stopImmediatePropagation());
      }), this.element.bind("focus" + this.eventNamespace, function () {
        t.buttonElement.addClass(h);
      }).bind("blur" + this.eventNamespace, function () {
        t.buttonElement.removeClass(h);
      }), a && (this.element.bind("change" + this.eventNamespace, function () {
        if (s) return;t.refresh();
      }), this.buttonElement.bind("mousedown" + this.eventNamespace, function (e) {
        if (u.disabled) return;s = !1, r = e.pageX, i = e.pageY;
      }).bind("mouseup" + this.eventNamespace, function (e) {
        if (u.disabled) return;if (r !== e.pageX || i !== e.pageY) s = !0;
      })), this.type === "checkbox" ? this.buttonElement.bind("click" + this.eventNamespace, function () {
        if (u.disabled || s) return !1;
      }) : this.type === "radio" ? this.buttonElement.bind("click" + this.eventNamespace, function () {
        if (u.disabled || s) return !1;e(this).addClass("ui-state-active"), t.buttonElement.attr("aria-pressed", "true");var n = t.element[0];l(n).not(n).map(function () {
          return e(this).button("widget")[0];
        }).removeClass("ui-state-active").attr("aria-pressed", "false");
      }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function () {
        if (u.disabled) return !1;e(this).addClass("ui-state-active"), n = this, t.document.one("mouseup", function () {
          n = null;
        });
      }).bind("mouseup" + this.eventNamespace, function () {
        if (u.disabled) return !1;e(this).removeClass("ui-state-active");
      }).bind("keydown" + this.eventNamespace, function (t) {
        if (u.disabled) return !1;(t.keyCode === e.ui.keyCode.SPACE || t.keyCode === e.ui.keyCode.ENTER) && e(this).addClass("ui-state-active");
      }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function () {
        e(this).removeClass("ui-state-active");
      }), this.buttonElement.is("a") && this.buttonElement.keyup(function (t) {
        t.keyCode === e.ui.keyCode.SPACE && e(this).click();
      })), this._setOption("disabled", u.disabled), this._resetButton();
    }, _determineButtonType: function _determineButtonType() {
      var e, t, n;this.element.is("[type=checkbox]") ? this.type = "checkbox" : this.element.is("[type=radio]") ? this.type = "radio" : this.element.is("input") ? this.type = "input" : this.type = "button", this.type === "checkbox" || this.type === "radio" ? (e = this.element.parents().last(), t = "label[for='" + this.element.attr("id") + "']", this.buttonElement = e.find(t), this.buttonElement.length || (e = e.length ? e.siblings() : this.element.siblings(), this.buttonElement = e.filter(t), this.buttonElement.length || (this.buttonElement = e.find(t))), this.element.addClass("ui-helper-hidden-accessible"), n = this.element.is(":checked"), n && this.buttonElement.addClass("ui-state-active"), this.buttonElement.prop("aria-pressed", n)) : this.buttonElement = this.element;
    }, widget: function widget() {
      return this.buttonElement;
    }, _destroy: function _destroy() {
      this.element.removeClass("ui-helper-hidden-accessible"), this.buttonElement.removeClass(o + " " + u + " " + a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()), this.hasTitle || this.buttonElement.removeAttr("title");
    }, _setOption: function _setOption(e, t) {
      this._super(e, t);if (e === "disabled") {
        t ? this.element.prop("disabled", !0) : this.element.prop("disabled", !1);return;
      }this._resetButton();
    }, refresh: function refresh() {
      var t = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");t !== this.options.disabled && this._setOption("disabled", t), this.type === "radio" ? l(this.element[0]).each(function () {
        e(this).is(":checked") ? e(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false");
      }) : this.type === "checkbox" && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false"));
    }, _resetButton: function _resetButton() {
      if (this.type === "input") {
        this.options.label && this.element.val(this.options.label);return;
      }var t = this.buttonElement.removeClass(a),
          n = e("<span></span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),
          r = this.options.icons,
          i = r.primary && r.secondary,
          s = [];r.primary || r.secondary ? (this.options.text && s.push("ui-button-text-icon" + (i ? "s" : r.primary ? "-primary" : "-secondary")), r.primary && t.prepend("<span class='ui-button-icon-primary ui-icon " + r.primary + "'></span>"), r.secondary && t.append("<span class='ui-button-icon-secondary ui-icon " + r.secondary + "'></span>"), this.options.text || (s.push(i ? "ui-button-icons-only" : "ui-button-icon-only"), this.hasTitle || t.attr("title", e.trim(n)))) : s.push("ui-button-text-only"), t.addClass(s.join(" "));
    } }), e.widget("ui.buttonset", { version: "1.10.0", options: { items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)" }, _create: function _create() {
      this.element.addClass("ui-buttonset");
    }, _init: function _init() {
      this.refresh();
    }, _setOption: function _setOption(e, t) {
      e === "disabled" && this.buttons.button("option", e, t), this._super(e, t);
    }, refresh: function refresh() {
      var t = this.element.css("direction") === "rtl";this.buttons = this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function () {
        return e(this).button("widget")[0];
      }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(t ? "ui-corner-left" : "ui-corner-right").end().end();
    }, _destroy: function _destroy() {
      this.element.removeClass("ui-buttonset"), this.buttons.map(function () {
        return e(this).button("widget")[0];
      }).removeClass("ui-corner-left ui-corner-right").end().button("destroy");
    } });
})(jQuery);(function (e, t) {
  function s() {
    this._curInst = null, this._keyEvent = !1, this._disabledInputs = [], this._datepickerShowing = !1, this._inDialog = !1, this._mainDivId = "ui-datepicker-div", this._inlineClass = "ui-datepicker-inline", this._appendClass = "ui-datepicker-append", this._triggerClass = "ui-datepicker-trigger", this._dialogClass = "ui-datepicker-dialog", this._disableClass = "ui-datepicker-disabled", this._unselectableClass = "ui-datepicker-unselectable", this._currentClass = "ui-datepicker-current-day", this._dayOverClass = "ui-datepicker-days-cell-over", this.regional = [], this.regional[""] = { closeText: "Done", prevText: "Prev", nextText: "Next", currentText: "Today", monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], weekHeader: "Wk", dateFormat: "mm/dd/yy", firstDay: 0, isRTL: !1, showMonthAfterYear: !1, yearSuffix: "" }, this._defaults = { showOn: "focus", showAnim: "fadeIn", showOptions: {}, defaultDate: null, appendText: "", buttonText: "...", buttonImage: "", buttonImageOnly: !1, hideIfNoPrevNext: !1, navigationAsDateFormat: !1, gotoCurrent: !1, changeMonth: !1, changeYear: !1, yearRange: "c-10:c+10", showOtherMonths: !1, selectOtherMonths: !1, showWeek: !1, calculateWeek: this.iso8601Week, shortYearCutoff: "+10", minDate: null, maxDate: null, duration: "fast", beforeShowDay: null, beforeShow: null, onSelect: null, onChangeMonthYear: null, onClose: null, numberOfMonths: 1, showCurrentAtPos: 0, stepMonths: 1, stepBigMonths: 12, altField: "", altFormat: "", constrainInput: !0, showButtonPanel: !1, autoSize: !1, disabled: !1 }, e.extend(this._defaults, this.regional[""]), this.dpDiv = o(e("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));
  }function o(t) {
    var n = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n, "mouseout", function () {
      e(this).removeClass("ui-state-hover"), this.className.indexOf("ui-datepicker-prev") !== -1 && e(this).removeClass("ui-datepicker-prev-hover"), this.className.indexOf("ui-datepicker-next") !== -1 && e(this).removeClass("ui-datepicker-next-hover");
    }).delegate(n, "mouseover", function () {
      e.datepicker._isDisabledDatepicker(i.inline ? t.parent()[0] : i.input[0]) || (e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), e(this).addClass("ui-state-hover"), this.className.indexOf("ui-datepicker-prev") !== -1 && e(this).addClass("ui-datepicker-prev-hover"), this.className.indexOf("ui-datepicker-next") !== -1 && e(this).addClass("ui-datepicker-next-hover"));
    });
  }function u(t, n) {
    e.extend(t, n);for (var r in n) {
      n[r] == null && (t[r] = n[r]);
    }return t;
  }e.extend(e.ui, { datepicker: { version: "1.10.0" } });var n = "datepicker",
      r = new Date().getTime(),
      i;e.extend(s.prototype, { markerClassName: "hasDatepicker", maxRows: 4, _widgetDatepicker: function _widgetDatepicker() {
      return this.dpDiv;
    }, setDefaults: function setDefaults(e) {
      return u(this._defaults, e || {}), this;
    }, _attachDatepicker: function _attachDatepicker(t, n) {
      var r, i, s;r = t.nodeName.toLowerCase(), i = r === "div" || r === "span", t.id || (this.uuid += 1, t.id = "dp" + this.uuid), s = this._newInst(e(t), i), s.settings = e.extend({}, n || {}), r === "input" ? this._connectDatepicker(t, s) : i && this._inlineDatepicker(t, s);
    }, _newInst: function _newInst(t, n) {
      var r = t[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");return { id: r, input: t, selectedDay: 0, selectedMonth: 0, selectedYear: 0, drawMonth: 0, drawYear: 0, inline: n, dpDiv: n ? o(e("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv };
    }, _connectDatepicker: function _connectDatepicker(t, r) {
      var i = e(t);r.append = e([]), r.trigger = e([]);if (i.hasClass(this.markerClassName)) return;this._attachments(i, r), i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp), this._autoSize(r), e.data(t, n, r), r.settings.disabled && this._disableDatepicker(t);
    }, _attachments: function _attachments(t, n) {
      var r,
          i,
          s,
          o = this._get(n, "appendText"),
          u = this._get(n, "isRTL");n.append && n.append.remove(), o && (n.append = e("<span class='" + this._appendClass + "'>" + o + "</span>"), t[u ? "before" : "after"](n.append)), t.unbind("focus", this._showDatepicker), n.trigger && n.trigger.remove(), r = this._get(n, "showOn"), (r === "focus" || r === "both") && t.focus(this._showDatepicker);if (r === "button" || r === "both") i = this._get(n, "buttonText"), s = this._get(n, "buttonImage"), n.trigger = e(this._get(n, "buttonImageOnly") ? e("<img/>").addClass(this._triggerClass).attr({ src: s, alt: i, title: i }) : e("<button type='button'></button>").addClass(this._triggerClass).html(s ? e("<img/>").attr({ src: s, alt: i, title: i }) : i)), t[u ? "before" : "after"](n.trigger), n.trigger.click(function () {
        return e.datepicker._datepickerShowing && e.datepicker._lastInput === t[0] ? e.datepicker._hideDatepicker() : e.datepicker._datepickerShowing && e.datepicker._lastInput !== t[0] ? (e.datepicker._hideDatepicker(), e.datepicker._showDatepicker(t[0])) : e.datepicker._showDatepicker(t[0]), !1;
      });
    }, _autoSize: function _autoSize(e) {
      if (this._get(e, "autoSize") && !e.inline) {
        var t,
            n,
            r,
            i,
            s = new Date(2009, 11, 20),
            o = this._get(e, "dateFormat");o.match(/[DM]/) && (t = function t(e) {
          n = 0, r = 0;for (i = 0; i < e.length; i++) {
            e[i].length > n && (n = e[i].length, r = i);
          }return r;
        }, s.setMonth(t(this._get(e, o.match(/MM/) ? "monthNames" : "monthNamesShort"))), s.setDate(t(this._get(e, o.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - s.getDay())), e.input.attr("size", this._formatDate(e, s).length);
      }
    }, _inlineDatepicker: function _inlineDatepicker(t, r) {
      var i = e(t);if (i.hasClass(this.markerClassName)) return;i.addClass(this.markerClassName).append(r.dpDiv), e.data(t, n, r), this._setDate(r, this._getDefaultDate(r), !0), this._updateDatepicker(r), this._updateAlternate(r), r.settings.disabled && this._disableDatepicker(t), r.dpDiv.css("display", "block");
    }, _dialogDatepicker: function _dialogDatepicker(t, r, i, s, o) {
      var a,
          f,
          l,
          c,
          h,
          p = this._dialogInst;return p || (this.uuid += 1, a = "dp" + this.uuid, this._dialogInput = e("<input type='text' id='" + a + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.keydown(this._doKeyDown), e("body").append(this._dialogInput), p = this._dialogInst = this._newInst(this._dialogInput, !1), p.settings = {}, e.data(this._dialogInput[0], n, p)), u(p.settings, s || {}), r = r && r.constructor === Date ? this._formatDate(p, r) : r, this._dialogInput.val(r), this._pos = o ? o.length ? o : [o.pageX, o.pageY] : null, this._pos || (f = document.documentElement.clientWidth, l = document.documentElement.clientHeight, c = document.documentElement.scrollLeft || document.body.scrollLeft, h = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [f / 2 - 100 + c, l / 2 - 150 + h]), this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"), p.settings.onSelect = i, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), this._showDatepicker(this._dialogInput[0]), e.blockUI && e.blockUI(this.dpDiv), e.data(this._dialogInput[0], n, p), this;
    }, _destroyDatepicker: function _destroyDatepicker(t) {
      var r,
          i = e(t),
          s = e.data(t, n);if (!i.hasClass(this.markerClassName)) return;r = t.nodeName.toLowerCase(), e.removeData(t, n), r === "input" ? (s.append.remove(), s.trigger.remove(), i.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : (r === "div" || r === "span") && i.removeClass(this.markerClassName).empty();
    }, _enableDatepicker: function _enableDatepicker(t) {
      var r,
          i,
          s = e(t),
          o = e.data(t, n);if (!s.hasClass(this.markerClassName)) return;r = t.nodeName.toLowerCase();if (r === "input") t.disabled = !1, o.trigger.filter("button").each(function () {
        this.disabled = !1;
      }).end().filter("img").css({ opacity: "1.0", cursor: "" });else if (r === "div" || r === "span") i = s.children("." + this._inlineClass), i.children().removeClass("ui-state-disabled"), i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1);this._disabledInputs = e.map(this._disabledInputs, function (e) {
        return e === t ? null : e;
      });
    }, _disableDatepicker: function _disableDatepicker(t) {
      var r,
          i,
          s = e(t),
          o = e.data(t, n);if (!s.hasClass(this.markerClassName)) return;r = t.nodeName.toLowerCase();if (r === "input") t.disabled = !0, o.trigger.filter("button").each(function () {
        this.disabled = !0;
      }).end().filter("img").css({ opacity: "0.5", cursor: "default" });else if (r === "div" || r === "span") i = s.children("." + this._inlineClass), i.children().addClass("ui-state-disabled"), i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0);this._disabledInputs = e.map(this._disabledInputs, function (e) {
        return e === t ? null : e;
      }), this._disabledInputs[this._disabledInputs.length] = t;
    }, _isDisabledDatepicker: function _isDisabledDatepicker(e) {
      if (!e) return !1;for (var t = 0; t < this._disabledInputs.length; t++) {
        if (this._disabledInputs[t] === e) return !0;
      }return !1;
    }, _getInst: function _getInst(t) {
      try {
        return e.data(t, n);
      } catch (r) {
        throw "Missing instance data for this datepicker";
      }
    }, _optionDatepicker: function _optionDatepicker(n, r, i) {
      var s,
          o,
          a,
          f,
          l = this._getInst(n);if (arguments.length === 2 && typeof r == "string") return r === "defaults" ? e.extend({}, e.datepicker._defaults) : l ? r === "all" ? e.extend({}, l.settings) : this._get(l, r) : null;s = r || {}, typeof r == "string" && (s = {}, s[r] = i), l && (this._curInst === l && this._hideDatepicker(), o = this._getDateDatepicker(n, !0), a = this._getMinMaxDate(l, "min"), f = this._getMinMaxDate(l, "max"), u(l.settings, s), a !== null && s.dateFormat !== t && s.minDate === t && (l.settings.minDate = this._formatDate(l, a)), f !== null && s.dateFormat !== t && s.maxDate === t && (l.settings.maxDate = this._formatDate(l, f)), "disabled" in s && (s.disabled ? this._disableDatepicker(n) : this._enableDatepicker(n)), this._attachments(e(n), l), this._autoSize(l), this._setDate(l, o), this._updateAlternate(l), this._updateDatepicker(l));
    }, _changeDatepicker: function _changeDatepicker(e, t, n) {
      this._optionDatepicker(e, t, n);
    }, _refreshDatepicker: function _refreshDatepicker(e) {
      var t = this._getInst(e);t && this._updateDatepicker(t);
    }, _setDateDatepicker: function _setDateDatepicker(e, t) {
      var n = this._getInst(e);n && (this._setDate(n, t), this._updateDatepicker(n), this._updateAlternate(n));
    }, _getDateDatepicker: function _getDateDatepicker(e, t) {
      var n = this._getInst(e);return n && !n.inline && this._setDateFromField(n, t), n ? this._getDate(n) : null;
    }, _doKeyDown: function _doKeyDown(t) {
      var n,
          r,
          i,
          s = e.datepicker._getInst(t.target),
          o = !0,
          u = s.dpDiv.is(".ui-datepicker-rtl");s._keyEvent = !0;if (e.datepicker._datepickerShowing) switch (t.keyCode) {case 9:
          e.datepicker._hideDatepicker(), o = !1;break;case 13:
          return i = e("td." + e.datepicker._dayOverClass + ":not(." + e.datepicker._currentClass + ")", s.dpDiv), i[0] && e.datepicker._selectDay(t.target, s.selectedMonth, s.selectedYear, i[0]), n = e.datepicker._get(s, "onSelect"), n ? (r = e.datepicker._formatDate(s), n.apply(s.input ? s.input[0] : null, [r, s])) : e.datepicker._hideDatepicker(), !1;case 27:
          e.datepicker._hideDatepicker();break;case 33:
          e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(s, "stepBigMonths") : -e.datepicker._get(s, "stepMonths"), "M");break;case 34:
          e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(s, "stepBigMonths") : +e.datepicker._get(s, "stepMonths"), "M");break;case 35:
          (t.ctrlKey || t.metaKey) && e.datepicker._clearDate(t.target), o = t.ctrlKey || t.metaKey;break;case 36:
          (t.ctrlKey || t.metaKey) && e.datepicker._gotoToday(t.target), o = t.ctrlKey || t.metaKey;break;case 37:
          (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, u ? 1 : -1, "D"), o = t.ctrlKey || t.metaKey, t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(s, "stepBigMonths") : -e.datepicker._get(s, "stepMonths"), "M");break;case 38:
          (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, -7, "D"), o = t.ctrlKey || t.metaKey;break;case 39:
          (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, u ? -1 : 1, "D"), o = t.ctrlKey || t.metaKey, t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(s, "stepBigMonths") : +e.datepicker._get(s, "stepMonths"), "M");break;case 40:
          (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, 7, "D"), o = t.ctrlKey || t.metaKey;break;default:
          o = !1;} else t.keyCode === 36 && t.ctrlKey ? e.datepicker._showDatepicker(this) : o = !1;o && (t.preventDefault(), t.stopPropagation());
    }, _doKeyPress: function _doKeyPress(t) {
      var n,
          r,
          i = e.datepicker._getInst(t.target);if (e.datepicker._get(i, "constrainInput")) return n = e.datepicker._possibleChars(e.datepicker._get(i, "dateFormat")), r = String.fromCharCode(t.charCode == null ? t.keyCode : t.charCode), t.ctrlKey || t.metaKey || r < " " || !n || n.indexOf(r) > -1;
    }, _doKeyUp: function _doKeyUp(t) {
      var n,
          r = e.datepicker._getInst(t.target);if (r.input.val() !== r.lastVal) try {
        n = e.datepicker.parseDate(e.datepicker._get(r, "dateFormat"), r.input ? r.input.val() : null, e.datepicker._getFormatConfig(r)), n && (e.datepicker._setDateFromField(r), e.datepicker._updateAlternate(r), e.datepicker._updateDatepicker(r));
      } catch (i) {}return !0;
    }, _showDatepicker: function _showDatepicker(t) {
      t = t.target || t, t.nodeName.toLowerCase() !== "input" && (t = e("input", t.parentNode)[0]);if (e.datepicker._isDisabledDatepicker(t) || e.datepicker._lastInput === t) return;var n, r, i, s, o, a, f;n = e.datepicker._getInst(t), e.datepicker._curInst && e.datepicker._curInst !== n && (e.datepicker._curInst.dpDiv.stop(!0, !0), n && e.datepicker._datepickerShowing && e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])), r = e.datepicker._get(n, "beforeShow"), i = r ? r.apply(t, [t, n]) : {};if (i === !1) return;u(n.settings, i), n.lastVal = null, e.datepicker._lastInput = t, e.datepicker._setDateFromField(n), e.datepicker._inDialog && (t.value = ""), e.datepicker._pos || (e.datepicker._pos = e.datepicker._findPos(t), e.datepicker._pos[1] += t.offsetHeight), s = !1, e(t).parents().each(function () {
        return s |= e(this).css("position") === "fixed", !s;
      }), o = { left: e.datepicker._pos[0], top: e.datepicker._pos[1] }, e.datepicker._pos = null, n.dpDiv.empty(), n.dpDiv.css({ position: "absolute", display: "block", top: "-1000px" }), e.datepicker._updateDatepicker(n), o = e.datepicker._checkOffset(n, o, s), n.dpDiv.css({ position: e.datepicker._inDialog && e.blockUI ? "static" : s ? "fixed" : "absolute", display: "none", left: o.left + "px", top: o.top + "px" }), n.inline || (a = e.datepicker._get(n, "showAnim"), f = e.datepicker._get(n, "duration"), n.dpDiv.zIndex(e(t).zIndex() + 1), e.datepicker._datepickerShowing = !0, e.effects && e.effects.effect[a] ? n.dpDiv.show(a, e.datepicker._get(n, "showOptions"), f) : n.dpDiv[a || "show"](a ? f : null), n.input.is(":visible") && !n.input.is(":disabled") && n.input.focus(), e.datepicker._curInst = n);
    }, _updateDatepicker: function _updateDatepicker(t) {
      this.maxRows = 4, i = t, t.dpDiv.empty().append(this._generateHTML(t)), this._attachHandlers(t), t.dpDiv.find("." + this._dayOverClass + " a").mouseover();var n,
          r = this._getNumberOfMonths(t),
          s = r[1],
          o = 17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""), s > 1 && t.dpDiv.addClass("ui-datepicker-multi-" + s).css("width", o * s + "em"), t.dpDiv[(r[0] !== 1 || r[1] !== 1 ? "add" : "remove") + "Class"]("ui-datepicker-multi"), t.dpDiv[(this._get(t, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"), t === e.datepicker._curInst && e.datepicker._datepickerShowing && t.input && t.input.is(":visible") && !t.input.is(":disabled") && t.input[0] !== document.activeElement && t.input.focus(), t.yearshtml && (n = t.yearshtml, setTimeout(function () {
        n === t.yearshtml && t.yearshtml && t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml), n = t.yearshtml = null;
      }, 0));
    }, _getBorders: function _getBorders(e) {
      var t = function t(e) {
        return { thin: 1, medium: 2, thick: 3 }[e] || e;
      };return [parseFloat(t(e.css("border-left-width"))), parseFloat(t(e.css("border-top-width")))];
    }, _checkOffset: function _checkOffset(t, n, r) {
      var i = t.dpDiv.outerWidth(),
          s = t.dpDiv.outerHeight(),
          o = t.input ? t.input.outerWidth() : 0,
          u = t.input ? t.input.outerHeight() : 0,
          a = document.documentElement.clientWidth + (r ? 0 : e(document).scrollLeft()),
          f = document.documentElement.clientHeight + (r ? 0 : e(document).scrollTop());return n.left -= this._get(t, "isRTL") ? i - o : 0, n.left -= r && n.left === t.input.offset().left ? e(document).scrollLeft() : 0, n.top -= r && n.top === t.input.offset().top + u ? e(document).scrollTop() : 0, n.left -= Math.min(n.left, n.left + i > a && a > i ? Math.abs(n.left + i - a) : 0), n.top -= Math.min(n.top, n.top + s > f && f > s ? Math.abs(s + u) : 0), n;
    }, _findPos: function _findPos(t) {
      var n,
          r = this._getInst(t),
          i = this._get(r, "isRTL");while (t && (t.type === "hidden" || t.nodeType !== 1 || e.expr.filters.hidden(t))) {
        t = t[i ? "previousSibling" : "nextSibling"];
      }return n = e(t).offset(), [n.left, n.top];
    }, _hideDatepicker: function _hideDatepicker(t) {
      var r,
          i,
          s,
          o,
          u = this._curInst;if (!u || t && u !== e.data(t, n)) return;this._datepickerShowing && (r = this._get(u, "showAnim"), i = this._get(u, "duration"), s = function s() {
        e.datepicker._tidyDialog(u);
      }, e.effects && (e.effects.effect[r] || e.effects[r]) ? u.dpDiv.hide(r, e.datepicker._get(u, "showOptions"), i, s) : u.dpDiv[r === "slideDown" ? "slideUp" : r === "fadeIn" ? "fadeOut" : "hide"](r ? i : null, s), r || s(), this._datepickerShowing = !1, o = this._get(u, "onClose"), o && o.apply(u.input ? u.input[0] : null, [u.input ? u.input.val() : "", u]), this._lastInput = null, this._inDialog && (this._dialogInput.css({ position: "absolute", left: "0", top: "-100px" }), e.blockUI && (e.unblockUI(), e("body").append(this.dpDiv))), this._inDialog = !1);
    }, _tidyDialog: function _tidyDialog(e) {
      e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar");
    }, _checkExternalClick: function _checkExternalClick(t) {
      if (!e.datepicker._curInst) return;var n = e(t.target),
          r = e.datepicker._getInst(n[0]);(n[0].id !== e.datepicker._mainDivId && n.parents("#" + e.datepicker._mainDivId).length === 0 && !n.hasClass(e.datepicker.markerClassName) && !n.closest("." + e.datepicker._triggerClass).length && e.datepicker._datepickerShowing && (!e.datepicker._inDialog || !e.blockUI) || n.hasClass(e.datepicker.markerClassName) && e.datepicker._curInst !== r) && e.datepicker._hideDatepicker();
    }, _adjustDate: function _adjustDate(t, n, r) {
      var i = e(t),
          s = this._getInst(i[0]);if (this._isDisabledDatepicker(i[0])) return;this._adjustInstDate(s, n + (r === "M" ? this._get(s, "showCurrentAtPos") : 0), r), this._updateDatepicker(s);
    }, _gotoToday: function _gotoToday(t) {
      var n,
          r = e(t),
          i = this._getInst(r[0]);this._get(i, "gotoCurrent") && i.currentDay ? (i.selectedDay = i.currentDay, i.drawMonth = i.selectedMonth = i.currentMonth, i.drawYear = i.selectedYear = i.currentYear) : (n = new Date(), i.selectedDay = n.getDate(), i.drawMonth = i.selectedMonth = n.getMonth(), i.drawYear = i.selectedYear = n.getFullYear()), this._notifyChange(i), this._adjustDate(r);
    }, _selectMonthYear: function _selectMonthYear(t, n, r) {
      var i = e(t),
          s = this._getInst(i[0]);s["selected" + (r === "M" ? "Month" : "Year")] = s["draw" + (r === "M" ? "Month" : "Year")] = parseInt(n.options[n.selectedIndex].value, 10), this._notifyChange(s), this._adjustDate(i);
    }, _selectDay: function _selectDay(t, n, r, i) {
      var s,
          o = e(t);if (e(i).hasClass(this._unselectableClass) || this._isDisabledDatepicker(o[0])) return;s = this._getInst(o[0]), s.selectedDay = s.currentDay = e("a", i).html(), s.selectedMonth = s.currentMonth = n, s.selectedYear = s.currentYear = r, this._selectDate(t, this._formatDate(s, s.currentDay, s.currentMonth, s.currentYear));
    }, _clearDate: function _clearDate(t) {
      var n = e(t);this._selectDate(n, "");
    }, _selectDate: function _selectDate(t, n) {
      var r,
          i = e(t),
          s = this._getInst(i[0]);n = n != null ? n : this._formatDate(s), s.input && s.input.val(n), this._updateAlternate(s), r = this._get(s, "onSelect"), r ? r.apply(s.input ? s.input[0] : null, [n, s]) : s.input && s.input.trigger("change"), s.inline ? this._updateDatepicker(s) : (this._hideDatepicker(), this._lastInput = s.input[0], _typeof(s.input[0]) != "object" && s.input.focus(), this._lastInput = null);
    }, _updateAlternate: function _updateAlternate(t) {
      var n,
          r,
          i,
          s = this._get(t, "altField");s && (n = this._get(t, "altFormat") || this._get(t, "dateFormat"), r = this._getDate(t), i = this.formatDate(n, r, this._getFormatConfig(t)), e(s).each(function () {
        e(this).val(i);
      }));
    }, noWeekends: function noWeekends(e) {
      var t = e.getDay();return [t > 0 && t < 6, ""];
    }, iso8601Week: function iso8601Week(e) {
      var t,
          n = new Date(e.getTime());return n.setDate(n.getDate() + 4 - (n.getDay() || 7)), t = n.getTime(), n.setMonth(0), n.setDate(1), Math.floor(Math.round((t - n) / 864e5) / 7) + 1;
    }, parseDate: function parseDate(t, n, r) {
      if (t == null || n == null) throw "Invalid arguments";n = (typeof n === "undefined" ? "undefined" : _typeof(n)) == "object" ? n.toString() : n + "";if (n === "") return null;var i,
          s,
          o,
          u = 0,
          a = (r ? r.shortYearCutoff : null) || this._defaults.shortYearCutoff,
          f = typeof a != "string" ? a : new Date().getFullYear() % 100 + parseInt(a, 10),
          l = (r ? r.dayNamesShort : null) || this._defaults.dayNamesShort,
          c = (r ? r.dayNames : null) || this._defaults.dayNames,
          h = (r ? r.monthNamesShort : null) || this._defaults.monthNamesShort,
          p = (r ? r.monthNames : null) || this._defaults.monthNames,
          d = -1,
          v = -1,
          m = -1,
          g = -1,
          y = !1,
          b,
          w = function w(e) {
        var n = i + 1 < t.length && t.charAt(i + 1) === e;return n && i++, n;
      },
          E = function E(e) {
        var t = w(e),
            r = e === "@" ? 14 : e === "!" ? 20 : e === "y" && t ? 4 : e === "o" ? 3 : 2,
            i = new RegExp("^\\d{1," + r + "}"),
            s = n.substring(u).match(i);if (!s) throw "Missing number at position " + u;return u += s[0].length, parseInt(s[0], 10);
      },
          S = function S(t, r, i) {
        var s = -1,
            o = e.map(w(t) ? i : r, function (e, t) {
          return [[t, e]];
        }).sort(function (e, t) {
          return -(e[1].length - t[1].length);
        });e.each(o, function (e, t) {
          var r = t[1];if (n.substr(u, r.length).toLowerCase() === r.toLowerCase()) return s = t[0], u += r.length, !1;
        });if (s !== -1) return s + 1;throw "Unknown name at position " + u;
      },
          x = function x() {
        if (n.charAt(u) !== t.charAt(i)) throw "Unexpected literal at position " + u;u++;
      };for (i = 0; i < t.length; i++) {
        if (y) t.charAt(i) === "'" && !w("'") ? y = !1 : x();else switch (t.charAt(i)) {case "d":
            m = E("d");break;case "D":
            S("D", l, c);break;case "o":
            g = E("o");break;case "m":
            v = E("m");break;case "M":
            v = S("M", h, p);break;case "y":
            d = E("y");break;case "@":
            b = new Date(E("@")), d = b.getFullYear(), v = b.getMonth() + 1, m = b.getDate();break;case "!":
            b = new Date((E("!") - this._ticksTo1970) / 1e4), d = b.getFullYear(), v = b.getMonth() + 1, m = b.getDate();break;case "'":
            w("'") ? x() : y = !0;break;default:
            x();}
      }if (u < n.length) {
        o = n.substr(u);if (!/^\s+/.test(o)) throw "Extra/unparsed characters found in date: " + o;
      }d === -1 ? d = new Date().getFullYear() : d < 100 && (d += new Date().getFullYear() - new Date().getFullYear() % 100 + (d <= f ? 0 : -100));if (g > -1) {
        v = 1, m = g;do {
          s = this._getDaysInMonth(d, v - 1);if (m <= s) break;v++, m -= s;
        } while (!0);
      }b = this._daylightSavingAdjust(new Date(d, v - 1, m));if (b.getFullYear() !== d || b.getMonth() + 1 !== v || b.getDate() !== m) throw "Invalid date";return b;
    }, ATOM: "yy-mm-dd", COOKIE: "D, dd M yy", ISO_8601: "yy-mm-dd", RFC_822: "D, d M y", RFC_850: "DD, dd-M-y", RFC_1036: "D, d M y", RFC_1123: "D, d M yy", RFC_2822: "D, d M yy", RSS: "D, d M y", TICKS: "!", TIMESTAMP: "@", W3C: "yy-mm-dd", _ticksTo1970: (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)) * 24 * 60 * 60 * 1e7, formatDate: function formatDate(e, t, n) {
      if (!t) return "";var r,
          i = (n ? n.dayNamesShort : null) || this._defaults.dayNamesShort,
          s = (n ? n.dayNames : null) || this._defaults.dayNames,
          o = (n ? n.monthNamesShort : null) || this._defaults.monthNamesShort,
          u = (n ? n.monthNames : null) || this._defaults.monthNames,
          a = function a(t) {
        var n = r + 1 < e.length && e.charAt(r + 1) === t;return n && r++, n;
      },
          f = function f(e, t, n) {
        var r = "" + t;if (a(e)) while (r.length < n) {
          r = "0" + r;
        }return r;
      },
          l = function l(e, t, n, r) {
        return a(e) ? r[t] : n[t];
      },
          c = "",
          h = !1;if (t) for (r = 0; r < e.length; r++) {
        if (h) e.charAt(r) === "'" && !a("'") ? h = !1 : c += e.charAt(r);else switch (e.charAt(r)) {case "d":
            c += f("d", t.getDate(), 2);break;case "D":
            c += l("D", t.getDay(), i, s);break;case "o":
            c += f("o", Math.round((new Date(t.getFullYear(), t.getMonth(), t.getDate()).getTime() - new Date(t.getFullYear(), 0, 0).getTime()) / 864e5), 3);break;case "m":
            c += f("m", t.getMonth() + 1, 2);break;case "M":
            c += l("M", t.getMonth(), o, u);break;case "y":
            c += a("y") ? t.getFullYear() : (t.getYear() % 100 < 10 ? "0" : "") + t.getYear() % 100;break;case "@":
            c += t.getTime();break;case "!":
            c += t.getTime() * 1e4 + this._ticksTo1970;break;case "'":
            a("'") ? c += "'" : h = !0;break;default:
            c += e.charAt(r);}
      }return c;
    }, _possibleChars: function _possibleChars(e) {
      var t,
          n = "",
          r = !1,
          i = function i(n) {
        var r = t + 1 < e.length && e.charAt(t + 1) === n;return r && t++, r;
      };for (t = 0; t < e.length; t++) {
        if (r) e.charAt(t) === "'" && !i("'") ? r = !1 : n += e.charAt(t);else switch (e.charAt(t)) {case "d":case "m":case "y":case "@":
            n += "0123456789";break;case "D":case "M":
            return null;case "'":
            i("'") ? n += "'" : r = !0;break;default:
            n += e.charAt(t);}
      }return n;
    }, _get: function _get(e, n) {
      return e.settings[n] !== t ? e.settings[n] : this._defaults[n];
    }, _setDateFromField: function _setDateFromField(e, t) {
      if (e.input.val() === e.lastVal) return;var n = this._get(e, "dateFormat"),
          r = e.lastVal = e.input ? e.input.val() : null,
          i = this._getDefaultDate(e),
          s = i,
          o = this._getFormatConfig(e);try {
        s = this.parseDate(n, r, o) || i;
      } catch (u) {
        r = t ? "" : r;
      }e.selectedDay = s.getDate(), e.drawMonth = e.selectedMonth = s.getMonth(), e.drawYear = e.selectedYear = s.getFullYear(), e.currentDay = r ? s.getDate() : 0, e.currentMonth = r ? s.getMonth() : 0, e.currentYear = r ? s.getFullYear() : 0, this._adjustInstDate(e);
    }, _getDefaultDate: function _getDefaultDate(e) {
      return this._restrictMinMax(e, this._determineDate(e, this._get(e, "defaultDate"), new Date()));
    }, _determineDate: function _determineDate(t, n, r) {
      var i = function i(e) {
        var t = new Date();return t.setDate(t.getDate() + e), t;
      },
          s = function s(n) {
        try {
          return e.datepicker.parseDate(e.datepicker._get(t, "dateFormat"), n, e.datepicker._getFormatConfig(t));
        } catch (r) {}var i = (n.toLowerCase().match(/^c/) ? e.datepicker._getDate(t) : null) || new Date(),
            s = i.getFullYear(),
            o = i.getMonth(),
            u = i.getDate(),
            a = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,
            f = a.exec(n);while (f) {
          switch (f[2] || "d") {case "d":case "D":
              u += parseInt(f[1], 10);break;case "w":case "W":
              u += parseInt(f[1], 10) * 7;break;case "m":case "M":
              o += parseInt(f[1], 10), u = Math.min(u, e.datepicker._getDaysInMonth(s, o));break;case "y":case "Y":
              s += parseInt(f[1], 10), u = Math.min(u, e.datepicker._getDaysInMonth(s, o));}f = a.exec(n);
        }return new Date(s, o, u);
      },
          o = n == null || n === "" ? r : typeof n == "string" ? s(n) : typeof n == "number" ? isNaN(n) ? r : i(n) : new Date(n.getTime());return o = o && o.toString() === "Invalid Date" ? r : o, o && (o.setHours(0), o.setMinutes(0), o.setSeconds(0), o.setMilliseconds(0)), this._daylightSavingAdjust(o);
    }, _daylightSavingAdjust: function _daylightSavingAdjust(e) {
      return e ? (e.setHours(e.getHours() > 12 ? e.getHours() + 2 : 0), e) : null;
    }, _setDate: function _setDate(e, t, n) {
      var r = !t,
          i = e.selectedMonth,
          s = e.selectedYear,
          o = this._restrictMinMax(e, this._determineDate(e, t, new Date()));e.selectedDay = e.currentDay = o.getDate(), e.drawMonth = e.selectedMonth = e.currentMonth = o.getMonth(), e.drawYear = e.selectedYear = e.currentYear = o.getFullYear(), (i !== e.selectedMonth || s !== e.selectedYear) && !n && this._notifyChange(e), this._adjustInstDate(e), e.input && e.input.val(r ? "" : this._formatDate(e));
    }, _getDate: function _getDate(e) {
      var t = !e.currentYear || e.input && e.input.val() === "" ? null : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay));return t;
    }, _attachHandlers: function _attachHandlers(t) {
      var n = this._get(t, "stepMonths"),
          i = "#" + t.id.replace(/\\\\/g, "\\");t.dpDiv.find("[data-handler]").map(function () {
        var t = { prev: function prev() {
            window["DP_jQuery_" + r].datepicker._adjustDate(i, -n, "M");
          }, next: function next() {
            window["DP_jQuery_" + r].datepicker._adjustDate(i, +n, "M");
          }, hide: function hide() {
            window["DP_jQuery_" + r].datepicker._hideDatepicker();
          }, today: function today() {
            window["DP_jQuery_" + r].datepicker._gotoToday(i);
          }, selectDay: function selectDay() {
            return window["DP_jQuery_" + r].datepicker._selectDay(i, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this), !1;
          }, selectMonth: function selectMonth() {
            return window["DP_jQuery_" + r].datepicker._selectMonthYear(i, this, "M"), !1;
          }, selectYear: function selectYear() {
            return window["DP_jQuery_" + r].datepicker._selectMonthYear(i, this, "Y"), !1;
          } };e(this).bind(this.getAttribute("data-event"), t[this.getAttribute("data-handler")]);
      });
    }, _generateHTML: function _generateHTML(e) {
      var t,
          n,
          r,
          i,
          s,
          o,
          u,
          a,
          f,
          l,
          c,
          h,
          p,
          d,
          v,
          m,
          g,
          y,
          b,
          w,
          E,
          S,
          x,
          T,
          N,
          C,
          k,
          L,
          A,
          O,
          M,
          _,
          D,
          P,
          H,
          B,
          j,
          F,
          I,
          q = new Date(),
          R = this._daylightSavingAdjust(new Date(q.getFullYear(), q.getMonth(), q.getDate())),
          U = this._get(e, "isRTL"),
          z = this._get(e, "showButtonPanel"),
          W = this._get(e, "hideIfNoPrevNext"),
          X = this._get(e, "navigationAsDateFormat"),
          V = this._getNumberOfMonths(e),
          $ = this._get(e, "showCurrentAtPos"),
          J = this._get(e, "stepMonths"),
          K = V[0] !== 1 || V[1] !== 1,
          Q = this._daylightSavingAdjust(e.currentDay ? new Date(e.currentYear, e.currentMonth, e.currentDay) : new Date(9999, 9, 9)),
          G = this._getMinMaxDate(e, "min"),
          Y = this._getMinMaxDate(e, "max"),
          Z = e.drawMonth - $,
          et = e.drawYear;Z < 0 && (Z += 12, et--);if (Y) {
        t = this._daylightSavingAdjust(new Date(Y.getFullYear(), Y.getMonth() - V[0] * V[1] + 1, Y.getDate())), t = G && t < G ? G : t;while (this._daylightSavingAdjust(new Date(et, Z, 1)) > t) {
          Z--, Z < 0 && (Z = 11, et--);
        }
      }e.drawMonth = Z, e.drawYear = et, n = this._get(e, "prevText"), n = X ? this.formatDate(n, this._daylightSavingAdjust(new Date(et, Z - J, 1)), this._getFormatConfig(e)) : n, r = this._canAdjustMonth(e, -1, et, Z) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (U ? "e" : "w") + "'>" + n + "</span></a>" : W ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (U ? "e" : "w") + "'>" + n + "</span></a>", i = this._get(e, "nextText"), i = X ? this.formatDate(i, this._daylightSavingAdjust(new Date(et, Z + J, 1)), this._getFormatConfig(e)) : i, s = this._canAdjustMonth(e, 1, et, Z) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (U ? "w" : "e") + "'>" + i + "</span></a>" : W ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (U ? "w" : "e") + "'>" + i + "</span></a>", o = this._get(e, "currentText"), u = this._get(e, "gotoCurrent") && e.currentDay ? Q : R, o = X ? this.formatDate(o, u, this._getFormatConfig(e)) : o, a = e.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(e, "closeText") + "</button>", f = z ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (U ? a : "") + (this._isInRange(e, u) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + o + "</button>" : "") + (U ? "" : a) + "</div>" : "", l = parseInt(this._get(e, "firstDay"), 10), l = isNaN(l) ? 0 : l, c = this._get(e, "showWeek"), h = this._get(e, "dayNames"), p = this._get(e, "dayNamesMin"), d = this._get(e, "monthNames"), v = this._get(e, "monthNamesShort"), m = this._get(e, "beforeShowDay"), g = this._get(e, "showOtherMonths"), y = this._get(e, "selectOtherMonths"), b = this._getDefaultDate(e), w = "", E;for (S = 0; S < V[0]; S++) {
        x = "", this.maxRows = 4;for (T = 0; T < V[1]; T++) {
          N = this._daylightSavingAdjust(new Date(et, Z, e.selectedDay)), C = " ui-corner-all", k = "";if (K) {
            k += "<div class='ui-datepicker-group";if (V[1] > 1) switch (T) {case 0:
                k += " ui-datepicker-group-first", C = " ui-corner-" + (U ? "right" : "left");break;case V[1] - 1:
                k += " ui-datepicker-group-last", C = " ui-corner-" + (U ? "left" : "right");break;default:
                k += " ui-datepicker-group-middle", C = "";}k += "'>";
          }k += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + C + "'>" + (/all|left/.test(C) && S === 0 ? U ? s : r : "") + (/all|right/.test(C) && S === 0 ? U ? r : s : "") + this._generateMonthYearHeader(e, Z, et, G, Y, S > 0 || T > 0, d, v) + "</div><table class='ui-datepicker-calendar'><thead>" + "<tr>", L = c ? "<th class='ui-datepicker-week-col'>" + this._get(e, "weekHeader") + "</th>" : "";for (E = 0; E < 7; E++) {
            A = (E + l) % 7, L += "<th" + ((E + l + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" + "<span title='" + h[A] + "'>" + p[A] + "</span></th>";
          }k += L + "</tr></thead><tbody>", O = this._getDaysInMonth(et, Z), et === e.selectedYear && Z === e.selectedMonth && (e.selectedDay = Math.min(e.selectedDay, O)), M = (this._getFirstDayOfMonth(et, Z) - l + 7) % 7, _ = Math.ceil((M + O) / 7), D = K ? this.maxRows > _ ? this.maxRows : _ : _, this.maxRows = D, P = this._daylightSavingAdjust(new Date(et, Z, 1 - M));for (H = 0; H < D; H++) {
            k += "<tr>", B = c ? "<td class='ui-datepicker-week-col'>" + this._get(e, "calculateWeek")(P) + "</td>" : "";for (E = 0; E < 7; E++) {
              j = m ? m.apply(e.input ? e.input[0] : null, [P]) : [!0, ""], F = P.getMonth() !== Z, I = F && !y || !j[0] || G && P < G || Y && P > Y, B += "<td class='" + ((E + l + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (F ? " ui-datepicker-other-month" : "") + (P.getTime() === N.getTime() && Z === e.selectedMonth && e._keyEvent || b.getTime() === P.getTime() && b.getTime() === N.getTime() ? " " + this._dayOverClass : "") + (I ? " " + this._unselectableClass + " ui-state-disabled" : "") + (F && !g ? "" : " " + j[1] + (P.getTime() === Q.getTime() ? " " + this._currentClass : "") + (P.getTime() === R.getTime() ? " ui-datepicker-today" : "")) + "'" + ((!F || g) && j[2] ? " title='" + j[2] + "'" : "") + (I ? "" : " data-handler='selectDay' data-event='click' data-month='" + P.getMonth() + "' data-year='" + P.getFullYear() + "'") + ">" + (F && !g ? "&#xa0;" : I ? "<span class='ui-state-default'>" + P.getDate() + "</span>" : "<a class='ui-state-default" + (P.getTime() === R.getTime() ? " ui-state-highlight" : "") + (P.getTime() === Q.getTime() ? " ui-state-active" : "") + (F ? " ui-priority-secondary" : "") + "' href='#'>" + P.getDate() + "</a>") + "</td>", P.setDate(P.getDate() + 1), P = this._daylightSavingAdjust(P);
            }k += B + "</tr>";
          }Z++, Z > 11 && (Z = 0, et++), k += "</tbody></table>" + (K ? "</div>" + (V[0] > 0 && T === V[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : ""), x += k;
        }w += x;
      }return w += f, e._keyEvent = !1, w;
    }, _generateMonthYearHeader: function _generateMonthYearHeader(e, t, n, r, i, s, o, u) {
      var a,
          f,
          l,
          c,
          h,
          p,
          d,
          v,
          m = this._get(e, "changeMonth"),
          g = this._get(e, "changeYear"),
          y = this._get(e, "showMonthAfterYear"),
          b = "<div class='ui-datepicker-title'>",
          w = "";if (s || !m) w += "<span class='ui-datepicker-month'>" + o[t] + "</span>";else {
        a = r && r.getFullYear() === n, f = i && i.getFullYear() === n, w += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for (l = 0; l < 12; l++) {
          (!a || l >= r.getMonth()) && (!f || l <= i.getMonth()) && (w += "<option value='" + l + "'" + (l === t ? " selected='selected'" : "") + ">" + u[l] + "</option>");
        }w += "</select>";
      }y || (b += w + (s || !m || !g ? "&#xa0;" : ""));if (!e.yearshtml) {
        e.yearshtml = "";if (s || !g) b += "<span class='ui-datepicker-year'>" + n + "</span>";else {
          c = this._get(e, "yearRange").split(":"), h = new Date().getFullYear(), p = function p(e) {
            var t = e.match(/c[+\-].*/) ? n + parseInt(e.substring(1), 10) : e.match(/[+\-].*/) ? h + parseInt(e, 10) : parseInt(e, 10);return isNaN(t) ? h : t;
          }, d = p(c[0]), v = Math.max(d, p(c[1] || "")), d = r ? Math.max(d, r.getFullYear()) : d, v = i ? Math.min(v, i.getFullYear()) : v, e.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for (; d <= v; d++) {
            e.yearshtml += "<option value='" + d + "'" + (d === n ? " selected='selected'" : "") + ">" + d + "</option>";
          }e.yearshtml += "</select>", b += e.yearshtml, e.yearshtml = null;
        }
      }return b += this._get(e, "yearSuffix"), y && (b += (s || !m || !g ? "&#xa0;" : "") + w), b += "</div>", b;
    }, _adjustInstDate: function _adjustInstDate(e, t, n) {
      var r = e.drawYear + (n === "Y" ? t : 0),
          i = e.drawMonth + (n === "M" ? t : 0),
          s = Math.min(e.selectedDay, this._getDaysInMonth(r, i)) + (n === "D" ? t : 0),
          o = this._restrictMinMax(e, this._daylightSavingAdjust(new Date(r, i, s)));e.selectedDay = o.getDate(), e.drawMonth = e.selectedMonth = o.getMonth(), e.drawYear = e.selectedYear = o.getFullYear(), (n === "M" || n === "Y") && this._notifyChange(e);
    }, _restrictMinMax: function _restrictMinMax(e, t) {
      var n = this._getMinMaxDate(e, "min"),
          r = this._getMinMaxDate(e, "max"),
          i = n && t < n ? n : t;return r && i > r ? r : i;
    }, _notifyChange: function _notifyChange(e) {
      var t = this._get(e, "onChangeMonthYear");t && t.apply(e.input ? e.input[0] : null, [e.selectedYear, e.selectedMonth + 1, e]);
    }, _getNumberOfMonths: function _getNumberOfMonths(e) {
      var t = this._get(e, "numberOfMonths");return t == null ? [1, 1] : typeof t == "number" ? [1, t] : t;
    }, _getMinMaxDate: function _getMinMaxDate(e, t) {
      return this._determineDate(e, this._get(e, t + "Date"), null);
    }, _getDaysInMonth: function _getDaysInMonth(e, t) {
      return 32 - this._daylightSavingAdjust(new Date(e, t, 32)).getDate();
    }, _getFirstDayOfMonth: function _getFirstDayOfMonth(e, t) {
      return new Date(e, t, 1).getDay();
    }, _canAdjustMonth: function _canAdjustMonth(e, t, n, r) {
      var i = this._getNumberOfMonths(e),
          s = this._daylightSavingAdjust(new Date(n, r + (t < 0 ? t : i[0] * i[1]), 1));return t < 0 && s.setDate(this._getDaysInMonth(s.getFullYear(), s.getMonth())), this._isInRange(e, s);
    }, _isInRange: function _isInRange(e, t) {
      var n,
          r,
          i = this._getMinMaxDate(e, "min"),
          s = this._getMinMaxDate(e, "max"),
          o = null,
          u = null,
          a = this._get(e, "yearRange");return a && (n = a.split(":"), r = new Date().getFullYear(), o = parseInt(n[0], 10) + r, u = parseInt(n[1], 10) + r), (!i || t.getTime() >= i.getTime()) && (!s || t.getTime() <= s.getTime()) && (!o || t.getFullYear() >= o) && (!u || t.getFullYear() <= u);
    }, _getFormatConfig: function _getFormatConfig(e) {
      var t = this._get(e, "shortYearCutoff");return t = typeof t != "string" ? t : new Date().getFullYear() % 100 + parseInt(t, 10), { shortYearCutoff: t, dayNamesShort: this._get(e, "dayNamesShort"), dayNames: this._get(e, "dayNames"), monthNamesShort: this._get(e, "monthNamesShort"), monthNames: this._get(e, "monthNames") };
    }, _formatDate: function _formatDate(e, t, n, r) {
      t || (e.currentDay = e.selectedDay, e.currentMonth = e.selectedMonth, e.currentYear = e.selectedYear);var i = t ? (typeof t === "undefined" ? "undefined" : _typeof(t)) == "object" ? t : this._daylightSavingAdjust(new Date(r, n, t)) : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay));return this.formatDate(this._get(e, "dateFormat"), i, this._getFormatConfig(e));
    } }), e.fn.datepicker = function (t) {
    if (!this.length) return this;e.datepicker.initialized || (e(document).mousedown(e.datepicker._checkExternalClick), e.datepicker.initialized = !0), e("#" + e.datepicker._mainDivId).length === 0 && e("body").append(e.datepicker.dpDiv);var n = Array.prototype.slice.call(arguments, 1);return typeof t != "string" || t !== "isDisabled" && t !== "getDate" && t !== "widget" ? t === "option" && arguments.length === 2 && typeof arguments[1] == "string" ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(n)) : this.each(function () {
      typeof t == "string" ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this].concat(n)) : e.datepicker._attachDatepicker(this, t);
    }) : e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(n));
  }, e.datepicker = new s(), e.datepicker.initialized = !1, e.datepicker.uuid = new Date().getTime(), e.datepicker.version = "1.10.0", window["DP_jQuery_" + r] = e;
})(jQuery);(function (e, t) {
  var n = { buttons: !0, height: !0, maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0, width: !0 },
      r = { maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0 };e.widget("ui.dialog", { version: "1.10.0", options: { appendTo: "body", autoOpen: !0, buttons: [], closeOnEscape: !0, closeText: "close", dialogClass: "", draggable: !0, hide: null, height: "auto", maxHeight: null, maxWidth: null, minHeight: 150, minWidth: 150, modal: !1, position: { my: "center", at: "center", of: window, collision: "fit", using: function using(t) {
          var n = e(this).css(t).offset().top;n < 0 && e(this).css("top", t.top - n);
        } }, resizable: !0, show: null, title: null, width: 300, beforeClose: null, close: null, drag: null, dragStart: null, dragStop: null, focus: null, open: null, resize: null, resizeStart: null, resizeStop: null }, _create: function _create() {
      this.originalCss = { display: this.element[0].style.display, width: this.element[0].style.width, minHeight: this.element[0].style.minHeight, maxHeight: this.element[0].style.maxHeight, height: this.element[0].style.height }, this.originalPosition = { parent: this.element.parent(), index: this.element.parent().children().index(this.element) }, this.originalTitle = this.element.attr("title"), this.options.title = this.options.title || this.originalTitle, this._createWrapper(), this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog), this._createTitlebar(), this._createButtonPane(), this.options.draggable && e.fn.draggable && this._makeDraggable(), this.options.resizable && e.fn.resizable && this._makeResizable(), this._isOpen = !1;
    }, _init: function _init() {
      this.options.autoOpen && this.open();
    }, _appendTo: function _appendTo() {
      var t = this.options.appendTo;return t && (t.jquery || t.nodeType) ? e(t) : this.document.find(t || "body").eq(0);
    }, _destroy: function _destroy() {
      var e,
          t = this.originalPosition;this._destroyOverlay(), this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(), this.uiDialog.stop(!0, !0).remove(), this.originalTitle && this.element.attr("title", this.originalTitle), e = t.parent.children().eq(t.index), e.length && e[0] !== this.element[0] ? e.before(this.element) : t.parent.append(this.element);
    }, widget: function widget() {
      return this.uiDialog;
    }, disable: e.noop, enable: e.noop, close: function close(t) {
      var n = this;if (!this._isOpen || this._trigger("beforeClose", t) === !1) return;this._isOpen = !1, this._destroyOverlay(), this.opener.filter(":focusable").focus().length || e(this.document[0].activeElement).blur(), this._hide(this.uiDialog, this.options.hide, function () {
        n._trigger("close", t);
      });
    }, isOpen: function isOpen() {
      return this._isOpen;
    }, moveToTop: function moveToTop() {
      this._moveToTop();
    }, _moveToTop: function _moveToTop(e, t) {
      var n = !!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return n && !t && this._trigger("focus", e), n;
    }, open: function open() {
      if (this._isOpen) {
        this._moveToTop() && this._focusTabbable();return;
      }this.opener = e(this.document[0].activeElement), this._size(), this._position(), this._createOverlay(), this._moveToTop(null, !0), this._show(this.uiDialog, this.options.show), this._focusTabbable(), this._isOpen = !0, this._trigger("open"), this._trigger("focus");
    }, _focusTabbable: function _focusTabbable() {
      var e = this.element.find("[autofocus]");e.length || (e = this.element.find(":tabbable")), e.length || (e = this.uiDialogButtonPane.find(":tabbable")), e.length || (e = this.uiDialogTitlebarClose.filter(":tabbable")), e.length || (e = this.uiDialog), e.eq(0).focus();
    }, _keepFocus: function _keepFocus(t) {
      function n() {
        var t = this.document[0].activeElement,
            n = this.uiDialog[0] === t || e.contains(this.uiDialog[0], t);n || this._focusTabbable();
      }t.preventDefault(), n.call(this), this._delay(n);
    }, _createWrapper: function _createWrapper() {
      this.uiDialog = e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({ tabIndex: -1, role: "dialog" }).appendTo(this._appendTo()), this._on(this.uiDialog, { keydown: function keydown(t) {
          if (this.options.closeOnEscape && !t.isDefaultPrevented() && t.keyCode && t.keyCode === e.ui.keyCode.ESCAPE) {
            t.preventDefault(), this.close(t);return;
          }if (t.keyCode !== e.ui.keyCode.TAB) return;var n = this.uiDialog.find(":tabbable"),
              r = n.filter(":first"),
              i = n.filter(":last");t.target !== i[0] && t.target !== this.uiDialog[0] || !!t.shiftKey ? (t.target === r[0] || t.target === this.uiDialog[0]) && t.shiftKey && (i.focus(1), t.preventDefault()) : (r.focus(1), t.preventDefault());
        }, mousedown: function mousedown(e) {
          this._moveToTop(e) && this._focusTabbable();
        } }), this.element.find("[aria-describedby]").length || this.uiDialog.attr({ "aria-describedby": this.element.uniqueId().attr("id") });
    }, _createTitlebar: function _createTitlebar() {
      var t;this.uiDialogTitlebar = e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog), this._on(this.uiDialogTitlebar, { mousedown: function mousedown(t) {
          e(t.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus();
        } }), this.uiDialogTitlebarClose = e("<button></button>").button({ label: this.options.closeText, icons: { primary: "ui-icon-closethick" }, text: !1 }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar), this._on(this.uiDialogTitlebarClose, { click: function click(e) {
          e.preventDefault(), this.close(e);
        } }), t = e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar), this._title(t), this.uiDialog.attr({ "aria-labelledby": t.attr("id") });
    }, _title: function _title(e) {
      this.options.title || e.html("&#160;"), e.text(this.options.title);
    }, _createButtonPane: function _createButtonPane() {
      this.uiDialogButtonPane = e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"), this.uiButtonSet = e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane), this._createButtons();
    }, _createButtons: function _createButtons() {
      var t = this,
          n = this.options.buttons;this.uiDialogButtonPane.remove(), this.uiButtonSet.empty();if (e.isEmptyObject(n)) {
        this.uiDialog.removeClass("ui-dialog-buttons");return;
      }e.each(n, function (n, r) {
        var i, s;r = e.isFunction(r) ? { click: r, text: n } : r, r = e.extend({ type: "button" }, r), i = r.click, r.click = function () {
          i.apply(t.element[0], arguments);
        }, s = { icons: r.icons, text: r.showText }, delete r.icons, delete r.showText, e("<button></button>", r).button(s).appendTo(t.uiButtonSet);
      }), this.uiDialog.addClass("ui-dialog-buttons"), this.uiDialogButtonPane.appendTo(this.uiDialog);
    }, _makeDraggable: function _makeDraggable() {
      function r(e) {
        return { position: e.position, offset: e.offset };
      }var t = this,
          n = this.options;this.uiDialog.draggable({ cancel: ".ui-dialog-content, .ui-dialog-titlebar-close", handle: ".ui-dialog-titlebar", containment: "document", start: function start(n, i) {
          e(this).addClass("ui-dialog-dragging"), t._trigger("dragStart", n, r(i));
        }, drag: function drag(e, n) {
          t._trigger("drag", e, r(n));
        }, stop: function stop(i, s) {
          n.position = [s.position.left - t.document.scrollLeft(), s.position.top - t.document.scrollTop()], e(this).removeClass("ui-dialog-dragging"), t._trigger("dragStop", i, r(s));
        } });
    }, _makeResizable: function _makeResizable() {
      function o(e) {
        return { originalPosition: e.originalPosition, originalSize: e.originalSize, position: e.position, size: e.size };
      }var t = this,
          n = this.options,
          r = n.resizable,
          i = this.uiDialog.css("position"),
          s = typeof r == "string" ? r : "n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({ cancel: ".ui-dialog-content", containment: "document", alsoResize: this.element, maxWidth: n.maxWidth, maxHeight: n.maxHeight, minWidth: n.minWidth, minHeight: this._minHeight(), handles: s, start: function start(n, r) {
          e(this).addClass("ui-dialog-resizing"), t._trigger("resizeStart", n, o(r));
        }, resize: function resize(e, n) {
          t._trigger("resize", e, o(n));
        }, stop: function stop(r, i) {
          n.height = e(this).height(), n.width = e(this).width(), e(this).removeClass("ui-dialog-resizing"), t._trigger("resizeStop", r, o(i));
        } }).css("position", i);
    }, _minHeight: function _minHeight() {
      var e = this.options;return e.height === "auto" ? e.minHeight : Math.min(e.minHeight, e.height);
    }, _position: function _position() {
      var e = this.uiDialog.is(":visible");e || this.uiDialog.show(), this.uiDialog.position(this.options.position), e || this.uiDialog.hide();
    }, _setOptions: function _setOptions(t) {
      var i = this,
          s = !1,
          o = {};e.each(t, function (e, t) {
        i._setOption(e, t), e in n && (s = !0), e in r && (o[e] = t);
      }), s && (this._size(), this._position()), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", o);
    }, _setOption: function _setOption(e, t) {
      var n,
          r,
          i = this.uiDialog;e === "dialogClass" && i.removeClass(this.options.dialogClass).addClass(t);if (e === "disabled") return;this._super(e, t), e === "appendTo" && this.uiDialog.appendTo(this._appendTo()), e === "buttons" && this._createButtons(), e === "closeText" && this.uiDialogTitlebarClose.button({ label: "" + t }), e === "draggable" && (n = i.is(":data(ui-draggable)"), n && !t && i.draggable("destroy"), !n && t && this._makeDraggable()), e === "position" && this._position(), e === "resizable" && (r = i.is(":data(ui-resizable)"), r && !t && i.resizable("destroy"), r && typeof t == "string" && i.resizable("option", "handles", t), !r && t !== !1 && this._makeResizable()), e === "title" && this._title(this.uiDialogTitlebar.find(".ui-dialog-title"));
    }, _size: function _size() {
      var e,
          t,
          n,
          r = this.options;this.element.show().css({ width: "auto", minHeight: 0, maxHeight: "none", height: 0 }), r.minWidth > r.width && (r.width = r.minWidth), e = this.uiDialog.css({ height: "auto", width: r.width }).outerHeight(), t = Math.max(0, r.minHeight - e), n = typeof r.maxHeight == "number" ? Math.max(0, r.maxHeight - e) : "none", r.height === "auto" ? this.element.css({ minHeight: t, maxHeight: n, height: "auto" }) : this.element.height(Math.max(0, r.height - e)), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight());
    }, _createOverlay: function _createOverlay() {
      if (!this.options.modal) return;e.ui.dialog.overlayInstances || this._delay(function () {
        e.ui.dialog.overlayInstances && this._on(this.document, { focusin: function focusin(t) {
            e(t.target).closest(".ui-dialog").length || (t.preventDefault(), e(".ui-dialog:visible:last .ui-dialog-content").data("ui-dialog")._focusTabbable());
          } });
      }), this.overlay = e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this.document[0].body), this._on(this.overlay, { mousedown: "_keepFocus" }), e.ui.dialog.overlayInstances++;
    }, _destroyOverlay: function _destroyOverlay() {
      if (!this.options.modal) return;e.ui.dialog.overlayInstances--, e.ui.dialog.overlayInstances || this._off(this.document, "focusin"), this.overlay.remove();
    } }), e.ui.dialog.overlayInstances = 0, e.uiBackCompat !== !1 && e.widget("ui.dialog", e.ui.dialog, { _position: function _position() {
      var t = this.options.position,
          n = [],
          r = [0, 0],
          i;if (t) {
        if (typeof t == "string" || (typeof t === "undefined" ? "undefined" : _typeof(t)) == "object" && "0" in t) n = t.split ? t.split(" ") : [t[0], t[1]], n.length === 1 && (n[1] = n[0]), e.each(["left", "top"], function (e, t) {
          +n[e] === n[e] && (r[e] = n[e], n[e] = t);
        }), t = { my: n[0] + (r[0] < 0 ? r[0] : "+" + r[0]) + " " + n[1] + (r[1] < 0 ? r[1] : "+" + r[1]), at: n.join(" ") };t = e.extend({}, e.ui.dialog.prototype.options.position, t);
      } else t = e.ui.dialog.prototype.options.position;i = this.uiDialog.is(":visible"), i || this.uiDialog.show(), this.uiDialog.position(t), i || this.uiDialog.hide();
    } });
})(jQuery);(function (e, t) {
  e.widget("ui.menu", { version: "1.10.0", defaultElement: "<ul>", delay: 300, options: { icons: { submenu: "ui-icon-carat-1-e" }, menus: "ul", position: { my: "left top", at: "right top" }, role: "menu", blur: null, focus: null, select: null }, _create: function _create() {
      this.activeMenu = this.element, this.mouseHandled = !1, this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({ role: this.options.role, tabIndex: 0 }).bind("click" + this.eventNamespace, e.proxy(function (e) {
        this.options.disabled && e.preventDefault();
      }, this)), this.options.disabled && this.element.addClass("ui-state-disabled").attr("aria-disabled", "true"), this._on({ "mousedown .ui-menu-item > a": function mousedownUiMenuItemA(e) {
          e.preventDefault();
        }, "click .ui-state-disabled > a": function clickUiStateDisabledA(e) {
          e.preventDefault();
        }, "click .ui-menu-item:has(a)": function clickUiMenuItemHasA(t) {
          var n = e(t.target).closest(".ui-menu-item");!this.mouseHandled && n.not(".ui-state-disabled").length && (this.mouseHandled = !0, this.select(t), n.has(".ui-menu").length ? this.expand(t) : this.element.is(":focus") || (this.element.trigger("focus", [!0]), this.active && this.active.parents(".ui-menu").length === 1 && clearTimeout(this.timer)));
        }, "mouseenter .ui-menu-item": function mouseenterUiMenuItem(t) {
          var n = e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"), this.focus(t, n);
        }, mouseleave: "collapseAll", "mouseleave .ui-menu": "collapseAll", focus: function focus(e, t) {
          var n = this.active || this.element.children(".ui-menu-item").eq(0);t || this.focus(e, n);
        }, blur: function blur(t) {
          this._delay(function () {
            e.contains(this.element[0], this.document[0].activeElement) || this.collapseAll(t);
          });
        }, keydown: "_keydown" }), this.refresh(), this._on(this.document, { click: function click(t) {
          e(t.target).closest(".ui-menu").length || this.collapseAll(t), this.mouseHandled = !1;
        } });
    }, _destroy: function _destroy() {
      this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(), this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function () {
        var t = e(this);t.data("ui-menu-submenu-carat") && t.remove();
      }), this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content");
    }, _keydown: function _keydown(t) {
      function a(e) {
        return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
      }var n,
          r,
          i,
          s,
          o,
          u = !0;switch (t.keyCode) {case e.ui.keyCode.PAGE_UP:
          this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:
          this.nextPage(t);break;case e.ui.keyCode.HOME:
          this._move("first", "first", t);break;case e.ui.keyCode.END:
          this._move("last", "last", t);break;case e.ui.keyCode.UP:
          this.previous(t);break;case e.ui.keyCode.DOWN:
          this.next(t);break;case e.ui.keyCode.LEFT:
          this.collapse(t);break;case e.ui.keyCode.RIGHT:
          this.active && !this.active.is(".ui-state-disabled") && this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:
          this._activate(t);break;case e.ui.keyCode.ESCAPE:
          this.collapse(t);break;default:
          u = !1, r = this.previousFilter || "", i = String.fromCharCode(t.keyCode), s = !1, clearTimeout(this.filterTimer), i === r ? s = !0 : i = r + i, o = new RegExp("^" + a(i), "i"), n = this.activeMenu.children(".ui-menu-item").filter(function () {
            return o.test(e(this).children("a").text());
          }), n = s && n.index(this.active.next()) !== -1 ? this.active.nextAll(".ui-menu-item") : n, n.length || (i = String.fromCharCode(t.keyCode), o = new RegExp("^" + a(i), "i"), n = this.activeMenu.children(".ui-menu-item").filter(function () {
            return o.test(e(this).children("a").text());
          })), n.length ? (this.focus(t, n), n.length > 1 ? (this.previousFilter = i, this.filterTimer = this._delay(function () {
            delete this.previousFilter;
          }, 1e3)) : delete this.previousFilter) : delete this.previousFilter;}u && t.preventDefault();
    }, _activate: function _activate(e) {
      this.active.is(".ui-state-disabled") || (this.active.children("a[aria-haspopup='true']").length ? this.expand(e) : this.select(e));
    }, refresh: function refresh() {
      var t,
          n = this.options.icons.submenu,
          r = this.element.find(this.options.menus);r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({ role: this.options.role, "aria-hidden": "true", "aria-expanded": "false" }).each(function () {
        var t = e(this),
            r = t.prev("a"),
            i = e("<span>").addClass("ui-menu-icon ui-icon " + n).data("ui-menu-submenu-carat", !0);r.attr("aria-haspopup", "true").prepend(i), t.attr("aria-labelledby", r.attr("id"));
      }), t = r.add(this.element), t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role", "presentation").children("a").uniqueId().addClass("ui-corner-all").attr({ tabIndex: -1, role: this._itemRole() }), t.children(":not(.ui-menu-item)").each(function () {
        var t = e(this);/[^\-\s]/.test(t.text()) || t.addClass("ui-widget-content ui-menu-divider");
      }), t.children(".ui-state-disabled").attr("aria-disabled", "true"), this.active && !e.contains(this.element[0], this.active[0]) && this.blur();
    }, _itemRole: function _itemRole() {
      return { menu: "menuitem", listbox: "option" }[this.options.role];
    }, _setOption: function _setOption(e, t) {
      e === "icons" && this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu), this._super(e, t);
    }, focus: function focus(e, t) {
      var n, r;this.blur(e, e && e.type === "focus"), this._scrollIntoView(t), this.active = t.first(), r = this.active.children("a").addClass("ui-state-focus"), this.options.role && this.element.attr("aria-activedescendant", r.attr("id")), this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"), e && e.type === "keydown" ? this._close() : this.timer = this._delay(function () {
        this._close();
      }, this.delay), n = t.children(".ui-menu"), n.length && /^mouse/.test(e.type) && this._startOpening(n), this.activeMenu = t.parent(), this._trigger("focus", e, { item: t });
    }, _scrollIntoView: function _scrollIntoView(t) {
      var n, r, i, s, o, u;this._hasScroll() && (n = parseFloat(e.css(this.activeMenu[0], "borderTopWidth")) || 0, r = parseFloat(e.css(this.activeMenu[0], "paddingTop")) || 0, i = t.offset().top - this.activeMenu.offset().top - n - r, s = this.activeMenu.scrollTop(), o = this.activeMenu.height(), u = t.height(), i < 0 ? this.activeMenu.scrollTop(s + i) : i + u > o && this.activeMenu.scrollTop(s + i - o + u));
    }, blur: function blur(e, t) {
      t || clearTimeout(this.timer);if (!this.active) return;this.active.children("a").removeClass("ui-state-focus"), this.active = null, this._trigger("blur", e, { item: this.active });
    }, _startOpening: function _startOpening(e) {
      clearTimeout(this.timer);if (e.attr("aria-hidden") !== "true") return;this.timer = this._delay(function () {
        this._close(), this._open(e);
      }, this.delay);
    }, _open: function _open(t) {
      var n = e.extend({ of: this.active }, this.options.position);clearTimeout(this.timer), this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden", "true"), t.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(n);
    }, collapseAll: function collapseAll(t, n) {
      clearTimeout(this.timer), this.timer = this._delay(function () {
        var r = n ? this.element : e(t && t.target).closest(this.element.find(".ui-menu"));r.length || (r = this.element), this._close(r), this.blur(t), this.activeMenu = r;
      }, this.delay);
    }, _close: function _close(e) {
      e || (e = this.active ? this.active.parent() : this.element), e.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find("a.ui-state-active").removeClass("ui-state-active");
    }, collapse: function collapse(e) {
      var t = this.active && this.active.parent().closest(".ui-menu-item", this.element);t && t.length && (this._close(), this.focus(e, t));
    }, expand: function expand(e) {
      var t = this.active && this.active.children(".ui-menu ").children(".ui-menu-item").first();t && t.length && (this._open(t.parent()), this._delay(function () {
        this.focus(e, t);
      }));
    }, next: function next(e) {
      this._move("next", "first", e);
    }, previous: function previous(e) {
      this._move("prev", "last", e);
    }, isFirstItem: function isFirstItem() {
      return this.active && !this.active.prevAll(".ui-menu-item").length;
    }, isLastItem: function isLastItem() {
      return this.active && !this.active.nextAll(".ui-menu-item").length;
    }, _move: function _move(e, t, n) {
      var r;this.active && (e === "first" || e === "last" ? r = this.active[e === "first" ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : r = this.active[e + "All"](".ui-menu-item").eq(0));if (!r || !r.length || !this.active) r = this.activeMenu.children(".ui-menu-item")[t]();this.focus(n, r);
    }, nextPage: function nextPage(t) {
      var n, r, i;if (!this.active) {
        this.next(t);return;
      }if (this.isLastItem()) return;this._hasScroll() ? (r = this.active.offset().top, i = this.element.height(), this.active.nextAll(".ui-menu-item").each(function () {
        return n = e(this), n.offset().top - r - i < 0;
      }), this.focus(t, n)) : this.focus(t, this.activeMenu.children(".ui-menu-item")[this.active ? "last" : "first"]());
    }, previousPage: function previousPage(t) {
      var n, r, i;if (!this.active) {
        this.next(t);return;
      }if (this.isFirstItem()) return;this._hasScroll() ? (r = this.active.offset().top, i = this.element.height(), this.active.prevAll(".ui-menu-item").each(function () {
        return n = e(this), n.offset().top - r + i > 0;
      }), this.focus(t, n)) : this.focus(t, this.activeMenu.children(".ui-menu-item").first());
    }, _hasScroll: function _hasScroll() {
      return this.element.outerHeight() < this.element.prop("scrollHeight");
    }, select: function select(t) {
      this.active = this.active || e(t.target).closest(".ui-menu-item");var n = { item: this.active };this.active.has(".ui-menu").length || this.collapseAll(t, !0), this._trigger("select", t, n);
    } });
})(jQuery);(function (e, t) {
  e.widget("ui.progressbar", { version: "1.10.0", options: { max: 100, value: 0, change: null, complete: null }, min: 0, _create: function _create() {
      this.oldValue = this.options.value = this._constrainedValue(), this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({ role: "progressbar", "aria-valuemin": this.min }), this.valueDiv = e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element), this._refreshValue();
    }, _destroy: function _destroy() {
      this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"), this.valueDiv.remove();
    }, value: function value(e) {
      if (e === t) return this.options.value;this.options.value = this._constrainedValue(e), this._refreshValue();
    }, _constrainedValue: function _constrainedValue(e) {
      return e === t && (e = this.options.value), this.indeterminate = e === !1, typeof e != "number" && (e = 0), this.indeterminate ? !1 : Math.min(this.options.max, Math.max(this.min, e));
    }, _setOptions: function _setOptions(e) {
      var t = e.value;delete e.value, this._super(e), this.options.value = this._constrainedValue(t), this._refreshValue();
    }, _setOption: function _setOption(e, t) {
      e === "max" && (t = Math.max(this.min, t)), this._super(e, t);
    }, _percentage: function _percentage() {
      return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min);
    }, _refreshValue: function _refreshValue() {
      var t = this.options.value,
          n = this._percentage();this.valueDiv.toggle(this.indeterminate || t > this.min).toggleClass("ui-corner-right", t === this.options.max).width(n.toFixed(0) + "%"), this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate), this.indeterminate ? (this.element.removeAttr("aria-valuenow"), this.overlayDiv || (this.overlayDiv = e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))) : (this.element.attr({ "aria-valuemax": this.options.max, "aria-valuenow": t }), this.overlayDiv && (this.overlayDiv.remove(), this.overlayDiv = null)), this.oldValue !== t && (this.oldValue = t, this._trigger("change")), t === this.options.max && this._trigger("complete");
    } });
})(jQuery);(function (e, t) {
  var n = 5;e.widget("ui.slider", e.ui.mouse, { version: "1.10.0", widgetEventPrefix: "slide", options: { animate: !1, distance: 0, max: 100, min: 0, orientation: "horizontal", range: !1, step: 1, value: 0, values: null, change: null, slide: null, start: null, stop: null }, _create: function _create() {
      var t,
          n,
          r = this.options,
          i = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),
          s = "<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",
          o = [];this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget" + " ui-widget-content" + " ui-corner-all"), this.range = e([]), r.range && (r.range === !0 && (r.values ? r.values.length && r.values.length !== 2 ? r.values = [r.values[0], r.values[0]] : e.isArray(r.values) && (r.values = r.values.slice(0)) : r.values = [this._valueMin(), this._valueMin()]), this.range = e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header" + (r.range === "min" || r.range === "max" ? " ui-slider-range-" + r.range : ""))), n = r.values && r.values.length || 1;for (t = i.length; t < n; t++) {
        o.push(s);
      }this.handles = i.add(e(o.join("")).appendTo(this.element)), this.handle = this.handles.eq(0), this.handles.add(this.range).filter("a").click(function (e) {
        e.preventDefault();
      }).mouseenter(function () {
        r.disabled || e(this).addClass("ui-state-hover");
      }).mouseleave(function () {
        e(this).removeClass("ui-state-hover");
      }).focus(function () {
        r.disabled ? e(this).blur() : (e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"), e(this).addClass("ui-state-focus"));
      }).blur(function () {
        e(this).removeClass("ui-state-focus");
      }), this.handles.each(function (t) {
        e(this).data("ui-slider-handle-index", t);
      }), this._setOption("disabled", r.disabled), this._on(this.handles, this._handleEvents), this._refreshValue(), this._animateOff = !1;
    }, _destroy: function _destroy() {
      this.handles.remove(), this.range.remove(), this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"), this._mouseDestroy();
    }, _mouseCapture: function _mouseCapture(t) {
      var n,
          r,
          i,
          s,
          o,
          u,
          a,
          f,
          l = this,
          c = this.options;return c.disabled ? !1 : (this.elementSize = { width: this.element.outerWidth(), height: this.element.outerHeight() }, this.elementOffset = this.element.offset(), n = { x: t.pageX, y: t.pageY }, r = this._normValueFromMouse(n), i = this._valueMax() - this._valueMin() + 1, this.handles.each(function (t) {
        var n = Math.abs(r - l.values(t));if (i > n || i === n && (t === l._lastChangedValue || l.values(t) === c.min)) i = n, s = e(this), o = t;
      }), u = this._start(t, o), u === !1 ? !1 : (this._mouseSliding = !0, this._handleIndex = o, s.addClass("ui-state-active").focus(), a = s.offset(), f = !e(t.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = f ? { left: 0, top: 0 } : { left: t.pageX - a.left - s.width() / 2, top: t.pageY - a.top - s.height() / 2 - (parseInt(s.css("borderTopWidth"), 10) || 0) - (parseInt(s.css("borderBottomWidth"), 10) || 0) + (parseInt(s.css("marginTop"), 10) || 0) }, this.handles.hasClass("ui-state-hover") || this._slide(t, o, r), this._animateOff = !0, !0));
    }, _mouseStart: function _mouseStart() {
      return !0;
    }, _mouseDrag: function _mouseDrag(e) {
      var t = { x: e.pageX, y: e.pageY },
          n = this._normValueFromMouse(t);return this._slide(e, this._handleIndex, n), !1;
    }, _mouseStop: function _mouseStop(e) {
      return this.handles.removeClass("ui-state-active"), this._mouseSliding = !1, this._stop(e, this._handleIndex), this._change(e, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1;
    }, _detectOrientation: function _detectOrientation() {
      this.orientation = this.options.orientation === "vertical" ? "vertical" : "horizontal";
    }, _normValueFromMouse: function _normValueFromMouse(e) {
      var t, n, r, i, s;return this.orientation === "horizontal" ? (t = this.elementSize.width, n = e.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (t = this.elementSize.height, n = e.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), r = n / t, r > 1 && (r = 1), r < 0 && (r = 0), this.orientation === "vertical" && (r = 1 - r), i = this._valueMax() - this._valueMin(), s = this._valueMin() + r * i, this._trimAlignValue(s);
    }, _start: function _start(e, t) {
      var n = { handle: this.handles[t], value: this.value() };return this.options.values && this.options.values.length && (n.value = this.values(t), n.values = this.values()), this._trigger("start", e, n);
    }, _slide: function _slide(e, t, n) {
      var r, i, s;this.options.values && this.options.values.length ? (r = this.values(t ? 0 : 1), this.options.values.length === 2 && this.options.range === !0 && (t === 0 && n > r || t === 1 && n < r) && (n = r), n !== this.values(t) && (i = this.values(), i[t] = n, s = this._trigger("slide", e, { handle: this.handles[t], value: n, values: i }), r = this.values(t ? 0 : 1), s !== !1 && this.values(t, n, !0))) : n !== this.value() && (s = this._trigger("slide", e, { handle: this.handles[t], value: n }), s !== !1 && this.value(n));
    }, _stop: function _stop(e, t) {
      var n = { handle: this.handles[t], value: this.value() };this.options.values && this.options.values.length && (n.value = this.values(t), n.values = this.values()), this._trigger("stop", e, n);
    }, _change: function _change(e, t) {
      if (!this._keySliding && !this._mouseSliding) {
        var n = { handle: this.handles[t], value: this.value() };this.options.values && this.options.values.length && (n.value = this.values(t), n.values = this.values()), this._lastChangedValue = t, this._trigger("change", e, n);
      }
    }, value: function value(e) {
      if (arguments.length) {
        this.options.value = this._trimAlignValue(e), this._refreshValue(), this._change(null, 0);return;
      }return this._value();
    }, values: function values(t, n) {
      var r, i, s;if (arguments.length > 1) {
        this.options.values[t] = this._trimAlignValue(n), this._refreshValue(), this._change(null, t);return;
      }if (!arguments.length) return this._values();if (!e.isArray(arguments[0])) return this.options.values && this.options.values.length ? this._values(t) : this.value();r = this.options.values, i = arguments[0];for (s = 0; s < r.length; s += 1) {
        r[s] = this._trimAlignValue(i[s]), this._change(null, s);
      }this._refreshValue();
    }, _setOption: function _setOption(t, n) {
      var r,
          i = 0;e.isArray(this.options.values) && (i = this.options.values.length), e.Widget.prototype._setOption.apply(this, arguments);switch (t) {case "disabled":
          n ? (this.handles.filter(".ui-state-focus").blur(), this.handles.removeClass("ui-state-hover"), this.handles.prop("disabled", !0)) : this.handles.prop("disabled", !1);break;case "orientation":
          this._detectOrientation(), this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation), this._refreshValue();break;case "value":
          this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1;break;case "values":
          this._animateOff = !0, this._refreshValue();for (r = 0; r < i; r += 1) {
            this._change(null, r);
          }this._animateOff = !1;break;case "min":case "max":
          this._animateOff = !0, this._refreshValue(), this._animateOff = !1;}
    }, _value: function _value() {
      var e = this.options.value;return e = this._trimAlignValue(e), e;
    }, _values: function _values(e) {
      var t, n, r;if (arguments.length) return t = this.options.values[e], t = this._trimAlignValue(t), t;n = this.options.values.slice();for (r = 0; r < n.length; r += 1) {
        n[r] = this._trimAlignValue(n[r]);
      }return n;
    }, _trimAlignValue: function _trimAlignValue(e) {
      if (e <= this._valueMin()) return this._valueMin();if (e >= this._valueMax()) return this._valueMax();var t = this.options.step > 0 ? this.options.step : 1,
          n = (e - this._valueMin()) % t,
          r = e - n;return Math.abs(n) * 2 >= t && (r += n > 0 ? t : -t), parseFloat(r.toFixed(5));
    }, _valueMin: function _valueMin() {
      return this.options.min;
    }, _valueMax: function _valueMax() {
      return this.options.max;
    }, _refreshValue: function _refreshValue() {
      var t,
          n,
          r,
          i,
          s,
          o = this.options.range,
          u = this.options,
          a = this,
          f = this._animateOff ? !1 : u.animate,
          l = {};this.options.values && this.options.values.length ? this.handles.each(function (r) {
        n = (a.values(r) - a._valueMin()) / (a._valueMax() - a._valueMin()) * 100, l[a.orientation === "horizontal" ? "left" : "bottom"] = n + "%", e(this).stop(1, 1)[f ? "animate" : "css"](l, u.animate), a.options.range === !0 && (a.orientation === "horizontal" ? (r === 0 && a.range.stop(1, 1)[f ? "animate" : "css"]({ left: n + "%" }, u.animate), r === 1 && a.range[f ? "animate" : "css"]({ width: n - t + "%" }, { queue: !1, duration: u.animate })) : (r === 0 && a.range.stop(1, 1)[f ? "animate" : "css"]({ bottom: n + "%" }, u.animate), r === 1 && a.range[f ? "animate" : "css"]({ height: n - t + "%" }, { queue: !1, duration: u.animate }))), t = n;
      }) : (r = this.value(), i = this._valueMin(), s = this._valueMax(), n = s !== i ? (r - i) / (s - i) * 100 : 0, l[this.orientation === "horizontal" ? "left" : "bottom"] = n + "%", this.handle.stop(1, 1)[f ? "animate" : "css"](l, u.animate), o === "min" && this.orientation === "horizontal" && this.range.stop(1, 1)[f ? "animate" : "css"]({ width: n + "%" }, u.animate), o === "max" && this.orientation === "horizontal" && this.range[f ? "animate" : "css"]({ width: 100 - n + "%" }, { queue: !1, duration: u.animate }), o === "min" && this.orientation === "vertical" && this.range.stop(1, 1)[f ? "animate" : "css"]({ height: n + "%" }, u.animate), o === "max" && this.orientation === "vertical" && this.range[f ? "animate" : "css"]({ height: 100 - n + "%" }, { queue: !1, duration: u.animate }));
    }, _handleEvents: { keydown: function keydown(t) {
        var r,
            i,
            s,
            o,
            u = e(t.target).data("ui-slider-handle-index");switch (t.keyCode) {case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:
            t.preventDefault();if (!this._keySliding) {
              this._keySliding = !0, e(t.target).addClass("ui-state-active"), r = this._start(t, u);if (r === !1) return;
            }}o = this.options.step, this.options.values && this.options.values.length ? i = s = this.values(u) : i = s = this.value();switch (t.keyCode) {case e.ui.keyCode.HOME:
            s = this._valueMin();break;case e.ui.keyCode.END:
            s = this._valueMax();break;case e.ui.keyCode.PAGE_UP:
            s = this._trimAlignValue(i + (this._valueMax() - this._valueMin()) / n);break;case e.ui.keyCode.PAGE_DOWN:
            s = this._trimAlignValue(i - (this._valueMax() - this._valueMin()) / n);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:
            if (i === this._valueMax()) return;s = this._trimAlignValue(i + o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:
            if (i === this._valueMin()) return;s = this._trimAlignValue(i - o);}this._slide(t, u, s);
      }, keyup: function keyup(t) {
        var n = e(t.target).data("ui-slider-handle-index");this._keySliding && (this._keySliding = !1, this._stop(t, n), this._change(t, n), e(t.target).removeClass("ui-state-active"));
      } } });
})(jQuery);(function (e) {
  function t(e) {
    return function () {
      var t = this.element.val();e.apply(this, arguments), this._refresh(), t !== this.element.val() && this._trigger("change");
    };
  }e.widget("ui.spinner", { version: "1.10.0", defaultElement: "<input>", widgetEventPrefix: "spin", options: { culture: null, icons: { down: "ui-icon-triangle-1-s", up: "ui-icon-triangle-1-n" }, incremental: !0, max: null, min: null, numberFormat: null, page: 10, step: 1, change: null, spin: null, start: null, stop: null }, _create: function _create() {
      this._setOption("max", this.options.max), this._setOption("min", this.options.min), this._setOption("step", this.options.step), this._value(this.element.val(), !0), this._draw(), this._on(this._events), this._refresh(), this._on(this.window, { beforeunload: function beforeunload() {
          this.element.removeAttr("autocomplete");
        } });
    }, _getCreateOptions: function _getCreateOptions() {
      var t = {},
          n = this.element;return e.each(["min", "max", "step"], function (e, r) {
        var i = n.attr(r);i !== undefined && i.length && (t[r] = i);
      }), t;
    }, _events: { keydown: function keydown(e) {
        this._start(e) && this._keydown(e) && e.preventDefault();
      }, keyup: "_stop", focus: function focus() {
        this.previous = this.element.val();
      }, blur: function blur(e) {
        if (this.cancelBlur) {
          delete this.cancelBlur;return;
        }this._refresh(), this.previous !== this.element.val() && this._trigger("change", e);
      }, mousewheel: function mousewheel(e, t) {
        if (!t) return;if (!this.spinning && !this._start(e)) return !1;this._spin((t > 0 ? 1 : -1) * this.options.step, e), clearTimeout(this.mousewheelTimer), this.mousewheelTimer = this._delay(function () {
          this.spinning && this._stop(e);
        }, 100), e.preventDefault();
      }, "mousedown .ui-spinner-button": function mousedownUiSpinnerButton(t) {
        function r() {
          var e = this.element[0] === this.document[0].activeElement;e || (this.element.focus(), this.previous = n, this._delay(function () {
            this.previous = n;
          }));
        }var n;n = this.element[0] === this.document[0].activeElement ? this.previous : this.element.val(), t.preventDefault(), r.call(this), this.cancelBlur = !0, this._delay(function () {
          delete this.cancelBlur, r.call(this);
        });if (this._start(t) === !1) return;this._repeat(null, e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t);
      }, "mouseup .ui-spinner-button": "_stop", "mouseenter .ui-spinner-button": function mouseenterUiSpinnerButton(t) {
        if (!e(t.currentTarget).hasClass("ui-state-active")) return;if (this._start(t) === !1) return !1;this._repeat(null, e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t);
      }, "mouseleave .ui-spinner-button": "_stop" }, _draw: function _draw() {
      var e = this.uiSpinner = this.element.addClass("ui-spinner-input").attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role", "spinbutton"), this.buttons = e.find(".ui-spinner-button").attr("tabIndex", -1).button().removeClass("ui-corner-all"), this.buttons.height() > Math.ceil(e.height() * .5) && e.height() > 0 && e.height(e.height()), this.options.disabled && this.disable();
    }, _keydown: function _keydown(t) {
      var n = this.options,
          r = e.ui.keyCode;switch (t.keyCode) {case r.UP:
          return this._repeat(null, 1, t), !0;case r.DOWN:
          return this._repeat(null, -1, t), !0;case r.PAGE_UP:
          return this._repeat(null, n.page, t), !0;case r.PAGE_DOWN:
          return this._repeat(null, -n.page, t), !0;}return !1;
    }, _uiSpinnerHtml: function _uiSpinnerHtml() {
      return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>";
    }, _buttonHtml: function _buttonHtml() {
      return "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon " + this.options.icons.up + "'>&#9650;</span>" + "</a>" + "<a class='ui-spinner-button ui-spinner-down ui-corner-br'>" + "<span class='ui-icon " + this.options.icons.down + "'>&#9660;</span>" + "</a>";
    }, _start: function _start(e) {
      return !this.spinning && this._trigger("start", e) === !1 ? !1 : (this.counter || (this.counter = 1), this.spinning = !0, !0);
    }, _repeat: function _repeat(e, t, n) {
      e = e || 500, clearTimeout(this.timer), this.timer = this._delay(function () {
        this._repeat(40, t, n);
      }, e), this._spin(t * this.options.step, n);
    }, _spin: function _spin(e, t) {
      var n = this.value() || 0;this.counter || (this.counter = 1), n = this._adjustValue(n + e * this._increment(this.counter));if (!this.spinning || this._trigger("spin", t, { value: n }) !== !1) this._value(n), this.counter++;
    }, _increment: function _increment(t) {
      var n = this.options.incremental;return n ? e.isFunction(n) ? n(t) : Math.floor(t * t * t / 5e4 - t * t / 500 + 17 * t / 200 + 1) : 1;
    }, _precision: function _precision() {
      var e = this._precisionOf(this.options.step);return this.options.min !== null && (e = Math.max(e, this._precisionOf(this.options.min))), e;
    }, _precisionOf: function _precisionOf(e) {
      var t = e.toString(),
          n = t.indexOf(".");return n === -1 ? 0 : t.length - n - 1;
    }, _adjustValue: function _adjustValue(e) {
      var t,
          n,
          r = this.options;return t = r.min !== null ? r.min : 0, n = e - t, n = Math.round(n / r.step) * r.step, e = t + n, e = parseFloat(e.toFixed(this._precision())), r.max !== null && e > r.max ? r.max : r.min !== null && e < r.min ? r.min : e;
    }, _stop: function _stop(e) {
      if (!this.spinning) return;clearTimeout(this.timer), clearTimeout(this.mousewheelTimer), this.counter = 0, this.spinning = !1, this._trigger("stop", e);
    }, _setOption: function _setOption(e, t) {
      if (e === "culture" || e === "numberFormat") {
        var n = this._parse(this.element.val());this.options[e] = t, this.element.val(this._format(n));return;
      }(e === "max" || e === "min" || e === "step") && typeof t == "string" && (t = this._parse(t)), e === "icons" && (this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up), this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)), this._super(e, t), e === "disabled" && (t ? (this.element.prop("disabled", !0), this.buttons.button("disable")) : (this.element.prop("disabled", !1), this.buttons.button("enable")));
    }, _setOptions: t(function (e) {
      this._super(e), this._value(this.element.val());
    }), _parse: function _parse(e) {
      return typeof e == "string" && e !== "" && (e = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(e, 10, this.options.culture) : +e), e === "" || isNaN(e) ? null : e;
    }, _format: function _format(e) {
      return e === "" ? "" : window.Globalize && this.options.numberFormat ? Globalize.format(e, this.options.numberFormat, this.options.culture) : e;
    }, _refresh: function _refresh() {
      this.element.attr({ "aria-valuemin": this.options.min, "aria-valuemax": this.options.max, "aria-valuenow": this._parse(this.element.val()) });
    }, _value: function _value(e, t) {
      var n;e !== "" && (n = this._parse(e), n !== null && (t || (n = this._adjustValue(n)), e = this._format(n))), this.element.val(e), this._refresh();
    }, _destroy: function _destroy() {
      this.element.removeClass("ui-spinner-input").prop("disabled", !1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"), this.uiSpinner.replaceWith(this.element);
    }, stepUp: t(function (e) {
      this._stepUp(e);
    }), _stepUp: function _stepUp(e) {
      this._start() && (this._spin((e || 1) * this.options.step), this._stop());
    }, stepDown: t(function (e) {
      this._stepDown(e);
    }), _stepDown: function _stepDown(e) {
      this._start() && (this._spin((e || 1) * -this.options.step), this._stop());
    }, pageUp: t(function (e) {
      this._stepUp((e || 1) * this.options.page);
    }), pageDown: t(function (e) {
      this._stepDown((e || 1) * this.options.page);
    }), value: function value(e) {
      if (!arguments.length) return this._parse(this.element.val());t(this._value).call(this, e);
    }, widget: function widget() {
      return this.uiSpinner;
    } });
})(jQuery);(function (e, t) {
  function i() {
    return ++n;
  }function s(e) {
    return e.hash.length > 1 && decodeURIComponent(e.href.replace(r, "")) === decodeURIComponent(location.href.replace(r, ""));
  }var n = 0,
      r = /#.*$/;e.widget("ui.tabs", { version: "1.10.0", delay: 300, options: { active: null, collapsible: !1, event: "click", heightStyle: "content", hide: null, show: null, activate: null, beforeActivate: null, beforeLoad: null, load: null }, _create: function _create() {
      var t = this,
          n = this.options;this.running = !1, this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", n.collapsible).delegate(".ui-tabs-nav > li", "mousedown" + this.eventNamespace, function (t) {
        e(this).is(".ui-state-disabled") && t.preventDefault();
      }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function () {
        e(this).closest("li").is(".ui-state-disabled") && this.blur();
      }), this._processTabs(), n.active = this._initialActive(), e.isArray(n.disabled) && (n.disabled = e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"), function (e) {
        return t.tabs.index(e);
      }))).sort()), this.options.active !== !1 && this.anchors.length ? this.active = this._findActive(n.active) : this.active = e(), this._refresh(), this.active.length && this.load(n.active);
    }, _initialActive: function _initialActive() {
      var t = this.options.active,
          n = this.options.collapsible,
          r = location.hash.substring(1);if (t === null) {
        r && this.tabs.each(function (n, i) {
          if (e(i).attr("aria-controls") === r) return t = n, !1;
        }), t === null && (t = this.tabs.index(this.tabs.filter(".ui-tabs-active")));if (t === null || t === -1) t = this.tabs.length ? 0 : !1;
      }return t !== !1 && (t = this.tabs.index(this.tabs.eq(t)), t === -1 && (t = n ? !1 : 0)), !n && t === !1 && this.anchors.length && (t = 0), t;
    }, _getCreateEventData: function _getCreateEventData() {
      return { tab: this.active, panel: this.active.length ? this._getPanelForTab(this.active) : e() };
    }, _tabKeydown: function _tabKeydown(t) {
      var n = e(this.document[0].activeElement).closest("li"),
          r = this.tabs.index(n),
          i = !0;if (this._handlePageNav(t)) return;switch (t.keyCode) {case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:
          r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:
          i = !1, r--;break;case e.ui.keyCode.END:
          r = this.anchors.length - 1;break;case e.ui.keyCode.HOME:
          r = 0;break;case e.ui.keyCode.SPACE:
          t.preventDefault(), clearTimeout(this.activating), this._activate(r);return;case e.ui.keyCode.ENTER:
          t.preventDefault(), clearTimeout(this.activating), this._activate(r === this.options.active ? !1 : r);return;default:
          return;}t.preventDefault(), clearTimeout(this.activating), r = this._focusNextTab(r, i), t.ctrlKey || (n.attr("aria-selected", "false"), this.tabs.eq(r).attr("aria-selected", "true"), this.activating = this._delay(function () {
        this.option("active", r);
      }, this.delay));
    }, _panelKeydown: function _panelKeydown(t) {
      if (this._handlePageNav(t)) return;t.ctrlKey && t.keyCode === e.ui.keyCode.UP && (t.preventDefault(), this.active.focus());
    }, _handlePageNav: function _handlePageNav(t) {
      if (t.altKey && t.keyCode === e.ui.keyCode.PAGE_UP) return this._activate(this._focusNextTab(this.options.active - 1, !1)), !0;if (t.altKey && t.keyCode === e.ui.keyCode.PAGE_DOWN) return this._activate(this._focusNextTab(this.options.active + 1, !0)), !0;
    }, _findNextTab: function _findNextTab(t, n) {
      function i() {
        return t > r && (t = 0), t < 0 && (t = r), t;
      }var r = this.tabs.length - 1;while (e.inArray(i(), this.options.disabled) !== -1) {
        t = n ? t + 1 : t - 1;
      }return t;
    }, _focusNextTab: function _focusNextTab(e, t) {
      return e = this._findNextTab(e, t), this.tabs.eq(e).focus(), e;
    }, _setOption: function _setOption(e, t) {
      if (e === "active") {
        this._activate(t);return;
      }if (e === "disabled") {
        this._setupDisabled(t);return;
      }this._super(e, t), e === "collapsible" && (this.element.toggleClass("ui-tabs-collapsible", t), !t && this.options.active === !1 && this._activate(0)), e === "event" && this._setupEvents(t), e === "heightStyle" && this._setupHeightStyle(t);
    }, _tabId: function _tabId(e) {
      return e.attr("aria-controls") || "ui-tabs-" + i();
    }, _sanitizeSelector: function _sanitizeSelector(e) {
      return e ? e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : "";
    }, refresh: function refresh() {
      var t = this.options,
          n = this.tablist.children(":has(a[href])");t.disabled = e.map(n.filter(".ui-state-disabled"), function (e) {
        return n.index(e);
      }), this._processTabs(), t.active === !1 || !this.anchors.length ? (t.active = !1, this.active = e()) : this.active.length && !e.contains(this.tablist[0], this.active[0]) ? this.tabs.length === t.disabled.length ? (t.active = !1, this.active = e()) : this._activate(this._findNextTab(Math.max(0, t.active - 1), !1)) : t.active = this.tabs.index(this.active), this._refresh();
    }, _refresh: function _refresh() {
      this._setupDisabled(this.options.disabled), this._setupEvents(this.options.event), this._setupHeightStyle(this.options.heightStyle), this.tabs.not(this.active).attr({ "aria-selected": "false", tabIndex: -1 }), this.panels.not(this._getPanelForTab(this.active)).hide().attr({ "aria-expanded": "false", "aria-hidden": "true" }), this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active").attr({ "aria-selected": "true", tabIndex: 0 }), this._getPanelForTab(this.active).show().attr({ "aria-expanded": "true", "aria-hidden": "false" })) : this.tabs.eq(0).attr("tabIndex", 0);
    }, _processTabs: function _processTabs() {
      var t = this;this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist"), this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({ role: "tab", tabIndex: -1 }), this.anchors = this.tabs.map(function () {
        return e("a", this)[0];
      }).addClass("ui-tabs-anchor").attr({ role: "presentation", tabIndex: -1 }), this.panels = e(), this.anchors.each(function (n, r) {
        var i,
            o,
            u,
            a = e(r).uniqueId().attr("id"),
            f = e(r).closest("li"),
            l = f.attr("aria-controls");s(r) ? (i = r.hash, o = t.element.find(t._sanitizeSelector(i))) : (u = t._tabId(f), i = "#" + u, o = t.element.find(i), o.length || (o = t._createPanel(u), o.insertAfter(t.panels[n - 1] || t.tablist)), o.attr("aria-live", "polite")), o.length && (t.panels = t.panels.add(o)), l && f.data("ui-tabs-aria-controls", l), f.attr({ "aria-controls": i.substring(1), "aria-labelledby": a }), o.attr("aria-labelledby", a);
      }), this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel");
    }, _getList: function _getList() {
      return this.element.find("ol,ul").eq(0);
    }, _createPanel: function _createPanel(t) {
      return e("<div>").attr("id", t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0);
    }, _setupDisabled: function _setupDisabled(t) {
      e.isArray(t) && (t.length ? t.length === this.anchors.length && (t = !0) : t = !1);for (var n = 0, r; r = this.tabs[n]; n++) {
        t === !0 || e.inArray(n, t) !== -1 ? e(r).addClass("ui-state-disabled").attr("aria-disabled", "true") : e(r).removeClass("ui-state-disabled").removeAttr("aria-disabled");
      }this.options.disabled = t;
    }, _setupEvents: function _setupEvents(t) {
      var n = { click: function click(e) {
          e.preventDefault();
        } };t && e.each(t.split(" "), function (e, t) {
        n[t] = "_eventHandler";
      }), this._off(this.anchors.add(this.tabs).add(this.panels)), this._on(this.anchors, n), this._on(this.tabs, { keydown: "_tabKeydown" }), this._on(this.panels, { keydown: "_panelKeydown" }), this._focusable(this.tabs), this._hoverable(this.tabs);
    }, _setupHeightStyle: function _setupHeightStyle(t) {
      var n,
          r = this.element.parent();t === "fill" ? (n = r.height(), n -= this.element.outerHeight() - this.element.height(), this.element.siblings(":visible").each(function () {
        var t = e(this),
            r = t.css("position");if (r === "absolute" || r === "fixed") return;n -= t.outerHeight(!0);
      }), this.element.children().not(this.panels).each(function () {
        n -= e(this).outerHeight(!0);
      }), this.panels.each(function () {
        e(this).height(Math.max(0, n - e(this).innerHeight() + e(this).height()));
      }).css("overflow", "auto")) : t === "auto" && (n = 0, this.panels.each(function () {
        n = Math.max(n, e(this).height("").height());
      }).height(n));
    }, _eventHandler: function _eventHandler(t) {
      var n = this.options,
          r = this.active,
          i = e(t.currentTarget),
          s = i.closest("li"),
          o = s[0] === r[0],
          u = o && n.collapsible,
          a = u ? e() : this._getPanelForTab(s),
          f = r.length ? this._getPanelForTab(r) : e(),
          l = { oldTab: r, oldPanel: f, newTab: u ? e() : s, newPanel: a };t.preventDefault();if (s.hasClass("ui-state-disabled") || s.hasClass("ui-tabs-loading") || this.running || o && !n.collapsible || this._trigger("beforeActivate", t, l) === !1) return;n.active = u ? !1 : this.tabs.index(s), this.active = o ? e() : s, this.xhr && this.xhr.abort(), !f.length && !a.length && e.error("jQuery UI Tabs: Mismatching fragment identifier."), a.length && this.load(this.tabs.index(s), t), this._toggle(t, l);
    }, _toggle: function _toggle(t, n) {
      function o() {
        r.running = !1, r._trigger("activate", t, n);
      }function u() {
        n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"), i.length && r.options.show ? r._show(i, r.options.show, o) : (i.show(), o());
      }var r = this,
          i = n.newPanel,
          s = n.oldPanel;this.running = !0, s.length && this.options.hide ? this._hide(s, this.options.hide, function () {
        n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), u();
      }) : (n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), s.hide(), u()), s.attr({ "aria-expanded": "false", "aria-hidden": "true" }), n.oldTab.attr("aria-selected", "false"), i.length && s.length ? n.oldTab.attr("tabIndex", -1) : i.length && this.tabs.filter(function () {
        return e(this).attr("tabIndex") === 0;
      }).attr("tabIndex", -1), i.attr({ "aria-expanded": "true", "aria-hidden": "false" }), n.newTab.attr({ "aria-selected": "true", tabIndex: 0 });
    }, _activate: function _activate(t) {
      var n,
          r = this._findActive(t);if (r[0] === this.active[0]) return;r.length || (r = this.active), n = r.find(".ui-tabs-anchor")[0], this._eventHandler({ target: n, currentTarget: n, preventDefault: e.noop });
    }, _findActive: function _findActive(t) {
      return t === !1 ? e() : this.tabs.eq(t);
    }, _getIndex: function _getIndex(e) {
      return typeof e == "string" && (e = this.anchors.index(this.anchors.filter("[href$='" + e + "']"))), e;
    }, _destroy: function _destroy() {
      this.xhr && this.xhr.abort(), this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"), this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"), this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(), this.tabs.add(this.panels).each(function () {
        e.data(this, "ui-tabs-destroy") ? e(this).remove() : e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role");
      }), this.tabs.each(function () {
        var t = e(this),
            n = t.data("ui-tabs-aria-controls");n ? t.attr("aria-controls", n).removeData("ui-tabs-aria-controls") : t.removeAttr("aria-controls");
      }), this.panels.show(), this.options.heightStyle !== "content" && this.panels.css("height", "");
    }, enable: function enable(n) {
      var r = this.options.disabled;if (r === !1) return;n === t ? r = !1 : (n = this._getIndex(n), e.isArray(r) ? r = e.map(r, function (e) {
        return e !== n ? e : null;
      }) : r = e.map(this.tabs, function (e, t) {
        return t !== n ? t : null;
      })), this._setupDisabled(r);
    }, disable: function disable(n) {
      var r = this.options.disabled;if (r === !0) return;if (n === t) r = !0;else {
        n = this._getIndex(n);if (e.inArray(n, r) !== -1) return;e.isArray(r) ? r = e.merge([n], r).sort() : r = [n];
      }this._setupDisabled(r);
    }, load: function load(t, n) {
      t = this._getIndex(t);var r = this,
          i = this.tabs.eq(t),
          o = i.find(".ui-tabs-anchor"),
          u = this._getPanelForTab(i),
          a = { tab: i, panel: u };if (s(o[0])) return;this.xhr = e.ajax(this._ajaxSettings(o, n, a)), this.xhr && this.xhr.statusText !== "canceled" && (i.addClass("ui-tabs-loading"), u.attr("aria-busy", "true"), this.xhr.success(function (e) {
        setTimeout(function () {
          u.html(e), r._trigger("load", n, a);
        }, 1);
      }).complete(function (e, t) {
        setTimeout(function () {
          t === "abort" && r.panels.stop(!1, !0), i.removeClass("ui-tabs-loading"), u.removeAttr("aria-busy"), e === r.xhr && delete r.xhr;
        }, 1);
      }));
    }, _ajaxSettings: function _ajaxSettings(t, n, r) {
      var i = this;return { url: t.attr("href"), beforeSend: function beforeSend(t, s) {
          return i._trigger("beforeLoad", n, e.extend({ jqXHR: t, ajaxSettings: s }, r));
        } };
    }, _getPanelForTab: function _getPanelForTab(t) {
      var n = e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#" + n));
    } });
})(jQuery);(function (e) {
  function n(t, n) {
    var r = (t.attr("aria-describedby") || "").split(/\s+/);r.push(n), t.data("ui-tooltip-id", n).attr("aria-describedby", e.trim(r.join(" ")));
  }function r(t) {
    var n = t.data("ui-tooltip-id"),
        r = (t.attr("aria-describedby") || "").split(/\s+/),
        i = e.inArray(n, r);i !== -1 && r.splice(i, 1), t.removeData("ui-tooltip-id"), r = e.trim(r.join(" ")), r ? t.attr("aria-describedby", r) : t.removeAttr("aria-describedby");
  }var t = 0;e.widget("ui.tooltip", { version: "1.10.0", options: { content: function content() {
        var t = e(this).attr("title") || "";return e("<a>").text(t).html();
      }, hide: !0, items: "[title]:not([disabled])", position: { my: "left top+15", at: "left bottom", collision: "flipfit flip" }, show: !0, tooltipClass: null, track: !1, close: null, open: null }, _create: function _create() {
      this._on({ mouseover: "open", focusin: "open" }), this.tooltips = {}, this.parents = {}, this.options.disabled && this._disable();
    }, _setOption: function _setOption(t, n) {
      var r = this;if (t === "disabled") {
        this[n ? "_disable" : "_enable"](), this.options[t] = n;return;
      }this._super(t, n), t === "content" && e.each(this.tooltips, function (e, t) {
        r._updateContent(t);
      });
    }, _disable: function _disable() {
      var t = this;e.each(this.tooltips, function (n, r) {
        var i = e.Event("blur");i.target = i.currentTarget = r[0], t.close(i, !0);
      }), this.element.find(this.options.items).addBack().each(function () {
        var t = e(this);t.is("[title]") && t.data("ui-tooltip-title", t.attr("title")).attr("title", "");
      });
    }, _enable: function _enable() {
      this.element.find(this.options.items).addBack().each(function () {
        var t = e(this);t.data("ui-tooltip-title") && t.attr("title", t.data("ui-tooltip-title"));
      });
    }, open: function open(t) {
      var n = this,
          r = e(t ? t.target : this.element).closest(this.options.items);if (!r.length || r.data("ui-tooltip-id")) return;r.attr("title") && r.data("ui-tooltip-title", r.attr("title")), r.data("ui-tooltip-open", !0), t && t.type === "mouseover" && r.parents().each(function () {
        var t = e(this),
            r;t.data("ui-tooltip-open") && (r = e.Event("blur"), r.target = r.currentTarget = this, n.close(r, !0)), t.attr("title") && (t.uniqueId(), n.parents[this.id] = { element: this, title: t.attr("title") }, t.attr("title", ""));
      }), this._updateContent(r, t);
    }, _updateContent: function _updateContent(e, t) {
      var n,
          r = this.options.content,
          i = this,
          s = t ? t.type : null;if (typeof r == "string") return this._open(t, e, r);n = r.call(e[0], function (n) {
        if (!e.data("ui-tooltip-open")) return;i._delay(function () {
          t && (t.type = s), this._open(t, e, n);
        });
      }), n && this._open(t, e, n);
    }, _open: function _open(t, r, i) {
      function f(e) {
        a.of = e;if (s.is(":hidden")) return;s.position(a);
      }var s,
          o,
          u,
          a = e.extend({}, this.options.position);if (!i) return;s = this._find(r);if (s.length) {
        s.find(".ui-tooltip-content").html(i);return;
      }r.is("[title]") && (t && t.type === "mouseover" ? r.attr("title", "") : r.removeAttr("title")), s = this._tooltip(r), n(r, s.attr("id")), s.find(".ui-tooltip-content").html(i), this.options.track && t && /^mouse/.test(t.type) ? (this._on(this.document, { mousemove: f }), f(t)) : s.position(e.extend({ of: r }, this.options.position)), s.hide(), this._show(s, this.options.show), this.options.show && this.options.show.delay && (u = this.delayedShow = setInterval(function () {
        s.is(":visible") && (f(a.of), clearInterval(u));
      }, e.fx.interval)), this._trigger("open", t, { tooltip: s }), o = { keyup: function keyup(t) {
          if (t.keyCode === e.ui.keyCode.ESCAPE) {
            var n = e.Event(t);n.currentTarget = r[0], this.close(n, !0);
          }
        }, remove: function remove() {
          this._removeTooltip(s);
        } };if (!t || t.type === "mouseover") o.mouseleave = "close";if (!t || t.type === "focusin") o.focusout = "close";this._on(!0, r, o);
    }, close: function close(t) {
      var n = this,
          i = e(t ? t.currentTarget : this.element),
          s = this._find(i);if (this.closing) return;clearInterval(this.delayedShow), i.data("ui-tooltip-title") && i.attr("title", i.data("ui-tooltip-title")), r(i), s.stop(!0), this._hide(s, this.options.hide, function () {
        n._removeTooltip(e(this));
      }), i.removeData("ui-tooltip-open"), this._off(i, "mouseleave focusout keyup"), i[0] !== this.element[0] && this._off(i, "remove"), this._off(this.document, "mousemove"), t && t.type === "mouseleave" && e.each(this.parents, function (t, r) {
        e(r.element).attr("title", r.title), delete n.parents[t];
      }), this.closing = !0, this._trigger("close", t, { tooltip: s }), this.closing = !1;
    }, _tooltip: function _tooltip(n) {
      var r = "ui-tooltip-" + t++,
          i = e("<div>").attr({ id: r, role: "tooltip" }).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content " + (this.options.tooltipClass || ""));return e("<div>").addClass("ui-tooltip-content").appendTo(i), i.appendTo(this.document[0].body), this.tooltips[r] = n, i;
    }, _find: function _find(t) {
      var n = t.data("ui-tooltip-id");return n ? e("#" + n) : e();
    }, _removeTooltip: function _removeTooltip(e) {
      e.remove(), delete this.tooltips[e.attr("id")];
    }, _destroy: function _destroy() {
      var t = this;e.each(this.tooltips, function (n, r) {
        var i = e.Event("blur");i.target = i.currentTarget = r[0], t.close(i, !0), e("#" + n).remove(), r.data("ui-tooltip-title") && (r.attr("title", r.data("ui-tooltip-title")), r.removeData("ui-tooltip-title"));
      });
    } });
})(jQuery);jQuery.effects || function (e, t) {
  var n = "ui-effects-";e.effects = { effect: {} }, function (e, t) {
    function h(e, t, n) {
      var r = u[t.type] || {};return e == null ? n || !t.def ? null : t.def : (e = r.floor ? ~~e : parseFloat(e), isNaN(e) ? t.def : r.mod ? (e + r.mod) % r.mod : 0 > e ? 0 : r.max < e ? r.max : e);
    }function p(t) {
      var n = s(),
          r = n._rgba = [];return t = t.toLowerCase(), c(i, function (e, i) {
        var s,
            u = i.re.exec(t),
            a = u && i.parse(u),
            f = i.space || "rgba";if (a) return s = n[f](a), n[o[f].cache] = s[o[f].cache], r = n._rgba = s._rgba, !1;
      }), r.length ? (r.join() === "0,0,0,0" && e.extend(r, l.transparent), n) : l[t];
    }function d(e, t, n) {
      return n = (n + 1) % 1, n * 6 < 1 ? e + (t - e) * n * 6 : n * 2 < 1 ? t : n * 3 < 2 ? e + (t - e) * (2 / 3 - n) * 6 : e;
    }var n = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",
        r = /^([\-+])=\s*(\d+\.?\d*)/,
        i = [{ re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/, parse: function parse(e) {
        return [e[1], e[2], e[3], e[4]];
      } }, { re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/, parse: function parse(e) {
        return [e[1] * 2.55, e[2] * 2.55, e[3] * 2.55, e[4]];
      } }, { re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/, parse: function parse(e) {
        return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)];
      } }, { re: /#([a-f0-9])([a-f0-9])([a-f0-9])/, parse: function parse(e) {
        return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)];
      } }, { re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/, space: "hsla", parse: function parse(e) {
        return [e[1], e[2] / 100, e[3] / 100, e[4]];
      } }],
        s = e.Color = function (t, n, r, i) {
      return new e.Color.fn.parse(t, n, r, i);
    },
        o = { rgba: { props: { red: { idx: 0, type: "byte" }, green: { idx: 1, type: "byte" }, blue: { idx: 2, type: "byte" } } }, hsla: { props: { hue: { idx: 0, type: "degrees" }, saturation: { idx: 1, type: "percent" }, lightness: { idx: 2, type: "percent" } } } },
        u = { "byte": { floor: !0, max: 255 }, percent: { max: 1 }, degrees: { mod: 360, floor: !0 } },
        a = s.support = {},
        f = e("<p>")[0],
        l,
        c = e.each;f.style.cssText = "background-color:rgba(1,1,1,.5)", a.rgba = f.style.backgroundColor.indexOf("rgba") > -1, c(o, function (e, t) {
      t.cache = "_" + e, t.props.alpha = { idx: 3, type: "percent", def: 1 };
    }), s.fn = e.extend(s.prototype, { parse: function parse(n, r, i, u) {
        if (n === t) return this._rgba = [null, null, null, null], this;if (n.jquery || n.nodeType) n = e(n).css(r), r = t;var a = this,
            f = e.type(n),
            d = this._rgba = [];r !== t && (n = [n, r, i, u], f = "array");if (f === "string") return this.parse(p(n) || l._default);if (f === "array") return c(o.rgba.props, function (e, t) {
          d[t.idx] = h(n[t.idx], t);
        }), this;if (f === "object") return n instanceof s ? c(o, function (e, t) {
          n[t.cache] && (a[t.cache] = n[t.cache].slice());
        }) : c(o, function (t, r) {
          var i = r.cache;c(r.props, function (e, t) {
            if (!a[i] && r.to) {
              if (e === "alpha" || n[e] == null) return;a[i] = r.to(a._rgba);
            }a[i][t.idx] = h(n[e], t, !0);
          }), a[i] && e.inArray(null, a[i].slice(0, 3)) < 0 && (a[i][3] = 1, r.from && (a._rgba = r.from(a[i])));
        }), this;
      }, is: function is(e) {
        var t = s(e),
            n = !0,
            r = this;return c(o, function (e, i) {
          var s,
              o = t[i.cache];return o && (s = r[i.cache] || i.to && i.to(r._rgba) || [], c(i.props, function (e, t) {
            if (o[t.idx] != null) return n = o[t.idx] === s[t.idx], n;
          })), n;
        }), n;
      }, _space: function _space() {
        var e = [],
            t = this;return c(o, function (n, r) {
          t[r.cache] && e.push(n);
        }), e.pop();
      }, transition: function transition(e, t) {
        var n = s(e),
            r = n._space(),
            i = o[r],
            a = this.alpha() === 0 ? s("transparent") : this,
            f = a[i.cache] || i.to(a._rgba),
            l = f.slice();return n = n[i.cache], c(i.props, function (e, r) {
          var i = r.idx,
              s = f[i],
              o = n[i],
              a = u[r.type] || {};if (o === null) return;s === null ? l[i] = o : (a.mod && (o - s > a.mod / 2 ? s += a.mod : s - o > a.mod / 2 && (s -= a.mod)), l[i] = h((o - s) * t + s, r));
        }), this[r](l);
      }, blend: function blend(t) {
        if (this._rgba[3] === 1) return this;var n = this._rgba.slice(),
            r = n.pop(),
            i = s(t)._rgba;return s(e.map(n, function (e, t) {
          return (1 - r) * i[t] + r * e;
        }));
      }, toRgbaString: function toRgbaString() {
        var t = "rgba(",
            n = e.map(this._rgba, function (e, t) {
          return e == null ? t > 2 ? 1 : 0 : e;
        });return n[3] === 1 && (n.pop(), t = "rgb("), t + n.join() + ")";
      }, toHslaString: function toHslaString() {
        var t = "hsla(",
            n = e.map(this.hsla(), function (e, t) {
          return e == null && (e = t > 2 ? 1 : 0), t && t < 3 && (e = Math.round(e * 100) + "%"), e;
        });return n[3] === 1 && (n.pop(), t = "hsl("), t + n.join() + ")";
      }, toHexString: function toHexString(t) {
        var n = this._rgba.slice(),
            r = n.pop();return t && n.push(~~(r * 255)), "#" + e.map(n, function (e) {
          return e = (e || 0).toString(16), e.length === 1 ? "0" + e : e;
        }).join("");
      }, toString: function toString() {
        return this._rgba[3] === 0 ? "transparent" : this.toRgbaString();
      } }), s.fn.parse.prototype = s.fn, o.hsla.to = function (e) {
      if (e[0] == null || e[1] == null || e[2] == null) return [null, null, null, e[3]];var t = e[0] / 255,
          n = e[1] / 255,
          r = e[2] / 255,
          i = e[3],
          s = Math.max(t, n, r),
          o = Math.min(t, n, r),
          u = s - o,
          a = s + o,
          f = a * .5,
          l,
          c;return o === s ? l = 0 : t === s ? l = 60 * (n - r) / u + 360 : n === s ? l = 60 * (r - t) / u + 120 : l = 60 * (t - n) / u + 240, u === 0 ? c = 0 : f <= .5 ? c = u / a : c = u / (2 - a), [Math.round(l) % 360, c, f, i == null ? 1 : i];
    }, o.hsla.from = function (e) {
      if (e[0] == null || e[1] == null || e[2] == null) return [null, null, null, e[3]];var t = e[0] / 360,
          n = e[1],
          r = e[2],
          i = e[3],
          s = r <= .5 ? r * (1 + n) : r + n - r * n,
          o = 2 * r - s;return [Math.round(d(o, s, t + 1 / 3) * 255), Math.round(d(o, s, t) * 255), Math.round(d(o, s, t - 1 / 3) * 255), i];
    }, c(o, function (n, i) {
      var o = i.props,
          u = i.cache,
          a = i.to,
          f = i.from;s.fn[n] = function (n) {
        a && !this[u] && (this[u] = a(this._rgba));if (n === t) return this[u].slice();var r,
            i = e.type(n),
            l = i === "array" || i === "object" ? n : arguments,
            p = this[u].slice();return c(o, function (e, t) {
          var n = l[i === "object" ? e : t.idx];n == null && (n = p[t.idx]), p[t.idx] = h(n, t);
        }), f ? (r = s(f(p)), r[u] = p, r) : s(p);
      }, c(o, function (t, i) {
        if (s.fn[t]) return;s.fn[t] = function (s) {
          var o = e.type(s),
              u = t === "alpha" ? this._hsla ? "hsla" : "rgba" : n,
              a = this[u](),
              f = a[i.idx],
              l;return o === "undefined" ? f : (o === "function" && (s = s.call(this, f), o = e.type(s)), s == null && i.empty ? this : (o === "string" && (l = r.exec(s), l && (s = f + parseFloat(l[2]) * (l[1] === "+" ? 1 : -1))), a[i.idx] = s, this[u](a)));
        };
      });
    }), s.hook = function (t) {
      var n = t.split(" ");c(n, function (t, n) {
        e.cssHooks[n] = { set: function set(t, r) {
            var i,
                o,
                u = "";if (r !== "transparent" && (e.type(r) !== "string" || (i = p(r)))) {
              r = s(i || r);if (!a.rgba && r._rgba[3] !== 1) {
                o = n === "backgroundColor" ? t.parentNode : t;while ((u === "" || u === "transparent") && o && o.style) {
                  try {
                    u = e.css(o, "backgroundColor"), o = o.parentNode;
                  } catch (f) {}
                }r = r.blend(u && u !== "transparent" ? u : "_default");
              }r = r.toRgbaString();
            }try {
              t.style[n] = r;
            } catch (f) {}
          } }, e.fx.step[n] = function (t) {
          t.colorInit || (t.start = s(t.elem, n), t.end = s(t.end), t.colorInit = !0), e.cssHooks[n].set(t.elem, t.start.transition(t.end, t.pos));
        };
      });
    }, s.hook(n), e.cssHooks.borderColor = { expand: function expand(e) {
        var t = {};return c(["Top", "Right", "Bottom", "Left"], function (n, r) {
          t["border" + r + "Color"] = e;
        }), t;
      } }, l = e.Color.names = { aqua: "#00ffff", black: "#000000", blue: "#0000ff", fuchsia: "#ff00ff", gray: "#808080", green: "#008000", lime: "#00ff00", maroon: "#800000", navy: "#000080", olive: "#808000", purple: "#800080", red: "#ff0000", silver: "#c0c0c0", teal: "#008080", white: "#ffffff", yellow: "#ffff00", transparent: [null, null, null, 0], _default: "#ffffff" };
  }(jQuery), function () {
    function i(t) {
      var n,
          r,
          i = t.ownerDocument.defaultView ? t.ownerDocument.defaultView.getComputedStyle(t, null) : t.currentStyle,
          s = {};if (i && i.length && i[0] && i[i[0]]) {
        r = i.length;while (r--) {
          n = i[r], typeof i[n] == "string" && (s[e.camelCase(n)] = i[n]);
        }
      } else for (n in i) {
        typeof i[n] == "string" && (s[n] = i[n]);
      }return s;
    }function s(t, n) {
      var i = {},
          s,
          o;for (s in n) {
        o = n[s], t[s] !== o && !r[s] && (e.fx.step[s] || !isNaN(parseFloat(o))) && (i[s] = o);
      }return i;
    }var n = ["add", "remove", "toggle"],
        r = { border: 1, borderBottom: 1, borderColor: 1, borderLeft: 1, borderRight: 1, borderTop: 1, borderWidth: 1, margin: 1, padding: 1 };e.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function (t, n) {
      e.fx.step[n] = function (e) {
        if (e.end !== "none" && !e.setAttr || e.pos === 1 && !e.setAttr) jQuery.style(e.elem, n, e.end), e.setAttr = !0;
      };
    }), e.fn.addBack || (e.fn.addBack = function (e) {
      return this.add(e == null ? this.prevObject : this.prevObject.filter(e));
    }), e.effects.animateClass = function (t, r, o, u) {
      var a = e.speed(r, o, u);return this.queue(function () {
        var r = e(this),
            o = r.attr("class") || "",
            u,
            f = a.children ? r.find("*").addBack() : r;f = f.map(function () {
          var t = e(this);return { el: t, start: i(this) };
        }), u = function u() {
          e.each(n, function (e, n) {
            t[n] && r[n + "Class"](t[n]);
          });
        }, u(), f = f.map(function () {
          return this.end = i(this.el[0]), this.diff = s(this.start, this.end), this;
        }), r.attr("class", o), f = f.map(function () {
          var t = this,
              n = e.Deferred(),
              r = e.extend({}, a, { queue: !1, complete: function complete() {
              n.resolve(t);
            } });return this.el.animate(this.diff, r), n.promise();
        }), e.when.apply(e, f.get()).done(function () {
          u(), e.each(arguments, function () {
            var t = this.el;e.each(this.diff, function (e) {
              t.css(e, "");
            });
          }), a.complete.call(r[0]);
        });
      });
    }, e.fn.extend({ _addClass: e.fn.addClass, addClass: function addClass(t, n, r, i) {
        return n ? e.effects.animateClass.call(this, { add: t }, n, r, i) : this._addClass(t);
      }, _removeClass: e.fn.removeClass, removeClass: function removeClass(t, n, r, i) {
        return n ? e.effects.animateClass.call(this, { remove: t }, n, r, i) : this._removeClass(t);
      }, _toggleClass: e.fn.toggleClass, toggleClass: function toggleClass(n, r, i, s, o) {
        return typeof r == "boolean" || r === t ? i ? e.effects.animateClass.call(this, r ? { add: n } : { remove: n }, i, s, o) : this._toggleClass(n, r) : e.effects.animateClass.call(this, { toggle: n }, r, i, s);
      }, switchClass: function switchClass(t, n, r, i, s) {
        return e.effects.animateClass.call(this, { add: n, remove: t }, r, i, s);
      } });
  }(), function () {
    function r(t, n, r, i) {
      e.isPlainObject(t) && (n = t, t = t.effect), t = { effect: t }, n == null && (n = {}), e.isFunction(n) && (i = n, r = null, n = {});if (typeof n == "number" || e.fx.speeds[n]) i = r, r = n, n = {};return e.isFunction(r) && (i = r, r = null), n && e.extend(t, n), r = r || n.duration, t.duration = e.fx.off ? 0 : typeof r == "number" ? r : r in e.fx.speeds ? e.fx.speeds[r] : e.fx.speeds._default, t.complete = i || n.complete, t;
    }function i(t) {
      return !t || typeof t == "number" || e.fx.speeds[t] ? !0 : typeof t == "string" && !e.effects.effect[t];
    }e.extend(e.effects, { version: "1.10.0", save: function save(e, t) {
        for (var r = 0; r < t.length; r++) {
          t[r] !== null && e.data(n + t[r], e[0].style[t[r]]);
        }
      }, restore: function restore(e, r) {
        var i, s;for (s = 0; s < r.length; s++) {
          r[s] !== null && (i = e.data(n + r[s]), i === t && (i = ""), e.css(r[s], i));
        }
      }, setMode: function setMode(e, t) {
        return t === "toggle" && (t = e.is(":hidden") ? "show" : "hide"), t;
      }, getBaseline: function getBaseline(e, t) {
        var n, r;switch (e[0]) {case "top":
            n = 0;break;case "middle":
            n = .5;break;case "bottom":
            n = 1;break;default:
            n = e[0] / t.height;}switch (e[1]) {case "left":
            r = 0;break;case "center":
            r = .5;break;case "right":
            r = 1;break;default:
            r = e[1] / t.width;}return { x: r, y: n };
      }, createWrapper: function createWrapper(t) {
        if (t.parent().is(".ui-effects-wrapper")) return t.parent();var n = { width: t.outerWidth(!0), height: t.outerHeight(!0), "float": t.css("float") },
            r = e("<div></div>").addClass("ui-effects-wrapper").css({ fontSize: "100%", background: "transparent", border: "none", margin: 0, padding: 0 }),
            i = { width: t.width(), height: t.height() },
            s = document.activeElement;try {
          s.id;
        } catch (o) {
          s = document.body;
        }return t.wrap(r), (t[0] === s || e.contains(t[0], s)) && e(s).focus(), r = t.parent(), t.css("position") === "static" ? (r.css({ position: "relative" }), t.css({ position: "relative" })) : (e.extend(n, { position: t.css("position"), zIndex: t.css("z-index") }), e.each(["top", "left", "bottom", "right"], function (e, r) {
          n[r] = t.css(r), isNaN(parseInt(n[r], 10)) && (n[r] = "auto");
        }), t.css({ position: "relative", top: 0, left: 0, right: "auto", bottom: "auto" })), t.css(i), r.css(n).show();
      }, removeWrapper: function removeWrapper(t) {
        var n = document.activeElement;return t.parent().is(".ui-effects-wrapper") && (t.parent().replaceWith(t), (t[0] === n || e.contains(t[0], n)) && e(n).focus()), t;
      }, setTransition: function setTransition(t, n, r, i) {
        return i = i || {}, e.each(n, function (e, n) {
          var s = t.cssUnit(n);s[0] > 0 && (i[n] = s[0] * r + s[1]);
        }), i;
      } }), e.fn.extend({ effect: function effect() {
        function o(n) {
          function u() {
            e.isFunction(i) && i.call(r[0]), e.isFunction(n) && n();
          }var r = e(this),
              i = t.complete,
              o = t.mode;(r.is(":hidden") ? o === "hide" : o === "show") ? u() : s.call(r[0], t, u);
        }var t = r.apply(this, arguments),
            n = t.mode,
            i = t.queue,
            s = e.effects.effect[t.effect];return e.fx.off || !s ? n ? this[n](t.duration, t.complete) : this.each(function () {
          t.complete && t.complete.call(this);
        }) : i === !1 ? this.each(o) : this.queue(i || "fx", o);
      }, _show: e.fn.show, show: function show(e) {
        if (i(e)) return this._show.apply(this, arguments);var t = r.apply(this, arguments);return t.mode = "show", this.effect.call(this, t);
      }, _hide: e.fn.hide, hide: function hide(e) {
        if (i(e)) return this._hide.apply(this, arguments);var t = r.apply(this, arguments);return t.mode = "hide", this.effect.call(this, t);
      }, __toggle: e.fn.toggle, toggle: function toggle(t) {
        if (i(t) || typeof t == "boolean" || e.isFunction(t)) return this.__toggle.apply(this, arguments);var n = r.apply(this, arguments);return n.mode = "toggle", this.effect.call(this, n);
      }, cssUnit: function cssUnit(t) {
        var n = this.css(t),
            r = [];return e.each(["em", "px", "%", "pt"], function (e, t) {
          n.indexOf(t) > 0 && (r = [parseFloat(n), t]);
        }), r;
      } });
  }(), function () {
    var t = {};e.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function (e, n) {
      t[n] = function (t) {
        return Math.pow(t, e + 2);
      };
    }), e.extend(t, { Sine: function Sine(e) {
        return 1 - Math.cos(e * Math.PI / 2);
      }, Circ: function Circ(e) {
        return 1 - Math.sqrt(1 - e * e);
      }, Elastic: function Elastic(e) {
        return e === 0 || e === 1 ? e : -Math.pow(2, 8 * (e - 1)) * Math.sin(((e - 1) * 80 - 7.5) * Math.PI / 15);
      }, Back: function Back(e) {
        return e * e * (3 * e - 2);
      }, Bounce: function Bounce(e) {
        var t,
            n = 4;while (e < ((t = Math.pow(2, --n)) - 1) / 11) {}return 1 / Math.pow(4, 3 - n) - 7.5625 * Math.pow((t * 3 - 2) / 22 - e, 2);
      } }), e.each(t, function (t, n) {
      e.easing["easeIn" + t] = n, e.easing["easeOut" + t] = function (e) {
        return 1 - n(1 - e);
      }, e.easing["easeInOut" + t] = function (e) {
        return e < .5 ? n(e * 2) / 2 : 1 - n(e * -2 + 2) / 2;
      };
    });
  }();
}(jQuery);(function (e, t) {
  var n = /up|down|vertical/,
      r = /up|left|vertical|horizontal/;e.effects.effect.blind = function (t, i) {
    var s = e(this),
        o = ["position", "top", "bottom", "left", "right", "height", "width"],
        u = e.effects.setMode(s, t.mode || "hide"),
        a = t.direction || "up",
        f = n.test(a),
        l = f ? "height" : "width",
        c = f ? "top" : "left",
        h = r.test(a),
        p = {},
        d = u === "show",
        v,
        m,
        g;s.parent().is(".ui-effects-wrapper") ? e.effects.save(s.parent(), o) : e.effects.save(s, o), s.show(), v = e.effects.createWrapper(s).css({ overflow: "hidden" }), m = v[l](), g = parseFloat(v.css(c)) || 0, p[l] = d ? m : 0, h || (s.css(f ? "bottom" : "right", 0).css(f ? "top" : "left", "auto").css({ position: "absolute" }), p[c] = d ? g : m + g), d && (v.css(l, 0), h || v.css(c, g + m)), v.animate(p, { duration: t.duration, easing: t.easing, queue: !1, complete: function complete() {
        u === "hide" && s.hide(), e.effects.restore(s, o), e.effects.removeWrapper(s), i();
      } });
  };
})(jQuery);(function (e, t) {
  e.effects.effect.bounce = function (t, n) {
    var r = e(this),
        i = ["position", "top", "bottom", "left", "right", "height", "width"],
        s = e.effects.setMode(r, t.mode || "effect"),
        o = s === "hide",
        u = s === "show",
        a = t.direction || "up",
        f = t.distance,
        l = t.times || 5,
        c = l * 2 + (u || o ? 1 : 0),
        h = t.duration / c,
        p = t.easing,
        d = a === "up" || a === "down" ? "top" : "left",
        v = a === "up" || a === "left",
        m,
        g,
        y,
        b = r.queue(),
        w = b.length;(u || o) && i.push("opacity"), e.effects.save(r, i), r.show(), e.effects.createWrapper(r), f || (f = r[d === "top" ? "outerHeight" : "outerWidth"]() / 3), u && (y = { opacity: 1 }, y[d] = 0, r.css("opacity", 0).css(d, v ? -f * 2 : f * 2).animate(y, h, p)), o && (f /= Math.pow(2, l - 1)), y = {}, y[d] = 0;for (m = 0; m < l; m++) {
      g = {}, g[d] = (v ? "-=" : "+=") + f, r.animate(g, h, p).animate(y, h, p), f = o ? f * 2 : f / 2;
    }o && (g = { opacity: 0 }, g[d] = (v ? "-=" : "+=") + f, r.animate(g, h, p)), r.queue(function () {
      o && r.hide(), e.effects.restore(r, i), e.effects.removeWrapper(r), n();
    }), w > 1 && b.splice.apply(b, [1, 0].concat(b.splice(w, c + 1))), r.dequeue();
  };
})(jQuery);(function (e, t) {
  e.effects.effect.clip = function (t, n) {
    var r = e(this),
        i = ["position", "top", "bottom", "left", "right", "height", "width"],
        s = e.effects.setMode(r, t.mode || "hide"),
        o = s === "show",
        u = t.direction || "vertical",
        a = u === "vertical",
        f = a ? "height" : "width",
        l = a ? "top" : "left",
        c = {},
        h,
        p,
        d;e.effects.save(r, i), r.show(), h = e.effects.createWrapper(r).css({ overflow: "hidden" }), p = r[0].tagName === "IMG" ? h : r, d = p[f](), o && (p.css(f, 0), p.css(l, d / 2)), c[f] = o ? d : 0, c[l] = o ? 0 : d / 2, p.animate(c, { queue: !1, duration: t.duration, easing: t.easing, complete: function complete() {
        o || r.hide(), e.effects.restore(r, i), e.effects.removeWrapper(r), n();
      } });
  };
})(jQuery);(function (e, t) {
  e.effects.effect.drop = function (t, n) {
    var r = e(this),
        i = ["position", "top", "bottom", "left", "right", "opacity", "height", "width"],
        s = e.effects.setMode(r, t.mode || "hide"),
        o = s === "show",
        u = t.direction || "left",
        a = u === "up" || u === "down" ? "top" : "left",
        f = u === "up" || u === "left" ? "pos" : "neg",
        l = { opacity: o ? 1 : 0 },
        c;e.effects.save(r, i), r.show(), e.effects.createWrapper(r), c = t.distance || r[a === "top" ? "outerHeight" : "outerWidth"](!0) / 2, o && r.css("opacity", 0).css(a, f === "pos" ? -c : c), l[a] = (o ? f === "pos" ? "+=" : "-=" : f === "pos" ? "-=" : "+=") + c, r.animate(l, { queue: !1, duration: t.duration, easing: t.easing, complete: function complete() {
        s === "hide" && r.hide(), e.effects.restore(r, i), e.effects.removeWrapper(r), n();
      } });
  };
})(jQuery);(function (e, t) {
  e.effects.effect.explode = function (t, n) {
    function y() {
      c.push(this), c.length === r * i && b();
    }function b() {
      s.css({ visibility: "visible" }), e(c).remove(), u || s.hide(), n();
    }var r = t.pieces ? Math.round(Math.sqrt(t.pieces)) : 3,
        i = r,
        s = e(this),
        o = e.effects.setMode(s, t.mode || "hide"),
        u = o === "show",
        a = s.show().css("visibility", "hidden").offset(),
        f = Math.ceil(s.outerWidth() / i),
        l = Math.ceil(s.outerHeight() / r),
        c = [],
        h,
        p,
        d,
        v,
        m,
        g;for (h = 0; h < r; h++) {
      v = a.top + h * l, g = h - (r - 1) / 2;for (p = 0; p < i; p++) {
        d = a.left + p * f, m = p - (i - 1) / 2, s.clone().appendTo("body").wrap("<div></div>").css({ position: "absolute", visibility: "visible", left: -p * f, top: -h * l }).parent().addClass("ui-effects-explode").css({ position: "absolute", overflow: "hidden", width: f, height: l, left: d + (u ? m * f : 0), top: v + (u ? g * l : 0), opacity: u ? 0 : 1 }).animate({ left: d + (u ? 0 : m * f), top: v + (u ? 0 : g * l), opacity: u ? 1 : 0 }, t.duration || 500, t.easing, y);
      }
    }
  };
})(jQuery);(function (e, t) {
  e.effects.effect.fade = function (t, n) {
    var r = e(this),
        i = e.effects.setMode(r, t.mode || "toggle");r.animate({ opacity: i }, { queue: !1, duration: t.duration, easing: t.easing, complete: n });
  };
})(jQuery);(function (e, t) {
  e.effects.effect.fold = function (t, n) {
    var r = e(this),
        i = ["position", "top", "bottom", "left", "right", "height", "width"],
        s = e.effects.setMode(r, t.mode || "hide"),
        o = s === "show",
        u = s === "hide",
        a = t.size || 15,
        f = /([0-9]+)%/.exec(a),
        l = !!t.horizFirst,
        c = o !== l,
        h = c ? ["width", "height"] : ["height", "width"],
        p = t.duration / 2,
        d,
        v,
        m = {},
        g = {};e.effects.save(r, i), r.show(), d = e.effects.createWrapper(r).css({ overflow: "hidden" }), v = c ? [d.width(), d.height()] : [d.height(), d.width()], f && (a = parseInt(f[1], 10) / 100 * v[u ? 0 : 1]), o && d.css(l ? { height: 0, width: a } : { height: a, width: 0 }), m[h[0]] = o ? v[0] : a, g[h[1]] = o ? v[1] : 0, d.animate(m, p, t.easing).animate(g, p, t.easing, function () {
      u && r.hide(), e.effects.restore(r, i), e.effects.removeWrapper(r), n();
    });
  };
})(jQuery);(function (e, t) {
  e.effects.effect.highlight = function (t, n) {
    var r = e(this),
        i = ["backgroundImage", "backgroundColor", "opacity"],
        s = e.effects.setMode(r, t.mode || "show"),
        o = { backgroundColor: r.css("backgroundColor") };s === "hide" && (o.opacity = 0), e.effects.save(r, i), r.show().css({ backgroundImage: "none", backgroundColor: t.color || "#ffff99" }).animate(o, { queue: !1, duration: t.duration, easing: t.easing, complete: function complete() {
        s === "hide" && r.hide(), e.effects.restore(r, i), n();
      } });
  };
})(jQuery);(function (e, t) {
  e.effects.effect.pulsate = function (t, n) {
    var r = e(this),
        i = e.effects.setMode(r, t.mode || "show"),
        s = i === "show",
        o = i === "hide",
        u = s || i === "hide",
        a = (t.times || 5) * 2 + (u ? 1 : 0),
        f = t.duration / a,
        l = 0,
        c = r.queue(),
        h = c.length,
        p;if (s || !r.is(":visible")) r.css("opacity", 0).show(), l = 1;for (p = 1; p < a; p++) {
      r.animate({ opacity: l }, f, t.easing), l = 1 - l;
    }r.animate({ opacity: l }, f, t.easing), r.queue(function () {
      o && r.hide(), n();
    }), h > 1 && c.splice.apply(c, [1, 0].concat(c.splice(h, a + 1))), r.dequeue();
  };
})(jQuery);(function (e, t) {
  e.effects.effect.puff = function (t, n) {
    var r = e(this),
        i = e.effects.setMode(r, t.mode || "hide"),
        s = i === "hide",
        o = parseInt(t.percent, 10) || 150,
        u = o / 100,
        a = { height: r.height(), width: r.width(), outerHeight: r.outerHeight(), outerWidth: r.outerWidth() };e.extend(t, { effect: "scale", queue: !1, fade: !0, mode: i, complete: n, percent: s ? o : 100, from: s ? a : { height: a.height * u, width: a.width * u, outerHeight: a.outerHeight * u, outerWidth: a.outerWidth * u } }), r.effect(t);
  }, e.effects.effect.scale = function (t, n) {
    var r = e(this),
        i = e.extend(!0, {}, t),
        s = e.effects.setMode(r, t.mode || "effect"),
        o = parseInt(t.percent, 10) || (parseInt(t.percent, 10) === 0 ? 0 : s === "hide" ? 0 : 100),
        u = t.direction || "both",
        a = t.origin,
        f = { height: r.height(), width: r.width(), outerHeight: r.outerHeight(), outerWidth: r.outerWidth() },
        l = { y: u !== "horizontal" ? o / 100 : 1, x: u !== "vertical" ? o / 100 : 1 };i.effect = "size", i.queue = !1, i.complete = n, s !== "effect" && (i.origin = a || ["middle", "center"], i.restore = !0), i.from = t.from || (s === "show" ? { height: 0, width: 0, outerHeight: 0, outerWidth: 0 } : f), i.to = { height: f.height * l.y, width: f.width * l.x, outerHeight: f.outerHeight * l.y, outerWidth: f.outerWidth * l.x }, i.fade && (s === "show" && (i.from.opacity = 0, i.to.opacity = 1), s === "hide" && (i.from.opacity = 1, i.to.opacity = 0)), r.effect(i);
  }, e.effects.effect.size = function (t, n) {
    var r,
        i,
        s,
        o = e(this),
        u = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"],
        a = ["position", "top", "bottom", "left", "right", "overflow", "opacity"],
        f = ["width", "height", "overflow"],
        l = ["fontSize"],
        c = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"],
        h = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"],
        p = e.effects.setMode(o, t.mode || "effect"),
        d = t.restore || p !== "effect",
        v = t.scale || "both",
        m = t.origin || ["middle", "center"],
        g = o.css("position"),
        y = d ? u : a,
        b = { height: 0, width: 0, outerHeight: 0, outerWidth: 0 };p === "show" && o.show(), r = { height: o.height(), width: o.width(), outerHeight: o.outerHeight(), outerWidth: o.outerWidth() }, t.mode === "toggle" && p === "show" ? (o.from = t.to || b, o.to = t.from || r) : (o.from = t.from || (p === "show" ? b : r), o.to = t.to || (p === "hide" ? b : r)), s = { from: { y: o.from.height / r.height, x: o.from.width / r.width }, to: { y: o.to.height / r.height, x: o.to.width / r.width } };if (v === "box" || v === "both") s.from.y !== s.to.y && (y = y.concat(c), o.from = e.effects.setTransition(o, c, s.from.y, o.from), o.to = e.effects.setTransition(o, c, s.to.y, o.to)), s.from.x !== s.to.x && (y = y.concat(h), o.from = e.effects.setTransition(o, h, s.from.x, o.from), o.to = e.effects.setTransition(o, h, s.to.x, o.to));(v === "content" || v === "both") && s.from.y !== s.to.y && (y = y.concat(l).concat(f), o.from = e.effects.setTransition(o, l, s.from.y, o.from), o.to = e.effects.setTransition(o, l, s.to.y, o.to)), e.effects.save(o, y), o.show(), e.effects.createWrapper(o), o.css("overflow", "hidden").css(o.from), m && (i = e.effects.getBaseline(m, r), o.from.top = (r.outerHeight - o.outerHeight()) * i.y, o.from.left = (r.outerWidth - o.outerWidth()) * i.x, o.to.top = (r.outerHeight - o.to.outerHeight) * i.y, o.to.left = (r.outerWidth - o.to.outerWidth) * i.x), o.css(o.from);if (v === "content" || v === "both") c = c.concat(["marginTop", "marginBottom"]).concat(l), h = h.concat(["marginLeft", "marginRight"]), f = u.concat(c).concat(h), o.find("*[width]").each(function () {
      var n = e(this),
          r = { height: n.height(), width: n.width(), outerHeight: n.outerHeight(), outerWidth: n.outerWidth() };d && e.effects.save(n, f), n.from = { height: r.height * s.from.y, width: r.width * s.from.x, outerHeight: r.outerHeight * s.from.y, outerWidth: r.outerWidth * s.from.x }, n.to = { height: r.height * s.to.y, width: r.width * s.to.x, outerHeight: r.height * s.to.y, outerWidth: r.width * s.to.x }, s.from.y !== s.to.y && (n.from = e.effects.setTransition(n, c, s.from.y, n.from), n.to = e.effects.setTransition(n, c, s.to.y, n.to)), s.from.x !== s.to.x && (n.from = e.effects.setTransition(n, h, s.from.x, n.from), n.to = e.effects.setTransition(n, h, s.to.x, n.to)), n.css(n.from), n.animate(n.to, t.duration, t.easing, function () {
        d && e.effects.restore(n, f);
      });
    });o.animate(o.to, { queue: !1, duration: t.duration, easing: t.easing, complete: function complete() {
        o.to.opacity === 0 && o.css("opacity", o.from.opacity), p === "hide" && o.hide(), e.effects.restore(o, y), d || (g === "static" ? o.css({ position: "relative", top: o.to.top, left: o.to.left }) : e.each(["top", "left"], function (e, t) {
          o.css(t, function (t, n) {
            var r = parseInt(n, 10),
                i = e ? o.to.left : o.to.top;return n === "auto" ? i + "px" : r + i + "px";
          });
        })), e.effects.removeWrapper(o), n();
      } });
  };
})(jQuery);(function (e, t) {
  e.effects.effect.shake = function (t, n) {
    var r = e(this),
        i = ["position", "top", "bottom", "left", "right", "height", "width"],
        s = e.effects.setMode(r, t.mode || "effect"),
        o = t.direction || "left",
        u = t.distance || 20,
        a = t.times || 3,
        f = a * 2 + 1,
        l = Math.round(t.duration / f),
        c = o === "up" || o === "down" ? "top" : "left",
        h = o === "up" || o === "left",
        p = {},
        d = {},
        v = {},
        m,
        g = r.queue(),
        y = g.length;e.effects.save(r, i), r.show(), e.effects.createWrapper(r), p[c] = (h ? "-=" : "+=") + u, d[c] = (h ? "+=" : "-=") + u * 2, v[c] = (h ? "-=" : "+=") + u * 2, r.animate(p, l, t.easing);for (m = 1; m < a; m++) {
      r.animate(d, l, t.easing).animate(v, l, t.easing);
    }r.animate(d, l, t.easing).animate(p, l / 2, t.easing).queue(function () {
      s === "hide" && r.hide(), e.effects.restore(r, i), e.effects.removeWrapper(r), n();
    }), y > 1 && g.splice.apply(g, [1, 0].concat(g.splice(y, f + 1))), r.dequeue();
  };
})(jQuery);(function (e, t) {
  e.effects.effect.slide = function (t, n) {
    var r = e(this),
        i = ["position", "top", "bottom", "left", "right", "width", "height"],
        s = e.effects.setMode(r, t.mode || "show"),
        o = s === "show",
        u = t.direction || "left",
        a = u === "up" || u === "down" ? "top" : "left",
        f = u === "up" || u === "left",
        l,
        c = {};e.effects.save(r, i), r.show(), l = t.distance || r[a === "top" ? "outerHeight" : "outerWidth"](!0), e.effects.createWrapper(r).css({ overflow: "hidden" }), o && r.css(a, f ? isNaN(l) ? "-" + l : -l : l), c[a] = (o ? f ? "+=" : "-=" : f ? "-=" : "+=") + l, r.animate(c, { queue: !1, duration: t.duration, easing: t.easing, complete: function complete() {
        s === "hide" && r.hide(), e.effects.restore(r, i), e.effects.removeWrapper(r), n();
      } });
  };
})(jQuery);(function (e, t) {
  e.effects.effect.transfer = function (t, n) {
    var r = e(this),
        i = e(t.to),
        s = i.css("position") === "fixed",
        o = e("body"),
        u = s ? o.scrollTop() : 0,
        a = s ? o.scrollLeft() : 0,
        f = i.offset(),
        l = { top: f.top - u, left: f.left - a, height: i.innerHeight(), width: i.innerWidth() },
        c = r.offset(),
        h = e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({ top: c.top - u, left: c.left - a, height: r.innerHeight(), width: r.innerWidth(), position: s ? "fixed" : "absolute" }).animate(l, t.duration, t.easing, function () {
      h.remove(), n();
    });
  };
})(jQuery);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./common/static/js/vendor/jquery.ajaxQueue.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {/*
* jQuery.ajaxQueue - A queue for ajax requests
*
* @copyright: Copyright (c) 2013 Corey Frang
* @license: Licensed under the MIT license. See https://github.com/gnarf/jquery-ajaxQueue/blob/master/LICENSE-MIT.
* @website: https://github.com/gnarf/jquery-ajaxQueue
*/
(function ($) {

    // jQuery on an empty object, we are going to use this as our Queue
    var ajaxQueue = $({});

    $.ajaxQueue = function (ajaxOpts) {
        var jqXHR,
            dfd = $.Deferred(),
            promise = dfd.promise();

        // run the actual query
        function doRequest(next) {
            jqXHR = $.ajax(ajaxOpts);
            jqXHR.done(dfd.resolve).fail(dfd.reject).then(next, next);
        }

        // queue our ajax request
        ajaxQueue.queue(doRequest);

        // add the abort method
        promise.abort = function (statusText) {

            // proxy abort to the jqXHR if it is active
            if (jqXHR) {
                return jqXHR.abort(statusText);
            }

            // if there wasn't already a jqXHR we need to remove from queue
            var queue = ajaxQueue.queue(),
                index = $.inArray(doRequest, queue);

            if (index > -1) {
                queue.splice(index, 1);
            }

            // and then reject the deferred
            dfd.rejectWith(ajaxOpts.context || ajaxOpts, [promise, statusText, ""]);
            return promise;
        };

        return promise;
    };
})(jQuery);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./common/static/js/vendor/jquery.cookie.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {/*!
 * jQuery Cookie Plugin
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
(function ($) {
    $.cookie = function (key, value, options) {

        // key and at least value given, set cookie...
        if (arguments.length > 1 && (!/Object/.test(Object.prototype.toString.call(value)) || value === null || value === undefined)) {
            options = $.extend({}, options);

            if (value === null || value === undefined) {
                options.expires = -1;
            }

            if (typeof options.expires === 'number') {
                var days = options.expires,
                    t = options.expires = new Date();
                t.setDate(t.getDate() + days);
            }

            value = String(value);

            return document.cookie = [encodeURIComponent(key), '=', options.raw ? value : encodeURIComponent(value), options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE
            options.path ? '; path=' + options.path : '', options.domain ? '; domain=' + options.domain : '', options.secure ? '; secure' : ''].join('');
        }

        // key and possibly options given, get cookie...
        options = value || {};
        var decode = options.raw ? function (s) {
            return s;
        } : decodeURIComponent;

        var pairs = document.cookie.split('; ');
        for (var i = 0, pair; pair = pairs[i] && pairs[i].split('='); i++) {
            if (decode(pair[0]) === key) return decode(pair[1] || ''); // IE saves cookies with empty string as "c; ", e.g. without "=" as opposed to EOMB, thus pair[1] may be undefined
        }
        return null;
    };
})(jQuery);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./common/static/js/vendor/jquery.form.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/*!
 * jQuery Form Plugin
 * version: 3.18 (28-SEP-2012)
 * @requires jQuery v1.5 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses:
 *    http://malsup.github.com/mit-license.txt
 *    http://malsup.github.com/gpl-license-v2.txt
 */
/*global ActiveXObject alert */
;(function ($) {
    "use strict";

    /*
        Usage Note:
        -----------
        Do not use both ajaxSubmit and ajaxForm on the same form.  These
        functions are mutually exclusive.  Use ajaxSubmit if you want
        to bind your own submit handler to the form.  For example,
    
        $(document).ready(function() {
            $('#myForm').on('submit', function(e) {
                e.preventDefault(); // <-- important
                $(this).ajaxSubmit({
                    target: '#output'
                });
            });
        });
    
        Use ajaxForm when you want the plugin to manage all the event binding
        for you.  For example,
    
        $(document).ready(function() {
            $('#myForm').ajaxForm({
                target: '#output'
            });
        });
        
        You can also use ajaxForm with delegation (requires jQuery v1.7+), so the
        form does not have to exist when you invoke ajaxForm:
    
        $('#myForm').ajaxForm({
            delegation: true,
            target: '#output'
        });
        
        When using ajaxForm, the ajaxSubmit function will be invoked for you
        at the appropriate time.
    */

    /**
     * Feature detection
     */

    var feature = {};
    feature.fileapi = $("<input type='file'/>").get(0).files !== undefined;
    feature.formdata = window.FormData !== undefined;

    /**
     * ajaxSubmit() provides a mechanism for immediately submitting
     * an HTML form using AJAX.
     */
    $.fn.ajaxSubmit = function (options) {
        /*jshint scripturl:true */

        // fast fail if nothing selected (http://dev.jquery.com/ticket/2752)
        if (!this.length) {
            log('ajaxSubmit: skipping submit process - no element selected');
            return this;
        }

        var method,
            action,
            url,
            $form = this;

        if (typeof options == 'function') {
            options = { success: options };
        }

        method = this.attr('method');
        action = this.attr('action');
        url = typeof action === 'string' ? $.trim(action) : '';
        url = url || window.location.href || '';
        if (url) {
            // clean url (don't include hash vaue)
            url = (url.match(/^([^#]+)/) || [])[1];
        }

        options = $.extend(true, {
            url: url,
            success: $.ajaxSettings.success,
            type: method || 'GET',
            iframeSrc: /^https/i.test(window.location.href || '') ? 'javascript:false' : 'about:blank'
        }, options);

        // hook for manipulating the form data before it is extracted;
        // convenient for use with rich editors like tinyMCE or FCKEditor
        var veto = {};
        this.trigger('form-pre-serialize', [this, options, veto]);
        if (veto.veto) {
            log('ajaxSubmit: submit vetoed via form-pre-serialize trigger');
            return this;
        }

        // provide opportunity to alter form data before it is serialized
        if (options.beforeSerialize && options.beforeSerialize(this, options) === false) {
            log('ajaxSubmit: submit aborted via beforeSerialize callback');
            return this;
        }

        var traditional = options.traditional;
        if (traditional === undefined) {
            traditional = $.ajaxSettings.traditional;
        }

        var elements = [];
        var qx,
            a = this.formToArray(options.semantic, elements);
        if (options.data) {
            options.extraData = options.data;
            qx = $.param(options.data, traditional);
        }

        // give pre-submit callback an opportunity to abort the submit
        if (options.beforeSubmit && options.beforeSubmit(a, this, options) === false) {
            log('ajaxSubmit: submit aborted via beforeSubmit callback');
            return this;
        }

        // fire vetoable 'validate' event
        this.trigger('form-submit-validate', [a, this, options, veto]);
        if (veto.veto) {
            log('ajaxSubmit: submit vetoed via form-submit-validate trigger');
            return this;
        }

        var q = $.param(a, traditional);
        if (qx) {
            q = q ? q + '&' + qx : qx;
        }
        if (options.type.toUpperCase() == 'GET') {
            options.url += (options.url.indexOf('?') >= 0 ? '&' : '?') + q;
            options.data = null; // data is null for 'get'
        } else {
            options.data = q; // data is the query string for 'post'
        }

        var callbacks = [];
        if (options.resetForm) {
            callbacks.push(function () {
                $form.resetForm();
            });
        }
        if (options.clearForm) {
            callbacks.push(function () {
                $form.clearForm(options.includeHidden);
            });
        }

        // perform a load on the target only if dataType is not provided
        if (!options.dataType && options.target) {
            var oldSuccess = options.success || function () {};
            callbacks.push(function (data) {
                var fn = options.replaceTarget ? 'replaceWith' : 'html';
                $(options.target)[fn](data).each(oldSuccess, arguments);
            });
        } else if (options.success) {
            callbacks.push(options.success);
        }

        options.success = function (data, status, xhr) {
            // jQuery 1.4+ passes xhr as 3rd arg
            var context = options.context || this; // jQuery 1.4+ supports scope context 
            for (var i = 0, max = callbacks.length; i < max; i++) {
                callbacks[i].apply(context, [data, status, xhr || $form, $form]);
            }
        };

        // are there files to upload?
        var fileInputs = $('input:file:enabled[value]', this); // [value] (issue #113)
        var hasFileInputs = fileInputs.length > 0;
        var mp = 'multipart/form-data';
        var multipart = $form.attr('enctype') == mp || $form.attr('encoding') == mp;

        var fileAPI = feature.fileapi && feature.formdata;
        log("fileAPI :" + fileAPI);
        var shouldUseFrame = (hasFileInputs || multipart) && !fileAPI;

        var jqxhr;

        // options.iframe allows user to force iframe mode
        // 06-NOV-09: now defaulting to iframe mode if file input is detected
        if (options.iframe !== false && (options.iframe || shouldUseFrame)) {
            // hack to fix Safari hang (thanks to Tim Molendijk for this)
            // see:  http://groups.google.com/group/jquery-dev/browse_thread/thread/36395b7ab510dd5d
            if (options.closeKeepAlive) {
                $.get(options.closeKeepAlive, function () {
                    jqxhr = fileUploadIframe(a);
                });
            } else {
                jqxhr = fileUploadIframe(a);
            }
        } else if ((hasFileInputs || multipart) && fileAPI) {
            jqxhr = fileUploadXhr(a);
        } else {
            jqxhr = $.ajax(options);
        }

        $form.removeData('jqxhr').data('jqxhr', jqxhr);

        // clear element array
        for (var k = 0; k < elements.length; k++) {
            elements[k] = null;
        } // fire 'notify' event
        this.trigger('form-submit-notify', [this, options]);
        return this;

        // utility fn for deep serialization
        function deepSerialize(extraData) {
            var serialized = $.param(extraData).split('&');
            var len = serialized.length;
            var result = {};
            var i, part;
            for (i = 0; i < len; i++) {
                part = serialized[i].split('=');
                result[decodeURIComponent(part[0])] = decodeURIComponent(part[1]);
            }
            return result;
        }

        // XMLHttpRequest Level 2 file uploads (big hat tip to francois2metz)
        function fileUploadXhr(a) {
            var formdata = new FormData();

            for (var i = 0; i < a.length; i++) {
                formdata.append(a[i].name, a[i].value);
            }

            if (options.extraData) {
                var serializedData = deepSerialize(options.extraData);
                for (var p in serializedData) {
                    if (serializedData.hasOwnProperty(p)) formdata.append(p, serializedData[p]);
                }
            }

            options.data = null;

            var s = $.extend(true, {}, $.ajaxSettings, options, {
                contentType: false,
                processData: false,
                cache: false,
                type: method || 'POST'
            });

            if (options.uploadProgress) {
                // workaround because jqXHR does not expose upload property
                s.xhr = function () {
                    var xhr = jQuery.ajaxSettings.xhr();
                    if (xhr.upload) {
                        xhr.upload.onprogress = function (event) {
                            var percent = 0;
                            var position = event.loaded || event.position; /*event.position is deprecated*/
                            var total = event.total;
                            if (event.lengthComputable) {
                                percent = Math.ceil(position / total * 100);
                            }
                            options.uploadProgress(event, position, total, percent);
                        };
                    }
                    return xhr;
                };
            }

            s.data = null;
            var beforeSend = s.beforeSend;
            s.beforeSend = function (xhr, o) {
                o.data = formdata;
                if (beforeSend) beforeSend.call(this, xhr, o);
            };
            return $.ajax(s);
        }

        // private function for handling file uploads (hat tip to YAHOO!)
        function fileUploadIframe(a) {
            var form = $form[0],
                el,
                i,
                s,
                g,
                id,
                $io,
                io,
                xhr,
                sub,
                n,
                timedOut,
                timeoutHandle;
            var useProp = !!$.fn.prop;
            var deferred = $.Deferred();

            if ($(':input[name=submit],:input[id=submit]', form).length) {
                // if there is an input with a name or id of 'submit' then we won't be
                // able to invoke the submit fn on the form (at least not x-browser)
                alert('Error: Form elements must not have name or id of "submit".');
                deferred.reject();
                return deferred;
            }

            if (a) {
                // ensure that every serialized input is still enabled
                for (i = 0; i < elements.length; i++) {
                    el = $(elements[i]);
                    if (useProp) el.prop('disabled', false);else el.removeAttr('disabled');
                }
            }

            s = $.extend(true, {}, $.ajaxSettings, options);
            s.context = s.context || s;
            id = 'jqFormIO' + new Date().getTime();
            if (s.iframeTarget) {
                $io = $(s.iframeTarget);
                n = $io.attr('name');
                if (!n) $io.attr('name', id);else id = n;
            } else {
                $io = $('<iframe name="' + id + '" src="' + s.iframeSrc + '" />');
                $io.css({ position: 'absolute', top: '-1000px', left: '-1000px' });
            }
            io = $io[0];

            xhr = { // mock object
                aborted: 0,
                responseText: null,
                responseXML: null,
                status: 0,
                statusText: 'n/a',
                getAllResponseHeaders: function getAllResponseHeaders() {},
                getResponseHeader: function getResponseHeader() {},
                setRequestHeader: function setRequestHeader() {},
                abort: function abort(status) {
                    var e = status === 'timeout' ? 'timeout' : 'aborted';
                    log('aborting upload... ' + e);
                    this.aborted = 1;
                    // #214
                    if (io.contentWindow.document.execCommand) {
                        try {
                            // #214
                            io.contentWindow.document.execCommand('Stop');
                        } catch (ignore) {}
                    }
                    $io.attr('src', s.iframeSrc); // abort op in progress
                    xhr.error = e;
                    if (s.error) s.error.call(s.context, xhr, e, status);
                    if (g) $.event.trigger("ajaxError", [xhr, s, e]);
                    if (s.complete) s.complete.call(s.context, xhr, e);
                }
            };

            g = s.global;
            // trigger ajax global events so that activity/block indicators work like normal
            if (g && 0 === $.active++) {
                $.event.trigger("ajaxStart");
            }
            if (g) {
                $.event.trigger("ajaxSend", [xhr, s]);
            }

            if (s.beforeSend && s.beforeSend.call(s.context, xhr, s) === false) {
                if (s.global) {
                    $.active--;
                }
                deferred.reject();
                return deferred;
            }
            if (xhr.aborted) {
                deferred.reject();
                return deferred;
            }

            // add submitting element to data if we know it
            sub = form.clk;
            if (sub) {
                n = sub.name;
                if (n && !sub.disabled) {
                    s.extraData = s.extraData || {};
                    s.extraData[n] = sub.value;
                    if (sub.type == "image") {
                        s.extraData[n + '.x'] = form.clk_x;
                        s.extraData[n + '.y'] = form.clk_y;
                    }
                }
            }

            var CLIENT_TIMEOUT_ABORT = 1;
            var SERVER_ABORT = 2;

            function getDoc(frame) {
                var doc = frame.contentWindow ? frame.contentWindow.document : frame.contentDocument ? frame.contentDocument : frame.document;
                return doc;
            }

            // Rails CSRF hack (thanks to Yvan Barthelemy)
            var csrf_token = $('meta[name=csrf-token]').attr('content');
            var csrf_param = $('meta[name=csrf-param]').attr('content');
            if (csrf_param && csrf_token) {
                s.extraData = s.extraData || {};
                s.extraData[csrf_param] = csrf_token;
            }

            // take a breath so that pending repaints get some cpu time before the upload starts
            function doSubmit() {
                // make sure form attrs are set
                var t = $form.attr('target'),
                    a = $form.attr('action');

                // update form attrs in IE friendly way
                form.setAttribute('target', id);
                if (!method) {
                    form.setAttribute('method', 'POST');
                }
                if (a != s.url) {
                    form.setAttribute('action', s.url);
                }

                // ie borks in some cases when setting encoding
                if (!s.skipEncodingOverride && (!method || /post/i.test(method))) {
                    $form.attr({
                        encoding: 'multipart/form-data',
                        enctype: 'multipart/form-data'
                    });
                }

                // support timout
                if (s.timeout) {
                    timeoutHandle = setTimeout(function () {
                        timedOut = true;cb(CLIENT_TIMEOUT_ABORT);
                    }, s.timeout);
                }

                // look for server aborts
                function checkState() {
                    try {
                        var state = getDoc(io).readyState;
                        log('state = ' + state);
                        if (state && state.toLowerCase() == 'uninitialized') setTimeout(checkState, 50);
                    } catch (e) {
                        log('Server abort: ', e, ' (', e.name, ')');
                        cb(SERVER_ABORT);
                        if (timeoutHandle) clearTimeout(timeoutHandle);
                        timeoutHandle = undefined;
                    }
                }

                // add "extra" data to form if provided in options
                var extraInputs = [];
                try {
                    if (s.extraData) {
                        for (var n in s.extraData) {
                            if (s.extraData.hasOwnProperty(n)) {
                                // if using the $.param format that allows for multiple values with the same name
                                if ($.isPlainObject(s.extraData[n]) && s.extraData[n].hasOwnProperty('name') && s.extraData[n].hasOwnProperty('value')) {
                                    extraInputs.push($('<input type="hidden" name="' + s.extraData[n].name + '">').attr('value', s.extraData[n].value).appendTo(form)[0]);
                                } else {
                                    extraInputs.push($('<input type="hidden" name="' + n + '">').attr('value', s.extraData[n]).appendTo(form)[0]);
                                }
                            }
                        }
                    }

                    if (!s.iframeTarget) {
                        // add iframe to doc and submit the form
                        $io.appendTo('body');
                        if (io.attachEvent) io.attachEvent('onload', cb);else io.addEventListener('load', cb, false);
                    }
                    setTimeout(checkState, 15);
                    form.submit();
                } finally {
                    // reset attrs and remove "extra" input elements
                    form.setAttribute('action', a);
                    if (t) {
                        form.setAttribute('target', t);
                    } else {
                        $form.removeAttr('target');
                    }
                    $(extraInputs).remove();
                }
            }

            if (s.forceSync) {
                doSubmit();
            } else {
                setTimeout(doSubmit, 10); // this lets dom updates render
            }

            var data,
                doc,
                domCheckCount = 50,
                callbackProcessed;

            function cb(e) {
                if (xhr.aborted || callbackProcessed) {
                    return;
                }
                try {
                    doc = getDoc(io);
                } catch (ex) {
                    log('cannot access response document: ', ex);
                    e = SERVER_ABORT;
                }
                if (e === CLIENT_TIMEOUT_ABORT && xhr) {
                    xhr.abort('timeout');
                    deferred.reject(xhr, 'timeout');
                    return;
                } else if (e == SERVER_ABORT && xhr) {
                    xhr.abort('server abort');
                    deferred.reject(xhr, 'error', 'server abort');
                    return;
                }

                if (!doc || doc.location.href == s.iframeSrc) {
                    // response not received yet
                    if (!timedOut) return;
                }
                if (io.detachEvent) io.detachEvent('onload', cb);else io.removeEventListener('load', cb, false);

                var status = 'success',
                    errMsg;
                try {
                    if (timedOut) {
                        throw 'timeout';
                    }

                    var isXml = s.dataType == 'xml' || doc.XMLDocument || $.isXMLDoc(doc);
                    log('isXml=' + isXml);
                    if (!isXml && window.opera && (doc.body === null || !doc.body.innerHTML)) {
                        if (--domCheckCount) {
                            // in some browsers (Opera) the iframe DOM is not always traversable when
                            // the onload callback fires, so we loop a bit to accommodate
                            log('requeing onLoad callback, DOM not available');
                            setTimeout(cb, 250);
                            return;
                        }
                        // let this fall through because server response could be an empty document
                        //log('Could not access iframe DOM after mutiple tries.');
                        //throw 'DOMException: not available';
                    }

                    //log('response detected');
                    var docRoot = doc.body ? doc.body : doc.documentElement;
                    xhr.responseText = docRoot ? docRoot.innerHTML : null;
                    xhr.responseXML = doc.XMLDocument ? doc.XMLDocument : doc;
                    if (isXml) s.dataType = 'xml';
                    xhr.getResponseHeader = function (header) {
                        var headers = { 'content-type': s.dataType };
                        return headers[header];
                    };
                    // support for XHR 'status' & 'statusText' emulation :
                    if (docRoot) {
                        xhr.status = Number(docRoot.getAttribute('status')) || xhr.status;
                        xhr.statusText = docRoot.getAttribute('statusText') || xhr.statusText;
                    }

                    var dt = (s.dataType || '').toLowerCase();
                    var scr = /(json|script|text)/.test(dt);
                    if (scr || s.textarea) {
                        // see if user embedded response in textarea
                        var ta = doc.getElementsByTagName('textarea')[0];
                        if (ta) {
                            xhr.responseText = ta.value;
                            // support for XHR 'status' & 'statusText' emulation :
                            xhr.status = Number(ta.getAttribute('status')) || xhr.status;
                            xhr.statusText = ta.getAttribute('statusText') || xhr.statusText;
                        } else if (scr) {
                            // account for browsers injecting pre around json response
                            var pre = doc.getElementsByTagName('pre')[0];
                            var b = doc.getElementsByTagName('body')[0];
                            if (pre) {
                                xhr.responseText = pre.textContent ? pre.textContent : pre.innerText;
                            } else if (b) {
                                xhr.responseText = b.textContent ? b.textContent : b.innerText;
                            }
                        }
                    } else if (dt == 'xml' && !xhr.responseXML && xhr.responseText) {
                        xhr.responseXML = toXml(xhr.responseText);
                    }

                    try {
                        data = httpData(xhr, dt, s);
                    } catch (e) {
                        status = 'parsererror';
                        xhr.error = errMsg = e || status;
                    }
                } catch (e) {
                    log('error caught: ', e);
                    status = 'error';
                    xhr.error = errMsg = e || status;
                }

                if (xhr.aborted) {
                    log('upload aborted');
                    status = null;
                }

                if (xhr.status) {
                    // we've set xhr.status
                    status = xhr.status >= 200 && xhr.status < 300 || xhr.status === 304 ? 'success' : 'error';
                }

                // ordering of these callbacks/triggers is odd, but that's how $.ajax does it
                if (status === 'success') {
                    if (s.success) s.success.call(s.context, data, 'success', xhr);
                    deferred.resolve(xhr.responseText, 'success', xhr);
                    if (g) $.event.trigger("ajaxSuccess", [xhr, s]);
                } else if (status) {
                    if (errMsg === undefined) errMsg = xhr.statusText;
                    if (s.error) s.error.call(s.context, xhr, status, errMsg);
                    deferred.reject(xhr, 'error', errMsg);
                    if (g) $.event.trigger("ajaxError", [xhr, s, errMsg]);
                }

                if (g) $.event.trigger("ajaxComplete", [xhr, s]);

                if (g && ! --$.active) {
                    $.event.trigger("ajaxStop");
                }

                if (s.complete) s.complete.call(s.context, xhr, status);

                callbackProcessed = true;
                if (s.timeout) clearTimeout(timeoutHandle);

                // clean up
                setTimeout(function () {
                    if (!s.iframeTarget) $io.remove();
                    xhr.responseXML = null;
                }, 100);
            }

            var toXml = $.parseXML || function (s, doc) {
                // use parseXML if available (jQuery 1.5+)
                if (window.ActiveXObject) {
                    doc = new ActiveXObject('Microsoft.XMLDOM');
                    doc.async = 'false';
                    doc.loadXML(s);
                } else {
                    doc = new DOMParser().parseFromString(s, 'text/xml');
                }
                return doc && doc.documentElement && doc.documentElement.nodeName != 'parsererror' ? doc : null;
            };
            var parseJSON = $.parseJSON || function (s) {
                /*jslint evil:true */
                return window['eval']('(' + s + ')');
            };

            var httpData = function httpData(xhr, type, s) {
                // mostly lifted from jq1.4.4

                var ct = xhr.getResponseHeader('content-type') || '',
                    xml = type === 'xml' || !type && ct.indexOf('xml') >= 0,
                    data = xml ? xhr.responseXML : xhr.responseText;

                if (xml && data.documentElement.nodeName === 'parsererror') {
                    if ($.error) $.error('parsererror');
                }
                if (s && s.dataFilter) {
                    data = s.dataFilter(data, type);
                }
                if (typeof data === 'string') {
                    if (type === 'json' || !type && ct.indexOf('json') >= 0) {
                        data = parseJSON(data);
                    } else if (type === "script" || !type && ct.indexOf("javascript") >= 0) {
                        $.globalEval(data);
                    }
                }
                return data;
            };

            return deferred;
        }
    };

    /**
     * ajaxForm() provides a mechanism for fully automating form submission.
     *
     * The advantages of using this method instead of ajaxSubmit() are:
     *
     * 1: This method will include coordinates for <input type="image" /> elements (if the element
     *    is used to submit the form).
     * 2. This method will include the submit element's name/value data (for the element that was
     *    used to submit the form).
     * 3. This method binds the submit() method to the form for you.
     *
     * The options argument for ajaxForm works exactly as it does for ajaxSubmit.  ajaxForm merely
     * passes the options argument along after properly binding events for submit elements and
     * the form itself.
     */
    $.fn.ajaxForm = function (options) {
        options = options || {};
        options.delegation = options.delegation && $.isFunction($.fn.on);

        // in jQuery 1.3+ we can fix mistakes with the ready state
        if (!options.delegation && this.length === 0) {
            var o = { s: this.selector, c: this.context };
            if (!$.isReady && o.s) {
                log('DOM not ready, queuing ajaxForm');
                $(function () {
                    $(o.s, o.c).ajaxForm(options);
                });
                return this;
            }
            // is your DOM ready?  http://docs.jquery.com/Tutorials:Introducing_$(document).ready()
            log('terminating; zero elements found by selector' + ($.isReady ? '' : ' (DOM not ready)'));
            return this;
        }

        if (options.delegation) {
            $(document).off('submit.form-plugin', this.selector, doAjaxSubmit).off('click.form-plugin', this.selector, captureSubmittingElement).on('submit.form-plugin', this.selector, options, doAjaxSubmit).on('click.form-plugin', this.selector, options, captureSubmittingElement);
            return this;
        }

        return this.ajaxFormUnbind().bind('submit.form-plugin', options, doAjaxSubmit).bind('click.form-plugin', options, captureSubmittingElement);
    };

    // private event handlers    
    function doAjaxSubmit(e) {
        /*jshint validthis:true */
        var options = e.data;
        if (!e.isDefaultPrevented()) {
            // if event has been canceled, don't proceed
            e.preventDefault();
            $(this).ajaxSubmit(options);
        }
    }

    function captureSubmittingElement(e) {
        /*jshint validthis:true */
        var target = e.target;
        var $el = $(target);
        if (!$el.is(":submit,input:image")) {
            // is this a child element of the submit el?  (ex: a span within a button)
            var t = $el.closest(':submit');
            if (t.length === 0) {
                return;
            }
            target = t[0];
        }
        var form = this;
        form.clk = target;
        if (target.type == 'image') {
            if (e.offsetX !== undefined) {
                form.clk_x = e.offsetX;
                form.clk_y = e.offsetY;
            } else if (typeof $.fn.offset == 'function') {
                var offset = $el.offset();
                form.clk_x = e.pageX - offset.left;
                form.clk_y = e.pageY - offset.top;
            } else {
                form.clk_x = e.pageX - target.offsetLeft;
                form.clk_y = e.pageY - target.offsetTop;
            }
        }
        // clear form vars
        setTimeout(function () {
            form.clk = form.clk_x = form.clk_y = null;
        }, 100);
    }

    // ajaxFormUnbind unbinds the event handlers that were bound by ajaxForm
    $.fn.ajaxFormUnbind = function () {
        return this.unbind('submit.form-plugin click.form-plugin');
    };

    /**
     * formToArray() gathers form element data into an array of objects that can
     * be passed to any of the following ajax functions: $.get, $.post, or load.
     * Each object in the array has both a 'name' and 'value' property.  An example of
     * an array for a simple login form might be:
     *
     * [ { name: 'username', value: 'jresig' }, { name: 'password', value: 'secret' } ]
     *
     * It is this array that is passed to pre-submit callback functions provided to the
     * ajaxSubmit() and ajaxForm() methods.
     */
    $.fn.formToArray = function (semantic, elements) {
        var a = [];
        if (this.length === 0) {
            return a;
        }

        var form = this[0];
        var els = semantic ? form.getElementsByTagName('*') : form.elements;
        if (!els) {
            return a;
        }

        var i, j, n, v, el, max, jmax;
        for (i = 0, max = els.length; i < max; i++) {
            el = els[i];
            n = el.name;
            if (!n) {
                continue;
            }

            if (semantic && form.clk && el.type == "image") {
                // handle image inputs on the fly when semantic == true
                if (!el.disabled && form.clk == el) {
                    a.push({ name: n, value: $(el).val(), type: el.type });
                    a.push({ name: n + '.x', value: form.clk_x }, { name: n + '.y', value: form.clk_y });
                }
                continue;
            }

            v = $.fieldValue(el, true);
            if (v && v.constructor == Array) {
                if (elements) elements.push(el);
                for (j = 0, jmax = v.length; j < jmax; j++) {
                    a.push({ name: n, value: v[j] });
                }
            } else if (feature.fileapi && el.type == 'file' && !el.disabled) {
                if (elements) elements.push(el);
                var files = el.files;
                if (files.length) {
                    for (j = 0; j < files.length; j++) {
                        a.push({ name: n, value: files[j], type: el.type });
                    }
                } else {
                    // #180
                    a.push({ name: n, value: '', type: el.type });
                }
            } else if (v !== null && typeof v != 'undefined') {
                if (elements) elements.push(el);
                a.push({ name: n, value: v, type: el.type, required: el.required });
            }
        }

        if (!semantic && form.clk) {
            // input type=='image' are not found in elements array! handle it here
            var $input = $(form.clk),
                input = $input[0];
            n = input.name;
            if (n && !input.disabled && input.type == 'image') {
                a.push({ name: n, value: $input.val() });
                a.push({ name: n + '.x', value: form.clk_x }, { name: n + '.y', value: form.clk_y });
            }
        }
        return a;
    };

    /**
     * Serializes form data into a 'submittable' string. This method will return a string
     * in the format: name1=value1&amp;name2=value2
     */
    $.fn.formSerialize = function (semantic) {
        //hand off to jQuery.param for proper encoding
        return $.param(this.formToArray(semantic));
    };

    /**
     * Serializes all field elements in the jQuery object into a query string.
     * This method will return a string in the format: name1=value1&amp;name2=value2
     */
    $.fn.fieldSerialize = function (successful) {
        var a = [];
        this.each(function () {
            var n = this.name;
            if (!n) {
                return;
            }
            var v = $.fieldValue(this, successful);
            if (v && v.constructor == Array) {
                for (var i = 0, max = v.length; i < max; i++) {
                    a.push({ name: n, value: v[i] });
                }
            } else if (v !== null && typeof v != 'undefined') {
                a.push({ name: this.name, value: v });
            }
        });
        //hand off to jQuery.param for proper encoding
        return $.param(a);
    };

    /**
     * Returns the value(s) of the element in the matched set.  For example, consider the following form:
     *
     *  <form><fieldset>
     *      <input name="A" type="text" />
     *      <input name="A" type="text" />
     *      <input name="B" type="checkbox" value="B1" />
     *      <input name="B" type="checkbox" value="B2"/>
     *      <input name="C" type="radio" value="C1" />
     *      <input name="C" type="radio" value="C2" />
     *  </fieldset></form>
     *
     *  var v = $(':text').fieldValue();
     *  // if no values are entered into the text inputs
     *  v == ['','']
     *  // if values entered into the text inputs are 'foo' and 'bar'
     *  v == ['foo','bar']
     *
     *  var v = $(':checkbox').fieldValue();
     *  // if neither checkbox is checked
     *  v === undefined
     *  // if both checkboxes are checked
     *  v == ['B1', 'B2']
     *
     *  var v = $(':radio').fieldValue();
     *  // if neither radio is checked
     *  v === undefined
     *  // if first radio is checked
     *  v == ['C1']
     *
     * The successful argument controls whether or not the field element must be 'successful'
     * (per http://www.w3.org/TR/html4/interact/forms.html#successful-controls).
     * The default value of the successful argument is true.  If this value is false the value(s)
     * for each element is returned.
     *
     * Note: This method *always* returns an array.  If no valid value can be determined the
     *    array will be empty, otherwise it will contain one or more values.
     */
    $.fn.fieldValue = function (successful) {
        for (var val = [], i = 0, max = this.length; i < max; i++) {
            var el = this[i];
            var v = $.fieldValue(el, successful);
            if (v === null || typeof v == 'undefined' || v.constructor == Array && !v.length) {
                continue;
            }
            if (v.constructor == Array) $.merge(val, v);else val.push(v);
        }
        return val;
    };

    /**
     * Returns the value of the field element.
     */
    $.fieldValue = function (el, successful) {
        var n = el.name,
            t = el.type,
            tag = el.tagName.toLowerCase();
        if (successful === undefined) {
            successful = true;
        }

        if (successful && (!n || el.disabled || t == 'reset' || t == 'button' || (t == 'checkbox' || t == 'radio') && !el.checked || (t == 'submit' || t == 'image') && el.form && el.form.clk != el || tag == 'select' && el.selectedIndex == -1)) {
            return null;
        }

        if (tag == 'select') {
            var index = el.selectedIndex;
            if (index < 0) {
                return null;
            }
            var a = [],
                ops = el.options;
            var one = t == 'select-one';
            var max = one ? index + 1 : ops.length;
            for (var i = one ? index : 0; i < max; i++) {
                var op = ops[i];
                if (op.selected) {
                    var v = op.value;
                    if (!v) {
                        // extra pain for IE...
                        v = op.attributes && op.attributes['value'] && !op.attributes['value'].specified ? op.text : op.value;
                    }
                    if (one) {
                        return v;
                    }
                    a.push(v);
                }
            }
            return a;
        }
        return $(el).val();
    };

    /**
     * Clears the form data.  Takes the following actions on the form's input fields:
     *  - input text fields will have their 'value' property set to the empty string
     *  - select elements will have their 'selectedIndex' property set to -1
     *  - checkbox and radio inputs will have their 'checked' property set to false
     *  - inputs of type submit, button, reset, and hidden will *not* be effected
     *  - button elements will *not* be effected
     */
    $.fn.clearForm = function (includeHidden) {
        return this.each(function () {
            $('input,select,textarea', this).clearFields(includeHidden);
        });
    };

    /**
     * Clears the selected form elements.
     */
    $.fn.clearFields = $.fn.clearInputs = function (includeHidden) {
        var re = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i; // 'hidden' is not in this list
        return this.each(function () {
            var t = this.type,
                tag = this.tagName.toLowerCase();
            if (re.test(t) || tag == 'textarea') {
                this.value = '';
            } else if (t == 'checkbox' || t == 'radio') {
                this.checked = false;
            } else if (tag == 'select') {
                this.selectedIndex = -1;
            } else if (includeHidden) {
                // includeHidden can be the value true, or it can be a selector string
                // indicating a special test; for example:
                //  $('#myForm').clearForm('.special:hidden')
                // the above would clean hidden inputs that have the class of 'special'
                if (includeHidden === true && /hidden/.test(t) || typeof includeHidden == 'string' && $(this).is(includeHidden)) this.value = '';
            }
        });
    };

    /**
     * Resets the form data.  Causes all form elements to be reset to their original value.
     */
    $.fn.resetForm = function () {
        return this.each(function () {
            // guard against an input with the name of 'reset'
            // note that IE reports the reset function as an 'object'
            if (typeof this.reset == 'function' || _typeof(this.reset) == 'object' && !this.reset.nodeType) {
                this.reset();
            }
        });
    };

    /**
     * Enables or disables any matching elements.
     */
    $.fn.enable = function (b) {
        if (b === undefined) {
            b = true;
        }
        return this.each(function () {
            this.disabled = !b;
        });
    };

    /**
     * Checks/unchecks any matching checkboxes or radio buttons and
     * selects/deselects and matching option elements.
     */
    $.fn.selected = function (select) {
        if (select === undefined) {
            select = true;
        }
        return this.each(function () {
            var t = this.type;
            if (t == 'checkbox' || t == 'radio') {
                this.checked = select;
            } else if (this.tagName.toLowerCase() == 'option') {
                var $sel = $(this).parent('select');
                if (select && $sel[0] && $sel[0].type == 'select-one') {
                    // deselect all other options
                    $sel.find('option').selected(false);
                }
                this.selected = select;
            }
        });
    };

    // expose debug var
    $.fn.ajaxSubmit.debug = false;

    // helper fn for console logging
    function log() {
        if (!$.fn.ajaxSubmit.debug) return;
        var msg = '[jquery.form] ' + Array.prototype.join.call(arguments, '');
        if (window.console && window.console.log) {
            window.console.log(msg);
        } else if (window.opera && window.opera.postError) {
            window.opera.postError(msg);
        }
    }
})(jQuery);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./common/static/js/vendor/jquery.leanModal.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {// leanModal v1.1 by Ray Stone - http://finelysliced.com.au
// Dual licensed under the MIT and GPL

// Updated to prevent divs with duplicate IDs from being rendered.

(function ($) {
    $.fn.extend({
        leanModal: function leanModal(options) {
            var defaults = {
                top: 100,
                overlay: 0.5,
                closeButton: null
            };

            // Only append the overlay element if it isn't already present.
            if ($("#lean_overlay").length == 0) {
                var overlay = $("<div id='lean_overlay'></div>");
                $("body").append(overlay);
            }

            options = $.extend(defaults, options);
            return this.each(function () {
                var o = options;
                $(this).click(function (e) {
                    var modal_id = $(this).attr("href");
                    $("#lean_overlay").click(function () {
                        close_modal(modal_id);
                    });
                    $(o.closeButton).click(function () {
                        close_modal(modal_id);
                    });
                    var modal_height = $(modal_id).outerHeight();
                    var modal_width = $(modal_id).outerWidth();
                    $("#lean_overlay").css({
                        "display": "block",
                        opacity: 0
                    });
                    $("#lean_overlay").fadeTo(200, o.overlay);
                    $(modal_id).css({
                        "display": "block",
                        "position": "fixed",
                        "opacity": 0,
                        "z-index": 11000,
                        "left": 50 + "%",
                        "margin-left": -(modal_width / 2) + "px",
                        "top": o.top + "px"
                    });
                    $(modal_id).fadeTo(200, 1);
                    e.preventDefault();
                });
            });

            function close_modal(modal_id) {
                $("#lean_overlay").fadeOut(200);
                $(modal_id).css({
                    "display": "none"
                });
            }
        }
    });
})(jQuery);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./common/static/js/vendor/jquery.qtip.min.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: nightly
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Mon Apr  2 13:46:17.0000000000 2012
*/ /*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */ /*global window: false, jQuery: false, console: false, define: false */(function (a) {
   true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (a),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : a(jQuery);
})(function (a) {
  function z(d) {
    var e = this,
        f = d.elements.tooltip,
        g = d.options.content.ajax,
        h = ".qtip-ajax",
        i = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
        j = b,
        k = c,
        l;d.checks.ajax = { "^content.ajax": function contentAjax(a, b, c) {
        b === "ajax" && (g = c), b === "once" ? e.init() : g && g.url ? e.load() : f.unbind(h);
      } }, a.extend(e, { init: function init() {
        g && g.url && f.unbind(h)[g.once ? "one" : "bind"]("tooltipshow" + h, e.load);return e;
      }, load: function load(b, f) {
        function r(a, b, c) {
          !k && a.status !== 0 && d.set("content.text", b + ": " + c);
        }function q(b) {
          k || (m && (b = a("<div/>").append(b.replace(i, "")).find(m)), d.set("content.text", b));
        }function p() {
          k || (n && (d.show(b.originalEvent), f = c), a.isFunction(g.complete) && g.complete.apply(this, arguments));
        }var h = g.url.indexOf(" "),
            j = g.url,
            m,
            n = g.once && !g.loading && f;if (n) try {
          b.preventDefault();
        } catch (o) {} else if (b && b.isDefaultPrevented()) return e;l && l.abort && l.abort(), h > -1 && (m = j.substr(h), j = j.substr(0, h)), l = a.ajax(a.extend({ success: q, error: r, context: d }, g, { url: j, complete: p }));
      }, destroy: function destroy() {
        l && l.abort && l.abort(), k = b;
      } }), e.init();
  }function y(e, h) {
    var i,
        j,
        k,
        l,
        m,
        n = a(this),
        o = a(document.body),
        p = this === document ? o : n,
        q = n.metadata ? n.metadata(h.metadata) : d,
        r = h.metadata.type === "html5" && q ? q[h.metadata.name] : d,
        s = n.data(h.metadata.name || "qtipopts");try {
      s = typeof s === "string" ? new Function("return " + s)() : s;
    } catch (u) {
      v("Unable to parse HTML5 attribute data: " + s);
    }l = a.extend(b, {}, f.defaults, h, (typeof s === "undefined" ? "undefined" : _typeof(s)) === "object" ? w(s) : d, w(r || q)), j = l.position, l.id = e;if ("boolean" === typeof l.content.text) {
      k = n.attr(l.content.attr);if (l.content.attr !== c && k) l.content.text = k;else {
        v("Unable to locate content for tooltip! Aborting render of tooltip on element: ", n);return c;
      }
    }j.container.length || (j.container = o), j.target === c && (j.target = p), l.show.target === c && (l.show.target = p), l.show.solo === b && (l.show.solo = j.container.closest("body")), l.hide.target === c && (l.hide.target = p), l.position.viewport === b && (l.position.viewport = j.container), j.container = j.container.eq(0), j.at = new g.Corner(j.at), j.my = new g.Corner(j.my);if (a.data(this, "qtip")) if (l.overwrite) n.qtip("destroy");else if (l.overwrite === c) return c;l.suppress && (m = a.attr(this, "title")) && a(this).removeAttr("title").attr(t, m), i = new x(n, l, e, !!k), a.data(this, "qtip", i), n.bind("remove.qtip-" + e + " removeqtip.qtip-" + e, function () {
      i.destroy();
    });return i;
  }function x(r, s, v, x) {
    function Q() {
      var b = [s.show.target[0], s.hide.target[0], y.rendered && F.tooltip[0], s.position.container[0], s.position.viewport[0], window, document];y.rendered ? a([]).pushStack(a.grep(b, function (a) {
        return (typeof a === "undefined" ? "undefined" : _typeof(a)) === "object";
      })).unbind(E) : s.show.target.unbind(E + "-create");
    }function P() {
      function o(a) {
        D.is(":visible") && y.reposition(a);
      }function n(a) {
        if (D.hasClass(l)) return c;clearTimeout(y.timers.inactive), y.timers.inactive = setTimeout(function () {
          y.hide(a);
        }, s.hide.inactive);
      }function k(b) {
        if (D.hasClass(l) || B || C) return c;var f = a(b.relatedTarget || b.target),
            g = f.closest(m)[0] === D[0],
            h = f[0] === e.show[0];clearTimeout(y.timers.show), clearTimeout(y.timers.hide);if (d.target === "mouse" && g || s.hide.fixed && /mouse(out|leave|move)/.test(b.type) && (g || h)) try {
          b.preventDefault(), b.stopImmediatePropagation();
        } catch (i) {} else s.hide.delay > 0 ? y.timers.hide = setTimeout(function () {
          y.hide(b);
        }, s.hide.delay) : y.hide(b);
      }function j(a) {
        if (D.hasClass(l)) return c;clearTimeout(y.timers.show), clearTimeout(y.timers.hide);var d = function d() {
          y.toggle(b, a);
        };s.show.delay > 0 ? y.timers.show = setTimeout(d, s.show.delay) : d();
      }var d = s.position,
          e = { show: s.show.target, hide: s.hide.target, viewport: a(d.viewport), document: a(document), body: a(document.body), window: a(window) },
          g = { show: a.trim("" + s.show.event).split(" "), hide: a.trim("" + s.hide.event).split(" ") },
          i = a.browser.msie && parseInt(a.browser.version, 10) === 6;D.bind("mouseenter" + E + " mouseleave" + E, function (a) {
        var b = a.type === "mouseenter";b && y.focus(a), D.toggleClass(p, b);
      }), s.hide.fixed && (e.hide = e.hide.add(D), D.bind("mouseover" + E, function () {
        D.hasClass(l) || clearTimeout(y.timers.hide);
      })), /mouse(out|leave)/i.test(s.hide.event) ? s.hide.leave === "window" && e.window.bind("mouseout" + E + " blur" + E, function (a) {
        /select|option/.test(a.target) && !a.relatedTarget && y.hide(a);
      }) : /mouse(over|enter)/i.test(s.show.event) && e.hide.bind("mouseleave" + E, function (a) {
        clearTimeout(y.timers.show);
      }), ("" + s.hide.event).indexOf("unfocus") > -1 && d.container.closest("html").bind("mousedown" + E, function (b) {
        var c = a(b.target),
            d = !D.hasClass(l) && D.is(":visible"),
            e = c.parents(m).filter(D[0]).length > 0;c[0] !== r[0] && c[0] !== D[0] && !e && !r.has(c[0]).length && !c.attr("disabled") && y.hide(b);
      }), "number" === typeof s.hide.inactive && (e.show.bind("qtip-" + v + "-inactive", n), a.each(f.inactiveEvents, function (a, b) {
        e.hide.add(F.tooltip).bind(b + E + "-inactive", n);
      })), a.each(g.hide, function (b, c) {
        var d = a.inArray(c, g.show),
            f = a(e.hide);d > -1 && f.add(e.show).length === f.length || c === "unfocus" ? (e.show.bind(c + E, function (a) {
          D.is(":visible") ? k(a) : j(a);
        }), delete g.show[d]) : e.hide.bind(c + E, k);
      }), a.each(g.show, function (a, b) {
        e.show.bind(b + E, j);
      }), "number" === typeof s.hide.distance && e.show.add(D).bind("mousemove" + E, function (a) {
        var b = G.origin || {},
            c = s.hide.distance,
            d = Math.abs;(d(a.pageX - b.pageX) >= c || d(a.pageY - b.pageY) >= c) && y.hide(a);
      }), d.target === "mouse" && (e.show.bind("mousemove" + E, function (a) {
        h = { pageX: a.pageX, pageY: a.pageY, type: "mousemove" };
      }), d.adjust.mouse && (s.hide.event && (D.bind("mouseleave" + E, function (a) {
        (a.relatedTarget || a.target) !== e.show[0] && y.hide(a);
      }), F.target.bind("mouseenter" + E + " mouseleave" + E, function (a) {
        G.onTarget = a.type === "mouseenter";
      })), e.document.bind("mousemove" + E, function (a) {
        G.onTarget && !D.hasClass(l) && D.is(":visible") && y.reposition(a || h);
      }))), (d.adjust.resize || e.viewport.length) && (a.event.special.resize ? e.viewport : e.window).bind("resize" + E, o), (e.viewport.length || i && D.css("position") === "fixed") && e.viewport.bind("scroll" + E, o);
    }function O(b, d) {
      function g(b) {
        function i(e) {
          e && (delete h[e.src], clearTimeout(y.timers.img[e.src]), a(e).unbind(E)), a.isEmptyObject(h) && (y.redraw(), d !== c && y.reposition(G.event), b());
        }var g,
            h = {};if ((g = f.find("img[src]:not([height]):not([width])")).length === 0) return i();g.each(function (b, c) {
          if (h[c.src] === e) {
            var d = 0,
                f = 3;(function g() {
              if (c.height || c.width || d > f) return i(c);d += 1, y.timers.img[c.src] = setTimeout(g, 700);
            })(), a(c).bind("error" + E + " load" + E, function () {
              i(this);
            }), h[c.src] = c;
          }
        });
      }var f = F.content;if (!y.rendered || !b) return c;a.isFunction(b) && (b = b.call(r, G.event, y) || ""), b.jquery && b.length > 0 ? f.empty().append(b.css({ display: "block" })) : f.html(b), y.rendered < 0 ? D.queue("fx", g) : (C = 0, g(a.noop));return y;
    }function N(b, d) {
      var e = F.title;if (!y.rendered || !b) return c;a.isFunction(b) && (b = b.call(r, G.event, y));if (b === c || !b && b !== "") return J(c);b.jquery && b.length > 0 ? e.empty().append(b.css({ display: "block" })) : e.html(b), y.redraw(), d !== c && y.rendered && D.is(":visible") && y.reposition(G.event);
    }function M(a) {
      var b = F.button,
          d = F.title;if (!y.rendered) return c;a ? (d || L(), K()) : b.remove();
    }function L() {
      var c = A + "-title";F.titlebar && J(), F.titlebar = a("<div />", { "class": j + "-titlebar " + (s.style.widget ? "ui-widget-header" : "") }).append(F.title = a("<div />", { id: c, "class": j + "-title", "aria-atomic": b })).insertBefore(F.content).delegate(".ui-tooltip-close", "mousedown keydown mouseup keyup mouseout", function (b) {
        a(this).toggleClass("ui-state-active ui-state-focus", b.type.substr(-4) === "down");
      }).delegate(".ui-tooltip-close", "mouseover mouseout", function (b) {
        a(this).toggleClass("ui-state-hover", b.type === "mouseover");
      }), s.content.title.button ? K() : y.rendered && y.redraw();
    }function K() {
      var b = s.content.title.button,
          d = typeof b === "string",
          e = d ? b : "Close tooltip";F.button && F.button.remove(), b.jquery ? F.button = b : F.button = a("<a />", { "class": "ui-state-default ui-tooltip-close " + (s.style.widget ? "" : j + "-icon"), title: e, "aria-label": e }).prepend(a("<span />", { "class": "ui-icon ui-icon-close", html: "&times;" })), F.button.appendTo(F.titlebar).attr("role", "button").click(function (a) {
        D.hasClass(l) || y.hide(a);return c;
      }), y.redraw();
    }function J(a) {
      F.title && (F.titlebar.remove(), F.titlebar = F.title = F.button = d, a !== c && y.reposition());
    }function I() {
      var a = s.style.widget;D.toggleClass(k, a).toggleClass(n, s.style.def && !a), F.content.toggleClass(k + "-content", a), F.titlebar && F.titlebar.toggleClass(k + "-header", a), F.button && F.button.toggleClass(j + "-icon", !a);
    }function H(a) {
      var b = 0,
          c,
          d = s,
          e = a.split(".");while (d = d[e[b++]]) {
        b < e.length && (c = d);
      }return [c || s, e.pop()];
    }var y = this,
        z = document.body,
        A = j + "-" + v,
        B = 0,
        C = 0,
        D = a(),
        E = ".qtip-" + v,
        F,
        G;y.id = v, y.rendered = c, y.elements = F = { target: r }, y.timers = { img: {} }, y.options = s, y.checks = {}, y.plugins = {}, y.cache = G = { event: {}, target: a(), disabled: c, attr: x, onTarget: c }, y.checks.builtin = { "^id$": function id$(d, e, g) {
        var h = g === b ? f.nextid : g,
            i = j + "-" + h;h !== c && h.length > 0 && !a("#" + i).length && (D[0].id = i, F.content[0].id = i + "-content", F.title[0].id = i + "-title");
      }, "^content.text$": function contentText$(a, b, c) {
        O(c);
      }, "^content.title.text$": function contentTitleText$(a, b, c) {
        if (!c) return J();!F.title && c && L(), N(c);
      }, "^content.title.button$": function contentTitleButton$(a, b, c) {
        M(c);
      }, "^position.(my|at)$": function positionMyAt$(a, b, c) {
        "string" === typeof c && (a[b] = new g.Corner(c));
      }, "^position.container$": function positionContainer$(a, b, c) {
        y.rendered && D.appendTo(c);
      }, "^show.ready$": function showReady$() {
        y.rendered ? y.toggle(b) : y.render(1);
      }, "^style.classes$": function styleClasses$(a, b, c) {
        D.attr("class", j + " qtip ui-helper-reset " + c);
      }, "^style.widget|content.title": I, "^events.(render|show|move|hide|focus|blur)$": function eventsRenderShowMoveHideFocusBlur$(b, c, d) {
        D[(a.isFunction(d) ? "" : "un") + "bind"]("tooltip" + c, d);
      }, "^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)": function showHidePositionEventTargetFixedInactiveLeaveDistanceViewportAdjust() {
        var a = s.position;D.attr("tracking", a.target === "mouse" && a.adjust.mouse), Q(), P();
      } }, a.extend(y, { render: function render(d) {
        if (y.rendered) return y;var e = s.content.text,
            f = s.content.title.text,
            h = s.position,
            i = a.Event("tooltiprender");a.attr(r[0], "aria-describedby", A), D = F.tooltip = a("<div/>", { id: A, "class": j + " qtip ui-helper-reset " + n + " " + s.style.classes + " " + j + "-pos-" + s.position.my.abbrev(), width: s.style.width || "", height: s.style.height || "", tracking: h.target === "mouse" && h.adjust.mouse, role: "alert", "aria-live": "polite", "aria-atomic": c, "aria-describedby": A + "-content", "aria-hidden": b }).toggleClass(l, G.disabled).data("qtip", y).appendTo(s.position.container).append(F.content = a("<div />", { "class": j + "-content", id: A + "-content", "aria-atomic": b })), y.rendered = -1, B = C = 1, f && (L(), a.isFunction(f) || N(f, c)), a.isFunction(e) || O(e, c), y.rendered = b, I(), a.each(s.events, function (b, c) {
          a.isFunction(c) && D.bind(b === "toggle" ? "tooltipshow tooltiphide" : "tooltip" + b, c);
        }), a.each(g, function () {
          this.initialize === "render" && this(y);
        }), P(), D.queue("fx", function (a) {
          i.originalEvent = G.event, D.trigger(i, [y]), B = C = 0, y.redraw(), (s.show.ready || d) && y.toggle(b, G.event, c), a();
        });return y;
      }, get: function get(a) {
        var b, c;switch (a.toLowerCase()) {case "dimensions":
            b = { height: D.outerHeight(), width: D.outerWidth() };break;case "offset":
            b = g.offset(D, s.position.container);break;default:
            c = H(a.toLowerCase()), b = c[0][c[1]], b = b.precedance ? b.string() : b;}return b;
      }, set: function set(e, f) {
        function m(a, b) {
          var c, d, e;for (c in k) {
            for (d in k[c]) {
              if (e = new RegExp(d, "i").exec(a)) b.push(e), k[c][d].apply(y, b);
            }
          }
        }var g = /^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,
            h = /^content\.(title|attr)|style/i,
            i = c,
            j = c,
            k = y.checks,
            l;"string" === typeof e ? (l = e, e = {}, e[l] = f) : e = a.extend(b, {}, e), a.each(e, function (b, c) {
          var d = H(b.toLowerCase()),
              f;f = d[0][d[1]], d[0][d[1]] = "object" === (typeof c === "undefined" ? "undefined" : _typeof(c)) && c.nodeType ? a(c) : c, e[b] = [d[0], d[1], c, f], i = g.test(b) || i, j = h.test(b) || j;
        }), w(s), B = C = 1, a.each(e, m), B = C = 0, D.is(":visible") && y.rendered && (i && y.reposition(s.position.target === "mouse" ? d : G.event), j && y.redraw());return y;
      }, toggle: function toggle(e, f) {
        function r() {
          e ? (a.browser.msie && D[0].style.removeAttribute("filter"), D.css("overflow", ""), "string" === typeof i.autofocus && a(i.autofocus, D).focus(), i.target.trigger("qtip-" + v + "-inactive")) : D.css({ display: "", visibility: "", opacity: "", left: "", top: "" }), q = a.Event("tooltip" + (e ? "visible" : "hidden")), q.originalEvent = f ? G.event : d, D.trigger(q, [y]);
        }if (!y.rendered) return e ? y.render(1) : y;var g = e ? "show" : "hide",
            i = s[g],
            j = D.is(":visible"),
            k = !f || i.target.length < 2 || G.target[0] === f.target,
            l = f && i.target.add(f.target).length !== i.target.length,
            n = s.position,
            o = s.content,
            p,
            q;(typeof e === "undefined" ? "undefined" : _typeof(e)).search("boolean|number") && (e = !j);if (!D.is(":animated") && j === e && k) return y;if (f) {
          if (/over|enter/.test(f.type) && /out|leave/.test(G.event.type) && s.show.target.add(f.target).length === s.show.target.length && D.has(f.relatedTarget).length) return y;G.event = a.extend({}, f);
        }q = a.Event("tooltip" + g), q.originalEvent = f ? G.event : d, D.trigger(q, [y, 90]);if (q.isDefaultPrevented()) return y;a.attr(D[0], "aria-hidden", !e), e ? (G.origin = a.extend({}, h), y.focus(f), a.isFunction(o.text) && O(o.text, c), a.isFunction(o.title.text) && N(o.title.text, c), !u && n.target === "mouse" && n.adjust.mouse && (a(document).bind("mousemove.qtip", function (a) {
          h = { pageX: a.pageX, pageY: a.pageY, type: "mousemove" };
        }), u = b), y.reposition(f, arguments[2]), (q.solo = !!i.solo) && a(m, i.solo).not(D).qtip("hide", q)) : (clearTimeout(y.timers.show), delete G.origin, u && !a(m + '[tracking="true"]:visible', i.solo).not(D).length && (a(document).unbind("mousemove.qtip"), u = c), y.blur(f)), D.stop(l, !l), i.effect === c ? (D[g](), r.call(D)) : a.isFunction(i.effect) ? (i.effect.call(D, y), D.queue("fx", function (a) {
          r(), a();
        })) : D.fadeTo(90, e ? 1 : 0, r), e && i.target.trigger("qtip-" + v + "-inactive");return y;
      }, show: function show(a) {
        return y.toggle(b, a);
      }, hide: function hide(a) {
        return y.toggle(c, a);
      }, focus: function focus(b) {
        if (!y.rendered) return y;var c = a(m),
            d = parseInt(D[0].style.zIndex, 10),
            e = f.zindex + c.length,
            g = a.extend({}, b),
            h,
            i;D.hasClass(o) || (i = a.Event("tooltipfocus"), i.originalEvent = g, D.trigger(i, [y, e]), i.isDefaultPrevented() || (d !== e && (c.each(function () {
          this.style.zIndex > d && (this.style.zIndex = this.style.zIndex - 1);
        }), c.filter("." + o).qtip("blur", g)), D.addClass(o)[0].style.zIndex = e));return y;
      }, blur: function blur(b) {
        var c = a.extend({}, b),
            d;D.removeClass(o), d = a.Event("tooltipblur"), d.originalEvent = c, D.trigger(d, [y]);return y;
      }, reposition: function reposition(b, d) {
        if (!y.rendered || B) return y;B = 1;var e = s.position.target,
            f = s.position,
            i = f.my,
            k = f.at,
            l = f.adjust,
            m = l.method.split(" "),
            n = D.outerWidth(),
            o = D.outerHeight(),
            p = 0,
            q = 0,
            r = a.Event("tooltipmove"),
            t = D.css("position") === "fixed",
            u = f.viewport,
            v = { left: 0, top: 0 },
            w = f.container,
            x = c,
            A = y.plugins.tip,
            C = { horizontal: m[0], vertical: m[1] = m[1] || m[0], enabled: u.jquery && e[0] !== window && e[0] !== z && l.method !== "none", left: function left(a) {
            var b = C.horizontal === "shift",
                c = -w.offset.left + u.offset.left + u.scrollLeft,
                d = i.x === "left" ? n : i.x === "right" ? -n : -n / 2,
                e = k.x === "left" ? p : k.x === "right" ? -p : -p / 2,
                f = A && A.size ? A.size.width || 0 : 0,
                g = A && A.corner && A.corner.precedance === "x" && !b ? f : 0,
                h = c - a + g,
                j = a + n - u.width - c + g,
                m = d - (i.precedance === "x" || i.x === i.y ? e : 0) - (k.x === "center" ? p / 2 : 0),
                o = i.x === "center";b ? (g = A && A.corner && A.corner.precedance === "y" ? f : 0, m = (i.x === "left" ? 1 : -1) * d - g, v.left += h > 0 ? h : j > 0 ? -j : 0, v.left = Math.max(-w.offset.left + u.offset.left + (g && A.corner.x === "center" ? A.offset : 0), a - m, Math.min(Math.max(-w.offset.left + u.offset.left + u.width, a + m), v.left))) : (h > 0 && (i.x !== "left" || j > 0) ? v.left -= m : j > 0 && (i.x !== "right" || h > 0) && (v.left -= o ? -m : m), v.left !== a && o && (v.left -= l.x), v.left < c && -v.left > j && (v.left = a));return v.left - a;
          }, top: function top(a) {
            var b = C.vertical === "shift",
                c = -w.offset.top + u.offset.top + u.scrollTop,
                d = i.y === "top" ? o : i.y === "bottom" ? -o : -o / 2,
                e = k.y === "top" ? q : k.y === "bottom" ? -q : -q / 2,
                f = A && A.size ? A.size.height || 0 : 0,
                g = A && A.corner && A.corner.precedance === "y" && !b ? f : 0,
                h = c - a + g,
                j = a + o - u.height - c + g,
                m = d - (i.precedance === "y" || i.x === i.y ? e : 0) - (k.y === "center" ? q / 2 : 0),
                n = i.y === "center";b ? (g = A && A.corner && A.corner.precedance === "x" ? f : 0, m = (i.y === "top" ? 1 : -1) * d - g, v.top += h > 0 ? h : j > 0 ? -j : 0, v.top = Math.max(-w.offset.top + u.offset.top + (g && A.corner.x === "center" ? A.offset : 0), a - m, Math.min(Math.max(-w.offset.top + u.offset.top + u.height, a + m), v.top))) : (h > 0 && (i.y !== "top" || j > 0) ? v.top -= m : j > 0 && (i.y !== "bottom" || h > 0) && (v.top -= n ? -m : m), v.top !== a && n && (v.top -= l.y), v.top < 0 && -v.top > j && (v.top = a));return v.top - a;
          } },
            E;if (a.isArray(e) && e.length === 2) k = { x: "left", y: "top" }, v = { left: e[0], top: e[1] };else if (e === "mouse" && (b && b.pageX || G.event.pageX)) k = { x: "left", y: "top" }, b = (b && (b.type === "resize" || b.type === "scroll") ? G.event : b && b.pageX && b.type === "mousemove" ? b : h && h.pageX && (l.mouse || !b || !b.pageX) ? { pageX: h.pageX, pageY: h.pageY } : !l.mouse && G.origin && G.origin.pageX && s.show.distance ? G.origin : b) || b || G.event || h || {}, v = { top: b.pageY, left: b.pageX };else {
          e === "event" ? b && b.target && b.type !== "scroll" && b.type !== "resize" ? e = G.target = a(b.target) : e = G.target : e = G.target = a(e.jquery ? e : F.target), e = a(e).eq(0);if (e.length === 0) return y;e[0] === document || e[0] === window ? (p = g.iOS ? window.innerWidth : e.width(), q = g.iOS ? window.innerHeight : e.height(), e[0] === window && (v = { top: (u || e).scrollTop(), left: (u || e).scrollLeft() })) : e.is("area") && g.imagemap ? v = g.imagemap(e, k, C.enabled ? m : c) : e[0].namespaceURI === "http://www.w3.org/2000/svg" && g.svg ? v = g.svg(e, k) : (p = e.outerWidth(), q = e.outerHeight(), v = g.offset(e, w)), v.offset && (p = v.width, q = v.height, x = v.flipoffset, v = v.offset);if (g.iOS < 4.1 && g.iOS > 3.1 || g.iOS == 4.3 || !g.iOS && t) E = a(window), v.left -= E.scrollLeft(), v.top -= E.scrollTop();v.left += k.x === "right" ? p : k.x === "center" ? p / 2 : 0, v.top += k.y === "bottom" ? q : k.y === "center" ? q / 2 : 0;
        }v.left += l.x + (i.x === "right" ? -n : i.x === "center" ? -n / 2 : 0), v.top += l.y + (i.y === "bottom" ? -o : i.y === "center" ? -o / 2 : 0), C.enabled ? (u = { elem: u, height: u[(u[0] === window ? "h" : "outerH") + "eight"](), width: u[(u[0] === window ? "w" : "outerW") + "idth"](), scrollLeft: t ? 0 : u.scrollLeft(), scrollTop: t ? 0 : u.scrollTop(), offset: u.offset() || { left: 0, top: 0 } }, w = { elem: w, scrollLeft: w.scrollLeft(), scrollTop: w.scrollTop(), offset: w.offset() || { left: 0, top: 0 } }, v.adjusted = { left: C.horizontal !== "none" ? C.left(v.left) : 0, top: C.vertical !== "none" ? C.top(v.top) : 0 }, v.adjusted.left + v.adjusted.top && D.attr("class", D[0].className.replace(/ui-tooltip-pos-\w+/i, j + "-pos-" + i.abbrev())), x && v.adjusted.left && (v.left += x.left), x && v.adjusted.top && (v.top += x.top)) : v.adjusted = { left: 0, top: 0 }, r.originalEvent = a.extend({}, b), D.trigger(r, [y, v, u.elem || u]);if (r.isDefaultPrevented()) return y;delete v.adjusted, d === c || isNaN(v.left) || isNaN(v.top) || e === "mouse" || !a.isFunction(f.effect) ? D.css(v) : a.isFunction(f.effect) && (f.effect.call(D, y, a.extend({}, v)), D.queue(function (b) {
          a(this).css({ opacity: "", height: "" }), a.browser.msie && this.style.removeAttribute("filter"), b();
        })), B = 0;return y;
      }, redraw: function redraw() {
        if (y.rendered < 1 || C) return y;var a = s.position.container,
            b,
            c,
            d,
            e;C = 1, s.style.height && D.css("height", s.style.height), s.style.width ? D.css("width", s.style.width) : (D.css("width", "").addClass(q), c = D.width() + 1, d = D.css("max-width") || "", e = D.css("min-width") || "", b = (d + e).indexOf("%") > -1 ? a.width() / 100 : 0, d = (d.indexOf("%") > -1 ? b : 1) * parseInt(d, 10) || c, e = (e.indexOf("%") > -1 ? b : 1) * parseInt(e, 10) || 0, c = d + e ? Math.min(Math.max(c, e), d) : c, D.css("width", Math.round(c)).removeClass(q)), C = 0;return y;
      }, disable: function disable(b) {
        "boolean" !== typeof b && (b = !D.hasClass(l) && !G.disabled), y.rendered ? (D.toggleClass(l, b), a.attr(D[0], "aria-disabled", b)) : G.disabled = !!b;return y;
      }, enable: function enable() {
        return y.disable(c);
      }, destroy: function destroy() {
        var b = r[0],
            c = a.attr(b, t),
            d = r.data("qtip");y.rendered && (D.stop(1, 0).remove(), a.each(y.plugins, function () {
          this.destroy && this.destroy();
        })), clearTimeout(y.timers.show), clearTimeout(y.timers.hide), Q();if (!d || y === d) a.removeData(b, "qtip"), s.suppress && c && (a.attr(b, "title", c), r.removeAttr(t)), r.removeAttr("aria-describedby");r.unbind(".qtip-" + v), delete i[y.id];return r;
      } });
  }function w(b) {
    var e;if (!b || "object" !== (typeof b === "undefined" ? "undefined" : _typeof(b))) return c;if (b.metadata === d || "object" !== _typeof(b.metadata)) b.metadata = { type: b.metadata };if ("content" in b) {
      if (b.content === d || "object" !== _typeof(b.content) || b.content.jquery) b.content = { text: b.content };e = b.content.text || c, !a.isFunction(e) && (!e && !e.attr || e.length < 1 || "object" === (typeof e === "undefined" ? "undefined" : _typeof(e)) && !e.jquery) && (b.content.text = c);if ("title" in b.content) {
        if (b.content.title === d || "object" !== _typeof(b.content.title)) b.content.title = { text: b.content.title };e = b.content.title.text || c, !a.isFunction(e) && (!e && !e.attr || e.length < 1 || "object" === (typeof e === "undefined" ? "undefined" : _typeof(e)) && !e.jquery) && (b.content.title.text = c);
      }
    }if ("position" in b) if (b.position === d || "object" !== _typeof(b.position)) b.position = { my: b.position, at: b.position };if ("show" in b) if (b.show === d || "object" !== _typeof(b.show)) b.show.jquery ? b.show = { target: b.show } : b.show = { event: b.show };if ("hide" in b) if (b.hide === d || "object" !== _typeof(b.hide)) b.hide.jquery ? b.hide = { target: b.hide } : b.hide = { event: b.hide };if ("style" in b) if (b.style === d || "object" !== _typeof(b.style)) b.style = { classes: b.style };a.each(g, function () {
      this.sanitize && this.sanitize(b);
    });return b;
  }function v() {
    v.history = v.history || [], v.history.push(arguments);if ("object" === (typeof console === "undefined" ? "undefined" : _typeof(console))) {
      var a = console[console.warn ? "warn" : "log"],
          b = Array.prototype.slice.call(arguments),
          c;typeof arguments[0] === "string" && (b[0] = "qTip2: " + b[0]), c = a.apply ? a.apply(console, b) : a(b);
    }
  }"use strict";var b = !0,
      c = !1,
      d = null,
      e,
      f,
      g,
      h,
      i = {},
      j = "ui-tooltip",
      k = "ui-widget",
      l = "ui-state-disabled",
      m = "div.qtip." + j,
      n = j + "-default",
      o = j + "-focus",
      p = j + "-hover",
      q = j + "-fluid",
      r = "-31000px",
      s = "_replacedByqTip",
      t = "oldtitle",
      u;f = a.fn.qtip = function (g, h, i) {
    var j = ("" + g).toLowerCase(),
        k = d,
        l = a.makeArray(arguments).slice(1),
        m = l[l.length - 1],
        n = this[0] ? a.data(this[0], "qtip") : d;if (!arguments.length && n || j === "api") return n;if ("string" === typeof g) {
      this.each(function () {
        var d = a.data(this, "qtip");if (!d) return b;m && m.timeStamp && (d.cache.event = m);if (j !== "option" && j !== "options" || !h) d[j] && d[j].apply(d[j], l);else if (a.isPlainObject(h) || i !== e) d.set(h, i);else {
          k = d.get(h);return c;
        }
      });return k !== d ? k : this;
    }if ("object" === (typeof g === "undefined" ? "undefined" : _typeof(g)) || !arguments.length) {
      n = w(a.extend(b, {}, g));return f.bind.call(this, n, m);
    }
  }, f.bind = function (d, j) {
    return this.each(function (k) {
      function r(b) {
        function d() {
          p.render((typeof b === "undefined" ? "undefined" : _typeof(b)) === "object" || l.show.ready), m.show.add(m.hide).unbind(o);
        }if (p.cache.disabled) return c;p.cache.event = a.extend({}, b), p.cache.target = b ? a(b.target) : [e], l.show.delay > 0 ? (clearTimeout(p.timers.show), p.timers.show = setTimeout(d, l.show.delay), n.show !== n.hide && m.hide.bind(n.hide, function () {
          clearTimeout(p.timers.show);
        })) : d();
      }var l, m, n, o, p, q;q = a.isArray(d.id) ? d.id[k] : d.id, q = !q || q === c || q.length < 1 || i[q] ? f.nextid++ : i[q] = q, o = ".qtip-" + q + "-create", p = y.call(this, q, d);if (p === c) return b;l = p.options, a.each(g, function () {
        this.initialize === "initialize" && this(p);
      }), m = { show: l.show.target, hide: l.hide.target }, n = { show: a.trim("" + l.show.event).replace(/ /g, o + " ") + o, hide: a.trim("" + l.hide.event).replace(/ /g, o + " ") + o }, /mouse(over|enter)/i.test(n.show) && !/mouse(out|leave)/i.test(n.hide) && (n.hide += " mouseleave" + o), m.show.bind("mousemove" + o, function (a) {
        h = { pageX: a.pageX, pageY: a.pageY, type: "mousemove" }, p.cache.onTarget = b;
      }), m.show.bind(n.show, r), (l.show.ready || l.prerender) && r(j);
    });
  }, g = f.plugins = { Corner: function Corner(a) {
      a = ("" + a).replace(/([A-Z])/, " $1").replace(/middle/gi, "center").toLowerCase(), this.x = (a.match(/left|right/i) || a.match(/center/) || ["inherit"])[0].toLowerCase(), this.y = (a.match(/top|bottom|center/i) || ["inherit"])[0].toLowerCase();var b = a.charAt(0);this.precedance = b === "t" || b === "b" ? "y" : "x", this.string = function () {
        return this.precedance === "y" ? this.y + this.x : this.x + this.y;
      }, this.abbrev = function () {
        var a = this.x.substr(0, 1),
            b = this.y.substr(0, 1);return a === b ? a : a === "c" || a !== "c" && b !== "c" ? b + a : a + b;
      }, this.clone = function () {
        return { x: this.x, y: this.y, precedance: this.precedance, string: this.string, abbrev: this.abbrev, clone: this.clone };
      };
    }, offset: function offset(b, c) {
      function j(a, b) {
        d.left += b * a.scrollLeft(), d.top += b * a.scrollTop();
      }var d = b.offset(),
          e = b.closest("body")[0],
          f = c,
          g,
          h,
          i;if (f) {
        do {
          f.css("position") !== "static" && (h = f.position(), d.left -= h.left + (parseInt(f.css("borderLeftWidth"), 10) || 0) + (parseInt(f.css("marginLeft"), 10) || 0), d.top -= h.top + (parseInt(f.css("borderTopWidth"), 10) || 0) + (parseInt(f.css("marginTop"), 10) || 0), !g && (i = f.css("overflow")) !== "hidden" && i !== "visible" && (g = f));
        } while ((f = a(f[0].offsetParent)).length);g && g[0] !== e && j(g, 1);
      }return d;
    }, iOS: parseFloat(("" + (/CPU.*OS ([0-9_]{1,3})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ""])[1]).replace("undefined", "3_2").replace("_", ".")) || c, fn: { attr: function attr(b, c) {
        if (this.length) {
          var d = this[0],
              e = "title",
              f = a.data(d, "qtip");if (b === e && f && "object" === (typeof f === "undefined" ? "undefined" : _typeof(f)) && f.options.suppress) {
            if (arguments.length < 2) return a.attr(d, t);f && f.options.content.attr === e && f.cache.attr && f.set("content.text", c);return this.attr(t, c);
          }
        }return a.fn["attr" + s].apply(this, arguments);
      }, clone: function clone(b) {
        var c = a([]),
            d = "title",
            e = a.fn["clone" + s].apply(this, arguments);b || e.filter("[" + t + "]").attr("title", function () {
          return a.attr(this, t);
        }).removeAttr(t);return e;
      } } }, a.each(g.fn, function (c, d) {
    if (!d || a.fn[c + s]) return b;var e = a.fn[c + s] = a.fn[c];a.fn[c] = function () {
      return d.apply(this, arguments) || e.apply(this, arguments);
    };
  }), a.ui || (a["cleanData" + s] = a.cleanData, a.cleanData = function (b) {
    for (var c = 0, d; (d = b[c]) !== e; c++) {
      try {
        a(d).triggerHandler("removeqtip");
      } catch (f) {}
    }a["cleanData" + s](b);
  }), f.version = "nightly", f.nextid = 0, f.inactiveEvents = "click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "), f.zindex = 15e3, f.defaults = { prerender: c, id: c, overwrite: b, suppress: b, content: { text: b, attr: "title", title: { text: c, button: c } }, position: { my: "top left", at: "bottom right", target: c, container: c, viewport: c, adjust: { x: 0, y: 0, mouse: b, resize: b, method: "flip flip" }, effect: function effect(b, d, e) {
        a(this).animate(d, { duration: 200, queue: c });
      } }, show: { target: c, event: "mouseenter", effect: b, delay: 90, solo: c, ready: c, autofocus: c }, hide: { target: c, event: "mouseleave", effect: b, delay: 0, fixed: c, inactive: c, leave: "window", distance: c }, style: { classes: "", widget: c, width: c, height: c, def: b }, events: { render: d, move: d, show: d, hide: d, toggle: d, visible: d, hidden: d, focus: d, blur: d } }, g.ajax = function (a) {
    var b = a.plugins.ajax;return "object" === (typeof b === "undefined" ? "undefined" : _typeof(b)) ? b : a.plugins.ajax = new z(a);
  }, g.ajax.initialize = "render", g.ajax.sanitize = function (a) {
    var b = a.content,
        c;b && "ajax" in b && (c = b.ajax, (typeof c === "undefined" ? "undefined" : _typeof(c)) !== "object" && (c = a.content.ajax = { url: c }), "boolean" !== typeof c.once && c.once && (c.once = !!c.once));
  }, a.extend(b, f.defaults, { content: { ajax: { loading: b, once: b } } });
});

/***/ }),

/***/ "./common/static/js/vendor/jquery.smooth-scroll.min.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {/*!
 * Smooth Scroll - v1.4.10 - 2013-03-02
 * https://github.com/kswedberg/jquery-smooth-scroll
 * Copyright (c) 2013 Karl Swedberg
 * Licensed MIT (https://github.com/kswedberg/jquery-smooth-scroll/blob/master/LICENSE-MIT)
 */
(function (l) {
  function t(l) {
    return l.replace(/(:|\.)/g, "\\$1");
  }var e = "1.4.10",
      o = { exclude: [], excludeWithin: [], offset: 0, direction: "top", scrollElement: null, scrollTarget: null, beforeScroll: function beforeScroll() {}, afterScroll: function afterScroll() {}, easing: "swing", speed: 400, autoCoefficent: 2 },
      r = function r(t) {
    var e = [],
        o = !1,
        r = t.dir && "left" == t.dir ? "scrollLeft" : "scrollTop";return this.each(function () {
      if (this != document && this != window) {
        var t = l(this);t[r]() > 0 ? e.push(this) : (t[r](1), o = t[r]() > 0, o && e.push(this), t[r](0));
      }
    }), e.length || this.each(function () {
      "BODY" === this.nodeName && (e = [this]);
    }), "first" === t.el && e.length > 1 && (e = [e[0]]), e;
  };l.fn.extend({ scrollable: function scrollable(l) {
      var t = r.call(this, { dir: l });return this.pushStack(t);
    }, firstScrollable: function firstScrollable(l) {
      var t = r.call(this, { el: "first", dir: l });return this.pushStack(t);
    }, smoothScroll: function smoothScroll(e) {
      e = e || {};var o = l.extend({}, l.fn.smoothScroll.defaults, e),
          r = l.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll", function (e) {
        var n = this,
            s = l(this),
            c = o.exclude,
            i = o.excludeWithin,
            a = 0,
            f = 0,
            h = !0,
            u = {},
            d = location.hostname === n.hostname || !n.hostname,
            m = o.scrollTarget || (l.smoothScroll.filterPath(n.pathname) || r) === r,
            p = t(n.hash);if (o.scrollTarget || d && m && p) {
          for (; h && c.length > a;) {
            s.is(t(c[a++])) && (h = !1);
          }for (; h && i.length > f;) {
            s.closest(i[f++]).length && (h = !1);
          }
        } else h = !1;h && (e.preventDefault(), l.extend(u, o, { scrollTarget: o.scrollTarget || p, link: n }), l.smoothScroll(u));
      }), this;
    } }), l.smoothScroll = function (t, e) {
    var o,
        r,
        n,
        s,
        c = 0,
        i = "offset",
        a = "scrollTop",
        f = {},
        h = {};"number" == typeof t ? (o = l.fn.smoothScroll.defaults, n = t) : (o = l.extend({}, l.fn.smoothScroll.defaults, t || {}), o.scrollElement && (i = "position", "static" == o.scrollElement.css("position") && o.scrollElement.css("position", "relative"))), o = l.extend({ link: null }, o), a = "left" == o.direction ? "scrollLeft" : a, o.scrollElement ? (r = o.scrollElement, c = r[a]()) : r = l("html, body").firstScrollable(), o.beforeScroll.call(r, o), n = "number" == typeof t ? t : e || l(o.scrollTarget)[i]() && l(o.scrollTarget)[i]()[o.direction] || 0, f[a] = n + c + o.offset, s = o.speed, "auto" === s && (s = f[a] || r.scrollTop(), s /= o.autoCoefficent), h = { duration: s, easing: o.easing, complete: function complete() {
        o.afterScroll.call(o.link, o);
      } }, o.step && (h.step = o.step), r.length ? r.stop().animate(f, h) : o.afterScroll.call(o.link, o);
  }, l.smoothScroll.version = e, l.smoothScroll.filterPath = function (l) {
    return l.replace(/^\//, "").replace(/(index|default).[a-zA-Z]{3,4}$/, "").replace(/\/$/, "");
  }, l.fn.smoothScroll.defaults = o;
})(jQuery);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./common/static/js/vendor/timepicker/datepair.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/************************
datepair.js

This is a component of the jquery-timepicker plugin

http://jonthornton.github.com/jquery-timepicker/

requires jQuery 1.6+

version: 1.2.2
************************/

!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0), __webpack_require__("./common/static/js/vendor/jquery-ui.min.js"), __webpack_require__("./common/static/js/vendor/timepicker/jquery.timepicker.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($) {

	$(function () {

		$('.datepair input.date').each(function () {
			var $this = $(this);
			$this.datepicker({ 'dateFormat': 'm/d/yy' });

			if ($this.hasClass('start') || $this.hasClass('end')) {
				$this.on('changeDate change', doDatepair);
			}
		});

		$('.datepair input.time').each(function () {
			var $this = $(this);
			var opts = { 'showDuration': true, 'timeFormat': 'H:i', 'scrollDefaultNow': true };

			if ($this.hasClass('start') || $this.hasClass('end')) {
				opts.onSelect = doDatepair;
			}

			$this.timepicker(opts);
		});

		$('.datepair').each(initDatepair);

		function initDatepair() {
			var container = $(this);

			var startDateInput = container.find('input.start.date');
			var endDateInput = container.find('input.end.date');
			var dateDelta = 0;

			if (startDateInput.length && endDateInput.length) {
				var startDate = new Date(startDateInput.val());
				var endDate = new Date(endDateInput.val());

				dateDelta = endDate.getTime() - startDate.getTime();

				container.data('dateDelta', dateDelta);
			}

			var startTimeInput = container.find('input.start.time');
			var endTimeInput = container.find('input.end.time');

			if (startTimeInput.length && endTimeInput.length) {
				var startInt = startTimeInput.timepicker('getSecondsFromMidnight');
				var endInt = endTimeInput.timepicker('getSecondsFromMidnight');

				container.data('timeDelta', endInt - startInt);

				if (dateDelta < 86400000) {
					endTimeInput.timepicker('option', 'minTime', startInt);
				}
			}
		}

		function doDatepair() {
			var target = $(this);
			if (target.val() == '') {
				return;
			}

			var container = target.closest('.datepair');

			if (target.hasClass('date')) {
				updateDatePair(target, container);
			} else if (target.hasClass('time')) {
				updateTimePair(target, container);
			}
		}

		function updateDatePair(target, container) {
			var start = container.find('input.start.date');
			var end = container.find('input.end.date');

			if (!start.length || !end.length) {
				return;
			}

			var startDate = new Date(start.val());
			var endDate = new Date(end.val());

			var oldDelta = container.data('dateDelta');

			if (oldDelta && target.hasClass('start')) {
				var newEnd = new Date(startDate.getTime() + oldDelta);
				end.val(newEnd.format('m/d/Y'));
				end.datepicker('update');
				return;
			} else {
				var newDelta = endDate.getTime() - startDate.getTime();

				if (newDelta < 0) {
					newDelta = 0;

					if (target.hasClass('start')) {
						end.val(startDate.format('m/d/Y'));
						end.datepicker('update');
					} else if (target.hasClass('end')) {
						start.val(endDate.format('m/d/Y'));
						start.datepicker('update');
					}
				}

				if (newDelta < 86400000) {
					var startTimeVal = container.find('input.start.time').val();

					if (startTimeVal) {
						container.find('input.end.time').timepicker('option', { 'minTime': startTimeVal });
					}
				} else {
					container.find('input.end.time').timepicker('option', { 'minTime': null });
				}

				container.data('dateDelta', newDelta);
			}
		}

		function updateTimePair(target, container) {
			var start = container.find('input.start.time');
			var end = container.find('input.end.time');

			if (!start.length || !end.length) {
				return;
			}

			var startInt = start.timepicker('getSecondsFromMidnight');
			var endInt = end.timepicker('getSecondsFromMidnight');

			var oldDelta = container.data('timeDelta');
			var dateDelta = container.data('dateDelta');

			if (target.hasClass('start') && (!dateDelta || dateDelta < 86400000)) {
				end.timepicker('option', 'minTime', startInt);
			}

			var endDateAdvance = 0;
			var newDelta;

			if (oldDelta && target.hasClass('start')) {
				// lock the duration and advance the end time

				var newEnd = (startInt + oldDelta) % 86400;

				if (newEnd < 0) {
					newEnd += 86400;
				}

				end.timepicker('setTime', newEnd);
				newDelta = newEnd - startInt;
			} else if (startInt !== null && endInt !== null) {
				newDelta = endInt - startInt;
			} else {
				return;
			}

			container.data('timeDelta', newDelta);

			if (newDelta < 0 && (!oldDelta || oldDelta > 0)) {
				// overnight time span. advance the end date 1 day
				var endDateAdvance = 86400000;
			} else if (newDelta > 0 && oldDelta < 0) {
				// switching from overnight to same-day time span. decrease the end date 1 day
				var endDateAdvance = -86400000;
			}

			var startInput = container.find('.start.date');
			var endInput = container.find('.end.date');

			if (startInput.val() && !endInput.val()) {
				endInput.val(startInput.val());
				endInput.datepicker('update');
				dateDelta = 0;
				container.data('dateDelta', 0);
			}

			if (endDateAdvance != 0) {
				if (dateDelta || dateDelta === 0) {
					var endDate = new Date(endInput.val());
					var newEnd = new Date(endDate.getTime() + endDateAdvance);
					endInput.val(newEnd.format('m/d/Y'));
					endInput.datepicker('update');
					container.data('dateDelta', dateDelta + endDateAdvance);
				}
			}
		}
	});

	// Simulates PHP's date function
	Date.prototype.format = function (format) {
		var returnStr = '';var replace = Date.replaceChars;for (var i = 0; i < format.length; i++) {
			var curChar = format.charAt(i);if (replace[curChar]) {
				returnStr += replace[curChar].call(this);
			} else {
				returnStr += curChar;
			}
		}return returnStr;
	};Date.replaceChars = { shortMonths: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'], longMonths: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'], shortDays: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'], longDays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'], d: function d() {
			return (this.getDate() < 10 ? '0' : '') + this.getDate();
		}, D: function D() {
			return Date.replaceChars.shortDays[this.getDay()];
		}, j: function j() {
			return this.getDate();
		}, l: function l() {
			return Date.replaceChars.longDays[this.getDay()];
		}, N: function N() {
			return this.getDay() + 1;
		}, S: function S() {
			return this.getDate() % 10 == 1 && this.getDate() != 11 ? 'st' : this.getDate() % 10 == 2 && this.getDate() != 12 ? 'nd' : this.getDate() % 10 == 3 && this.getDate() != 13 ? 'rd' : 'th';
		}, w: function w() {
			return this.getDay();
		}, z: function z() {
			return "Not Yet Supported";
		}, W: function W() {
			return "Not Yet Supported";
		}, F: function F() {
			return Date.replaceChars.longMonths[this.getMonth()];
		}, m: function m() {
			return (this.getMonth() < 9 ? '0' : '') + (this.getMonth() + 1);
		}, M: function M() {
			return Date.replaceChars.shortMonths[this.getMonth()];
		}, n: function n() {
			return this.getMonth() + 1;
		}, t: function t() {
			return "Not Yet Supported";
		}, L: function L() {
			return this.getFullYear() % 4 == 0 && this.getFullYear() % 100 != 0 || this.getFullYear() % 400 == 0 ? '1' : '0';
		}, o: function o() {
			return "Not Supported";
		}, Y: function Y() {
			return this.getFullYear();
		}, y: function y() {
			return ('' + this.getFullYear()).substr(2);
		}, a: function a() {
			return this.getHours() < 12 ? 'am' : 'pm';
		}, A: function A() {
			return this.getHours() < 12 ? 'AM' : 'PM';
		}, B: function B() {
			return "Not Yet Supported";
		}, g: function g() {
			return this.getHours() % 12 || 12;
		}, G: function G() {
			return this.getHours();
		}, h: function h() {
			return ((this.getHours() % 12 || 12) < 10 ? '0' : '') + (this.getHours() % 12 || 12);
		}, H: function H() {
			return (this.getHours() < 10 ? '0' : '') + this.getHours();
		}, i: function i() {
			return (this.getMinutes() < 10 ? '0' : '') + this.getMinutes();
		}, s: function s() {
			return (this.getSeconds() < 10 ? '0' : '') + this.getSeconds();
		}, e: function e() {
			return "Not Yet Supported";
		}, I: function I() {
			return "Not Supported";
		}, O: function O() {
			return (-this.getTimezoneOffset() < 0 ? '-' : '+') + (Math.abs(this.getTimezoneOffset() / 60) < 10 ? '0' : '') + Math.abs(this.getTimezoneOffset() / 60) + '00';
		}, P: function P() {
			return (-this.getTimezoneOffset() < 0 ? '-' : '+') + (Math.abs(this.getTimezoneOffset() / 60) < 10 ? '0' : '') + Math.abs(this.getTimezoneOffset() / 60) + ':' + (Math.abs(this.getTimezoneOffset() % 60) < 10 ? '0' : '') + Math.abs(this.getTimezoneOffset() % 60);
		}, T: function T() {
			var m = this.getMonth();this.setMonth(0);var result = this.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/, '$1');this.setMonth(m);return result;
		}, Z: function Z() {
			return -this.getTimezoneOffset() * 60;
		}, c: function c() {
			return this.format("Y-m-d") + "T" + this.format("H:i:sP");
		}, r: function r() {
			return this.toString();
		}, U: function U() {
			return this.getTime() / 1000;
		} };
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // end define()

/***/ }),

/***/ "./common/static/js/vendor/timepicker/jquery.timepicker.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/************************
jquery-timepicker
http://jonthornton.github.com/jquery-timepicker/

requires jQuery 1.7+
************************/

(function (factory) {
	if (true) {
		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(0)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {
		// Browser globals
		factory(jQuery);
	}
})(function ($) {
	var _baseDate = _generateBaseDate();
	var _ONE_DAY = 86400;
	var _closeEvent = 'ontouchstart' in document ? 'touchstart' : 'mousedown';
	var _defaults = {
		className: null,
		minTime: null,
		maxTime: null,
		durationTime: null,
		step: 30,
		showDuration: false,
		timeFormat: 'g:ia',
		scrollDefaultNow: false,
		scrollDefaultTime: false,
		selectOnBlur: false,
		forceRoundTime: false,
		appendTo: 'body'
	};
	var _lang = {
		decimal: '.',
		mins: 'mins',
		hr: 'hr',
		hrs: 'hrs'
	};
	var globalInit = false;

	var methods = {
		init: function init(options) {
			return this.each(function () {
				var self = $(this);

				// convert dropdowns to text input
				if (self[0].tagName == 'SELECT') {
					var input = $('<input />');
					var attrs = { 'type': 'text', 'value': self.val() };
					var raw_attrs = self[0].attributes;

					for (var i = 0; i < raw_attrs.length; i++) {
						attrs[raw_attrs[i].nodeName] = raw_attrs[i].nodeValue;
					}

					input.attr(attrs);
					self.replaceWith(input);
					self = input;
				}

				var settings = $.extend({}, _defaults);

				if (options) {
					settings = $.extend(settings, options);
				}

				if (settings.minTime) {
					settings.minTime = _time2int(settings.minTime);
				}

				if (settings.maxTime) {
					settings.maxTime = _time2int(settings.maxTime);
				}

				if (settings.durationTime) {
					settings.durationTime = _time2int(settings.durationTime);
				}

				if (settings.lang) {
					_lang = $.extend(_lang, settings.lang);
				}

				self.data('timepicker-settings', settings);
				self.attr('autocomplete', 'off');
				self.on('click.timepicker focus.timepicker', methods.show);
				self.on('blur.timepicker', _formatValue);
				self.on('keydown.timepicker', _keyhandler);
				self.addClass('ui-timepicker-input');

				_formatValue.call(self.get(0));

				if (!globalInit) {
					// close the dropdown when container loses focus
					$('body').on(_closeEvent, function (e) {
						var target = $(e.target);
						var input = target.closest('.ui-timepicker-input');
						if (input.length === 0 && target.closest('.ui-timepicker-list').length === 0) {
							methods.hide();
						}
					});
					globalInit = true;
				}
			});
		},

		show: function show(e) {
			var self = $(this);

			if ('ontouchstart' in document) {
				// block the keyboard on mobile devices
				self.blur();
			}

			var list = self.data('timepicker-list');

			// check if input is readonly
			if (self.attr('readonly')) {
				return;
			}

			// check if list needs to be rendered
			if (!list || list.length === 0) {
				_render(self);
				list = self.data('timepicker-list');
			}

			// check if a flag was set to close this picker
			if (self.hasClass('ui-timepicker-hideme')) {
				self.removeClass('ui-timepicker-hideme');
				list.hide();
				return;
			}

			if (list.is(':visible')) {
				return;
			}

			// make sure other pickers are hidden
			methods.hide();

			if (self.offset().top + self.outerHeight(true) + list.outerHeight() > $(window).height() + $(window).scrollTop()) {
				// position the dropdown on top
				list.css({ 'left': self.offset().left, 'top': self.offset().top - list.outerHeight() });
			} else {
				// put it under the input
				list.css({ 'left': self.offset().left, 'top': self.offset().top + self.outerHeight() });
			}

			list.show();

			var settings = self.data('timepicker-settings');
			// position scrolling
			var selected = list.find('.ui-timepicker-selected');

			if (!selected.length) {
				if (self.val()) {
					selected = _findRow(self, list, _time2int(self.val()));
				} else if (settings.scrollDefaultNow) {
					selected = _findRow(self, list, _time2int(new Date()));
				} else if (settings.scrollDefaultTime !== false) {
					selected = _findRow(self, list, _time2int(settings.scrollDefaultTime));
				}
			}

			if (selected && selected.length) {
				var topOffset = list.scrollTop() + selected.position().top - selected.outerHeight();
				list.scrollTop(topOffset);
			} else {
				list.scrollTop(0);
			}

			self.trigger('showTimepicker');
		},

		hide: function hide(e) {
			$('.ui-timepicker-list:visible').each(function () {
				var list = $(this);
				var self = list.data('timepicker-input');
				var settings = self.data('timepicker-settings');

				if (settings && settings.selectOnBlur) {
					_selectValue(self);
				}

				list.hide();
				self.trigger('hideTimepicker');
			});
		},

		option: function option(key, value) {
			var self = $(this);
			var settings = self.data('timepicker-settings');
			var list = self.data('timepicker-list');

			if ((typeof key === 'undefined' ? 'undefined' : _typeof(key)) == 'object') {
				settings = $.extend(settings, key);
			} else if (typeof key == 'string' && typeof value != 'undefined') {
				settings[key] = value;
			} else if (typeof key == 'string') {
				return settings[key];
			}

			if (settings.minTime) {
				settings.minTime = _time2int(settings.minTime);
			}

			if (settings.maxTime) {
				settings.maxTime = _time2int(settings.maxTime);
			}

			if (settings.durationTime) {
				settings.durationTime = _time2int(settings.durationTime);
			}

			self.data('timepicker-settings', settings);

			if (list) {
				list.remove();
				self.data('timepicker-list', false);
			}
		},

		getSecondsFromMidnight: function getSecondsFromMidnight() {
			return _time2int($(this).val());
		},

		getTime: function getTime() {
			return new Date(_baseDate.valueOf() + _time2int($(this).val()) * 1000);
		},

		setTime: function setTime(value) {
			var self = $(this);
			var prettyTime = _int2time(_time2int(value), self.data('timepicker-settings').timeFormat);
			self.val(prettyTime);
		},

		remove: function remove() {
			var self = $(this);

			// check if this element is a timepicker
			if (!self.hasClass('ui-timepicker-input')) {
				return;
			}

			self.removeAttr('autocomplete', 'off');
			self.removeClass('ui-timepicker-input');
			self.removeData('timepicker-settings');
			self.off('.timepicker');

			// timepicker-list won't be present unless the user has interacted with this timepicker
			if (self.data('timepicker-list')) {
				self.data('timepicker-list').remove();
			}

			self.removeData('timepicker-list');
		}
	};

	// private methods

	function _render(self) {
		var settings = self.data('timepicker-settings');
		var list = self.data('timepicker-list');

		if (list && list.length) {
			list.remove();
			self.data('timepicker-list', false);
		}

		list = $('<ul />');
		list.attr('tabindex', -1);
		list.addClass('ui-timepicker-list');
		if (settings.className) {
			list.addClass(settings.className);
		}

		list.css({ 'display': 'none', 'position': 'absolute' });

		if ((settings.minTime !== null || settings.durationTime !== null) && settings.showDuration) {
			list.addClass('ui-timepicker-with-duration');
		}

		var durStart = settings.durationTime !== null ? settings.durationTime : settings.minTime;
		var start = settings.minTime !== null ? settings.minTime : 0;
		var end = settings.maxTime !== null ? settings.maxTime : start + _ONE_DAY - 1;

		if (end <= start) {
			// make sure the end time is greater than start time, otherwise there will be no list to show
			end += _ONE_DAY;
		}
		for (var i = start; i <= end; i += settings.step * 60) {
			var timeInt = i;
			var row = $('<li />');
			row.data('time', timeInt);
			row.text(_int2time(timeInt, settings.timeFormat));

			if ((settings.minTime !== null || settings.durationTime !== null) && settings.showDuration) {
				var duration = $('<span />');
				duration.addClass('ui-timepicker-duration');
				duration.text(' (' + _int2duration(i - durStart) + ')');
				row.append(duration);
			}

			list.append(row);
		}

		list.data('timepicker-input', self);
		self.data('timepicker-list', list);

		var appendTo = settings.appendTo;
		if (typeof appendTo === 'string') {
			appendTo = $(appendTo);
		} else if (typeof appendTo === 'function') {
			appendTo = appendTo(self);
		}
		appendTo.append(list);
		_setSelected(self, list);

		list.on('click', 'li', function (e) {
			self.addClass('ui-timepicker-hideme');
			self[0].focus();

			// make sure only the clicked row is selected
			list.find('li').removeClass('ui-timepicker-selected');
			$(this).addClass('ui-timepicker-selected');

			_selectValue(self);
			list.hide();
		});
	}

	function _generateBaseDate() {
		var _baseDate = new Date();
		var _currentTimezoneOffset = _baseDate.getTimezoneOffset() * 60000;
		_baseDate.setHours(0);_baseDate.setMinutes(0);_baseDate.setSeconds(0);
		var _baseDateTimezoneOffset = _baseDate.getTimezoneOffset() * 60000;

		return new Date(_baseDate.valueOf() - _baseDateTimezoneOffset + _currentTimezoneOffset);
	}

	function _findRow(self, list, value) {
		if (!value && value !== 0) {
			return false;
		}

		var settings = self.data('timepicker-settings');
		var out = false;
		var halfStep = settings.step * 30;

		// loop through the menu items
		list.find('li').each(function (i, obj) {
			var jObj = $(obj);

			var offset = jObj.data('time') - value;

			// check if the value is less than half a step from each row
			if (Math.abs(offset) < halfStep || offset == halfStep) {
				out = jObj;
				return false;
			}
		});

		return out;
	}

	function _setSelected(self, list) {
		var timeValue = _time2int(self.val());

		var selected = _findRow(self, list, timeValue);
		if (selected) selected.addClass('ui-timepicker-selected');
	}

	function _formatValue() {
		if (this.value === '') {
			return;
		}

		var self = $(this);
		var seconds = _time2int(this.value);

		if (seconds === null) {
			self.trigger('timeFormatError');
			return;
		}

		var settings = self.data('timepicker-settings');

		if (settings.forceRoundTime) {
			var offset = seconds % (settings.step * 60); // step is in minutes

			if (offset >= settings.step * 30) {
				// if offset is larger than a half step, round up
				seconds += settings.step * 60 - offset;
			} else {
				// round down
				seconds -= offset;
			}
		}

		var prettyTime = _int2time(seconds, settings.timeFormat);
		self.val(prettyTime);
	}

	function _keyhandler(e) {
		var self = $(this);
		var list = self.data('timepicker-list');

		if (!list.is(':visible')) {
			if (e.keyCode == 40) {
				self.focus();
			} else {
				return true;
			}
		}

		switch (e.keyCode) {

			case 13:
				// return
				_selectValue(self);
				methods.hide.apply(this);
				e.preventDefault();
				return false;

			case 38:
				// up
				var selected = list.find('.ui-timepicker-selected');

				if (!selected.length) {
					list.children().each(function (i, obj) {
						if ($(obj).position().top > 0) {
							selected = $(obj);
							return false;
						}
					});
					selected.addClass('ui-timepicker-selected');
				} else if (!selected.is(':first-child')) {
					selected.removeClass('ui-timepicker-selected');
					selected.prev().addClass('ui-timepicker-selected');

					if (selected.prev().position().top < selected.outerHeight()) {
						list.scrollTop(list.scrollTop() - selected.outerHeight());
					}
				}

				break;

			case 40:
				// down
				selected = list.find('.ui-timepicker-selected');

				if (selected.length === 0) {
					list.children().each(function (i, obj) {
						if ($(obj).position().top > 0) {
							selected = $(obj);
							return false;
						}
					});

					selected.addClass('ui-timepicker-selected');
				} else if (!selected.is(':last-child')) {
					selected.removeClass('ui-timepicker-selected');
					selected.next().addClass('ui-timepicker-selected');

					if (selected.next().position().top + 2 * selected.outerHeight() > list.outerHeight()) {
						list.scrollTop(list.scrollTop() + selected.outerHeight());
					}
				}

				break;

			case 27:
				// escape
				list.find('li').removeClass('ui-timepicker-selected');
				list.hide();
				break;

			case 9:
				//tab
				methods.hide();
				break;

			case 16:
			case 17:
			case 18:
			case 19:
			case 20:
			case 33:
			case 34:
			case 35:
			case 36:
			case 37:
			case 39:
			case 45:
				return;

			default:
				list.find('li').removeClass('ui-timepicker-selected');
				return;
		}
	}

	function _selectValue(self) {
		var settings = self.data('timepicker-settings');
		var list = self.data('timepicker-list');
		var timeValue = null;

		var cursor = list.find('.ui-timepicker-selected');

		if (cursor.length) {
			// selected value found
			timeValue = cursor.data('time');
		} else if (self.val()) {

			// no selected value; fall back on input value
			timeValue = _time2int(self.val());

			_setSelected(self, list);
		}

		if (timeValue !== null) {
			var timeString = _int2time(timeValue, settings.timeFormat);
			self.attr('value', timeString);
		}

		self.trigger('change').trigger('changeTime');
	}

	function _int2duration(seconds) {
		var minutes = Math.round(seconds / 60);
		var duration;

		if (Math.abs(minutes) < 60) {
			duration = [minutes, _lang.mins];
		} else if (minutes == 60) {
			duration = ['1', _lang.hr];
		} else {
			var hours = (minutes / 60).toFixed(1);
			if (_lang.decimal != '.') hours = hours.replace('.', _lang.decimal);
			duration = [hours, _lang.hrs];
		}

		return duration.join(' ');
	}

	function _int2time(seconds, format) {
		if (seconds === null) {
			return;
		}

		var time = new Date(_baseDate.valueOf() + seconds * 1000);
		var output = '';
		var hour, code;

		for (var i = 0; i < format.length; i++) {

			code = format.charAt(i);
			switch (code) {

				case 'a':
					output += time.getHours() > 11 ? 'pm' : 'am';
					break;

				case 'A':
					output += time.getHours() > 11 ? 'PM' : 'AM';
					break;

				case 'g':
					hour = time.getHours() % 12;
					output += hour === 0 ? '12' : hour;
					break;

				case 'G':
					output += time.getHours();
					break;

				case 'h':
					hour = time.getHours() % 12;

					if (hour !== 0 && hour < 10) {
						hour = '0' + hour;
					}

					output += hour === 0 ? '12' : hour;
					break;

				case 'H':
					hour = time.getHours();
					if (seconds >= _ONE_DAY) hour = Math.floor(seconds / (60 * 60));
					output += hour > 9 ? hour : '0' + hour;
					break;

				case 'i':
					var minutes = time.getMinutes();
					output += minutes > 9 ? minutes : '0' + minutes;
					break;

				case 's':
					seconds = time.getSeconds();
					output += seconds > 9 ? seconds : '0' + seconds;
					break;

				default:
					output += code;
			}
		}

		return output;
	}

	function _time2int(timeString) {
		if (timeString === '') return null;
		if (timeString + 0 == timeString) return timeString;

		if ((typeof timeString === 'undefined' ? 'undefined' : _typeof(timeString)) == 'object') {
			timeString = timeString.getHours() + ':' + timeString.getMinutes() + ':' + timeString.getSeconds();
		}

		var d = new Date(0);
		var time = timeString.toLowerCase().match(/(\d{1,2})(?::(\d{1,2}))?(?::(\d{2}))?\s*([pa]?)/);

		if (!time) {
			return null;
		}

		var hour = parseInt(time[1] * 1, 10);
		var hours;

		if (time[4]) {
			if (hour == 12) {
				hours = time[4] == 'p' ? 12 : 0;
			} else {
				hours = hour + (time[4] == 'p' ? 12 : 0);
			}
		} else {
			hours = hour;
		}

		var minutes = time[2] * 1 || 0;
		var seconds = time[3] * 1 || 0;
		return hours * 3600 + minutes * 60 + seconds;
	}

	// Plugin entry
	$.fn.timepicker = function (method) {
		if (methods[method]) {
			return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));
		} else if ((typeof method === 'undefined' ? 'undefined' : _typeof(method)) === "object" || !method) {
			return methods.init.apply(this, arguments);
		} else {
			$.error("Method " + method + " does not exist on jQuery.timepicker");
		}
	};
});

/***/ }),

/***/ "./common/static/js/vendor/tinymce/js/tinymce/jquery.tinymce.min.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {/*** IMPORTS FROM imports-loader ***/
(function () {

  !function (e) {
    function t() {
      function t(e) {
        "remove" === e && this.each(function (e, t) {
          var n = r(t);n && n.remove();
        }), this.find("span.mceEditor,div.mceEditor").each(function (e, t) {
          var n = tinymce.get(t.id.replace(/_parent$/, ""));n && n.remove();
        });
      }function i(e) {
        var n,
            i = this;if (null != e) t.call(i), i.each(function (t, n) {
          var i;(i = tinymce.get(n.id)) && i.setContent(e);
        });else if (i.length > 0 && (n = tinymce.get(i[0].id))) return n.getContent();
      }function r(e) {
        var t = null;return e && e.id && a.tinymce && (t = tinymce.get(e.id)), t;
      }function c(e) {
        return !!(e && e.length && a.tinymce && e.is(":tinymce"));
      }var o = {};e.each(["text", "html", "val"], function (t, a) {
        var u = o[a] = e.fn[a],
            s = "text" === a;e.fn[a] = function (t) {
          var a = this;if (!c(a)) return u.apply(a, arguments);if (t !== n) return i.call(a.filter(":tinymce"), t), u.apply(a.not(":tinymce"), arguments), a;var o = "",
              l = arguments;return (s ? a : a.eq(0)).each(function (t, n) {
            var i = r(n);o += i ? s ? i.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g, "") : i.getContent({ save: !0 }) : u.apply(e(n), l);
          }), o;
        };
      }), e.each(["append", "prepend"], function (t, i) {
        var a = o[i] = e.fn[i],
            u = "prepend" === i;e.fn[i] = function (e) {
          var t = this;return c(t) ? e !== n ? (t.filter(":tinymce").each(function (t, n) {
            var i = r(n);i && i.setContent(u ? e + i.getContent() : i.getContent() + e);
          }), a.apply(t.not(":tinymce"), arguments), t) : void 0 : a.apply(t, arguments);
        };
      }), e.each(["remove", "replaceWith", "replaceAll", "empty"], function (n, i) {
        var r = o[i] = e.fn[i];e.fn[i] = function () {
          return t.call(this, i), r.apply(this, arguments);
        };
      }), o.attr = e.fn.attr, e.fn.attr = function (t, a) {
        var u = this,
            s = arguments;if (!t || "value" !== t || !c(u)) return a !== n ? o.attr.apply(u, s) : o.attr.apply(u, s);if (a !== n) return i.call(u.filter(":tinymce"), a), o.attr.apply(u.not(":tinymce"), s), u;var l = u[0],
            m = r(l);return m ? m.getContent({ save: !0 }) : o.attr.apply(e(l), s);
      };
    }var n,
        i,
        r = [],
        a = window;e.fn.tinymce = function (n) {
      function c() {
        var i = [],
            r = 0;l || (t(), l = !0), m.each(function (e, t) {
          var a,
              c = t.id,
              o = n.oninit;c || (t.id = c = tinymce.DOM.uniqueId()), tinymce.get(c) || (a = new tinymce.Editor(c, n, tinymce.EditorManager), i.push(a), a.on("init", function () {
            var e,
                t = o;m.css("visibility", ""), o && ++r == i.length && ("string" == typeof t && (e = -1 === t.indexOf(".") ? null : tinymce.resolve(t.replace(/\.\w+$/, "")), t = tinymce.resolve(t)), t.apply(e || tinymce, i));
          }));
        }), e.each(i, function (e, t) {
          t.render();
        });
      }var o,
          u,
          s,
          l,
          m = this,
          p = "";if (!m.length) return m;if (!n) return window.tinymce ? tinymce.get(m[0].id) : null;if (m.css("visibility", "hidden"), a.tinymce || i || !(o = n.script_url)) 1 === i ? r.push(c) : c();else {
        i = 1, u = o.substring(0, o.lastIndexOf("/")), -1 != o.indexOf(".min") && (p = ".min"), a.tinymce = a.tinyMCEPreInit || { base: u, suffix: p }, -1 != o.indexOf("gzip") && (s = n.language || "en", o = o + (/\?/.test(o) ? "&" : "?") + "js=true&core=true&suffix=" + escape(p) + "&themes=" + escape(n.theme || "modern") + "&plugins=" + escape(n.plugins || "") + "&languages=" + (s || ""), a.tinyMCE_GZ || (a.tinyMCE_GZ = { start: function start() {
            function t(e) {
              tinymce.ScriptLoader.markDone(tinymce.baseURI.toAbsolute(e));
            }t("langs/" + s + ".js"), t("themes/" + n.theme + "/theme" + p + ".js"), t("themes/" + n.theme + "/langs/" + s + ".js"), e.each(n.plugins.split(","), function (e, n) {
              n && (t("plugins/" + n + "/plugin" + p + ".js"), t("plugins/" + n + "/langs/" + s + ".js"));
            });
          }, end: function end() {} }));var f = document.createElement("script");f.type = "text/javascript", f.onload = f.onreadystatechange = function (t) {
          t = t || window.event, 2 === i || "load" != t.type && !/complete|loaded/.test(f.readyState) || (tinymce.dom.Event.domLoaded = 1, i = 2, n.script_loaded && n.script_loaded(), c(), e.each(r, function (e, t) {
            t();
          }));
        }, f.src = o, document.body.appendChild(f);
      }return m;
    }, e.extend(e.expr[":"], { tinymce: function (_tinymce) {
        function tinymce(_x) {
          return _tinymce.apply(this, arguments);
        }

        tinymce.toString = function () {
          return _tinymce.toString();
        };

        return tinymce;
      }(function (e) {
        return !!(e.id && "tinymce" in window && tinymce.get(e.id));
      }) });
  }(jQuery);
}).call(window);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),

/***/ "./common/static/js/vendor/tinymce/js/tinymce/tinymce.full.min.js":
/***/ (function(module, exports) {

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/*** IMPORTS FROM imports-loader ***/
(function () {

  // 4.0.20 (2014-03-18)
  !function (e, t) {
    "use strict";
    function n(e, t) {
      for (var n, r = [], i = 0; i < e.length; ++i) {
        if (n = s[e[i]] || o(e[i]), !n) throw "module definition dependecy not found: " + e[i];r.push(n);
      }t.apply(null, r);
    }function r(e, r, i) {
      if ("string" != typeof e) throw "invalid module definition, module id must be defined and be a string";if (r === t) throw "invalid module definition, dependencies must be specified";if (i === t) throw "invalid module definition, definition function must be specified";n(r, function () {
        s[e] = i.apply(null, arguments);
      });
    }function i(e) {
      return !!s[e];
    }function o(t) {
      for (var n = e, r = t.split(/[.\/]/), i = 0; i < r.length; ++i) {
        if (!n[r[i]]) return;n = n[r[i]];
      }return n;
    }function a(n) {
      for (var r = 0; r < n.length; r++) {
        for (var i = e, o = n[r], a = o.split(/[.\/]/), l = 0; l < a.length - 1; ++l) {
          i[a[l]] === t && (i[a[l]] = {}), i = i[a[l]];
        }i[a[a.length - 1]] = s[o];
      }
    }var s = {},
        l = "tinymce/dom/EventUtils",
        c = "tinymce/dom/Sizzle",
        u = "tinymce/dom/DomQuery",
        d = "tinymce/html/Styles",
        f = "tinymce/dom/TreeWalker",
        p = "tinymce/util/Tools",
        m = "tinymce/dom/Range",
        h = "tinymce/html/Entities",
        g = "tinymce/Env",
        v = "tinymce/dom/StyleSheetLoader",
        y = "tinymce/dom/DOMUtils",
        b = "tinymce/dom/ScriptLoader",
        C = "tinymce/AddOnManager",
        x = "tinymce/html/Node",
        w = "tinymce/html/Schema",
        _ = "tinymce/html/SaxParser",
        N = "tinymce/html/DomParser",
        E = "tinymce/html/Writer",
        S = "tinymce/html/Serializer",
        k = "tinymce/dom/Serializer",
        T = "tinymce/dom/TridentSelection",
        R = "tinymce/util/VK",
        A = "tinymce/dom/ControlSelection",
        B = "tinymce/dom/RangeUtils",
        L = "tinymce/dom/Selection",
        D = "tinymce/Formatter",
        M = "tinymce/UndoManager",
        H = "tinymce/EnterKey",
        P = "tinymce/ForceBlocks",
        O = "tinymce/EditorCommands",
        I = "tinymce/util/URI",
        F = "tinymce/util/Class",
        z = "tinymce/ui/Selector",
        W = "tinymce/ui/Collection",
        V = "tinymce/ui/DomUtils",
        U = "tinymce/ui/Control",
        q = "tinymce/ui/Factory",
        $ = "tinymce/ui/KeyboardNavigation",
        j = "tinymce/ui/Container",
        K = "tinymce/ui/DragHelper",
        Y = "tinymce/ui/Scrollable",
        G = "tinymce/ui/Panel",
        X = "tinymce/ui/Movable",
        J = "tinymce/ui/Resizable",
        Q = "tinymce/ui/FloatPanel",
        Z = "tinymce/ui/Window",
        et = "tinymce/ui/MessageBox",
        tt = "tinymce/WindowManager",
        nt = "tinymce/util/Quirks",
        rt = "tinymce/util/Observable",
        it = "tinymce/Shortcuts",
        ot = "tinymce/Editor",
        at = "tinymce/util/I18n",
        st = "tinymce/FocusManager",
        lt = "tinymce/EditorManager",
        ct = "tinymce/LegacyInput",
        ut = "tinymce/util/XHR",
        dt = "tinymce/util/JSON",
        ft = "tinymce/util/JSONRequest",
        pt = "tinymce/util/JSONP",
        mt = "tinymce/util/LocalStorage",
        ht = "tinymce/Compat",
        gt = "tinymce/ui/Layout",
        vt = "tinymce/ui/AbsoluteLayout",
        yt = "tinymce/ui/Tooltip",
        bt = "tinymce/ui/Widget",
        Ct = "tinymce/ui/Button",
        xt = "tinymce/ui/ButtonGroup",
        wt = "tinymce/ui/Checkbox",
        _t = "tinymce/ui/PanelButton",
        Nt = "tinymce/ui/ColorButton",
        Et = "tinymce/ui/ComboBox",
        St = "tinymce/ui/Path",
        kt = "tinymce/ui/ElementPath",
        Tt = "tinymce/ui/FormItem",
        Rt = "tinymce/ui/Form",
        At = "tinymce/ui/FieldSet",
        Bt = "tinymce/ui/FilePicker",
        Lt = "tinymce/ui/FitLayout",
        Dt = "tinymce/ui/FlexLayout",
        Mt = "tinymce/ui/FlowLayout",
        Ht = "tinymce/ui/FormatControls",
        Pt = "tinymce/ui/GridLayout",
        Ot = "tinymce/ui/Iframe",
        It = "tinymce/ui/Label",
        Ft = "tinymce/ui/Toolbar",
        zt = "tinymce/ui/MenuBar",
        Wt = "tinymce/ui/MenuButton",
        Vt = "tinymce/ui/ListBox",
        Ut = "tinymce/ui/MenuItem",
        qt = "tinymce/ui/Menu",
        $t = "tinymce/ui/Radio",
        jt = "tinymce/ui/ResizeHandle",
        Kt = "tinymce/ui/Spacer",
        Yt = "tinymce/ui/SplitButton",
        Gt = "tinymce/ui/StackLayout",
        Xt = "tinymce/ui/TabPanel",
        Jt = "tinymce/ui/TextBox",
        Qt = "tinymce/ui/Throbber";r(l, [], function () {
      function e(e, t, n, r) {
        e.addEventListener ? e.addEventListener(t, n, r || !1) : e.attachEvent && e.attachEvent("on" + t, n);
      }function t(e, t, n, r) {
        e.removeEventListener ? e.removeEventListener(t, n, r || !1) : e.detachEvent && e.detachEvent("on" + t, n);
      }function n(e, t) {
        function n() {
          return !1;
        }function r() {
          return !0;
        }var i,
            o = t || {},
            l;for (i in e) {
          s[i] || (o[i] = e[i]);
        }if (o.target || (o.target = o.srcElement || document), e && a.test(e.type) && e.pageX === l && e.clientX !== l) {
          var c = o.target.ownerDocument || document,
              u = c.documentElement,
              d = c.body;o.pageX = e.clientX + (u && u.scrollLeft || d && d.scrollLeft || 0) - (u && u.clientLeft || d && d.clientLeft || 0), o.pageY = e.clientY + (u && u.scrollTop || d && d.scrollTop || 0) - (u && u.clientTop || d && d.clientTop || 0);
        }return o.preventDefault = function () {
          o.isDefaultPrevented = r, e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1);
        }, o.stopPropagation = function () {
          o.isPropagationStopped = r, e && (e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0);
        }, o.stopImmediatePropagation = function () {
          o.isImmediatePropagationStopped = r, o.stopPropagation();
        }, o.isDefaultPrevented || (o.isDefaultPrevented = n, o.isPropagationStopped = n, o.isImmediatePropagationStopped = n), o;
      }function r(n, r, i) {
        function o() {
          i.domLoaded || (i.domLoaded = !0, r(c));
        }function a() {
          ("complete" === l.readyState || "interactive" === l.readyState && l.body) && (t(l, "readystatechange", a), o());
        }function s() {
          try {
            l.documentElement.doScroll("left");
          } catch (e) {
            return void setTimeout(s, 0);
          }o();
        }var l = n.document,
            c = { type: "ready" };return i.domLoaded ? void r(c) : (l.addEventListener ? "complete" === l.readyState ? o() : e(n, "DOMContentLoaded", o) : (e(l, "readystatechange", a), l.documentElement.doScroll && n.self === n.top && s()), void e(n, "load", o));
      }function i() {
        function i(e, t) {
          var n,
              r,
              i,
              o,
              a = s[t];if (n = a && a[e.type]) for (r = 0, i = n.length; i > r; r++) {
            if (o = n[r], o && o.func.call(o.scope, e) === !1 && e.preventDefault(), e.isImmediatePropagationStopped()) return;
          }
        }var a = this,
            s = {},
            l,
            c,
            u,
            d,
            f;c = o + (+new Date()).toString(32), d = "onmouseenter" in document.documentElement, u = "onfocusin" in document.documentElement, f = { mouseenter: "mouseover", mouseleave: "mouseout" }, l = 1, a.domLoaded = !1, a.events = s, a.bind = function (t, o, p, m) {
          function h(e) {
            i(n(e || _.event), g);
          }var g,
              v,
              y,
              b,
              C,
              x,
              w,
              _ = window;if (t && 3 !== t.nodeType && 8 !== t.nodeType) {
            for (t[c] ? g = t[c] : (g = l++, t[c] = g, s[g] = {}), m = m || t, o = o.split(" "), y = o.length; y--;) {
              b = o[y], x = h, C = w = !1, "DOMContentLoaded" === b && (b = "ready"), a.domLoaded && "ready" === b && "complete" == t.readyState ? p.call(m, n({ type: b })) : (d || (C = f[b], C && (x = function x(e) {
                var t, r;if (t = e.currentTarget, r = e.relatedTarget, r && t.contains) r = t.contains(r);else for (; r && r !== t;) {
                  r = r.parentNode;
                }r || (e = n(e || _.event), e.type = "mouseout" === e.type ? "mouseleave" : "mouseenter", e.target = t, i(e, g));
              })), u || "focusin" !== b && "focusout" !== b || (w = !0, C = "focusin" === b ? "focus" : "blur", x = function x(e) {
                e = n(e || _.event), e.type = "focus" === e.type ? "focusin" : "focusout", i(e, g);
              }), v = s[g][b], v ? "ready" === b && a.domLoaded ? p({ type: b }) : v.push({ func: p, scope: m }) : (s[g][b] = v = [{ func: p, scope: m }], v.fakeName = C, v.capture = w, v.nativeHandler = x, "ready" === b ? r(t, x, a) : e(t, C || b, x, w)));
            }return t = v = 0, p;
          }
        }, a.unbind = function (e, n, r) {
          var i, o, l, u, d, f;if (!e || 3 === e.nodeType || 8 === e.nodeType) return a;if (i = e[c]) {
            if (f = s[i], n) {
              for (n = n.split(" "), l = n.length; l--;) {
                if (d = n[l], o = f[d]) {
                  if (r) for (u = o.length; u--;) {
                    if (o[u].func === r) {
                      var p = o.nativeHandler,
                          m = o.fakeName,
                          h = o.capture;o = o.slice(0, u).concat(o.slice(u + 1)), o.nativeHandler = p, o.fakeName = m, o.capture = h, f[d] = o;
                    }
                  }r && 0 !== o.length || (delete f[d], t(e, o.fakeName || d, o.nativeHandler, o.capture));
                }
              }
            } else {
              for (d in f) {
                o = f[d], t(e, o.fakeName || d, o.nativeHandler, o.capture);
              }f = {};
            }for (d in f) {
              return a;
            }delete s[i];try {
              delete e[c];
            } catch (g) {
              e[c] = null;
            }
          }return a;
        }, a.fire = function (e, t, r) {
          var o;if (!e || 3 === e.nodeType || 8 === e.nodeType) return a;r = n(null, r), r.type = t, r.target = e;do {
            o = e[c], o && i(r, o), e = e.parentNode || e.ownerDocument || e.defaultView || e.parentWindow;
          } while (e && !r.isPropagationStopped());return a;
        }, a.clean = function (e) {
          var t,
              n,
              r = a.unbind;if (!e || 3 === e.nodeType || 8 === e.nodeType) return a;if (e[c] && r(e), e.getElementsByTagName || (e = e.document), e && e.getElementsByTagName) for (r(e), n = e.getElementsByTagName("*"), t = n.length; t--;) {
            e = n[t], e[c] && r(e);
          }return a;
        }, a.destroy = function () {
          s = {};
        }, a.cancel = function (e) {
          return e && (e.preventDefault(), e.stopImmediatePropagation()), !1;
        };
      }var o = "mce-data-",
          a = /^(?:mouse|contextmenu)|click/,
          s = { keyLocation: 1, layerX: 1, layerY: 1, returnValue: 1 };return i.Event = new i(), i.Event.bind(window, "ready", function () {}), i;
    }), r(c, [], function () {
      function e(e) {
        return ht.test(e + "");
      }function n() {
        var _e,
            t = [];return _e = function e(n, r) {
          return t.push(n += " ") > _.cacheLength && delete _e[t.shift()], _e[n] = r, r;
        };
      }function r(e) {
        return e[I] = !0, e;
      }function i(e) {
        var t = B.createElement("div");try {
          return !!e(t);
        } catch (n) {
          return !1;
        } finally {
          t = null;
        }
      }function o(e, t, n, r) {
        var i, o, a, s, l, c, f, p, m, h;if ((t ? t.ownerDocument || t : F) !== B && A(t), t = t || B, n = n || [], !e || "string" != typeof e) return n;if (1 !== (s = t.nodeType) && 9 !== s) return [];if (D && !r) {
          if (i = gt.exec(e)) if (a = i[1]) {
            if (9 === s) {
              if (o = t.getElementById(a), !o || !o.parentNode) return n;if (o.id === a) return n.push(o), n;
            } else if (t.ownerDocument && (o = t.ownerDocument.getElementById(a)) && O(t, o) && o.id === a) return n.push(o), n;
          } else {
            if (i[2]) return Z.apply(n, t.getElementsByTagName(e)), n;if ((a = i[3]) && z.getElementsByClassName && t.getElementsByClassName) return Z.apply(n, t.getElementsByClassName(a)), n;
          }if (z.qsa && !M.test(e)) {
            if (f = !0, p = I, m = t, h = 9 === s && e, 1 === s && "object" !== t.nodeName.toLowerCase()) {
              for (c = u(e), (f = t.getAttribute("id")) ? p = f.replace(bt, "\\$&") : t.setAttribute("id", p), p = "[id='" + p + "'] ", l = c.length; l--;) {
                c[l] = p + d(c[l]);
              }m = mt.test(e) && t.parentNode || t, h = c.join(",");
            }if (h) try {
              return Z.apply(n, m.querySelectorAll(h)), n;
            } catch (g) {} finally {
              f || t.removeAttribute("id");
            }
          }
        }return b(e.replace(lt, "$1"), t, n, r);
      }function a(e, t) {
        var n = t && e,
            r = n && (~t.sourceIndex || G) - (~e.sourceIndex || G);if (r) return r;if (n) for (; n = n.nextSibling;) {
          if (n === t) return -1;
        }return e ? 1 : -1;
      }function s(e) {
        return function (t) {
          var n = t.nodeName.toLowerCase();return "input" === n && t.type === e;
        };
      }function l(e) {
        return function (t) {
          var n = t.nodeName.toLowerCase();return ("input" === n || "button" === n) && t.type === e;
        };
      }function c(e) {
        return r(function (t) {
          return t = +t, r(function (n, r) {
            for (var i, o = e([], n.length, t), a = o.length; a--;) {
              n[i = o[a]] && (n[i] = !(r[i] = n[i]));
            }
          });
        });
      }function u(e, t) {
        var n,
            r,
            i,
            a,
            s,
            l,
            c,
            u = q[e + " "];if (u) return t ? 0 : u.slice(0);for (s = e, l = [], c = _.preFilter; s;) {
          (!n || (r = ct.exec(s))) && (r && (s = s.slice(r[0].length) || s), l.push(i = [])), n = !1, (r = ut.exec(s)) && (n = r.shift(), i.push({ value: n, type: r[0].replace(lt, " ") }), s = s.slice(n.length));for (a in _.filter) {
            !(r = pt[a].exec(s)) || c[a] && !(r = c[a](r)) || (n = r.shift(), i.push({ value: n, type: a, matches: r }), s = s.slice(n.length));
          }if (!n) break;
        }return t ? s.length : s ? o.error(e) : q(e, l).slice(0);
      }function d(e) {
        for (var t = 0, n = e.length, r = ""; n > t; t++) {
          r += e[t].value;
        }return r;
      }function f(e, t, n) {
        var r = t.dir,
            i = n && "parentNode" === r,
            o = V++;return t.first ? function (t, n, o) {
          for (; t = t[r];) {
            if (1 === t.nodeType || i) return e(t, n, o);
          }
        } : function (t, n, a) {
          var s,
              l,
              c,
              u = W + " " + o;if (a) {
            for (; t = t[r];) {
              if ((1 === t.nodeType || i) && e(t, n, a)) return !0;
            }
          } else for (; t = t[r];) {
            if (1 === t.nodeType || i) if (c = t[I] || (t[I] = {}), (l = c[r]) && l[0] === u) {
              if ((s = l[1]) === !0 || s === w) return s === !0;
            } else if (l = c[r] = [u], l[1] = e(t, n, a) || w, l[1] === !0) return !0;
          }
        };
      }function p(e) {
        return e.length > 1 ? function (t, n, r) {
          for (var i = e.length; i--;) {
            if (!e[i](t, n, r)) return !1;
          }return !0;
        } : e[0];
      }function m(e, t, n, r, i) {
        for (var o, a = [], s = 0, l = e.length, c = null != t; l > s; s++) {
          (o = e[s]) && (!n || n(o, r, i)) && (a.push(o), c && t.push(s));
        }return a;
      }function h(e, t, n, i, o, a) {
        return i && !i[I] && (i = h(i)), o && !o[I] && (o = h(o, a)), r(function (r, a, s, l) {
          var c,
              u,
              d,
              f = [],
              p = [],
              h = a.length,
              g = r || y(t || "*", s.nodeType ? [s] : s, []),
              v = !e || !r && t ? g : m(g, f, e, s, l),
              b = n ? o || (r ? e : h || i) ? [] : a : v;if (n && n(v, b, s, l), i) for (c = m(b, p), i(c, [], s, l), u = c.length; u--;) {
            (d = c[u]) && (b[p[u]] = !(v[p[u]] = d));
          }if (r) {
            if (o || e) {
              if (o) {
                for (c = [], u = b.length; u--;) {
                  (d = b[u]) && c.push(v[u] = d);
                }o(null, b = [], c, l);
              }for (u = b.length; u--;) {
                (d = b[u]) && (c = o ? tt.call(r, d) : f[u]) > -1 && (r[c] = !(a[c] = d));
              }
            }
          } else b = m(b === a ? b.splice(h, b.length) : b), o ? o(null, a, b, l) : Z.apply(a, b);
        });
      }function g(e) {
        for (var t, n, r, i = e.length, o = _.relative[e[0].type], a = o || _.relative[" "], s = o ? 1 : 0, l = f(function (e) {
          return e === t;
        }, a, !0), c = f(function (e) {
          return tt.call(t, e) > -1;
        }, a, !0), u = [function (e, n, r) {
          return !o && (r || n !== k) || ((t = n).nodeType ? l(e, n, r) : c(e, n, r));
        }]; i > s; s++) {
          if (n = _.relative[e[s].type]) u = [f(p(u), n)];else {
            if (n = _.filter[e[s].type].apply(null, e[s].matches), n[I]) {
              for (r = ++s; i > r && !_.relative[e[r].type]; r++) {}return h(s > 1 && p(u), s > 1 && d(e.slice(0, s - 1)).replace(lt, "$1"), n, r > s && g(e.slice(s, r)), i > r && g(e = e.slice(r)), i > r && d(e));
            }u.push(n);
          }
        }return p(u);
      }function v(e, t) {
        var n = 0,
            i = t.length > 0,
            a = e.length > 0,
            s = function s(r, _s, l, c, u) {
          var d,
              f,
              p,
              h = [],
              g = 0,
              v = "0",
              y = r && [],
              b = null != u,
              C = k,
              x = r || a && _.find.TAG("*", u && _s.parentNode || _s),
              N = W += null == C ? 1 : Math.random() || .1;for (b && (k = _s !== B && _s, w = n); null != (d = x[v]); v++) {
            if (a && d) {
              for (f = 0; p = e[f++];) {
                if (p(d, _s, l)) {
                  c.push(d);break;
                }
              }b && (W = N, w = ++n);
            }i && ((d = !p && d) && g--, r && y.push(d));
          }if (g += v, i && v !== g) {
            for (f = 0; p = t[f++];) {
              p(y, h, _s, l);
            }if (r) {
              if (g > 0) for (; v--;) {
                y[v] || h[v] || (h[v] = J.call(c));
              }h = m(h);
            }Z.apply(c, h), b && !r && h.length > 0 && g + t.length > 1 && o.uniqueSort(c);
          }return b && (W = N, k = C), y;
        };return i ? r(s) : s;
      }function y(e, t, n) {
        for (var r = 0, i = t.length; i > r; r++) {
          o(e, t[r], n);
        }return n;
      }function b(e, t, n, r) {
        var i,
            o,
            a,
            s,
            l,
            c = u(e);if (!r && 1 === c.length) {
          if (o = c[0] = c[0].slice(0), o.length > 2 && "ID" === (a = o[0]).type && 9 === t.nodeType && D && _.relative[o[1].type]) {
            if (t = (_.find.ID(a.matches[0].replace(xt, wt), t) || [])[0], !t) return n;e = e.slice(o.shift().value.length);
          }for (i = pt.needsContext.test(e) ? 0 : o.length; i-- && (a = o[i], !_.relative[s = a.type]);) {
            if ((l = _.find[s]) && (r = l(a.matches[0].replace(xt, wt), mt.test(o[0].type) && t.parentNode || t))) {
              if (o.splice(i, 1), e = r.length && d(o), !e) return Z.apply(n, r), n;break;
            }
          }
        }return S(e, c)(r, t, !D, n, mt.test(e)), n;
      }function C() {}var x,
          w,
          _,
          N,
          E,
          S,
          k,
          T,
          R,
          A,
          B,
          L,
          D,
          M,
          H,
          P,
          O,
          I = "sizzle" + -new Date(),
          F = window.document,
          z = {},
          W = 0,
          V = 0,
          U = n(),
          q = n(),
          $ = n(),
          j = !1,
          K = function K() {
        return 0;
      },
          Y = typeof t === "undefined" ? "undefined" : _typeof(t),
          G = 1 << 31,
          X = [],
          J = X.pop,
          Q = X.push,
          Z = X.push,
          et = X.slice,
          tt = X.indexOf || function (e) {
        for (var t = 0, n = this.length; n > t; t++) {
          if (this[t] === e) return t;
        }return -1;
      },
          nt = "[\\x20\\t\\r\\n\\f]",
          rt = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
          it = rt.replace("w", "w#"),
          ot = "([*^$|!~]?=)",
          at = "\\[" + nt + "*(" + rt + ")" + nt + "*(?:" + ot + nt + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + it + ")|)|)" + nt + "*\\]",
          st = ":(" + rt + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + at.replace(3, 8) + ")*)|.*)\\)|)",
          lt = new RegExp("^" + nt + "+|((?:^|[^\\\\])(?:\\\\.)*)" + nt + "+$", "g"),
          ct = new RegExp("^" + nt + "*," + nt + "*"),
          ut = new RegExp("^" + nt + "*([\\x20\\t\\r\\n\\f>+~])" + nt + "*"),
          dt = new RegExp(st),
          ft = new RegExp("^" + it + "$"),
          pt = { ID: new RegExp("^#(" + rt + ")"), CLASS: new RegExp("^\\.(" + rt + ")"), NAME: new RegExp("^\\[name=['\"]?(" + rt + ")['\"]?\\]"), TAG: new RegExp("^(" + rt.replace("w", "w*") + ")"), ATTR: new RegExp("^" + at), PSEUDO: new RegExp("^" + st), CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + nt + "*(even|odd|(([+-]|)(\\d*)n|)" + nt + "*(?:([+-]|)" + nt + "*(\\d+)|))" + nt + "*\\)|)", "i"), needsContext: new RegExp("^" + nt + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + nt + "*((?:-\\d)?\\d*)" + nt + "*\\)|)(?=[^-]|$)", "i") },
          mt = /[\x20\t\r\n\f]*[+~]/,
          ht = /^[^{]+\{\s*\[native code/,
          gt = /^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,
          vt = /^(?:input|select|textarea|button)$/i,
          yt = /^h\d$/i,
          bt = /'|\\/g,
          Ct = /\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,
          xt = /\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,
          wt = function wt(e, t) {
        var n = "0x" + t - 65536;return n !== n ? t : 0 > n ? String.fromCharCode(n + 65536) : String.fromCharCode(n >> 10 | 55296, 1023 & n | 56320);
      };try {
        Z.apply(X = et.call(F.childNodes), F.childNodes), X[F.childNodes.length].nodeType;
      } catch (_t) {
        Z = { apply: X.length ? function (e, t) {
            Q.apply(e, et.call(t));
          } : function (e, t) {
            for (var n = e.length, r = 0; e[n++] = t[r++];) {}e.length = n - 1;
          } };
      }E = o.isXML = function (e) {
        var t = e && (e.ownerDocument || e).documentElement;return t ? "HTML" !== t.nodeName : !1;
      }, A = o.setDocument = function (n) {
        var r = n ? n.ownerDocument || n : F;return r !== B && 9 === r.nodeType && r.documentElement ? (B = r, L = r.documentElement, D = !E(r), z.getElementsByTagName = i(function (e) {
          return e.appendChild(r.createComment("")), !e.getElementsByTagName("*").length;
        }), z.attributes = i(function (e) {
          e.innerHTML = "<select></select>";var t = _typeof(e.lastChild.getAttribute("multiple"));return "boolean" !== t && "string" !== t;
        }), z.getElementsByClassName = i(function (e) {
          return e.innerHTML = "<div class='hidden e'></div><div class='hidden'></div>", e.getElementsByClassName && e.getElementsByClassName("e").length ? (e.lastChild.className = "e", 2 === e.getElementsByClassName("e").length) : !1;
        }), z.getByName = i(function (e) {
          e.id = I + 0, e.appendChild(B.createElement("a")).setAttribute("name", I), e.appendChild(B.createElement("i")).setAttribute("name", I), L.appendChild(e);var t = r.getElementsByName && r.getElementsByName(I).length === 2 + r.getElementsByName(I + 0).length;return L.removeChild(e), t;
        }), z.sortDetached = i(function (e) {
          return e.compareDocumentPosition && 1 & e.compareDocumentPosition(B.createElement("div"));
        }), _.attrHandle = i(function (e) {
          return e.innerHTML = "<a href='#'></a>", e.firstChild && _typeof(e.firstChild.getAttribute) !== Y && "#" === e.firstChild.getAttribute("href");
        }) ? {} : { href: function href(e) {
            return e.getAttribute("href", 2);
          }, type: function type(e) {
            return e.getAttribute("type");
          } }, z.getByName ? (_.find.ID = function (e, t) {
          if (_typeof(t.getElementById) !== Y && D) {
            var n = t.getElementById(e);return n && n.parentNode ? [n] : [];
          }
        }, _.filter.ID = function (e) {
          var t = e.replace(xt, wt);return function (e) {
            return e.getAttribute("id") === t;
          };
        }) : (_.find.ID = function (e, n) {
          if (_typeof(n.getElementById) !== Y && D) {
            var r = n.getElementById(e);return r ? r.id === e || _typeof(r.getAttributeNode) !== Y && r.getAttributeNode("id").value === e ? [r] : t : [];
          }
        }, _.filter.ID = function (e) {
          var t = e.replace(xt, wt);return function (e) {
            var n = _typeof(e.getAttributeNode) !== Y && e.getAttributeNode("id");return n && n.value === t;
          };
        }), _.find.TAG = z.getElementsByTagName ? function (e, t) {
          return _typeof(t.getElementsByTagName) !== Y ? t.getElementsByTagName(e) : void 0;
        } : function (e, t) {
          var n,
              r = [],
              i = 0,
              o = t.getElementsByTagName(e);if ("*" === e) {
            for (; n = o[i++];) {
              1 === n.nodeType && r.push(n);
            }return r;
          }return o;
        }, _.find.NAME = z.getByName && function (e, t) {
          return _typeof(t.getElementsByName) !== Y ? t.getElementsByName(name) : void 0;
        }, _.find.CLASS = z.getElementsByClassName && function (e, t) {
          return _typeof(t.getElementsByClassName) !== Y && D ? t.getElementsByClassName(e) : void 0;
        }, H = [], M = [":focus"], (z.qsa = e(r.querySelectorAll)) && (i(function (e) {
          e.innerHTML = "<select><option selected=''></option></select>", e.querySelectorAll("[selected]").length || M.push("\\[" + nt + "*(?:checked|disabled|ismap|multiple|readonly|selected|value)"), e.querySelectorAll(":checked").length || M.push(":checked");
        }), i(function (e) {
          e.innerHTML = "<input type='hidden' i=''/>", e.querySelectorAll("[i^='']").length && M.push("[*^$]=" + nt + "*(?:\"\"|'')"), e.querySelectorAll(":enabled").length || M.push(":enabled", ":disabled"), e.querySelectorAll("*,:x"), M.push(",.*:");
        })), (z.matchesSelector = e(P = L.matchesSelector || L.mozMatchesSelector || L.webkitMatchesSelector || L.oMatchesSelector || L.msMatchesSelector)) && i(function (e) {
          z.disconnectedMatch = P.call(e, "div"), P.call(e, "[s!='']:x"), H.push("!=", st);
        }), M = new RegExp(M.join("|")), H = H.length && new RegExp(H.join("|")), O = e(L.contains) || L.compareDocumentPosition ? function (e, t) {
          var n = 9 === e.nodeType ? e.documentElement : e,
              r = t && t.parentNode;return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r)));
        } : function (e, t) {
          if (t) for (; t = t.parentNode;) {
            if (t === e) return !0;
          }return !1;
        }, K = L.compareDocumentPosition ? function (e, t) {
          if (e === t) return j = !0, 0;var n = t.compareDocumentPosition && e.compareDocumentPosition && e.compareDocumentPosition(t);return n ? 1 & n || T && t.compareDocumentPosition(e) === n ? e === r || O(F, e) ? -1 : t === r || O(F, t) ? 1 : R ? tt.call(R, e) - tt.call(R, t) : 0 : 4 & n ? -1 : 1 : e.compareDocumentPosition ? -1 : 1;
        } : function (e, t) {
          var n,
              i = 0,
              o = e.parentNode,
              s = t.parentNode,
              l = [e],
              c = [t];if (e === t) return j = !0, 0;if (!o || !s) return e === r ? -1 : t === r ? 1 : o ? -1 : s ? 1 : 0;if (o === s) return a(e, t);for (n = e; n = n.parentNode;) {
            l.unshift(n);
          }for (n = t; n = n.parentNode;) {
            c.unshift(n);
          }for (; l[i] === c[i];) {
            i++;
          }return i ? a(l[i], c[i]) : l[i] === F ? -1 : c[i] === F ? 1 : 0;
        }, B) : B;
      }, o.matches = function (e, t) {
        return o(e, null, null, t);
      }, o.matchesSelector = function (e, t) {
        if ((e.ownerDocument || e) !== B && A(e), t = t.replace(Ct, "='$1']"), z.matchesSelector && D && (!H || !H.test(t)) && !M.test(t)) try {
          var n = P.call(e, t);if (n || z.disconnectedMatch || e.document && 11 !== e.document.nodeType) return n;
        } catch (r) {}return o(t, B, null, [e]).length > 0;
      }, o.contains = function (e, t) {
        return (e.ownerDocument || e) !== B && A(e), O(e, t);
      }, o.attr = function (e, t) {
        var n;return (e.ownerDocument || e) !== B && A(e), D && (t = t.toLowerCase()), (n = _.attrHandle[t]) ? n(e) : !D || z.attributes ? e.getAttribute(t) : ((n = e.getAttributeNode(t)) || e.getAttribute(t)) && e[t] === !0 ? t : n && n.specified ? n.value : null;
      }, o.error = function (e) {
        throw new Error("Syntax error, unrecognized expression: " + e);
      }, o.uniqueSort = function (e) {
        var t,
            n = [],
            r = 0,
            i = 0;if (j = !z.detectDuplicates, T = !z.sortDetached, R = !z.sortStable && e.slice(0), e.sort(K), j) {
          for (; t = e[i++];) {
            t === e[i] && (r = n.push(i));
          }for (; r--;) {
            e.splice(n[r], 1);
          }
        }return e;
      }, N = o.getText = function (e) {
        var t,
            n = "",
            r = 0,
            i = e.nodeType;if (i) {
          if (1 === i || 9 === i || 11 === i) {
            if ("string" == typeof e.textContent) return e.textContent;for (e = e.firstChild; e; e = e.nextSibling) {
              n += N(e);
            }
          } else if (3 === i || 4 === i) return e.nodeValue;
        } else for (; t = e[r]; r++) {
          n += N(t);
        }return n;
      }, _ = o.selectors = { cacheLength: 50, createPseudo: r, match: pt, find: {}, relative: { ">": { dir: "parentNode", first: !0 }, " ": { dir: "parentNode" }, "+": { dir: "previousSibling", first: !0 }, "~": { dir: "previousSibling" } }, preFilter: { ATTR: function ATTR(e) {
            return e[1] = e[1].replace(xt, wt), e[3] = (e[4] || e[5] || "").replace(xt, wt), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4);
          }, CHILD: function CHILD(e) {
            return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || o.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && o.error(e[0]), e;
          }, PSEUDO: function PSEUDO(e) {
            var t,
                n = !e[5] && e[2];return pt.CHILD.test(e[0]) ? null : (e[4] ? e[2] = e[4] : n && dt.test(n) && (t = u(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3));
          } }, filter: { TAG: function TAG(e) {
            return "*" === e ? function () {
              return !0;
            } : (e = e.replace(xt, wt).toLowerCase(), function (t) {
              return t.nodeName && t.nodeName.toLowerCase() === e;
            });
          }, CLASS: function CLASS(e) {
            var t = U[e + " "];return t || (t = new RegExp("(^|" + nt + ")" + e + "(" + nt + "|$)")) && U(e, function (e) {
              return t.test(e.className || _typeof(e.getAttribute) !== Y && e.getAttribute("class") || "");
            });
          }, ATTR: function ATTR(e, t, n) {
            return function (r) {
              var i = o.attr(r, e);return null == i ? "!=" === t : t ? (i += "", "=" === t ? i === n : "!=" === t ? i !== n : "^=" === t ? n && 0 === i.indexOf(n) : "*=" === t ? n && i.indexOf(n) > -1 : "$=" === t ? n && i.slice(-n.length) === n : "~=" === t ? (" " + i + " ").indexOf(n) > -1 : "|=" === t ? i === n || i.slice(0, n.length + 1) === n + "-" : !1) : !0;
            };
          }, CHILD: function CHILD(e, t, n, r, i) {
            var o = "nth" !== e.slice(0, 3),
                a = "last" !== e.slice(-4),
                s = "of-type" === t;return 1 === r && 0 === i ? function (e) {
              return !!e.parentNode;
            } : function (t, n, l) {
              var c,
                  u,
                  d,
                  f,
                  p,
                  m,
                  h = o !== a ? "nextSibling" : "previousSibling",
                  g = t.parentNode,
                  v = s && t.nodeName.toLowerCase(),
                  y = !l && !s;if (g) {
                if (o) {
                  for (; h;) {
                    for (d = t; d = d[h];) {
                      if (s ? d.nodeName.toLowerCase() === v : 1 === d.nodeType) return !1;
                    }m = h = "only" === e && !m && "nextSibling";
                  }return !0;
                }if (m = [a ? g.firstChild : g.lastChild], a && y) {
                  for (u = g[I] || (g[I] = {}), c = u[e] || [], p = c[0] === W && c[1], f = c[0] === W && c[2], d = p && g.childNodes[p]; d = ++p && d && d[h] || (f = p = 0) || m.pop();) {
                    if (1 === d.nodeType && ++f && d === t) {
                      u[e] = [W, p, f];break;
                    }
                  }
                } else if (y && (c = (t[I] || (t[I] = {}))[e]) && c[0] === W) f = c[1];else for (; (d = ++p && d && d[h] || (f = p = 0) || m.pop()) && ((s ? d.nodeName.toLowerCase() !== v : 1 !== d.nodeType) || !++f || (y && ((d[I] || (d[I] = {}))[e] = [W, f]), d !== t));) {}return f -= i, f === r || f % r === 0 && f / r >= 0;
              }
            };
          }, PSEUDO: function PSEUDO(e, t) {
            var n,
                i = _.pseudos[e] || _.setFilters[e.toLowerCase()] || o.error("unsupported pseudo: " + e);return i[I] ? i(t) : i.length > 1 ? (n = [e, e, "", t], _.setFilters.hasOwnProperty(e.toLowerCase()) ? r(function (e, n) {
              for (var r, o = i(e, t), a = o.length; a--;) {
                r = tt.call(e, o[a]), e[r] = !(n[r] = o[a]);
              }
            }) : function (e) {
              return i(e, 0, n);
            }) : i;
          } }, pseudos: { not: r(function (e) {
            var t = [],
                n = [],
                i = S(e.replace(lt, "$1"));return i[I] ? r(function (e, t, n, r) {
              for (var o, a = i(e, null, r, []), s = e.length; s--;) {
                (o = a[s]) && (e[s] = !(t[s] = o));
              }
            }) : function (e, r, o) {
              return t[0] = e, i(t, null, o, n), !n.pop();
            };
          }), has: r(function (e) {
            return function (t) {
              return o(e, t).length > 0;
            };
          }), contains: r(function (e) {
            return function (t) {
              return (t.textContent || t.innerText || N(t)).indexOf(e) > -1;
            };
          }), lang: r(function (e) {
            return ft.test(e || "") || o.error("unsupported lang: " + e), e = e.replace(xt, wt).toLowerCase(), function (t) {
              var n;do {
                if (n = D ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang")) return n = n.toLowerCase(), n === e || 0 === n.indexOf(e + "-");
              } while ((t = t.parentNode) && 1 === t.nodeType);return !1;
            };
          }), target: function target(e) {
            var t = window.location && window.location.hash;return t && t.slice(1) === e.id;
          }, root: function root(e) {
            return e === L;
          }, focus: function focus(e) {
            return e === B.activeElement && (!B.hasFocus || B.hasFocus()) && !!(e.type || e.href || ~e.tabIndex);
          }, enabled: function enabled(e) {
            return e.disabled === !1;
          }, disabled: function disabled(e) {
            return e.disabled === !0;
          }, checked: function checked(e) {
            var t = e.nodeName.toLowerCase();return "input" === t && !!e.checked || "option" === t && !!e.selected;
          }, selected: function selected(e) {
            return e.parentNode && e.parentNode.selectedIndex, e.selected === !0;
          }, empty: function empty(e) {
            for (e = e.firstChild; e; e = e.nextSibling) {
              if (e.nodeName > "@" || 3 === e.nodeType || 4 === e.nodeType) return !1;
            }return !0;
          }, parent: function parent(e) {
            return !_.pseudos.empty(e);
          }, header: function header(e) {
            return yt.test(e.nodeName);
          }, input: function input(e) {
            return vt.test(e.nodeName);
          }, button: function button(e) {
            var t = e.nodeName.toLowerCase();return "input" === t && "button" === e.type || "button" === t;
          }, text: function text(e) {
            var t;return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || t.toLowerCase() === e.type);
          }, first: c(function () {
            return [0];
          }), last: c(function (e, t) {
            return [t - 1];
          }), eq: c(function (e, t, n) {
            return [0 > n ? n + t : n];
          }), even: c(function (e, t) {
            for (var n = 0; t > n; n += 2) {
              e.push(n);
            }return e;
          }), odd: c(function (e, t) {
            for (var n = 1; t > n; n += 2) {
              e.push(n);
            }return e;
          }), lt: c(function (e, t, n) {
            for (var r = 0 > n ? n + t : n; --r >= 0;) {
              e.push(r);
            }return e;
          }), gt: c(function (e, t, n) {
            for (var r = 0 > n ? n + t : n; ++r < t;) {
              e.push(r);
            }return e;
          }) } };for (x in { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }) {
        _.pseudos[x] = s(x);
      }for (x in { submit: !0, reset: !0 }) {
        _.pseudos[x] = l(x);
      }return S = o.compile = function (e, t) {
        var n,
            r = [],
            i = [],
            o = $[e + " "];if (!o) {
          for (t || (t = u(e)), n = t.length; n--;) {
            o = g(t[n]), o[I] ? r.push(o) : i.push(o);
          }o = $(e, v(i, r));
        }return o;
      }, _.pseudos.nth = _.pseudos.eq, C.prototype = _.filters = _.pseudos, _.setFilters = new C(), z.sortStable = I.split("").sort(K).join("") === I, A(), [0, 0].sort(K), z.detectDuplicates = j, o;
    }), r(u, [l, c], function (e, n) {
      function r(e) {
        return "undefined" != typeof e;
      }function i(e) {
        return "string" == typeof e;
      }function o(e) {
        var t, n, r;for (r = v.createElement("div"), t = v.createDocumentFragment(), r.innerHTML = e; n = r.firstChild;) {
          t.appendChild(n);
        }return t;
      }function a(e, t, n) {
        var r;if ("string" == typeof t) t = o(t);else if (t.length) {
          for (r = 0; r < t.length; r++) {
            a(e, t[r], n);
          }return e;
        }for (r = e.length; r--;) {
          n.call(e[r], t.parentNode ? t : t);
        }return e;
      }function s(e, t) {
        return e && t && -1 !== (" " + e.className + " ").indexOf(" " + t + " ");
      }function l(e, t) {
        var n;for (e = e || [], "string" == typeof e && (e = e.split(" ")), t = t || {}, n = e.length; n--;) {
          t[e[n]] = {};
        }return t;
      }function c(e, t) {
        return new c.fn.init(e, t);
      }function u(e) {
        var t = arguments,
            n,
            r,
            i;for (r = 1; r < t.length; r++) {
          n = t[r];for (i in n) {
            e[i] = n[i];
          }
        }return e;
      }function d(e) {
        var t = [],
            n,
            r;for (n = 0, r = e.length; r > n; n++) {
          t[n] = e[n];
        }return t;
      }function f(e, t) {
        var n;if (t.indexOf) return t.indexOf(e);for (n = t.length; n--;) {
          if (t[n] === e) return n;
        }return -1;
      }function p(e) {
        return null === e || e === t ? "" : ("" + e).replace(N, "");
      }function m(e, t) {
        var n, r, i, o, a;if (e) if (n = e.length, n === o) {
          for (r in e) {
            if (e.hasOwnProperty(r) && (a = e[r], t.call(a, a, r) === !1)) break;
          }
        } else for (i = 0; n > i && (a = e[i], t.call(a, a, r) !== !1); i++) {}return e;
      }function h(e, n, r) {
        for (var i = [], o = e[n]; o && 9 !== o.nodeType && (r === t || 1 !== o.nodeType || !c(o).is(r));) {
          1 === o.nodeType && i.push(o), o = o[n];
        }return i;
      }function g(e, t, n, r) {
        for (var i = []; e; e = e[n]) {
          r && e.nodeType !== r || e === t || i.push(e);
        }return i;
      }var v = document,
          y = Array.prototype.push,
          b = Array.prototype.slice,
          C = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
          x = e.Event,
          w = l("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"),
          _ = Array.isArray || function (e) {
        return "[object Array]" === Object.prototype.toString.call(e);
      },
          N = /^\s*|\s*$/g;return c.fn = c.prototype = { constructor: c, selector: "", length: 0, init: function init(e, t) {
          var n = this,
              r,
              a;if (!e) return n;if (e.nodeType) return n.context = n[0] = e, n.length = 1, n;if (i(e)) {
            if (r = "<" === e.charAt(0) && ">" === e.charAt(e.length - 1) && e.length >= 3 ? [null, e, null] : C.exec(e), !r) return c(t || document).find(e);if (r[1]) for (a = o(e).firstChild; a;) {
              this.add(a), a = a.nextSibling;
            } else {
              if (a = v.getElementById(r[2]), a.id !== r[2]) return n.find(e);n.length = 1, n[0] = a;
            }
          } else this.add(e);return n;
        }, toArray: function toArray() {
          return d(this);
        }, add: function add(e) {
          var t = this;return _(e) ? y.apply(t, e) : e instanceof c ? t.add(e.toArray()) : y.call(t, e), t;
        }, attr: function attr(e, n) {
          var i = this;if ("object" == (typeof e === "undefined" ? "undefined" : _typeof(e))) m(e, function (e, t) {
            i.attr(t, e);
          });else {
            if (!r(n)) return i[0] && 1 === i[0].nodeType ? i[0].getAttribute(e) : t;this.each(function () {
              1 === this.nodeType && this.setAttribute(e, n);
            });
          }return i;
        }, css: function css(e, n) {
          var i = this;if ("object" == (typeof e === "undefined" ? "undefined" : _typeof(e))) m(e, function (e, t) {
            i.css(t, e);
          });else {
            if (e = e.replace(/-(\D)/g, function (e, t) {
              return t.toUpperCase();
            }), !r(n)) return i[0] ? i[0].style[e] : t;"number" != typeof n || w[e] || (n += "px"), i.each(function () {
              var t = this.style;"opacity" === e && this.runtimeStyle && "undefined" == typeof this.runtimeStyle.opacity && (t.filter = "" === n ? "" : "alpha(opacity=" + 100 * n + ")");try {
                t[e] = n;
              } catch (r) {}
            });
          }return i;
        }, remove: function remove() {
          for (var e = this, t, n = this.length; n--;) {
            t = e[n], x.clean(t), t.parentNode && t.parentNode.removeChild(t);
          }return this;
        }, empty: function empty() {
          for (var e = this, t, n = this.length; n--;) {
            for (t = e[n]; t.firstChild;) {
              t.removeChild(t.firstChild);
            }
          }return this;
        }, html: function html(e) {
          var t = this,
              n;if (r(e)) {
            for (n = t.length; n--;) {
              t[n].innerHTML = e;
            }return t;
          }return t[0] ? t[0].innerHTML : "";
        }, text: function text(e) {
          var t = this,
              n;if (r(e)) {
            for (n = t.length; n--;) {
              t[n].innerText = t[0].textContent = e;
            }return t;
          }return t[0] ? t[0].innerText || t[0].textContent : "";
        }, append: function append() {
          return a(this, arguments, function (e) {
            1 === this.nodeType && this.appendChild(e);
          });
        }, prepend: function prepend() {
          return a(this, arguments, function (e) {
            1 === this.nodeType && this.insertBefore(e, this.firstChild);
          });
        }, before: function before() {
          var e = this;return e[0] && e[0].parentNode ? a(e, arguments, function (e) {
            this.parentNode.insertBefore(e, this.nextSibling);
          }) : e;
        }, after: function after() {
          var e = this;return e[0] && e[0].parentNode ? a(e, arguments, function (e) {
            this.parentNode.insertBefore(e, this);
          }) : e;
        }, appendTo: function appendTo(e) {
          return c(e).append(this), this;
        }, addClass: function addClass(e) {
          return this.toggleClass(e, !0);
        }, removeClass: function removeClass(e) {
          return this.toggleClass(e, !1);
        }, toggleClass: function toggleClass(e, t) {
          var n = this;return -1 !== e.indexOf(" ") ? m(e.split(" "), function () {
            n.toggleClass(this, t);
          }) : n.each(function (n) {
            var r;s(n, e) !== t && (r = n.className, t ? n.className += r ? " " + e : e : n.className = p((" " + r + " ").replace(" " + e + " ", " ")));
          }), n;
        }, hasClass: function hasClass(e) {
          return s(this[0], e);
        }, each: function each(e) {
          return m(this, e);
        }, on: function on(e, t) {
          return this.each(function () {
            x.bind(this, e, t);
          });
        }, off: function off(e, t) {
          return this.each(function () {
            x.unbind(this, e, t);
          });
        }, show: function show() {
          return this.css("display", "");
        }, hide: function hide() {
          return this.css("display", "none");
        }, slice: function slice() {
          return new c(b.apply(this, arguments));
        }, eq: function eq(e) {
          return -1 === e ? this.slice(e) : this.slice(e, +e + 1);
        }, first: function first() {
          return this.eq(0);
        }, last: function last() {
          return this.eq(-1);
        }, replaceWith: function replaceWith(e) {
          var t = this;return t[0] && t[0].parentNode.replaceChild(c(e)[0], t[0]), t;
        }, wrap: function wrap(e) {
          return e = c(e)[0], this.each(function () {
            var t = this,
                n = e.cloneNode(!1);t.parentNode.insertBefore(n, t), n.appendChild(t);
          });
        }, unwrap: function unwrap() {
          return this.each(function () {
            for (var e = this, t = e.firstChild, n; t;) {
              n = t, t = t.nextSibling, e.parentNode.insertBefore(n, e);
            }
          });
        }, clone: function clone() {
          var e = [];return this.each(function () {
            e.push(this.cloneNode(!0));
          }), c(e);
        }, find: function find(e) {
          var t,
              n,
              r = [];for (t = 0, n = this.length; n > t; t++) {
            c.find(e, this[t], r);
          }return c(r);
        }, push: y, sort: [].sort, splice: [].splice }, u(c, { extend: u, toArray: d, inArray: f, isArray: _, each: m, trim: p, makeMap: l, find: n, expr: n.selectors, unique: n.uniqueSort, text: n.getText, isXMLDoc: n.isXML, contains: n.contains, filter: function filter(e, t, n) {
          return n && (e = ":not(" + e + ")"), t = 1 === t.length ? c.find.matchesSelector(t[0], e) ? [t[0]] : [] : c.find.matches(e, t);
        } }), m({ parent: function parent(e) {
          var t = e.parentNode;return t && 11 !== t.nodeType ? t : null;
        }, parents: function parents(e) {
          return h(e, "parentNode");
        }, parentsUntil: function parentsUntil(e, t) {
          return h(e, "parentNode", t);
        }, next: function next(e) {
          return g(e, "nextSibling", 1);
        }, prev: function prev(e) {
          return g(e, "previousSibling", 1);
        }, nextNodes: function nextNodes(e) {
          return g(e, "nextSibling");
        }, prevNodes: function prevNodes(e) {
          return g(e, "previousSibling");
        }, children: function children(e) {
          return g(e.firstChild, "nextSibling", 1);
        }, contents: function contents(e) {
          return d(("iframe" === e.nodeName ? e.contentDocument || e.contentWindow.document : e).childNodes);
        } }, function (e, t) {
        c.fn[e] = function (n) {
          var r = this,
              i;if (r.length > 1) throw new Error("DomQuery only supports traverse functions on a single node.");return r[0] && (i = t(r[0], n)), i = c(i), n && "parentsUntil" !== e ? i.filter(n) : i;
        };
      }), c.fn.filter = function (e) {
        return c.filter(e);
      }, c.fn.is = function (e) {
        return !!e && this.filter(e).length > 0;
      }, c.fn.init.prototype = c.fn, c;
    }), r(d, [], function () {
      return function (e, t) {
        function n(e, t, n, r) {
          function i(e) {
            return e = parseInt(e, 10).toString(16), e.length > 1 ? e : "0" + e;
          }return "#" + i(t) + i(n) + i(r);
        }var r = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,
            i = /(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,
            o = /\s*([^:]+):\s*([^;]+);?/g,
            a = /\s+$/,
            s,
            l,
            c = {},
            u,
            d = "\uFEFF";
        for (e = e || {}, u = ("\\\" \\' \\; \\: ; : " + d).split(" "), l = 0; l < u.length; l++) {
          c[u[l]] = d + l, c[d + l] = u[l];
        }return { toHex: function toHex(e) {
            return e.replace(r, n);
          }, parse: function parse(t) {
            function s(e, t, n) {
              var r, i, o, a;if (r = h[e + "-top" + t], r && (i = h[e + "-right" + t], i && (o = h[e + "-bottom" + t], o && (a = h[e + "-left" + t])))) {
                var s = [r, i, o, a];for (l = s.length - 1; l-- && s[l] === s[l + 1];) {}l > -1 && n || (h[e + t] = -1 == l ? s[0] : s.join(" "), delete h[e + "-top" + t], delete h[e + "-right" + t], delete h[e + "-bottom" + t], delete h[e + "-left" + t]);
              }
            }function u(e) {
              var t = h[e],
                  n;if (t) {
                for (t = t.split(" "), n = t.length; n--;) {
                  if (t[n] !== t[0]) return !1;
                }return h[e] = t[0], !0;
              }
            }function d(e, t, n, r) {
              u(t) && u(n) && u(r) && (h[e] = h[t] + " " + h[n] + " " + h[r], delete h[t], delete h[n], delete h[r]);
            }function f(e) {
              return b = !0, c[e];
            }function p(e, t) {
              return b && (e = e.replace(/\uFEFF[0-9]/g, function (e) {
                return c[e];
              })), t || (e = e.replace(/\\([\'\";:])/g, "$1")), e;
            }function m(t, n, r, i, o, a) {
              return (o = o || a) ? (o = p(o), "'" + o.replace(/\'/g, "\\'") + "'") : (n = p(n || r || i), !e.allow_script_urls && /(java|vb)script:/i.test(n.replace(/[\s\r\n]+/, "")) ? "" : (C && (n = C.call(x, n, "style")), "url('" + n.replace(/\'/g, "\\'") + "')"));
            }var h = {},
                g,
                v,
                y,
                b,
                C = e.url_converter,
                x = e.url_converter_scope || this;if (t) {
              for (t = t.replace(/[\u0000-\u001F]/g, ""), t = t.replace(/\\[\"\';:\uFEFF]/g, f).replace(/\"[^\"]+\"|\'[^\']+\'/g, function (e) {
                return e.replace(/[;:]/g, f);
              }); g = o.exec(t);) {
                if (v = g[1].replace(a, "").toLowerCase(), y = g[2].replace(a, ""), v && y.length > 0) {
                  if (!e.allow_script_urls && ("behavior" == v || /expression\s*\(/.test(y))) continue;"font-weight" === v && "700" === y ? y = "bold" : ("color" === v || "background-color" === v) && (y = y.toLowerCase()), y = y.replace(r, n), y = y.replace(i, m), h[v] = b ? p(y, !0) : y;
                }o.lastIndex = g.index + g[0].length;
              }s("border", "", !0), s("border", "-width"), s("border", "-color"), s("border", "-style"), s("padding", ""), s("margin", ""), d("border", "border-width", "border-style", "border-color"), "medium none" === h.border && delete h.border, "none" === h["border-image"] && delete h["border-image"];
            }return h;
          }, serialize: function serialize(e, n) {
            function r(n) {
              var r, o, a, l;if (r = t.styles[n]) for (o = 0, a = r.length; a > o; o++) {
                n = r[o], l = e[n], l !== s && l.length > 0 && (i += (i.length > 0 ? " " : "") + n + ": " + l + ";");
              }
            }var i = "",
                o,
                a;if (n && t && t.styles) r("*"), r(n);else for (o in e) {
              a = e[o], a !== s && a.length > 0 && (i += (i.length > 0 ? " " : "") + o + ": " + a + ";");
            }return i;
          } };
      };
    }), r(f, [], function () {
      return function (e, t) {
        function n(e, n, r, i) {
          var o, a;if (e) {
            if (!i && e[n]) return e[n];if (e != t) {
              if (o = e[r]) return o;for (a = e.parentNode; a && a != t; a = a.parentNode) {
                if (o = a[r]) return o;
              }
            }
          }
        }var r = e;this.current = function () {
          return r;
        }, this.next = function (e) {
          return r = n(r, "firstChild", "nextSibling", e);
        }, this.prev = function (e) {
          return r = n(r, "lastChild", "previousSibling", e);
        };
      };
    }), r(p, [], function () {
      function e(e) {
        return null === e || e === t ? "" : ("" + e).replace(h, "");
      }function n(e, n) {
        return n ? "array" == n && g(e) ? !0 : (typeof e === "undefined" ? "undefined" : _typeof(e)) == n : e !== t;
      }function r(e) {
        var t = [],
            n,
            r;for (n = 0, r = e.length; r > n; n++) {
          t[n] = e[n];
        }return t;
      }function i(e, t, n) {
        var r;for (e = e || [], t = t || ",", "string" == typeof e && (e = e.split(t)), n = n || {}, r = e.length; r--;) {
          n[e[r]] = {};
        }return n;
      }function o(e, n, r) {
        var i, o;if (!e) return 0;if (r = r || e, e.length !== t) {
          for (i = 0, o = e.length; o > i; i++) {
            if (n.call(r, e[i], i, e) === !1) return 0;
          }
        } else for (i in e) {
          if (e.hasOwnProperty(i) && n.call(r, e[i], i, e) === !1) return 0;
        }return 1;
      }function a(e, t) {
        var n = [];return o(e, function (e) {
          n.push(t(e));
        }), n;
      }function s(e, t) {
        var n = [];return o(e, function (e) {
          (!t || t(e)) && n.push(e);
        }), n;
      }function l(e, t, n) {
        var r = this,
            i,
            o,
            a,
            s,
            l,
            c = 0;if (e = /^((static) )?([\w.]+)(:([\w.]+))?/.exec(e), a = e[3].match(/(^|\.)(\w+)$/i)[2], o = r.createNS(e[3].replace(/\.\w+$/, ""), n), !o[a]) {
          if ("static" == e[2]) return o[a] = t, void (this.onCreate && this.onCreate(e[2], e[3], o[a]));t[a] || (t[a] = function () {}, c = 1), o[a] = t[a], r.extend(o[a].prototype, t), e[5] && (i = r.resolve(e[5]).prototype, s = e[5].match(/\.(\w+)$/i)[1], l = o[a], o[a] = c ? function () {
            return i[s].apply(this, arguments);
          } : function () {
            return this.parent = i[s], l.apply(this, arguments);
          }, o[a].prototype[a] = o[a], r.each(i, function (e, t) {
            o[a].prototype[t] = i[t];
          }), r.each(t, function (e, t) {
            i[t] ? o[a].prototype[t] = function () {
              return this.parent = i[t], e.apply(this, arguments);
            } : t != a && (o[a].prototype[t] = e);
          })), r.each(t["static"], function (e, t) {
            o[a][t] = e;
          });
        }
      }function c(e, t) {
        var n, r;if (e) for (n = 0, r = e.length; r > n; n++) {
          if (e[n] === t) return n;
        }return -1;
      }function u(e, n) {
        var r,
            i,
            o,
            a = arguments,
            s;for (r = 1, i = a.length; i > r; r++) {
          n = a[r];for (o in n) {
            n.hasOwnProperty(o) && (s = n[o], s !== t && (e[o] = s));
          }
        }return e;
      }function d(e, t, n, r) {
        r = r || this, e && (n && (e = e[n]), o(e, function (e, i) {
          return t.call(r, e, i, n) === !1 ? !1 : void d(e, t, n, r);
        }));
      }function f(e, t) {
        var n, r;for (t = t || window, e = e.split("."), n = 0; n < e.length; n++) {
          r = e[n], t[r] || (t[r] = {}), t = t[r];
        }return t;
      }function p(e, t) {
        var n, r;for (t = t || window, e = e.split("."), n = 0, r = e.length; r > n && (t = t[e[n]], t); n++) {}return t;
      }function m(t, r) {
        return !t || n(t, "array") ? t : a(t.split(r || ","), e);
      }var h = /^\s*|\s*$/g,
          g = Array.isArray || function (e) {
        return "[object Array]" === Object.prototype.toString.call(e);
      };return { trim: e, isArray: g, is: n, toArray: r, makeMap: i, each: o, map: a, grep: s, inArray: c, extend: u, create: l, walk: d, createNS: f, resolve: p, explode: m };
    }), r(m, [p], function (e) {
      function t(n) {
        function r() {
          return H.createDocumentFragment();
        }function i(e, t) {
          _(F, e, t);
        }function o(e, t) {
          _(z, e, t);
        }function a(e) {
          i(e.parentNode, j(e));
        }function s(e) {
          i(e.parentNode, j(e) + 1);
        }function l(e) {
          o(e.parentNode, j(e));
        }function c(e) {
          o(e.parentNode, j(e) + 1);
        }function u(e) {
          e ? (M[U] = M[V], M[q] = M[W]) : (M[V] = M[U], M[W] = M[q]), M.collapsed = F;
        }function d(e) {
          a(e), c(e);
        }function f(e) {
          i(e, 0), o(e, 1 === e.nodeType ? e.childNodes.length : e.nodeValue.length);
        }function p(e, t) {
          var n = M[V],
              r = M[W],
              i = M[U],
              o = M[q],
              a = t.startContainer,
              s = t.startOffset,
              l = t.endContainer,
              c = t.endOffset;return 0 === e ? w(n, r, a, s) : 1 === e ? w(i, o, a, s) : 2 === e ? w(i, o, l, c) : 3 === e ? w(n, r, l, c) : void 0;
        }function m() {
          N(I);
        }function h() {
          return N(P);
        }function g() {
          return N(O);
        }function v(e) {
          var t = this[V],
              r = this[W],
              i,
              o;3 !== t.nodeType && 4 !== t.nodeType || !t.nodeValue ? (t.childNodes.length > 0 && (o = t.childNodes[r]), o ? t.insertBefore(e, o) : 3 == t.nodeType ? n.insertAfter(e, t) : t.appendChild(e)) : r ? r >= t.nodeValue.length ? n.insertAfter(e, t) : (i = t.splitText(r), t.parentNode.insertBefore(e, i)) : t.parentNode.insertBefore(e, t);
        }function y(e) {
          var t = M.extractContents();M.insertNode(e), e.appendChild(t), M.selectNode(e);
        }function b() {
          return $(new t(n), { startContainer: M[V], startOffset: M[W], endContainer: M[U], endOffset: M[q], collapsed: M.collapsed, commonAncestorContainer: M.commonAncestorContainer });
        }function C(e, t) {
          var n;if (3 == e.nodeType) return e;if (0 > t) return e;for (n = e.firstChild; n && t > 0;) {
            --t, n = n.nextSibling;
          }return n ? n : e;
        }function x() {
          return M[V] == M[U] && M[W] == M[q];
        }function w(e, t, r, i) {
          var o, a, s, l, c, u;if (e == r) return t == i ? 0 : i > t ? -1 : 1;for (o = r; o && o.parentNode != e;) {
            o = o.parentNode;
          }if (o) {
            for (a = 0, s = e.firstChild; s != o && t > a;) {
              a++, s = s.nextSibling;
            }return a >= t ? -1 : 1;
          }for (o = e; o && o.parentNode != r;) {
            o = o.parentNode;
          }if (o) {
            for (a = 0, s = r.firstChild; s != o && i > a;) {
              a++, s = s.nextSibling;
            }return i > a ? -1 : 1;
          }for (l = n.findCommonAncestor(e, r), c = e; c && c.parentNode != l;) {
            c = c.parentNode;
          }for (c || (c = l), u = r; u && u.parentNode != l;) {
            u = u.parentNode;
          }if (u || (u = l), c == u) return 0;for (s = l.firstChild; s;) {
            if (s == c) return -1;if (s == u) return 1;s = s.nextSibling;
          }
        }function _(e, t, r) {
          var i, o;for (e ? (M[V] = t, M[W] = r) : (M[U] = t, M[q] = r), i = M[U]; i.parentNode;) {
            i = i.parentNode;
          }for (o = M[V]; o.parentNode;) {
            o = o.parentNode;
          }o == i ? w(M[V], M[W], M[U], M[q]) > 0 && M.collapse(e) : M.collapse(e), M.collapsed = x(), M.commonAncestorContainer = n.findCommonAncestor(M[V], M[U]);
        }function N(e) {
          var t,
              n = 0,
              r = 0,
              i,
              o,
              a,
              s,
              l,
              c;if (M[V] == M[U]) return E(e);for (t = M[U], i = t.parentNode; i; t = i, i = i.parentNode) {
            if (i == M[V]) return S(t, e);++n;
          }for (t = M[V], i = t.parentNode; i; t = i, i = i.parentNode) {
            if (i == M[U]) return k(t, e);++r;
          }for (o = r - n, a = M[V]; o > 0;) {
            a = a.parentNode, o--;
          }for (s = M[U]; 0 > o;) {
            s = s.parentNode, o++;
          }for (l = a.parentNode, c = s.parentNode; l != c; l = l.parentNode, c = c.parentNode) {
            a = l, s = c;
          }return T(a, s, e);
        }function E(e) {
          var t, n, i, o, a, s, l, c, u;if (e != I && (t = r()), M[W] == M[q]) return t;if (3 == M[V].nodeType) {
            if (n = M[V].nodeValue, i = n.substring(M[W], M[q]), e != O && (o = M[V], c = M[W], u = M[q] - M[W], 0 === c && u >= o.nodeValue.length - 1 ? o.parentNode.removeChild(o) : o.deleteData(c, u), M.collapse(F)), e == I) return;return i.length > 0 && t.appendChild(H.createTextNode(i)), t;
          }for (o = C(M[V], M[W]), a = M[q] - M[W]; o && a > 0;) {
            s = o.nextSibling, l = L(o, e), t && t.appendChild(l), --a, o = s;
          }return e != O && M.collapse(F), t;
        }function S(e, t) {
          var n, i, o, a, s, l;if (t != I && (n = r()), i = R(e, t), n && n.appendChild(i), o = j(e), a = o - M[W], 0 >= a) return t != O && (M.setEndBefore(e), M.collapse(z)), n;for (i = e.previousSibling; a > 0;) {
            s = i.previousSibling, l = L(i, t), n && n.insertBefore(l, n.firstChild), --a, i = s;
          }return t != O && (M.setEndBefore(e), M.collapse(z)), n;
        }function k(e, t) {
          var n, i, o, a, s, l;for (t != I && (n = r()), o = A(e, t), n && n.appendChild(o), i = j(e), ++i, a = M[q] - i, o = e.nextSibling; o && a > 0;) {
            s = o.nextSibling, l = L(o, t), n && n.appendChild(l), --a, o = s;
          }return t != O && (M.setStartAfter(e), M.collapse(F)), n;
        }function T(e, t, n) {
          var i, o, a, s, l, c, u;for (n != I && (o = r()), i = A(e, n), o && o.appendChild(i), a = j(e), s = j(t), ++a, l = s - a, c = e.nextSibling; l > 0;) {
            u = c.nextSibling, i = L(c, n), o && o.appendChild(i), c = u, --l;
          }return i = R(t, n), o && o.appendChild(i), n != O && (M.setStartAfter(e), M.collapse(F)), o;
        }function R(e, t) {
          var n = C(M[U], M[q] - 1),
              r,
              i,
              o,
              a,
              s,
              l = n != M[U];if (n == e) return B(n, l, z, t);for (r = n.parentNode, i = B(r, z, z, t); r;) {
            for (; n;) {
              o = n.previousSibling, a = B(n, l, z, t), t != I && i.insertBefore(a, i.firstChild), l = F, n = o;
            }if (r == e) return i;n = r.previousSibling, r = r.parentNode, s = B(r, z, z, t), t != I && s.appendChild(i), i = s;
          }
        }function A(e, t) {
          var n = C(M[V], M[W]),
              r = n != M[V],
              i,
              o,
              a,
              s,
              l;if (n == e) return B(n, r, F, t);for (i = n.parentNode, o = B(i, z, F, t); i;) {
            for (; n;) {
              a = n.nextSibling, s = B(n, r, F, t), t != I && o.appendChild(s), r = F, n = a;
            }if (i == e) return o;n = i.nextSibling, i = i.parentNode, l = B(i, z, F, t), t != I && l.appendChild(o), o = l;
          }
        }function B(e, t, r, i) {
          var o, a, s, l, c;if (t) return L(e, i);if (3 == e.nodeType) {
            if (o = e.nodeValue, r ? (l = M[W], a = o.substring(l), s = o.substring(0, l)) : (l = M[q], a = o.substring(0, l), s = o.substring(l)), i != O && (e.nodeValue = s), i == I) return;return c = n.clone(e, z), c.nodeValue = a, c;
          }if (i != I) return n.clone(e, z);
        }function L(e, t) {
          return t != I ? t == O ? n.clone(e, F) : e : void e.parentNode.removeChild(e);
        }function D() {
          return n.create("body", null, g()).outerText;
        }var M = this,
            H = n.doc,
            P = 0,
            O = 1,
            I = 2,
            F = !0,
            z = !1,
            W = "startOffset",
            V = "startContainer",
            U = "endContainer",
            q = "endOffset",
            $ = e.extend,
            j = n.nodeIndex;return $(M, { startContainer: H, startOffset: 0, endContainer: H, endOffset: 0, collapsed: F, commonAncestorContainer: H, START_TO_START: 0, START_TO_END: 1, END_TO_END: 2, END_TO_START: 3, setStart: i, setEnd: o, setStartBefore: a, setStartAfter: s, setEndBefore: l, setEndAfter: c, collapse: u, selectNode: d, selectNodeContents: f, compareBoundaryPoints: p, deleteContents: m, extractContents: h, cloneContents: g, insertNode: v, surroundContents: y, cloneRange: b, toStringIE: D }), M;
      }return t.prototype.toString = function () {
        return this.toStringIE();
      }, t;
    }), r(h, [p], function (e) {
      function t(e) {
        var t;return t = document.createElement("div"), t.innerHTML = e, t.textContent || t.innerText || e;
      }function n(e, t) {
        var n,
            r,
            i,
            a = {};if (e) {
          for (e = e.split(","), t = t || 10, n = 0; n < e.length; n += 2) {
            r = String.fromCharCode(parseInt(e[n], t)), o[r] || (i = "&" + e[n + 1] + ";", a[r] = i, a[i] = r);
          }return a;
        }
      }var r = e.makeMap,
          i,
          o,
          a,
          s = /[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
          l = /[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
          c = /[<>&\"\']/g,
          u = /&(#x|#)?([\w]+);/g,
          d = { 128: "\u20AC", 130: "\u201A", 131: "\u0192", 132: "\u201E", 133: "\u2026", 134: "\u2020", 135: "\u2021", 136: "\u02C6", 137: "\u2030", 138: "\u0160", 139: "\u2039", 140: "\u0152", 142: "\u017D", 145: "\u2018", 146: "\u2019", 147: "\u201C", 148: "\u201D", 149: "\u2022", 150: "\u2013", 151: "\u2014", 152: "\u02DC", 153: "\u2122", 154: "\u0161", 155: "\u203A", 156: "\u0153", 158: "\u017E", 159: "\u0178" };o = { '"': "&quot;", "'": "&#39;", "<": "&lt;", ">": "&gt;", "&": "&amp;" }, a = { "&lt;": "<", "&gt;": ">", "&amp;": "&", "&quot;": '"', "&apos;": "'" }, i = n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro", 32);var f = { encodeRaw: function encodeRaw(e, t) {
          return e.replace(t ? s : l, function (e) {
            return o[e] || e;
          });
        }, encodeAllRaw: function encodeAllRaw(e) {
          return ("" + e).replace(c, function (e) {
            return o[e] || e;
          });
        }, encodeNumeric: function encodeNumeric(e, t) {
          return e.replace(t ? s : l, function (e) {
            return e.length > 1 ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";" : o[e] || "&#" + e.charCodeAt(0) + ";";
          });
        }, encodeNamed: function encodeNamed(e, t, n) {
          return n = n || i, e.replace(t ? s : l, function (e) {
            return o[e] || n[e] || e;
          });
        }, getEncodeFunc: function getEncodeFunc(e, t) {
          function a(e, n) {
            return e.replace(n ? s : l, function (e) {
              return o[e] || t[e] || "&#" + e.charCodeAt(0) + ";" || e;
            });
          }function c(e, n) {
            return f.encodeNamed(e, n, t);
          }return t = n(t) || i, e = r(e.replace(/\+/g, ",")), e.named && e.numeric ? a : e.named ? t ? c : f.encodeNamed : e.numeric ? f.encodeNumeric : f.encodeRaw;
        }, decode: function decode(e) {
          return e.replace(u, function (e, n, r) {
            return n ? (r = parseInt(r, 2 === n.length ? 16 : 10), r > 65535 ? (r -= 65536, String.fromCharCode(55296 + (r >> 10), 56320 + (1023 & r))) : d[r] || String.fromCharCode(r)) : a[e] || i[e] || t(e);
          });
        } };return f;
    }), r(g, [], function () {
      var e = navigator,
          t = e.userAgent,
          n,
          r,
          i,
          o,
          a,
          s,
          l;n = window.opera && window.opera.buildNumber, r = /WebKit/.test(t), i = !r && !n && /MSIE/gi.test(t) && /Explorer/gi.test(e.appName), i = i && /MSIE (\w+)\./.exec(t)[1], o = -1 == t.indexOf("Trident/") || -1 == t.indexOf("rv:") && -1 == e.appName.indexOf("Netscape") ? !1 : 11, i = i || o, a = !r && !o && /Gecko/.test(t), s = -1 != t.indexOf("Mac"), l = /(iPad|iPhone)/.test(t);var c = !l || t.match(/AppleWebKit\/(\d*)/)[1] >= 534;return { opera: n, webkit: r, ie: i, gecko: a, mac: s, iOS: l, contentEditable: c, transparentSrc: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7", caretAfter: 8 != i, range: window.getSelection && "Range" in window, documentMode: i ? document.documentMode || 7 : 10 };
    }), r(v, [], function () {
      return function (e, t) {
        function n(t) {
          e.getElementsByTagName("head")[0].appendChild(t);
        }function r(t, r, s) {
          function l() {
            for (var e = v.passed, t = e.length; t--;) {
              e[t]();
            }v.status = 2, v.passed = [], v.failed = [];
          }function c() {
            for (var e = v.failed, t = e.length; t--;) {
              e[t]();
            }v.status = 3, v.passed = [], v.failed = [];
          }function u() {
            var e = navigator.userAgent.match(/WebKit\/(\d*)/);return !!(e && e[1] < 536);
          }function d(e, t) {
            e() || (new Date().getTime() - g < a ? window.setTimeout(t, 0) : c());
          }function f() {
            d(function () {
              for (var t = e.styleSheets, n, r = t.length, i; r--;) {
                if (n = t[r], i = n.ownerNode ? n.ownerNode : n.owningElement, i && i.id === m.id) return l(), !0;
              }
            }, f);
          }function p() {
            d(function () {
              try {
                var e = h.sheet.cssRules;return l(), !!e;
              } catch (t) {}
            }, p);
          }var m, h, g, v;if (o[t] ? v = o[t] : (v = { passed: [], failed: [] }, o[t] = v), r && v.passed.push(r), s && v.failed.push(s), 1 != v.status) {
            if (2 == v.status) return void l();if (3 == v.status) return void c();if (v.status = 1, m = e.createElement("link"), m.rel = "stylesheet", m.type = "text/css", m.id = "u" + i++, m.async = !1, m.defer = !1, g = new Date().getTime(), "onload" in m && !u()) m.onload = f, m.onerror = c;else {
              if (navigator.userAgent.indexOf("Firefox") > 0) return h = e.createElement("style"), h.textContent = '@import "' + t + '"', p(), void n(h);f();
            }n(m), m.href = t;
          }
        }var i = 0,
            o = {},
            a;t = t || {}, a = t.maxLoadTime || 5e3, this.load = r;
      };
    }), r(y, [c, d, l, f, m, h, g, p, v], function (e, n, r, i, o, a, s, l, c) {
      function u(e, t) {
        var i = this,
            o;i.doc = e, i.win = window, i.files = {}, i.counter = 0, i.stdMode = !v || e.documentMode >= 8, i.boxModel = !v || "CSS1Compat" == e.compatMode || i.stdMode, i.hasOuterHTML = "outerHTML" in e.createElement("a"), i.styleSheetLoader = new c(e), this.boundEvents = [], i.settings = t = h({ keep_values: !1, hex_colors: 1 }, t), i.schema = t.schema, i.styles = new n({ url_converter: t.url_converter, url_converter_scope: t.url_converter_scope }, t.schema), i.fixDoc(e), i.events = t.ownEvents ? new r(t.proxy) : r.Event, o = t.schema ? t.schema.getBlockElements() : {}, i.isBlock = function (e) {
          if (!e) return !1;var t = e.nodeType;return t ? !(1 !== t || !o[e.nodeName]) : !!o[e];
        };
      }var d = l.each,
          f = l.is,
          p = l.grep,
          m = l.trim,
          h = l.extend,
          g = s.webkit,
          v = s.ie,
          y = /^([a-z0-9],?)+$/i,
          b = /^[ \t\r\n]*$/,
          C = l.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom", " ");return u.prototype = { root: null, props: { "for": "htmlFor", "class": "className", className: "className", checked: "checked", disabled: "disabled", maxlength: "maxLength", readonly: "readOnly", selected: "selected", value: "value", id: "id", name: "name", type: "type" }, fixDoc: function fixDoc(e) {
          var t = this.settings,
              n;if (v && t.schema) {
            "abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g, function (t) {
              e.createElement(t);
            });for (n in t.schema.getCustomElements()) {
              e.createElement(n);
            }
          }
        }, clone: function clone(e, t) {
          var n = this,
              r,
              i;return !v || 1 !== e.nodeType || t ? e.cloneNode(t) : (i = n.doc, t ? r.firstChild : (r = i.createElement(e.nodeName), d(n.getAttribs(e), function (t) {
            n.setAttrib(r, t.nodeName, n.getAttrib(e, t.nodeName));
          }), r));
        }, getRoot: function getRoot() {
          var e = this;return e.get(e.settings.root_element) || e.doc.body;
        }, getViewPort: function getViewPort(e) {
          var t, n;return e = e ? e : this.win, t = e.document, n = this.boxModel ? t.documentElement : t.body, { x: e.pageXOffset || n.scrollLeft, y: e.pageYOffset || n.scrollTop, w: e.innerWidth || n.clientWidth, h: e.innerHeight || n.clientHeight };
        }, getRect: function getRect(e) {
          var t = this,
              n,
              r;return e = t.get(e), n = t.getPos(e), r = t.getSize(e), { x: n.x, y: n.y, w: r.w, h: r.h };
        }, getSize: function getSize(e) {
          var t = this,
              n,
              r;return e = t.get(e), n = t.getStyle(e, "width"), r = t.getStyle(e, "height"), -1 === n.indexOf("px") && (n = 0), -1 === r.indexOf("px") && (r = 0), { w: parseInt(n, 10) || e.offsetWidth || e.clientWidth, h: parseInt(r, 10) || e.offsetHeight || e.clientHeight };
        }, getParent: function getParent(e, t, n) {
          return this.getParents(e, t, n, !1);
        }, getParents: function getParents(e, n, r, i) {
          var o = this,
              a,
              s = [];for (e = o.get(e), i = i === t, r = r || ("BODY" != o.getRoot().nodeName ? o.getRoot().parentNode : null), f(n, "string") && (a = n, n = "*" === n ? function (e) {
            return 1 == e.nodeType;
          } : function (e) {
            return o.is(e, a);
          }); e && e != r && e.nodeType && 9 !== e.nodeType;) {
            if (!n || n(e)) {
              if (!i) return e;s.push(e);
            }e = e.parentNode;
          }return i ? s : null;
        }, get: function get(e) {
          var t;return e && this.doc && "string" == typeof e && (t = e, e = this.doc.getElementById(e), e && e.id !== t) ? this.doc.getElementsByName(t)[1] : e;
        }, getNext: function getNext(e, t) {
          return this._findSib(e, t, "nextSibling");
        }, getPrev: function getPrev(e, t) {
          return this._findSib(e, t, "previousSibling");
        }, select: function select(t, n) {
          var r = this;return e(t, r.get(n) || r.get(r.settings.root_element) || r.doc, []);
        }, is: function is(n, r) {
          var i;if (n.length === t) {
            if ("*" === r) return 1 == n.nodeType;if (y.test(r)) {
              for (r = r.toLowerCase().split(/,/), n = n.nodeName.toLowerCase(), i = r.length - 1; i >= 0; i--) {
                if (r[i] == n) return !0;
              }return !1;
            }
          }if (n.nodeType && 1 != n.nodeType) return !1;var o = n.nodeType ? [n] : n;return e(r, o[0].ownerDocument || o[0], null, o).length > 0;
        }, add: function add(e, t, n, r, i) {
          var o = this;return this.run(e, function (e) {
            var a;return a = f(t, "string") ? o.doc.createElement(t) : t, o.setAttribs(a, n), r && (r.nodeType ? a.appendChild(r) : o.setHTML(a, r)), i ? a : e.appendChild(a);
          });
        }, create: function create(e, t, n) {
          return this.add(this.doc.createElement(e), e, t, n, 1);
        }, createHTML: function createHTML(e, t, n) {
          var r = "",
              i;r += "<" + e;for (i in t) {
            t.hasOwnProperty(i) && null !== t[i] && (r += " " + i + '="' + this.encode(t[i]) + '"');
          }return "undefined" != typeof n ? r + ">" + n + "</" + e + ">" : r + " />";
        }, createFragment: function createFragment(e) {
          var t,
              n,
              r = this.doc,
              i;for (i = r.createElement("div"), t = r.createDocumentFragment(), e && (i.innerHTML = e); n = i.firstChild;) {
            t.appendChild(n);
          }return t;
        }, remove: function remove(e, t) {
          return this.run(e, function (e) {
            var n,
                r = e.parentNode;if (!r) return null;if (t) for (; n = e.firstChild;) {
              !v || 3 !== n.nodeType || n.nodeValue ? r.insertBefore(n, e) : e.removeChild(n);
            }return r.removeChild(e);
          });
        }, setStyle: function setStyle(e, t, n) {
          return this.run(e, function (e) {
            var r = this,
                i,
                o;if (t) if ("string" == typeof t) {
              i = e.style, t = t.replace(/-(\D)/g, function (e, t) {
                return t.toUpperCase();
              }), "number" != typeof n || C[t] || (n += "px"), "opacity" === t && e.runtimeStyle && "undefined" == typeof e.runtimeStyle.opacity && (i.filter = "" === n ? "" : "alpha(opacity=" + 100 * n + ")"), "float" == t && (t = "cssFloat" in e.style ? "cssFloat" : "styleFloat");try {
                i[t] = n;
              } catch (a) {}r.settings.update_styles && e.removeAttribute("data-mce-style");
            } else for (o in t) {
              r.setStyle(e, o, t[o]);
            }
          });
        }, getStyle: function getStyle(e, n, r) {
          if (e = this.get(e)) {
            if (this.doc.defaultView && r) {
              n = n.replace(/[A-Z]/g, function (e) {
                return "-" + e;
              });try {
                return this.doc.defaultView.getComputedStyle(e, null).getPropertyValue(n);
              } catch (i) {
                return null;
              }
            }return n = n.replace(/-(\D)/g, function (e, t) {
              return t.toUpperCase();
            }), "float" == n && (n = v ? "styleFloat" : "cssFloat"), e.currentStyle && r ? e.currentStyle[n] : e.style ? e.style[n] : t;
          }
        }, setStyles: function setStyles(e, t) {
          this.setStyle(e, t);
        }, css: function css(e, t, n) {
          this.setStyle(e, t, n);
        }, removeAllAttribs: function removeAllAttribs(e) {
          return this.run(e, function (e) {
            var t,
                n = e.attributes;for (t = n.length - 1; t >= 0; t--) {
              e.removeAttributeNode(n.item(t));
            }
          });
        }, setAttrib: function setAttrib(e, t, n) {
          var r = this;if (e && t) return this.run(e, function (e) {
            var i = r.settings,
                o = e.getAttribute(t);if (null !== n) switch (t) {case "style":
                if (!f(n, "string")) return void d(n, function (t, n) {
                  r.setStyle(e, n, t);
                });i.keep_values && (n ? e.setAttribute("data-mce-style", n, 2) : e.removeAttribute("data-mce-style", 2)), e.style.cssText = n;break;case "class":
                e.className = n || "";break;case "src":case "href":
                i.keep_values && (i.url_converter && (n = i.url_converter.call(i.url_converter_scope || r, n, t, e)), r.setAttrib(e, "data-mce-" + t, n, 2));break;case "shape":
                e.setAttribute("data-mce-style", n);}f(n) && null !== n && 0 !== n.length ? e.setAttribute(t, "" + n, 2) : e.removeAttribute(t, 2), o != n && i.onSetAttrib && i.onSetAttrib({ attrElm: e, attrName: t, attrValue: n });
          });
        }, setAttribs: function setAttribs(e, t) {
          var n = this;return this.run(e, function (e) {
            d(t, function (t, r) {
              n.setAttrib(e, r, t);
            });
          });
        }, getAttrib: function getAttrib(e, t, n) {
          var r,
              i = this,
              o;if (e = i.get(e), !e || 1 !== e.nodeType) return n === o ? !1 : n;if (f(n) || (n = ""), /^(src|href|style|coords|shape)$/.test(t) && (r = e.getAttribute("data-mce-" + t))) return r;if (v && i.props[t] && (r = e[i.props[t]], r = r && r.nodeValue ? r.nodeValue : r), r || (r = e.getAttribute(t, 2)), /^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(t)) return e[i.props[t]] === !0 && "" === r ? t : r ? t : "";if ("FORM" === e.nodeName && e.getAttributeNode(t)) return e.getAttributeNode(t).nodeValue;if ("style" === t && (r = r || e.style.cssText, r && (r = i.serializeStyle(i.parseStyle(r), e.nodeName), i.settings.keep_values && e.setAttribute("data-mce-style", r))), g && "class" === t && r && (r = r.replace(/(apple|webkit)\-[a-z\-]+/gi, "")), v) switch (t) {case "rowspan":case "colspan":
              1 === r && (r = "");break;case "size":
              ("+0" === r || 20 === r || 0 === r) && (r = "");break;case "width":case "height":case "vspace":case "checked":case "disabled":case "readonly":
              0 === r && (r = "");break;case "hspace":
              -1 === r && (r = "");break;case "maxlength":case "tabindex":
              (32768 === r || 2147483647 === r || "32768" === r) && (r = "");break;case "multiple":case "compact":case "noshade":case "nowrap":
              return 65535 === r ? t : n;case "shape":
              r = r.toLowerCase();break;default:
              0 === t.indexOf("on") && r && (r = ("" + r).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/, "$1"));}return r !== o && null !== r && "" !== r ? "" + r : n;
        }, getPos: function getPos(e, t) {
          var n = this,
              r = 0,
              i = 0,
              o,
              a = n.doc,
              s;if (e = n.get(e), t = t || a.body, e) {
            if (t === a.body && e.getBoundingClientRect) return s = e.getBoundingClientRect(), t = n.boxModel ? a.documentElement : a.body, r = s.left + (a.documentElement.scrollLeft || a.body.scrollLeft) - t.clientLeft, i = s.top + (a.documentElement.scrollTop || a.body.scrollTop) - t.clientTop, { x: r, y: i };for (o = e; o && o != t && o.nodeType;) {
              r += o.offsetLeft || 0, i += o.offsetTop || 0, o = o.offsetParent;
            }for (o = e.parentNode; o && o != t && o.nodeType;) {
              r -= o.scrollLeft || 0, i -= o.scrollTop || 0, o = o.parentNode;
            }
          }return { x: r, y: i };
        }, parseStyle: function parseStyle(e) {
          return this.styles.parse(e);
        }, serializeStyle: function serializeStyle(e, t) {
          return this.styles.serialize(e, t);
        }, addStyle: function addStyle(e) {
          var t = this,
              n = t.doc,
              r,
              i;if (t !== u.DOM && n === document) {
            var o = u.DOM.addedStyles;if (o = o || [], o[e]) return;o[e] = !0, u.DOM.addedStyles = o;
          }i = n.getElementById("mceDefaultStyles"), i || (i = n.createElement("style"), i.id = "mceDefaultStyles", i.type = "text/css", r = n.getElementsByTagName("head")[0], r.firstChild ? r.insertBefore(i, r.firstChild) : r.appendChild(i)), i.styleSheet ? i.styleSheet.cssText += e : i.appendChild(n.createTextNode(e));
        }, loadCSS: function loadCSS(e) {
          var t = this,
              n = t.doc,
              r;return t !== u.DOM && n === document ? void u.DOM.loadCSS(e) : (e || (e = ""), r = n.getElementsByTagName("head")[0], void d(e.split(","), function (e) {
            var i;t.files[e] || (t.files[e] = !0, i = t.create("link", { rel: "stylesheet", href: e }), v && n.documentMode && n.recalc && (i.onload = function () {
              n.recalc && n.recalc(), i.onload = null;
            }), r.appendChild(i));
          }));
        }, addClass: function addClass(e, t) {
          return this.run(e, function (e) {
            var n;return t ? this.hasClass(e, t) ? e.className : (n = this.removeClass(e, t), e.className = n = ("" !== n ? n + " " : "") + t, n) : 0;
          });
        }, removeClass: function removeClass(e, t) {
          var n = this,
              r;return n.run(e, function (e) {
            var i;return n.hasClass(e, t) ? (r || (r = new RegExp("(^|\\s+)" + t + "(\\s+|$)", "g")), i = e.className.replace(r, " "), i = m(" " != i ? i : ""), e.className = i, i || (e.removeAttribute("class"), e.removeAttribute("className")), i) : e.className;
          });
        }, hasClass: function hasClass(e, t) {
          return e = this.get(e), e && t ? -1 !== (" " + e.className + " ").indexOf(" " + t + " ") : !1;
        }, toggleClass: function toggleClass(e, n, r) {
          r = r === t ? !this.hasClass(e, n) : r, this.hasClass(e, n) !== r && (r ? this.addClass(e, n) : this.removeClass(e, n));
        }, show: function show(e) {
          return this.setStyle(e, "display", "block");
        }, hide: function hide(e) {
          return this.setStyle(e, "display", "none");
        }, isHidden: function isHidden(e) {
          return e = this.get(e), !e || "none" == e.style.display || "none" == this.getStyle(e, "display");
        }, uniqueId: function uniqueId(e) {
          return (e ? e : "mce_") + this.counter++;
        }, setHTML: function setHTML(e, t) {
          var n = this;return n.run(e, function (e) {
            if (v) {
              for (; e.firstChild;) {
                e.removeChild(e.firstChild);
              }try {
                e.innerHTML = "<br />" + t, e.removeChild(e.firstChild);
              } catch (r) {
                var i = n.create("div");i.innerHTML = "<br />" + t, d(p(i.childNodes), function (t, n) {
                  n && e.canHaveHTML && e.appendChild(t);
                });
              }
            } else e.innerHTML = t;return t;
          });
        }, getOuterHTML: function getOuterHTML(e) {
          var t,
              n = this;return (e = n.get(e)) ? 1 === e.nodeType && n.hasOuterHTML ? e.outerHTML : (t = (e.ownerDocument || n.doc).createElement("body"), t.appendChild(e.cloneNode(!0)), t.innerHTML) : null;
        }, setOuterHTML: function setOuterHTML(e, t, n) {
          var r = this;return r.run(e, function (e) {
            function i() {
              var i, o;for (o = n.createElement("body"), o.innerHTML = t, i = o.lastChild; i;) {
                r.insertAfter(i.cloneNode(!0), e), i = i.previousSibling;
              }r.remove(e);
            }if (1 == e.nodeType) if (n = n || e.ownerDocument || r.doc, v) try {
              1 == e.nodeType && r.hasOuterHTML ? e.outerHTML = t : i();
            } catch (o) {
              i();
            } else i();
          });
        }, decode: a.decode, encode: a.encodeAllRaw, insertAfter: function insertAfter(e, t) {
          return t = this.get(t), this.run(e, function (e) {
            var n, r;return n = t.parentNode, r = t.nextSibling, r ? n.insertBefore(e, r) : n.appendChild(e), e;
          });
        }, replace: function replace(e, t, n) {
          var r = this;return r.run(t, function (t) {
            return f(t, "array") && (e = e.cloneNode(!0)), n && d(p(t.childNodes), function (t) {
              e.appendChild(t);
            }), t.parentNode.replaceChild(e, t);
          });
        }, rename: function rename(e, t) {
          var n = this,
              r;return e.nodeName != t.toUpperCase() && (r = n.create(t), d(n.getAttribs(e), function (t) {
            n.setAttrib(r, t.nodeName, n.getAttrib(e, t.nodeName));
          }), n.replace(r, e, 1)), r || e;
        }, findCommonAncestor: function findCommonAncestor(e, t) {
          for (var n = e, r; n;) {
            for (r = t; r && n != r;) {
              r = r.parentNode;
            }if (n == r) break;n = n.parentNode;
          }return !n && e.ownerDocument ? e.ownerDocument.documentElement : n;
        }, toHex: function toHex(e) {
          return this.styles.toHex(l.trim(e));
        }, run: function run(e, t, n) {
          var r = this,
              i;return "string" == typeof e && (e = r.get(e)), e ? (n = n || this, e.nodeType || !e.length && 0 !== e.length ? t.call(n, e) : (i = [], d(e, function (e, o) {
            e && ("string" == typeof e && (e = r.get(e)), i.push(t.call(n, e, o)));
          }), i)) : !1;
        }, getAttribs: function getAttribs(e) {
          var t;if (e = this.get(e), !e) return [];if (v) {
            if (t = [], "OBJECT" == e.nodeName) return e.attributes;"OPTION" === e.nodeName && this.getAttrib(e, "selected") && t.push({ specified: 1, nodeName: "selected" });var n = /<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return e.cloneNode(!1).outerHTML.replace(n, "").replace(/[\w:\-]+/gi, function (e) {
              t.push({ specified: 1, nodeName: e });
            }), t;
          }return e.attributes;
        }, isEmpty: function isEmpty(e, t) {
          var n = this,
              r,
              o,
              a,
              s,
              l,
              c = 0;if (e = e.firstChild) {
            s = new i(e, e.parentNode), t = t || n.schema ? n.schema.getNonEmptyElements() : null;do {
              if (a = e.nodeType, 1 === a) {
                if (e.getAttribute("data-mce-bogus")) continue;if (l = e.nodeName.toLowerCase(), t && t[l]) {
                  if ("br" === l) {
                    c++;continue;
                  }return !1;
                }for (o = n.getAttribs(e), r = e.attributes.length; r--;) {
                  if (l = e.attributes[r].nodeName, "name" === l || "data-mce-bookmark" === l) return !1;
                }
              }if (8 == a) return !1;if (3 === a && !b.test(e.nodeValue)) return !1;
            } while (e = s.next());
          }return 1 >= c;
        }, createRng: function createRng() {
          var e = this.doc;return e.createRange ? e.createRange() : new o(this);
        }, nodeIndex: function nodeIndex(e, t) {
          var n = 0,
              r,
              i;if (e) for (r = e.nodeType, e = e.previousSibling; e; e = e.previousSibling) {
            i = e.nodeType, (!t || 3 != i || i != r && e.nodeValue.length) && (n++, r = i);
          }return n;
        }, split: function split(e, t, n) {
          function r(e) {
            function t(e) {
              var t = e.previousSibling && "SPAN" == e.previousSibling.nodeName,
                  n = e.nextSibling && "SPAN" == e.nextSibling.nodeName;return t && n;
            }var n,
                o = e.childNodes,
                a = e.nodeType;if (1 != a || "bookmark" != e.getAttribute("data-mce-type")) {
              for (n = o.length - 1; n >= 0; n--) {
                r(o[n]);
              }if (9 != a) {
                if (3 == a && e.nodeValue.length > 0) {
                  var s = m(e.nodeValue).length;if (!i.isBlock(e.parentNode) || s > 0 || 0 === s && t(e)) return;
                } else if (1 == a && (o = e.childNodes, 1 == o.length && o[0] && 1 == o[0].nodeType && "bookmark" == o[0].getAttribute("data-mce-type") && e.parentNode.insertBefore(o[0], e), o.length || /^(br|hr|input|img)$/i.test(e.nodeName))) return;i.remove(e);
              }return e;
            }
          }var i = this,
              o = i.createRng(),
              a,
              s,
              l;return e && t ? (o.setStart(e.parentNode, i.nodeIndex(e)), o.setEnd(t.parentNode, i.nodeIndex(t)), a = o.extractContents(), o = i.createRng(), o.setStart(t.parentNode, i.nodeIndex(t) + 1), o.setEnd(e.parentNode, i.nodeIndex(e) + 1), s = o.extractContents(), l = e.parentNode, l.insertBefore(r(a), e), n ? l.replaceChild(n, t) : l.insertBefore(t, e), l.insertBefore(r(s), e), i.remove(e), n || t) : void 0;
        }, bind: function bind(e, t, n, r) {
          var i = this;if (l.isArray(e)) {
            for (var o = e.length; o--;) {
              e[o] = i.bind(e[o], t, n, r);
            }return e;
          }return !i.settings.collect || e !== i.doc && e !== i.win || i.boundEvents.push([e, t, n, r]), i.events.bind(e, t, n, r || i);
        }, unbind: function unbind(e, t, n) {
          var r = this,
              i;if (l.isArray(e)) {
            for (i = e.length; i--;) {
              e[i] = r.unbind(e[i], t, n);
            }return e;
          }if (r.boundEvents && (e === r.doc || e === r.win)) for (i = r.boundEvents.length; i--;) {
            var o = r.boundEvents[i];e != o[0] || t && t != o[1] || n && n != o[2] || this.events.unbind(o[0], o[1], o[2]);
          }return this.events.unbind(e, t, n);
        }, fire: function fire(e, t, n) {
          return this.events.fire(e, t, n);
        }, getContentEditable: function getContentEditable(e) {
          var t;return 1 != e.nodeType ? null : (t = e.getAttribute("data-mce-contenteditable"), t && "inherit" !== t ? t : "inherit" !== e.contentEditable ? e.contentEditable : null);
        }, destroy: function destroy() {
          var t = this;if (t.boundEvents) {
            for (var n = t.boundEvents.length; n--;) {
              var r = t.boundEvents[n];this.events.unbind(r[0], r[1], r[2]);
            }t.boundEvents = null;
          }e.setDocument && e.setDocument(), t.win = t.doc = t.root = t.events = t.frag = null;
        }, dumpRng: function dumpRng(e) {
          return "startContainer: " + e.startContainer.nodeName + ", startOffset: " + e.startOffset + ", endContainer: " + e.endContainer.nodeName + ", endOffset: " + e.endOffset;
        }, _findSib: function _findSib(e, t, n) {
          var r = this,
              i = t;if (e) for ("string" == typeof i && (i = function i(e) {
            return r.is(e, t);
          }), e = e[n]; e; e = e[n]) {
            if (i(e)) return e;
          }return null;
        } }, u.DOM = new u(document), u;
    }), r(b, [y, p], function (e, t) {
      function n() {
        function e(e, t) {
          function n() {
            o.remove(s), a && (a.onreadystatechange = a.onload = a = null), t();
          }function i() {
            "undefined" != typeof console && console.log && console.log("Failed to load: " + e);
          }var o = r,
              a,
              s;s = o.uniqueId(), a = document.createElement("script"), a.id = s, a.type = "text/javascript", a.src = e, "onreadystatechange" in a ? a.onreadystatechange = function () {
            /loaded|complete/.test(a.readyState) && n();
          } : a.onload = n, a.onerror = i, (document.getElementsByTagName("head")[0] || document.body).appendChild(a);
        }var t = 0,
            n = 1,
            a = 2,
            s = {},
            l = [],
            c = {},
            u = [],
            d = 0,
            f;this.isDone = function (e) {
          return s[e] == a;
        }, this.markDone = function (e) {
          s[e] = a;
        }, this.add = this.load = function (e, n, r) {
          var i = s[e];i == f && (l.push(e), s[e] = t), n && (c[e] || (c[e] = []), c[e].push({ func: n, scope: r || this }));
        }, this.loadQueue = function (e, t) {
          this.loadScripts(l, e, t);
        }, this.loadScripts = function (t, r, l) {
          function p(e) {
            i(c[e], function (e) {
              e.func.call(e.scope);
            }), c[e] = f;
          }var _m;u.push({ func: r, scope: l || this }), (_m = function m() {
            var r = o(t);t.length = 0, i(r, function (t) {
              return s[t] == a ? void p(t) : void (s[t] != n && (s[t] = n, d++, e(t, function () {
                s[t] = a, d--, p(t), _m();
              })));
            }), d || (i(u, function (e) {
              e.func.call(e.scope);
            }), u.length = 0);
          })();
        };
      }var r = e.DOM,
          i = t.each,
          o = t.grep;return n.ScriptLoader = new n(), n;
    }), r(C, [b, p], function (e, n) {
      function r() {
        var e = this;e.items = [], e.urls = {}, e.lookup = {};
      }var i = n.each;return r.prototype = { get: function get(e) {
          return this.lookup[e] ? this.lookup[e].instance : t;
        }, dependencies: function dependencies(e) {
          var t;return this.lookup[e] && (t = this.lookup[e].dependencies), t || [];
        }, requireLangPack: function requireLangPack(t, n) {
          if (r.language && r.languageLoad !== !1) {
            if (n && new RegExp("([, ]|\\b)" + r.language + "([, ]|\\b)").test(n) === !1) return;e.ScriptLoader.add(this.urls[t] + "/langs/" + r.language + ".js");
          }
        }, add: function add(e, t, n) {
          return this.items.push(t), this.lookup[e] = { instance: t, dependencies: n }, t;
        }, createUrl: function createUrl(e, t) {
          return "object" == (typeof t === "undefined" ? "undefined" : _typeof(t)) ? t : { prefix: e.prefix, resource: t, suffix: e.suffix };
        }, addComponents: function addComponents(t, n) {
          var r = this.urls[t];i(n, function (t) {
            e.ScriptLoader.add(r + "/" + t);
          });
        }, load: function load(n, o, a, s) {
          function l() {
            var r = c.dependencies(n);i(r, function (e) {
              var n = c.createUrl(o, e);c.load(n.resource, n, t, t);
            }), a && a.call(s ? s : e);
          }var c = this,
              u = o;c.urls[n] || ("object" == (typeof o === "undefined" ? "undefined" : _typeof(o)) && (u = o.prefix + o.resource + o.suffix), 0 !== u.indexOf("/") && -1 == u.indexOf("://") && (u = r.baseURL + "/" + u), c.urls[n] = u.substring(0, u.lastIndexOf("/")), c.lookup[n] ? l() : e.ScriptLoader.add(u, l, s));
        } }, r.PluginManager = new r(), r.ThemeManager = new r(), r;
    }), r(x, [], function () {
      function e(e, t, n) {
        var r,
            i,
            o = n ? "lastChild" : "firstChild",
            a = n ? "prev" : "next";if (e[o]) return e[o];if (e !== t) {
          if (r = e[a]) return r;for (i = e.parent; i && i !== t; i = i.parent) {
            if (r = i[a]) return r;
          }
        }
      }function t(e, t) {
        this.name = e, this.type = t, 1 === t && (this.attributes = [], this.attributes.map = {});
      }var n = /^[ \t\r\n]*$/,
          r = { "#text": 3, "#comment": 8, "#cdata": 4, "#pi": 7, "#doctype": 10, "#document-fragment": 11 };return t.prototype = { replace: function replace(e) {
          var t = this;return e.parent && e.remove(), t.insert(e, t), t.remove(), t;
        }, attr: function attr(e, t) {
          var n = this,
              r,
              i,
              o;if ("string" != typeof e) {
            for (i in e) {
              n.attr(i, e[i]);
            }return n;
          }if (r = n.attributes) {
            if (t !== o) {
              if (null === t) {
                if (e in r.map) for (delete r.map[e], i = r.length; i--;) {
                  if (r[i].name === e) return r = r.splice(i, 1), n;
                }return n;
              }if (e in r.map) {
                for (i = r.length; i--;) {
                  if (r[i].name === e) {
                    r[i].value = t;break;
                  }
                }
              } else r.push({ name: e, value: t });return r.map[e] = t, n;
            }return r.map[e];
          }
        }, clone: function clone() {
          var e = this,
              n = new t(e.name, e.type),
              r,
              i,
              o,
              a,
              s;if (o = e.attributes) {
            for (s = [], s.map = {}, r = 0, i = o.length; i > r; r++) {
              a = o[r], "id" !== a.name && (s[s.length] = { name: a.name, value: a.value }, s.map[a.name] = a.value);
            }n.attributes = s;
          }return n.value = e.value, n.shortEnded = e.shortEnded, n;
        }, wrap: function wrap(e) {
          var t = this;return t.parent.insert(e, t), e.append(t), t;
        }, unwrap: function unwrap() {
          var e = this,
              t,
              n;for (t = e.firstChild; t;) {
            n = t.next, e.insert(t, e, !0), t = n;
          }e.remove();
        }, remove: function remove() {
          var e = this,
              t = e.parent,
              n = e.next,
              r = e.prev;return t && (t.firstChild === e ? (t.firstChild = n, n && (n.prev = null)) : r.next = n, t.lastChild === e ? (t.lastChild = r, r && (r.next = null)) : n.prev = r, e.parent = e.next = e.prev = null), e;
        }, append: function append(e) {
          var t = this,
              n;return e.parent && e.remove(), n = t.lastChild, n ? (n.next = e, e.prev = n, t.lastChild = e) : t.lastChild = t.firstChild = e, e.parent = t, e;
        }, insert: function insert(e, t, n) {
          var r;return e.parent && e.remove(), r = t.parent || this, n ? (t === r.firstChild ? r.firstChild = e : t.prev.next = e, e.prev = t.prev, e.next = t, t.prev = e) : (t === r.lastChild ? r.lastChild = e : t.next.prev = e, e.next = t.next, e.prev = t, t.next = e), e.parent = r, e;
        }, getAll: function getAll(t) {
          var n = this,
              r,
              i = [];for (r = n.firstChild; r; r = e(r, n)) {
            r.name === t && i.push(r);
          }return i;
        }, empty: function empty() {
          var t = this,
              n,
              r,
              i;if (t.firstChild) {
            for (n = [], i = t.firstChild; i; i = e(i, t)) {
              n.push(i);
            }for (r = n.length; r--;) {
              i = n[r], i.parent = i.firstChild = i.lastChild = i.next = i.prev = null;
            }
          }return t.firstChild = t.lastChild = null, t;
        }, isEmpty: function isEmpty(t) {
          var r = this,
              i = r.firstChild,
              o,
              a;if (i) do {
            if (1 === i.type) {
              if (i.attributes.map["data-mce-bogus"]) continue;if (t[i.name]) return !1;for (o = i.attributes.length; o--;) {
                if (a = i.attributes[o].name, "name" === a || 0 === a.indexOf("data-mce-")) return !1;
              }
            }if (8 === i.type) return !1;if (3 === i.type && !n.test(i.value)) return !1;
          } while (i = e(i, r));return !0;
        }, walk: function walk(t) {
          return e(this, null, t);
        } }, t.create = function (e, n) {
        var i, o;if (i = new t(e, r[e] || 1), n) for (o in n) {
          i.attr(o, n[o]);
        }return i;
      }, t;
    }), r(w, [p], function (e) {
      function t(e, t) {
        return e ? e.split(t || " ") : [];
      }function n(e) {
        function n(e, n, r) {
          function i(e) {
            var t = {},
                n,
                r;for (n = 0, r = e.length; r > n; n++) {
              t[e[n]] = {};
            }return t;
          }var o,
              l,
              c,
              u = arguments;for (r = r || [], n = n || "", "string" == typeof r && (r = t(r)), l = 3; l < u.length; l++) {
            "string" == typeof u[l] && (u[l] = t(u[l])), r.push.apply(r, u[l]);
          }for (e = t(e), o = e.length; o--;) {
            c = [].concat(s, t(n)), a[e[o]] = { attributes: i(c), attributesOrder: c, children: i(r) };
          }
        }function i(e, n) {
          var r, i, o, s;for (e = t(e), r = e.length, n = t(n); r--;) {
            for (i = a[e[r]], o = 0, s = n.length; s > o; o++) {
              i.attributes[n[o]] = {}, i.attributesOrder.push(n[o]);
            }
          }
        }var a = {},
            s,
            l,
            c,
            u,
            d,
            f;return r[e] ? r[e] : (s = t("id accesskey class dir lang style tabindex title"), l = t("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"), c = t("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"), "html4" != e && (s.push.apply(s, t("contenteditable contextmenu draggable dropzone hidden spellcheck translate")), l.push.apply(l, t("article aside details dialog figure header footer hgroup section nav")), c.push.apply(c, t("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))), "html5-strict" != e && (s.push("xml:lang"), f = t("acronym applet basefont big font strike tt"), c.push.apply(c, f), o(f, function (e) {
          n(e, "", c);
        }), d = t("center dir isindex noframes"), l.push.apply(l, d), u = [].concat(l, c), o(d, function (e) {
          n(e, "", u);
        })), u = u || [].concat(l, c), n("html", "manifest", "head body"), n("head", "", "base command link meta noscript script style title"), n("title hr noscript br"), n("base", "href target"), n("link", "href rel media hreflang type sizes hreflang"), n("meta", "name http-equiv content charset"), n("style", "media type scoped"), n("script", "src async defer type charset"), n("body", "onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload", u), n("address dt dd div caption", "", u), n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn", "", c), n("blockquote", "cite", u), n("ol", "reversed start type", "li"), n("ul", "", "li"), n("li", "value", u), n("dl", "", "dt dd"), n("a", "href target rel media hreflang type", c), n("q", "cite", c), n("ins del", "cite datetime", u), n("img", "src alt usemap ismap width height"), n("iframe", "src name width height", u), n("embed", "src type width height"), n("object", "data type typemustmatch name usemap form width height", u, "param"), n("param", "name value"), n("map", "name", u, "area"), n("area", "alt coords shape href target rel media hreflang type"), n("table", "border", "caption colgroup thead tfoot tbody tr" + ("html4" == e ? " col" : "")), n("colgroup", "span", "col"), n("col", "span"), n("tbody thead tfoot", "", "tr"), n("tr", "", "td th"), n("td", "colspan rowspan headers", u), n("th", "colspan rowspan headers scope abbr", u), n("form", "accept-charset action autocomplete enctype method name novalidate target", u), n("fieldset", "disabled form name", u, "legend"), n("label", "form for", c), n("input", "accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"), n("button", "disabled form formaction formenctype formmethod formnovalidate formtarget name type value", "html4" == e ? u : c), n("select", "disabled form multiple name required size", "option optgroup"), n("optgroup", "disabled label", "option"), n("option", "disabled label selected value"), n("textarea", "cols dirname disabled form maxlength name readonly required rows wrap"), n("menu", "type label", u, "li"), n("noscript", "", u), "html4" != e && (n("wbr"), n("ruby", "", c, "rt rp"), n("figcaption", "", u), n("mark rt rp summary bdi", "", c), n("canvas", "width height", u), n("video", "src crossorigin poster preload autoplay mediagroup loop muted controls width height", u, "track source"), n("audio", "src crossorigin preload autoplay mediagroup loop muted controls", u, "track source"), n("source", "src type media"), n("track", "kind src srclang label default"), n("datalist", "", c, "option"), n("article section nav aside header footer", "", u), n("hgroup", "", "h1 h2 h3 h4 h5 h6"), n("figure", "", u, "figcaption"), n("time", "datetime", c), n("dialog", "open", u), n("command", "type label icon disabled checked radiogroup command"), n("output", "for form name", c), n("progress", "value max", c), n("meter", "value min max low high optimum", c), n("details", "open", u, "summary"), n("keygen", "autofocus challenge disabled form keytype name")), "html5-strict" != e && (i("script", "language xml:space"), i("style", "xml:space"), i("object", "declare classid codebase codetype archive standby align border hspace vspace"), i("param", "valuetype type"), i("a", "charset name rev shape coords"), i("br", "clear"), i("applet", "codebase archive code object alt name width height align hspace vspace"), i("img", "name longdesc align border hspace vspace"), i("iframe", "longdesc frameborder marginwidth marginheight scrolling align"), i("font basefont", "size color face"), i("input", "usemap align"), i("select", "onchange"), i("textarea"), i("h1 h2 h3 h4 h5 h6 div p legend caption", "align"), i("ul", "type compact"), i("li", "type"), i("ol dl menu dir", "compact"), i("pre", "width xml:space"), i("hr", "align noshade size width"), i("isindex", "prompt"), i("table", "summary width frame rules cellspacing cellpadding align bgcolor"), i("col", "width align char charoff valign"), i("colgroup", "width align char charoff valign"), i("thead", "align char charoff valign"), i("tr", "align char charoff valign bgcolor"), i("th", "axis align char charoff valign nowrap bgcolor width height"), i("form", "accept"), i("td", "abbr axis scope align char charoff valign nowrap bgcolor width height"), i("tfoot", "align char charoff valign"), i("tbody", "align char charoff valign"), i("area", "nohref"), i("body", "background bgcolor text link vlink alink")), "html4" != e && (i("input button select textarea", "autofocus"), i("input textarea", "placeholder"), i("a", "download"), i("link script img", "crossorigin"), i("iframe", "srcdoc sandbox seamless allowfullscreen")), o(t("a form meter progress dfn"), function (e) {
          a[e] && delete a[e].children[e];
        }), delete a.caption.children.table, r[e] = a, a);
      }var r = {},
          i = e.makeMap,
          o = e.each,
          a = e.extend,
          s = e.explode,
          l = e.inArray;return function (e) {
        function c(t, n, o) {
          var s = e[t];return s ? s = i(s, ",", i(s.toUpperCase(), " ")) : (s = r[t], s || (s = i(n, " ", i(n.toUpperCase(), " ")), s = a(s, o), r[t] = s)), s;
        }function u(e) {
          return new RegExp("^" + e.replace(/([?+*])/g, ".$1") + "$");
        }function d(e) {
          var n,
              r,
              o,
              a,
              s,
              c,
              d,
              f,
              p,
              m,
              h,
              g,
              y,
              C,
              x,
              w,
              _,
              N,
              E,
              S = /^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,
              k = /^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,
              T = /[*?+]/;if (e) for (e = t(e, ","), v["@"] && (w = v["@"].attributes, _ = v["@"].attributesOrder), n = 0, r = e.length; r > n; n++) {
            if (s = S.exec(e[n])) {
              if (C = s[1], p = s[2], x = s[3], f = s[5], g = {}, y = [], c = { attributes: g, attributesOrder: y }, "#" === C && (c.paddEmpty = !0), "-" === C && (c.removeEmpty = !0), "!" === s[4] && (c.removeEmptyAttrs = !0), w) {
                for (N in w) {
                  g[N] = w[N];
                }y.push.apply(y, _);
              }if (f) for (f = t(f, "|"), o = 0, a = f.length; a > o; o++) {
                if (s = k.exec(f[o])) {
                  if (d = {}, h = s[1], m = s[2].replace(/::/g, ":"), C = s[3], E = s[4], "!" === h && (c.attributesRequired = c.attributesRequired || [], c.attributesRequired.push(m), d.required = !0), "-" === h) {
                    delete g[m], y.splice(l(y, m), 1);continue;
                  }C && ("=" === C && (c.attributesDefault = c.attributesDefault || [], c.attributesDefault.push({ name: m, value: E }), d.defaultValue = E), ":" === C && (c.attributesForced = c.attributesForced || [], c.attributesForced.push({ name: m, value: E }), d.forcedValue = E), "<" === C && (d.validValues = i(E, "?"))), T.test(m) ? (c.attributePatterns = c.attributePatterns || [], d.pattern = u(m), c.attributePatterns.push(d)) : (g[m] || y.push(m), g[m] = d);
                }
              }w || "@" != p || (w = g, _ = y), x && (c.outputName = p, v[x] = c), T.test(p) ? (c.pattern = u(p), b.push(c)) : v[p] = c;
            }
          }
        }function f(e) {
          v = {}, b = [], d(e), o(x, function (e, t) {
            y[t] = e.children;
          });
        }function p(e) {
          var n = /^(~)?(.+)$/;e && (r.text_block_elements = r.block_elements = null, o(t(e, ","), function (e) {
            var t = n.exec(e),
                r = "~" === t[1],
                i = r ? "span" : "div",
                s = t[2];if (y[s] = y[i], R[s] = i, r || (S[s.toUpperCase()] = {}, S[s] = {}), !v[s]) {
              var l = v[i];l = a({}, l), delete l.removeEmptyAttrs, delete l.removeEmpty, v[s] = l;
            }o(y, function (e, t) {
              e[i] && (y[t] = e = a({}, y[t]), e[s] = e[i]);
            });
          }));
        }function m(e) {
          var n = /^([+\-]?)(\w+)\[([^\]]+)\]$/;e && o(t(e, ","), function (e) {
            var r = n.exec(e),
                i,
                s;r && (s = r[1], i = s ? y[r[2]] : y[r[2]] = { "#comment": {} }, i = y[r[2]], o(t(r[3], "|"), function (e) {
              "-" === s ? (y[r[2]] = i = a({}, y[r[2]]), delete i[e]) : i[e] = {};
            }));
          });
        }function h(e) {
          var t = v[e],
              n;if (t) return t;for (n = b.length; n--;) {
            if (t = b[n], t.pattern.test(e)) return t;
          }
        }var g = this,
            v = {},
            y = {},
            b = [],
            C,
            x,
            w,
            _,
            N,
            E,
            S,
            k,
            T,
            R = {},
            A = {};e = e || {}, x = n(e.schema), e.verify_html === !1 && (e.valid_elements = "*[*]"), e.valid_styles && (C = {}, o(e.valid_styles, function (e, t) {
          C[t] = s(e);
        })), w = c("whitespace_elements", "pre script noscript style textarea video audio iframe object"), _ = c("self_closing_elements", "colgroup dd dt li option p td tfoot th thead tr"), N = c("short_ended_elements", "area base basefont br col frame hr img input isindex link meta param embed source wbr track"), E = c("boolean_attributes", "checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"), k = c("non_empty_elements", "td th iframe video audio object script", N), T = c("text_block_elements", "h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"), S = c("block_elements", "hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup", T), o((e.special || "script noscript style textarea").split(" "), function (e) {
          A[e] = new RegExp("</" + e + "[^>]*>", "gi");
        }), e.valid_elements ? f(e.valid_elements) : (o(x, function (e, t) {
          v[t] = { attributes: e.attributes, attributesOrder: e.attributesOrder }, y[t] = e.children;
        }), "html5" != e.schema && o(t("strong/b em/i"), function (e) {
          e = t(e, "/"), v[e[1]].outputName = e[0];
        }), v.img.attributesDefault = [{ name: "alt", value: "" }], o(t("ol ul sub sup blockquote span font a table tbody tr strong em b i"), function (e) {
          v[e] && (v[e].removeEmpty = !0);
        }), o(t("p h1 h2 h3 h4 h5 h6 th td pre div address caption"), function (e) {
          v[e].paddEmpty = !0;
        }), o(t("span"), function (e) {
          v[e].removeEmptyAttrs = !0;
        })), p(e.custom_elements), m(e.valid_children), d(e.extended_valid_elements), m("+ol[ul|ol],+ul[ul|ol]"), e.invalid_elements && o(s(e.invalid_elements), function (e) {
          v[e] && delete v[e];
        }), h("span") || d("span[!data-mce-type|*]"), g.children = y, g.styles = C, g.getBoolAttrs = function () {
          return E;
        }, g.getBlockElements = function () {
          return S;
        }, g.getTextBlockElements = function () {
          return T;
        }, g.getShortEndedElements = function () {
          return N;
        }, g.getSelfClosingElements = function () {
          return _;
        }, g.getNonEmptyElements = function () {
          return k;
        }, g.getWhiteSpaceElements = function () {
          return w;
        }, g.getSpecialElements = function () {
          return A;
        }, g.isValidChild = function (e, t) {
          var n = y[e];return !(!n || !n[t]);
        }, g.isValid = function (e, t) {
          var n,
              r,
              i = h(e);if (i) {
            if (!t) return !0;if (i.attributes[t]) return !0;if (n = i.attributePatterns) for (r = n.length; r--;) {
              if (n[r].pattern.test(e)) return !0;
            }
          }return !1;
        }, g.getElementRule = h, g.getCustomElements = function () {
          return R;
        }, g.addValidElements = d, g.setValidElements = f, g.addCustomElements = p, g.addValidChildren = m, g.elements = v;
      };
    }), r(_, [w, h, p], function (e, t, n) {
      var r = n.each;return function (i, o) {
        function a() {}var s = this;i = i || {}, s.schema = o = o || new e(), i.fix_self_closing !== !1 && (i.fix_self_closing = !0), r("comment cdata text start end pi doctype".split(" "), function (e) {
          e && (s[e] = i[e] || a);
        }), s.parse = function (e) {
          function r(e) {
            var t, n;for (t = f.length; t-- && f[t].name !== e;) {}if (t >= 0) {
              for (n = f.length - 1; n >= t; n--) {
                e = f[n], e.valid && s.end(e.name);
              }f.length = t;
            }
          }function a(e, t, n, r, o) {
            var a,
                s,
                l = /[\s\u0000-\u001F]+/g;if (t = t.toLowerCase(), n = t in C ? t : F(n || r || o || ""), w && !v && 0 !== t.indexOf("data-")) {
              if (a = k[t], !a && T) {
                for (s = T.length; s-- && (a = T[s], !a.pattern.test(t));) {}-1 === s && (a = null);
              }if (!a) return;if (a.validValues && !(n in a.validValues)) return;
            }if (W[t] && !i.allow_script_urls) {
              var c = n.replace(l, "");try {
                if (c = decodeURIComponent(c), V.test(c)) return;
              } catch (u) {
                if (c = unescape(c), V.test(c)) return;
              }
            }p.map[t] = n, p.push({ name: t, value: n });
          }var s = this,
              l,
              c = 0,
              u,
              d,
              f = [],
              p,
              m,
              h,
              g,
              v,
              y,
              b,
              C,
              x,
              w,
              _,
              N,
              E,
              S,
              k,
              T,
              R,
              A,
              B,
              L,
              D,
              M,
              H,
              P,
              O,
              I = 0,
              F = t.decode,
              z,
              W = n.makeMap("src,href"),
              V = /(java|vb)script:/i;for (M = new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))", "g"), H = /([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g, b = o.getShortEndedElements(), D = i.self_closing_elements || o.getSelfClosingElements(), C = o.getBoolAttrs(), w = i.validate, y = i.remove_internals, z = i.fix_self_closing, P = o.getSpecialElements(); l = M.exec(e);) {
            if (c < l.index && s.text(F(e.substr(c, l.index - c))), u = l[6]) u = u.toLowerCase(), ":" === u.charAt(0) && (u = u.substr(1)), r(u);else if (u = l[7]) {
              if (u = u.toLowerCase(), ":" === u.charAt(0) && (u = u.substr(1)), x = u in b, z && D[u] && f.length > 0 && f[f.length - 1].name === u && r(u), !w || (_ = o.getElementRule(u))) {
                if (N = !0, w && (k = _.attributes, T = _.attributePatterns), (S = l[8]) ? (v = -1 !== S.indexOf("data-mce-type"), v && y && (N = !1), p = [], p.map = {}, S.replace(H, a)) : (p = [], p.map = {}), w && !v) {
                  if (R = _.attributesRequired, A = _.attributesDefault, B = _.attributesForced, L = _.removeEmptyAttrs, L && !p.length && (N = !1), B) for (m = B.length; m--;) {
                    E = B[m], g = E.name, O = E.value, "{$uid}" === O && (O = "mce_" + I++), p.map[g] = O, p.push({ name: g, value: O });
                  }if (A) for (m = A.length; m--;) {
                    E = A[m], g = E.name, g in p.map || (O = E.value, "{$uid}" === O && (O = "mce_" + I++), p.map[g] = O, p.push({ name: g, value: O }));
                  }if (R) {
                    for (m = R.length; m-- && !(R[m] in p.map);) {}-1 === m && (N = !1);
                  }p.map["data-mce-bogus"] && (N = !1);
                }N && s.start(u, p, x);
              } else N = !1;if (d = P[u]) {
                d.lastIndex = c = l.index + l[0].length, (l = d.exec(e)) ? (N && (h = e.substr(c, l.index - c)), c = l.index + l[0].length) : (h = e.substr(c), c = e.length), N && (h.length > 0 && s.text(h, !0), s.end(u)), M.lastIndex = c;continue;
              }x || (S && S.indexOf("/") == S.length - 1 ? N && s.end(u) : f.push({ name: u, valid: N }));
            } else (u = l[1]) ? (">" === u.charAt(0) && (u = " " + u), i.allow_conditional_comments || "[if" !== u.substr(0, 3) || (u = " " + u), s.comment(u)) : (u = l[2]) ? s.cdata(u) : (u = l[3]) ? s.doctype(u) : (u = l[4]) && s.pi(u, l[5]);c = l.index + l[0].length;
          }for (c < e.length && s.text(F(e.substr(c))), m = f.length - 1; m >= 0; m--) {
            u = f[m], u.valid && s.end(u.name);
          }
        };
      };
    }), r(N, [x, w, _, p], function (e, t, n, r) {
      var i = r.makeMap,
          o = r.each,
          a = r.explode,
          s = r.extend;return function (r, l) {
        function c(t) {
          var n, r, o, a, s, c, d, f, p, m, h, g, v, y;for (h = i("tr,td,th,tbody,thead,tfoot,table"), m = l.getNonEmptyElements(), g = l.getTextBlockElements(), n = 0; n < t.length; n++) {
            if (r = t[n], r.parent && !r.fixed) if (g[r.name] && "li" == r.parent.name) {
              for (v = r.next; v && g[v.name];) {
                v.name = "li", v.fixed = !0, r.parent.insert(v, r.parent), v = v.next;
              }r.unwrap(r);
            } else {
              for (a = [r], o = r.parent; o && !l.isValidChild(o.name, r.name) && !h[o.name]; o = o.parent) {
                a.push(o);
              }if (o && a.length > 1) {
                for (a.reverse(), s = c = u.filterNode(a[0].clone()), p = 0; p < a.length - 1; p++) {
                  for (l.isValidChild(c.name, a[p].name) ? (d = u.filterNode(a[p].clone()), c.append(d)) : d = c, f = a[p].firstChild; f && f != a[p + 1];) {
                    y = f.next, d.append(f), f = y;
                  }c = d;
                }s.isEmpty(m) ? o.insert(r, a[0], !0) : (o.insert(s, a[0], !0), o.insert(r, s)), o = a[0], (o.isEmpty(m) || o.firstChild === o.lastChild && "br" === o.firstChild.name) && o.empty().remove();
              } else if (r.parent) {
                if ("li" === r.name) {
                  if (v = r.prev, v && ("ul" === v.name || "ul" === v.name)) {
                    v.append(r);continue;
                  }if (v = r.next, v && ("ul" === v.name || "ul" === v.name)) {
                    v.insert(r, v.firstChild, !0);continue;
                  }r.wrap(u.filterNode(new e("ul", 1)));continue;
                }l.isValidChild(r.parent.name, "div") && l.isValidChild("div", r.name) ? r.wrap(u.filterNode(new e("div", 1))) : "style" === r.name || "script" === r.name ? r.empty().remove() : r.unwrap();
              }
            }
          }
        }var u = this,
            d = {},
            f = [],
            p = {},
            m = {};r = r || {}, r.validate = "validate" in r ? r.validate : !0, r.root_name = r.root_name || "body", u.schema = l = l || new t(), u.filterNode = function (e) {
          var t, n, r;n in d && (r = p[n], r ? r.push(e) : p[n] = [e]), t = f.length;for (; t--;) {
            n = f[t].name, n in e.attributes.map && (r = m[n], r ? r.push(e) : m[n] = [e]);
          }return e;
        }, u.addNodeFilter = function (e, t) {
          o(a(e), function (e) {
            var n = d[e];n || (d[e] = n = []), n.push(t);
          });
        }, u.addAttributeFilter = function (e, t) {
          o(a(e), function (e) {
            var n;for (n = 0; n < f.length; n++) {
              if (f[n].name === e) return void f[n].callbacks.push(t);
            }f.push({ name: e, callbacks: [t] });
          });
        }, u.parse = function (t, o) {
          function a() {
            function e(e) {
              e && (t = e.firstChild, t && 3 == t.type && (t.value = t.value.replace(R, "")), t = e.lastChild, t && 3 == t.type && (t.value = t.value.replace(L, "")));
            }var t = y.firstChild,
                n,
                i;if (l.isValidChild(y.name, I.toLowerCase())) {
              for (; t;) {
                n = t.next, 3 == t.type || 1 == t.type && "p" !== t.name && !T[t.name] && !t.attr("data-mce-type") ? i ? i.append(t) : (i = u(I, 1), i.attr(r.forced_root_block_attrs), y.insert(i, t), i.append(t)) : (e(i), i = null), t = n;
              }e(i);
            }
          }function u(t, n) {
            var r = new e(t, n),
                i;return t in d && (i = p[t], i ? i.push(r) : p[t] = [r]), r;
          }function h(e) {
            var t, n, r;for (t = e.prev; t && 3 === t.type;) {
              n = t.value.replace(L, ""), n.length > 0 ? (t.value = n, t = t.prev) : (r = t.prev, t.remove(), t = r);
            }
          }function g(e) {
            var t,
                n = {};for (t in e) {
              "li" !== t && "p" != t && (n[t] = e[t]);
            }return n;
          }var v,
              y,
              b,
              C,
              x,
              w,
              _,
              N,
              E,
              S,
              k,
              T,
              R,
              A = [],
              B,
              L,
              D,
              M,
              H,
              P,
              O,
              I;if (o = o || {}, p = {}, m = {}, T = s(i("script,style,head,html,body,title,meta,param"), l.getBlockElements()), O = l.getNonEmptyElements(), P = l.children, k = r.validate, I = "forced_root_block" in o ? o.forced_root_block : r.forced_root_block, H = l.getWhiteSpaceElements(), R = /^[ \t\r\n]+/, L = /[ \t\r\n]+$/, D = /[ \t\r\n]+/g, M = /^[ \t\r\n]+$/, v = new n({ validate: k, allow_script_urls: r.allow_script_urls, allow_conditional_comments: r.allow_conditional_comments, self_closing_elements: g(l.getSelfClosingElements()), cdata: function cdata(e) {
              b.append(u("#cdata", 4)).value = e;
            }, text: function text(e, t) {
              var n;B || (e = e.replace(D, " "), b.lastChild && T[b.lastChild.name] && (e = e.replace(R, ""))), 0 !== e.length && (n = u("#text", 3), n.raw = !!t, b.append(n).value = e);
            }, comment: function comment(e) {
              b.append(u("#comment", 8)).value = e;
            }, pi: function pi(e, t) {
              b.append(u(e, 7)).value = t, h(b);
            }, doctype: function doctype(e) {
              var t;t = b.append(u("#doctype", 10)), t.value = e, h(b);
            }, start: function start(e, t, n) {
              var r, i, o, a, s;if (o = k ? l.getElementRule(e) : {}) {
                for (r = u(o.outputName || e, 1), r.attributes = t, r.shortEnded = n, b.append(r), s = P[b.name], s && P[r.name] && !s[r.name] && A.push(r), i = f.length; i--;) {
                  a = f[i].name, a in t.map && (E = m[a], E ? E.push(r) : m[a] = [r]);
                }T[e] && h(r), n || (b = r), !B && H[e] && (B = !0);
              }
            }, end: function end(t) {
              var n, r, i, o, a;if (r = k ? l.getElementRule(t) : {}) {
                if (T[t] && !B) {
                  if (n = b.firstChild, n && 3 === n.type) if (i = n.value.replace(R, ""), i.length > 0) n.value = i, n = n.next;else for (o = n.next, n.remove(), n = o; n && 3 === n.type;) {
                    i = n.value, o = n.next, (0 === i.length || M.test(i)) && (n.remove(), n = o), n = o;
                  }if (n = b.lastChild, n && 3 === n.type) if (i = n.value.replace(L, ""), i.length > 0) n.value = i, n = n.prev;else for (o = n.prev, n.remove(), n = o; n && 3 === n.type;) {
                    i = n.value, o = n.prev, (0 === i.length || M.test(i)) && (n.remove(), n = o), n = o;
                  }
                }if (B && H[t] && (B = !1), (r.removeEmpty || r.paddEmpty) && b.isEmpty(O)) if (r.paddEmpty) b.empty().append(new e("#text", "3")).value = "\xa0";else if (!b.attributes.map.name && !b.attributes.map.id) return a = b.parent, b.empty().remove(), void (b = a);b = b.parent;
              }
            } }, l), y = b = new e(o.context || r.root_name, 11), v.parse(t), k && A.length && (o.context ? o.invalid = !0 : c(A)), I && ("body" == y.name || o.isRootContent) && a(), !o.invalid) {
            for (S in p) {
              for (E = d[S], C = p[S], _ = C.length; _--;) {
                C[_].parent || C.splice(_, 1);
              }for (x = 0, w = E.length; w > x; x++) {
                E[x](C, S, o);
              }
            }for (x = 0, w = f.length; w > x; x++) {
              if (E = f[x], E.name in m) {
                for (C = m[E.name], _ = C.length; _--;) {
                  C[_].parent || C.splice(_, 1);
                }for (_ = 0, N = E.callbacks.length; N > _; _++) {
                  E.callbacks[_](C, E.name, o);
                }
              }
            }
          }return y;
        }, r.remove_trailing_brs && u.addNodeFilter("br", function (t) {
          var n,
              r = t.length,
              i,
              o = s({}, l.getBlockElements()),
              a = l.getNonEmptyElements(),
              c,
              u,
              d,
              f,
              p,
              m;for (o.body = 1, n = 0; r > n; n++) {
            if (i = t[n], c = i.parent, o[i.parent.name] && i === c.lastChild) {
              for (d = i.prev; d;) {
                if (f = d.name, "span" !== f || "bookmark" !== d.attr("data-mce-type")) {
                  if ("br" !== f) break;if ("br" === f) {
                    i = null;break;
                  }
                }d = d.prev;
              }i && (i.remove(), c.isEmpty(a) && (p = l.getElementRule(c.name), p && (p.removeEmpty ? c.remove() : p.paddEmpty && (c.empty().append(new e("#text", 3)).value = "\xa0"))));
            } else {
              for (u = i; c && c.firstChild === u && c.lastChild === u && (u = c, !o[c.name]);) {
                c = c.parent;
              }u === c && (m = new e("#text", 3), m.value = "\xa0", i.replace(m));
            }
          }
        }), r.allow_html_in_named_anchor || u.addAttributeFilter("id,name", function (e) {
          for (var t = e.length, n, r, i, o; t--;) {
            if (o = e[t], "a" === o.name && o.firstChild && !o.attr("href")) {
              i = o.parent, n = o.lastChild;do {
                r = n.prev, i.insert(n, o), n = r;
              } while (n);
            }
          }
        });
      };
    }), r(E, [h, p], function (e, t) {
      var n = t.makeMap;return function (t) {
        var r = [],
            i,
            o,
            a,
            s,
            l;return t = t || {}, i = t.indent, o = n(t.indent_before || ""), a = n(t.indent_after || ""), s = e.getEncodeFunc(t.entity_encoding || "raw", t.entities), l = "html" == t.element_format, { start: function start(e, t, n) {
            var c, u, d, f;if (i && o[e] && r.length > 0 && (f = r[r.length - 1], f.length > 0 && "\n" !== f && r.push("\n")), r.push("<", e), t) for (c = 0, u = t.length; u > c; c++) {
              d = t[c], r.push(" ", d.name, '="', s(d.value, !0), '"');
            }r[r.length] = !n || l ? ">" : " />", n && i && a[e] && r.length > 0 && (f = r[r.length - 1], f.length > 0 && "\n" !== f && r.push("\n"));
          }, end: function end(e) {
            var t;r.push("</", e, ">"), i && a[e] && r.length > 0 && (t = r[r.length - 1], t.length > 0 && "\n" !== t && r.push("\n"));
          }, text: function text(e, t) {
            e.length > 0 && (r[r.length] = t ? e : s(e));
          }, cdata: function cdata(e) {
            r.push("<![CDATA[", e, "]]>");
          }, comment: function comment(e) {
            r.push("<!--", e, "-->");
          }, pi: function pi(e, t) {
            t ? r.push("<?", e, " ", t, "?>") : r.push("<?", e, "?>"), i && r.push("\n");
          }, doctype: function doctype(e) {
            r.push("<!DOCTYPE", e, ">", i ? "\n" : "");
          }, reset: function reset() {
            r.length = 0;
          }, getContent: function getContent() {
            return r.join("").replace(/\n$/, "");
          } };
      };
    }), r(S, [E, w], function (e, t) {
      return function (n, r) {
        var i = this,
            o = new e(n);n = n || {}, n.validate = "validate" in n ? n.validate : !0, i.schema = r = r || new t(), i.writer = o, i.serialize = function (e) {
          function t(e) {
            var n = i[e.type],
                s,
                l,
                c,
                u,
                d,
                f,
                p,
                m,
                h;if (n) n(e);else {
              if (s = e.name, l = e.shortEnded, c = e.attributes, a && c && c.length > 1) {
                for (f = [], f.map = {}, h = r.getElementRule(e.name), p = 0, m = h.attributesOrder.length; m > p; p++) {
                  u = h.attributesOrder[p], u in c.map && (d = c.map[u], f.map[u] = d, f.push({ name: u, value: d }));
                }for (p = 0, m = c.length; m > p; p++) {
                  u = c[p].name, u in f.map || (d = c.map[u], f.map[u] = d, f.push({ name: u, value: d }));
                }c = f;
              }if (o.start(e.name, c, l), !l) {
                if (e = e.firstChild) do {
                  t(e);
                } while (e = e.next);o.end(s);
              }
            }
          }var i, a;return a = n.validate, i = { 3: function _(e) {
              o.text(e.value, e.raw);
            }, 8: function _(e) {
              o.comment(e.value);
            }, 7: function _(e) {
              o.pi(e.name, e.value);
            }, 10: function _(e) {
              o.doctype(e.value);
            }, 4: function _(e) {
              o.cdata(e.value);
            }, 11: function _(e) {
              if (e = e.firstChild) do {
                t(e);
              } while (e = e.next);
            } }, o.reset(), 1 != e.type || n.inner ? i[11](e) : t(e), o.getContent();
        };
      };
    }), r(k, [y, N, h, S, x, w, g, p], function (e, t, n, r, i, o, a, s) {
      var l = s.each,
          c = s.trim,
          u = e.DOM;return function (e, i) {
        var s, d, f;return i && (s = i.dom, d = i.schema), s = s || u, d = d || new o(e), e.entity_encoding = e.entity_encoding || "named", e.remove_trailing_brs = "remove_trailing_brs" in e ? e.remove_trailing_brs : !0, f = new t(e, d), f.addAttributeFilter("src,href,style", function (t, n) {
          for (var r = t.length, i, o, a = "data-mce-" + n, l = e.url_converter, c = e.url_converter_scope, u; r--;) {
            i = t[r], o = i.attributes.map[a], o !== u ? (i.attr(n, o.length > 0 ? o : null), i.attr(a, null)) : (o = i.attributes.map[n], "style" === n ? o = s.serializeStyle(s.parseStyle(o), i.name) : l && (o = l.call(c, o, n, i.name)), i.attr(n, o.length > 0 ? o : null));
          }
        }), f.addAttributeFilter("class", function (e) {
          for (var t = e.length, n, r; t--;) {
            n = e[t], r = n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g, ""), n.attr("class", r.length > 0 ? r : null);
          }
        }), f.addAttributeFilter("data-mce-type", function (e, t, n) {
          for (var r = e.length, i; r--;) {
            i = e[r], "bookmark" !== i.attributes.map["data-mce-type"] || n.cleanup || i.remove();
          }
        }), f.addAttributeFilter("data-mce-expando", function (e, t) {
          for (var n = e.length; n--;) {
            e[n].attr(t, null);
          }
        }), f.addNodeFilter("noscript", function (e) {
          for (var t = e.length, r; t--;) {
            r = e[t].firstChild, r && (r.value = n.decode(r.value));
          }
        }), f.addNodeFilter("script,style", function (e, t) {
          function n(e) {
            return e.replace(/(<!--\[CDATA\[|\]\]-->)/g, "\n").replace(/^[\r\n]*|[\r\n]*$/g, "").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi, "").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g, "");
          }for (var r = e.length, i, o; r--;) {
            if (i = e[r], o = i.firstChild ? i.firstChild.value : "", "script" === t) {
              var a = (i.attr("type") || "text/javascript").replace(/^mce\-/, "");i.attr("type", "text/javascript" === a ? null : a), o.length > 0 && (i.firstChild.value = "// <![CDATA[\n" + n(o) + "\n// ]]>");
            } else o.length > 0 && (i.firstChild.value = "<!--\n" + n(o) + "\n-->");
          }
        }), f.addNodeFilter("#comment", function (e) {
          for (var t = e.length, n; t--;) {
            n = e[t], 0 === n.value.indexOf("[CDATA[") ? (n.name = "#cdata", n.type = 4, n.value = n.value.replace(/^\[CDATA\[|\]\]$/g, "")) : 0 === n.value.indexOf("mce:protected ") && (n.name = "#text", n.type = 3, n.raw = !0, n.value = unescape(n.value).substr(14));
          }
        }), f.addNodeFilter("xml:namespace,input", function (e, t) {
          for (var n = e.length, r; n--;) {
            r = e[n], 7 === r.type ? r.remove() : 1 === r.type && ("input" !== t || "type" in r.attributes.map || r.attr("type", "text"));
          }
        }), e.fix_list_elements && f.addNodeFilter("ul,ol", function (e) {
          for (var t = e.length, n, r; t--;) {
            n = e[t], r = n.parent, ("ul" === r.name || "ol" === r.name) && n.prev && "li" === n.prev.name && n.prev.append(n);
          }
        }), f.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected", function (e, t) {
          for (var n = e.length; n--;) {
            e[n].attr(t, null);
          }
        }), { schema: d, addNodeFilter: f.addNodeFilter, addAttributeFilter: f.addAttributeFilter, serialize: function serialize(t, n) {
            var i = this,
                o,
                u,
                p,
                m,
                h;return a.ie && s.select("script,style,select,map").length > 0 ? (h = t.innerHTML, t = t.cloneNode(!1), s.setHTML(t, h)) : t = t.cloneNode(!0), o = t.ownerDocument.implementation, o.createHTMLDocument && (u = o.createHTMLDocument(""), l("BODY" == t.nodeName ? t.childNodes : [t], function (e) {
              u.body.appendChild(u.importNode(e, !0));
            }), t = "BODY" != t.nodeName ? u.body.firstChild : u.body, p = s.doc, s.doc = u), n = n || {}, n.format = n.format || "html", n.selection && (n.forced_root_block = ""), n.no_events || (n.node = t, i.onPreProcess(n)), m = new r(e, d), n.content = m.serialize(f.parse(c(n.getInner ? t.innerHTML : s.getOuterHTML(t)), n)), n.cleanup || (n.content = n.content.replace(/\uFEFF/g, "")), n.no_events || i.onPostProcess(n), p && (s.doc = p), n.node = null, n.content;
          }, addRules: function addRules(e) {
            d.addValidElements(e);
          }, setRules: function setRules(e) {
            d.setValidElements(e);
          }, onPreProcess: function onPreProcess(e) {
            i && i.fire("PreProcess", e);
          }, onPostProcess: function onPostProcess(e) {
            i && i.fire("PostProcess", e);
          } };
      };
    }), r(T, [], function () {
      function e(e) {
        function t(t, n) {
          var r,
              i = 0,
              o,
              a,
              s,
              l,
              c,
              u,
              d = -1,
              f;if (r = t.duplicate(), r.collapse(n), f = r.parentElement(), f.ownerDocument === e.dom.doc) {
            for (; "false" === f.contentEditable;) {
              f = f.parentNode;
            }if (!f.hasChildNodes()) return { node: f, inside: 1 };for (s = f.children, o = s.length - 1; o >= i;) {
              if (u = Math.floor((i + o) / 2), l = s[u], r.moveToElementText(l), d = r.compareEndPoints(n ? "StartToStart" : "EndToEnd", t), d > 0) o = u - 1;else {
                if (!(0 > d)) return { node: l };i = u + 1;
              }
            }if (0 > d) for (l ? r.collapse(!1) : (r.moveToElementText(f), r.collapse(!0), l = f, a = !0), c = 0; 0 !== r.compareEndPoints(n ? "StartToStart" : "StartToEnd", t) && 0 !== r.move("character", 1) && f == r.parentElement();) {
              c++;
            } else for (r.collapse(!0), c = 0; 0 !== r.compareEndPoints(n ? "StartToStart" : "StartToEnd", t) && 0 !== r.move("character", -1) && f == r.parentElement();) {
              c++;
            }return { node: l, position: d, offset: c, inside: a };
          }
        }function n() {
          function n(e) {
            var n = t(o, e),
                r,
                i,
                s = 0,
                l,
                c,
                u;if (r = n.node, i = n.offset, n.inside && !r.hasChildNodes()) return void a[e ? "setStart" : "setEnd"](r, 0);if (i === c) return void a[e ? "setStartBefore" : "setEndAfter"](r);if (n.position < 0) {
              if (l = n.inside ? r.firstChild : r.nextSibling, !l) return void a[e ? "setStartAfter" : "setEndAfter"](r);if (!i) return void (3 == l.nodeType ? a[e ? "setStart" : "setEnd"](l, 0) : a[e ? "setStartBefore" : "setEndBefore"](l));
              for (; l;) {
                if (u = l.nodeValue, s += u.length, s >= i) {
                  r = l, s -= i, s = u.length - s;break;
                }l = l.nextSibling;
              }
            } else {
              if (l = r.previousSibling, !l) return a[e ? "setStartBefore" : "setEndBefore"](r);if (!i) return void (3 == r.nodeType ? a[e ? "setStart" : "setEnd"](l, r.nodeValue.length) : a[e ? "setStartAfter" : "setEndAfter"](l));for (; l;) {
                if (s += l.nodeValue.length, s >= i) {
                  r = l, s -= i;break;
                }l = l.previousSibling;
              }
            }a[e ? "setStart" : "setEnd"](r, s);
          }var o = e.getRng(),
              a = i.createRng(),
              s,
              l,
              c,
              u,
              d;if (s = o.item ? o.item(0) : o.parentElement(), s.ownerDocument != i.doc) return a;if (l = e.isCollapsed(), o.item) return a.setStart(s.parentNode, i.nodeIndex(s)), a.setEnd(a.startContainer, a.startOffset + 1), a;try {
            n(!0), l || n();
          } catch (f) {
            if (-2147024809 != f.number) throw f;d = r.getBookmark(2), c = o.duplicate(), c.collapse(!0), s = c.parentElement(), l || (c = o.duplicate(), c.collapse(!1), u = c.parentElement(), u.innerHTML = u.innerHTML), s.innerHTML = s.innerHTML, r.moveToBookmark(d), o = e.getRng(), n(!0), l || n();
          }return a;
        }var r = this,
            i = e.dom,
            o = !1;this.getBookmark = function (n) {
          function r(e) {
            var t,
                n,
                r,
                o,
                a = [];for (t = e.parentNode, n = i.getRoot().parentNode; t != n && 9 !== t.nodeType;) {
              for (r = t.children, o = r.length; o--;) {
                if (e === r[o]) {
                  a.push(o);break;
                }
              }e = t, t = t.parentNode;
            }return a;
          }function o(e) {
            var n;return n = t(a, e), n ? { position: n.position, offset: n.offset, indexes: r(n.node), inside: n.inside } : void 0;
          }var a = e.getRng(),
              s = {};return 2 === n && (a.item ? s.start = { ctrl: !0, indexes: r(a.item(0)) } : (s.start = o(!0), e.isCollapsed() || (s.end = o()))), s;
        }, this.moveToBookmark = function (e) {
          function t(e) {
            var t, n, r, o;for (t = i.getRoot(), n = e.length - 1; n >= 0; n--) {
              o = t.children, r = e[n], r <= o.length - 1 && (t = o[r]);
            }return t;
          }function n(n) {
            var i = e[n ? "start" : "end"],
                a,
                s,
                l,
                c;i && (a = i.position > 0, s = o.createTextRange(), s.moveToElementText(t(i.indexes)), c = i.offset, c !== l ? (s.collapse(i.inside || a), s.moveStart("character", a ? -c : c)) : s.collapse(n), r.setEndPoint(n ? "StartToStart" : "EndToStart", s), n && r.collapse(!0));
          }var r,
              o = i.doc.body;e.start && (e.start.ctrl ? (r = o.createControlRange(), r.addElement(t(e.start.indexes)), r.select()) : (r = o.createTextRange(), n(!0), n(), r.select()));
        }, this.addRange = function (t) {
          function n(e) {
            var t, n, a, d, m;a = i.create("a"), t = e ? s : c, n = e ? l : u, d = r.duplicate(), (t == f || t == f.documentElement) && (t = p, n = 0), 3 == t.nodeType ? (t.parentNode.insertBefore(a, t), d.moveToElementText(a), d.moveStart("character", n), i.remove(a), r.setEndPoint(e ? "StartToStart" : "EndToEnd", d)) : (m = t.childNodes, m.length ? (n >= m.length ? i.insertAfter(a, m[m.length - 1]) : t.insertBefore(a, m[n]), d.moveToElementText(a)) : t.canHaveHTML && (t.innerHTML = "<span>&#xFEFF;</span>", a = t.firstChild, d.moveToElementText(a), d.collapse(o)), r.setEndPoint(e ? "StartToStart" : "EndToEnd", d), i.remove(a));
          }var r,
              a,
              s,
              l,
              c,
              u,
              d,
              f = e.dom.doc,
              p = f.body,
              m,
              h;if (s = t.startContainer, l = t.startOffset, c = t.endContainer, u = t.endOffset, r = p.createTextRange(), s == c && 1 == s.nodeType) {
            if (l == u && !s.hasChildNodes()) {
              if (s.canHaveHTML) return d = s.previousSibling, d && !d.hasChildNodes() && i.isBlock(d) ? d.innerHTML = "&#xFEFF;" : d = null, s.innerHTML = "<span>&#xFEFF;</span><span>&#xFEFF;</span>", r.moveToElementText(s.lastChild), r.select(), i.doc.selection.clear(), s.innerHTML = "", void (d && (d.innerHTML = ""));l = i.nodeIndex(s), s = s.parentNode;
            }if (l == u - 1) try {
              if (h = s.childNodes[l], a = p.createControlRange(), a.addElement(h), a.select(), m = e.getRng(), m.item && h === m.item(0)) return;
            } catch (g) {}
          }n(!0), n(), r.select();
        }, this.getRangeAt = n;
      }return e;
    }), r(R, [g], function (e) {
      return { BACKSPACE: 8, DELETE: 46, DOWN: 40, ENTER: 13, LEFT: 37, RIGHT: 39, SPACEBAR: 32, TAB: 9, UP: 38, modifierPressed: function modifierPressed(e) {
          return e.shiftKey || e.ctrlKey || e.altKey;
        }, metaKeyPressed: function metaKeyPressed(t) {
          return (e.mac ? t.metaKey : t.ctrlKey) && !t.altKey;
        } };
    }), r(A, [R, p, g], function (e, t, n) {
      return function (r, i) {
        function o(e) {
          var t = i.settings.object_resizing;return t === !1 || n.iOS ? !1 : ("string" != typeof t && (t = "table,img,div"), "false" === e.getAttribute("data-mce-resize") ? !1 : i.dom.is(e, t));
        }function a(t) {
          var n, r;n = t.screenX - k, r = t.screenY - T, H = n * E[2] + B, P = r * E[3] + L, H = 5 > H ? 5 : H, P = 5 > P ? 5 : P, (e.modifierPressed(t) || "IMG" == w.nodeName && E[2] * E[3] !== 0) && (H = Math.round(P / D), P = Math.round(H * D)), C.setStyles(_, { width: H, height: P }), E[2] < 0 && _.clientWidth <= H && C.setStyle(_, "left", R + (B - H)), E[3] < 0 && _.clientHeight <= P && C.setStyle(_, "top", A + (L - P)), M || (i.fire("ObjectResizeStart", { target: w, width: B, height: L }), M = !0);
        }function s() {
          function e(e, t) {
            t && (w.style[e] || !i.schema.isValid(w.nodeName.toLowerCase(), e) ? C.setStyle(w, e, t) : C.setAttrib(w, e, t));
          }M = !1, e("width", H), e("height", P), C.unbind(O, "mousemove", a), C.unbind(O, "mouseup", s), I != O && (C.unbind(I, "mousemove", a), C.unbind(I, "mouseup", s)), C.remove(_), F && "TABLE" != w.nodeName || l(w), i.fire("ObjectResized", { target: w, width: H, height: P }), i.nodeChanged();
        }function l(e, t, r) {
          var l,
              u,
              d,
              f,
              p,
              m = i.getBody();g(), l = C.getPos(e, m), R = l.x, A = l.y, p = e.getBoundingClientRect(), u = p.width || p.right - p.left, d = p.height || p.bottom - p.top, w != e && (h(), w = e, H = P = 0), f = i.fire("ObjectSelected", { target: e }), o(e) && !f.isDefaultPrevented() ? x(N, function (e, o) {
            function l(t) {
              k = t.screenX, T = t.screenY, B = w.clientWidth, L = w.clientHeight, D = L / B, E = e, _ = w.cloneNode(!0), C.addClass(_, "mce-clonedresizable"), _.contentEditable = !1, _.unSelectabe = !0, C.setStyles(_, { left: R, top: A, margin: 0 }), _.removeAttribute("data-mce-selected"), i.getBody().appendChild(_), C.bind(O, "mousemove", a), C.bind(O, "mouseup", s), I != O && (C.bind(I, "mousemove", a), C.bind(I, "mouseup", s));
            }var c, f;return t ? void (o == t && l(r)) : (c = C.get("mceResizeHandle" + o), c ? C.show(c) : (f = i.getBody(), c = C.add(f, "div", { id: "mceResizeHandle" + o, "data-mce-bogus": !0, "class": "mce-resizehandle", unselectable: !0, style: "cursor:" + o + "-resize; margin:0; padding:0" }), n.ie && (c.contentEditable = !1)), e.elm || (C.bind(c, "mousedown", function (e) {
              e.stopImmediatePropagation(), e.preventDefault(), l(e);
            }), e.elm = c), void C.setStyles(c, { left: u * e[0] + R - c.offsetWidth / 2, top: d * e[1] + A - c.offsetHeight / 2 }));
          }) : c(), w.setAttribute("data-mce-selected", "1");
        }function c() {
          var e, t;g(), w && w.removeAttribute("data-mce-selected");for (e in N) {
            t = C.get("mceResizeHandle" + e), t && (C.unbind(t), C.remove(t));
          }
        }function u(e) {
          function t(e, t) {
            if (e) do {
              if (e === t) return !0;
            } while (e = e.parentNode);
          }var n;return x(C.select("img[data-mce-selected],hr[data-mce-selected]"), function (e) {
            e.removeAttribute("data-mce-selected");
          }), n = "mousedown" == e.type ? e.target : r.getNode(), n = C.getParent(n, F ? "table" : "table,img,hr"), t(n, i.getBody()) && (v(), t(r.getStart(), n) && t(r.getEnd(), n) && (!F || n != r.getStart() && "IMG" !== r.getStart().nodeName)) ? void l(n) : void c();
        }function d(e, t, n) {
          e && e.attachEvent && e.attachEvent("on" + t, n);
        }function f(e, t, n) {
          e && e.detachEvent && e.detachEvent("on" + t, n);
        }function p(e) {
          var t = e.srcElement,
              n,
              r,
              o,
              a,
              s,
              c,
              u;n = t.getBoundingClientRect(), c = S.clientX - n.left, u = S.clientY - n.top;for (r in N) {
            if (o = N[r], a = t.offsetWidth * o[0], s = t.offsetHeight * o[1], Math.abs(a - c) < 8 && Math.abs(s - u) < 8) {
              E = o;break;
            }
          }M = !0, i.getDoc().selection.empty(), l(t, r, S);
        }function m(e) {
          var t = e.srcElement;if (t != w) {
            if (h(), 0 === t.id.indexOf("mceResizeHandle")) return void (e.returnValue = !1);("IMG" == t.nodeName || "TABLE" == t.nodeName) && (c(), w = t, d(t, "resizestart", p));
          }
        }function h() {
          f(w, "resizestart", p);
        }function g() {
          for (var e in N) {
            var t = N[e];t.elm && (C.unbind(t.elm), delete t.elm);
          }
        }function v() {
          try {
            i.getDoc().execCommand("enableObjectResizing", !1, !1);
          } catch (e) {}
        }function y(e) {
          var t;if (F) {
            t = O.body.createControlRange();try {
              return t.addElement(e), t.select(), !0;
            } catch (n) {}
          }
        }function b() {
          w = _ = null, F && (h(), f(i.getBody(), "controlselect", m));
        }var C = i.dom,
            x = t.each,
            w,
            _,
            N,
            E,
            S,
            k,
            T,
            R,
            A,
            B,
            L,
            D,
            M,
            H,
            P,
            O = i.getDoc(),
            I = document,
            F = n.ie && n.ie < 11;N = { n: [.5, 0, 0, -1], e: [1, .5, 1, 0], s: [.5, 1, 0, 1], w: [0, .5, -1, 0], nw: [0, 0, -1, -1], ne: [1, 0, 1, -1], se: [1, 1, 1, 1], sw: [0, 1, -1, 1] };var z = ".mce-content-body";return i.contentStyles.push(z + " div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}" + z + " .mce-resizehandle:hover {background: #000}" + z + " img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}" + z + " .mce-clonedresizable {position: absolute;" + (n.gecko ? "" : "outline: 1px dashed black;") + "opacity: .5;filter: alpha(opacity=50);z-index: 10000}"), i.on("init", function () {
          F ? (i.on("ObjectResized", function (e) {
            "TABLE" != e.target.nodeName && (c(), y(e.target));
          }), d(i.getBody(), "controlselect", m), i.on("mousedown", function (e) {
            S = e;
          })) : (v(), n.ie >= 11 && (i.on("mouseup", function (e) {
            var t = e.target.nodeName;/^(TABLE|IMG|HR)$/.test(t) && (i.selection.select(e.target, "TABLE" == t), i.nodeChanged());
          }), i.dom.bind(i.getBody(), "mscontrolselect", function (e) {
            /^(TABLE|IMG|HR)$/.test(e.target.nodeName) && (e.preventDefault(), "IMG" == e.target.tagName && window.setTimeout(function () {
              i.selection.select(e.target);
            }, 0));
          }))), i.on("nodechange mousedown mouseup ResizeEditor", u), i.on("keydown keyup", function (e) {
            w && "TABLE" == w.nodeName && u(e);
          });
        }), i.on("remove", g), { isResizable: o, showResizeRect: l, hideResizeRect: c, updateResizeRect: u, controlSelect: y, destroy: b };
      };
    }), r(B, [p, f], function (e, t) {
      function n(e) {
        this.walk = function (t, n) {
          function i(e) {
            var t;return t = e[0], 3 === t.nodeType && t === l && c >= t.nodeValue.length && e.splice(0, 1), t = e[e.length - 1], 0 === d && e.length > 0 && t === u && 3 === t.nodeType && e.splice(e.length - 1, 1), e;
          }function o(e, t, n) {
            for (var r = []; e && e != n; e = e[t]) {
              r.push(e);
            }return r;
          }function a(e, t) {
            do {
              if (e.parentNode == t) return e;e = e.parentNode;
            } while (e);
          }function s(e, t, r) {
            var a = r ? "nextSibling" : "previousSibling";for (h = e, g = h.parentNode; h && h != t; h = g) {
              g = h.parentNode, v = o(h == e ? h : h[a], a), v.length && (r || v.reverse(), n(i(v)));
            }
          }var l = t.startContainer,
              c = t.startOffset,
              u = t.endContainer,
              d = t.endOffset,
              f,
              p,
              m,
              h,
              g,
              v,
              y;if (y = e.select("td.mce-item-selected,th.mce-item-selected"), y.length > 0) return void r(y, function (e) {
            n([e]);
          });if (1 == l.nodeType && l.hasChildNodes() && (l = l.childNodes[c]), 1 == u.nodeType && u.hasChildNodes() && (u = u.childNodes[Math.min(d - 1, u.childNodes.length - 1)]), l == u) return n(i([l]));for (f = e.findCommonAncestor(l, u), h = l; h; h = h.parentNode) {
            if (h === u) return s(l, f, !0);if (h === f) break;
          }for (h = u; h; h = h.parentNode) {
            if (h === l) return s(u, f);if (h === f) break;
          }p = a(l, f) || l, m = a(u, f) || u, s(l, p, !0), v = o(p == l ? p : p.nextSibling, "nextSibling", m == u ? m.nextSibling : m), v.length && n(i(v)), s(u, m);
        }, this.split = function (e) {
          function t(e, t) {
            return e.splitText(t);
          }var n = e.startContainer,
              r = e.startOffset,
              i = e.endContainer,
              o = e.endOffset;return n == i && 3 == n.nodeType ? r > 0 && r < n.nodeValue.length && (i = t(n, r), n = i.previousSibling, o > r ? (o -= r, n = i = t(i, o).previousSibling, o = i.nodeValue.length, r = 0) : o = 0) : (3 == n.nodeType && r > 0 && r < n.nodeValue.length && (n = t(n, r), r = 0), 3 == i.nodeType && o > 0 && o < i.nodeValue.length && (i = t(i, o).previousSibling, o = i.nodeValue.length)), { startContainer: n, startOffset: r, endContainer: i, endOffset: o };
        }, this.normalize = function (n) {
          function r(r) {
            function a(n, r) {
              for (var i = new t(n, e.getParent(n.parentNode, e.isBlock) || f); n = i[r ? "prev" : "next"]();) {
                if ("BR" === n.nodeName) return !0;
              }
            }function s(e, t) {
              return e.previousSibling && e.previousSibling.nodeName == t;
            }function l(n, r) {
              var a, s, l;if (r = r || c, l = e.getParent(r.parentNode, e.isBlock) || f, n && "BR" == r.nodeName && v && e.isEmpty(l)) return c = r.parentNode, u = e.nodeIndex(r), void (i = !0);for (a = new t(r, l); p = a[n ? "prev" : "next"]();) {
                if (3 === p.nodeType && p.nodeValue.length > 0) return c = p, u = n ? p.nodeValue.length : 0, void (i = !0);if (e.isBlock(p) || m[p.nodeName.toLowerCase()]) return;s = p;
              }o && s && (c = s, i = !0, u = 0);
            }var c,
                u,
                d,
                f = e.getRoot(),
                p,
                m,
                h,
                g,
                v;if (c = n[(r ? "start" : "end") + "Container"], u = n[(r ? "start" : "end") + "Offset"], v = 1 == c.nodeType && u === c.childNodes.length, m = e.schema.getNonEmptyElements(), g = r, 1 == c.nodeType && u > c.childNodes.length - 1 && (g = !1), 9 === c.nodeType && (c = e.getRoot(), u = 0), c === f) {
              if (g && (p = c.childNodes[u > 0 ? u - 1 : 0], p && (h = p.nodeName.toLowerCase(), m[p.nodeName] || "TABLE" == p.nodeName))) return;if (c.hasChildNodes() && (u = Math.min(!g && u > 0 ? u - 1 : u, c.childNodes.length - 1), c = c.childNodes[u], u = 0, c.hasChildNodes() && !/TABLE/.test(c.nodeName))) {
                p = c, d = new t(c, f);do {
                  if (3 === p.nodeType && p.nodeValue.length > 0) {
                    u = g ? 0 : p.nodeValue.length, c = p, i = !0;break;
                  }if (m[p.nodeName.toLowerCase()]) {
                    u = e.nodeIndex(p), c = p.parentNode, "IMG" != p.nodeName || g || u++, i = !0;break;
                  }
                } while (p = g ? d.next() : d.prev());
              }
            }o && (3 === c.nodeType && 0 === u && l(!0), 1 === c.nodeType && (p = c.childNodes[u], p || (p = c.childNodes[u - 1]), !p || "BR" !== p.nodeName || s(p, "A") || a(p) || a(p, !0) || l(!0, p))), g && !o && 3 === c.nodeType && u === c.nodeValue.length && l(!1), i && n["set" + (r ? "Start" : "End")](c, u);
          }var i, o;return o = n.collapsed, r(!0), o || r(), i && o && n.collapse(!0), i;
        };
      }var r = e.each;return n.compareRanges = function (e, t) {
        if (e && t) {
          if (!e.item && !e.duplicate) return e.startContainer == t.startContainer && e.startOffset == t.startOffset;if (e.item && t.item && e.item(0) === t.item(0)) return !0;if (e.isEqual && t.isEqual && t.isEqual(e)) return !0;
        }return !1;
      }, n;
    }), r(L, [f, T, A, B, g, p], function (e, n, r, i, o, a) {
      function s(e, t, i, o) {
        var a = this;a.dom = e, a.win = t, a.serializer = i, a.editor = o, a.controlSelection = new r(a, o), a.win.getSelection || (a.tridentSel = new n(a));
      }var l = a.each,
          c = a.grep,
          u = a.trim,
          d = o.ie,
          f = o.opera;return s.prototype = { setCursorLocation: function setCursorLocation(e, t) {
          var n = this,
              r = n.dom.createRng();e ? (r.setStart(e, t), r.setEnd(e, t), n.setRng(r), n.collapse(!1)) : (n._moveEndPoint(r, n.editor.getBody(), !0), n.setRng(r));
        }, getContent: function getContent(e) {
          var n = this,
              r = n.getRng(),
              i = n.dom.create("body"),
              o = n.getSel(),
              a,
              s,
              l;return e = e || {}, a = s = "", e.get = !0, e.format = e.format || "html", e.selection = !0, n.editor.fire("BeforeGetContent", e), "text" == e.format ? n.isCollapsed() ? "" : r.text || (o.toString ? o.toString() : "") : (r.cloneContents ? (l = r.cloneContents(), l && i.appendChild(l)) : r.item !== t || r.htmlText !== t ? (i.innerHTML = "<br>" + (r.item ? r.item(0).outerHTML : r.htmlText), i.removeChild(i.firstChild)) : i.innerHTML = r.toString(), /^\s/.test(i.innerHTML) && (a = " "), /\s+$/.test(i.innerHTML) && (s = " "), e.getInner = !0, e.content = n.isCollapsed() ? "" : a + n.serializer.serialize(i, e) + s, n.editor.fire("GetContent", e), e.content);
        }, setContent: function setContent(e, t) {
          var n = this,
              r = n.getRng(),
              i,
              o = n.win.document,
              a,
              s;if (t = t || { format: "html" }, t.set = !0, t.selection = !0, e = t.content = e, t.no_events || n.editor.fire("BeforeSetContent", t), e = t.content, r.insertNode) {
            e += '<span id="__caret">_</span>', r.startContainer == o && r.endContainer == o ? o.body.innerHTML = e : (r.deleteContents(), 0 === o.body.childNodes.length ? o.body.innerHTML = e : r.createContextualFragment ? r.insertNode(r.createContextualFragment(e)) : (a = o.createDocumentFragment(), s = o.createElement("div"), a.appendChild(s), s.outerHTML = e, r.insertNode(a))), i = n.dom.get("__caret"), r = o.createRange(), r.setStartBefore(i), r.setEndBefore(i), n.setRng(r), n.dom.remove("__caret");try {
              n.setRng(r);
            } catch (l) {}
          } else r.item && (o.execCommand("Delete", !1, null), r = n.getRng()), /^\s+/.test(e) ? (r.pasteHTML('<span id="__mce_tmp">_</span>' + e), n.dom.remove("__mce_tmp")) : r.pasteHTML(e);t.no_events || n.editor.fire("SetContent", t);
        }, getStart: function getStart() {
          var e = this,
              t = e.getRng(),
              n,
              r,
              i,
              o;if (t.duplicate || t.item) {
            if (t.item) return t.item(0);for (i = t.duplicate(), i.collapse(1), n = i.parentElement(), n.ownerDocument !== e.dom.doc && (n = e.dom.getRoot()), r = o = t.parentElement(); o = o.parentNode;) {
              if (o == n) {
                n = r;break;
              }
            }return n;
          }return n = t.startContainer, 1 == n.nodeType && n.hasChildNodes() && (n = n.childNodes[Math.min(n.childNodes.length - 1, t.startOffset)]), n && 3 == n.nodeType ? n.parentNode : n;
        }, getEnd: function getEnd() {
          var e = this,
              t = e.getRng(),
              n,
              r;return t.duplicate || t.item ? t.item ? t.item(0) : (t = t.duplicate(), t.collapse(0), n = t.parentElement(), n.ownerDocument !== e.dom.doc && (n = e.dom.getRoot()), n && "BODY" == n.nodeName ? n.lastChild || n : n) : (n = t.endContainer, r = t.endOffset, 1 == n.nodeType && n.hasChildNodes() && (n = n.childNodes[r > 0 ? r - 1 : r]), n && 3 == n.nodeType ? n.parentNode : n);
        }, getBookmark: function getBookmark(e, t) {
          function n(e, t) {
            var n = 0;return l(a.select(e), function (e, r) {
              e == t && (n = r);
            }), n;
          }function r(e) {
            function t(t) {
              var n,
                  r,
                  i,
                  o = t ? "start" : "end";n = e[o + "Container"], r = e[o + "Offset"], 1 == n.nodeType && "TR" == n.nodeName && (i = n.childNodes, n = i[Math.min(t ? r : r - 1, i.length - 1)], n && (r = t ? 0 : n.childNodes.length, e["set" + (t ? "Start" : "End")](n, r)));
            }return t(!0), t(), e;
          }function i() {
            function e(e, n) {
              var i = e[n ? "startContainer" : "endContainer"],
                  a = e[n ? "startOffset" : "endOffset"],
                  s = [],
                  l,
                  c,
                  u = 0;if (3 == i.nodeType) {
                if (t) for (l = i.previousSibling; l && 3 == l.nodeType; l = l.previousSibling) {
                  a += l.nodeValue.length;
                }s.push(a);
              } else c = i.childNodes, a >= c.length && c.length && (u = 1, a = Math.max(0, c.length - 1)), s.push(o.dom.nodeIndex(c[a], t) + u);for (; i && i != r; i = i.parentNode) {
                s.push(o.dom.nodeIndex(i, t));
              }return s;
            }var n = o.getRng(!0),
                r = a.getRoot(),
                i = {};return i.start = e(n, !0), o.isCollapsed() || (i.end = e(n)), i;
          }var o = this,
              a = o.dom,
              s,
              c,
              u,
              d,
              f,
              p,
              m = "&#xFEFF;",
              h;if (2 == e) return p = o.getNode(), f = p ? p.nodeName : null, "IMG" == f ? { name: f, index: n(f, p) } : o.tridentSel ? o.tridentSel.getBookmark(e) : i();if (e) return { rng: o.getRng() };if (s = o.getRng(), u = a.uniqueId(), d = o.isCollapsed(), h = "overflow:hidden;line-height:0px", s.duplicate || s.item) {
            if (s.item) return p = s.item(0), f = p.nodeName, { name: f, index: n(f, p) };c = s.duplicate();try {
              s.collapse(), s.pasteHTML('<span data-mce-type="bookmark" id="' + u + '_start" style="' + h + '">' + m + "</span>"), d || (c.collapse(!1), s.moveToElementText(c.parentElement()), 0 === s.compareEndPoints("StartToEnd", c) && c.move("character", -1), c.pasteHTML('<span data-mce-type="bookmark" id="' + u + '_end" style="' + h + '">' + m + "</span>"));
            } catch (g) {
              return null;
            }
          } else {
            if (p = o.getNode(), f = p.nodeName, "IMG" == f) return { name: f, index: n(f, p) };c = r(s.cloneRange()), d || (c.collapse(!1), c.insertNode(a.create("span", { "data-mce-type": "bookmark", id: u + "_end", style: h }, m))), s = r(s), s.collapse(!0), s.insertNode(a.create("span", { "data-mce-type": "bookmark", id: u + "_start", style: h }, m));
          }return o.moveToBookmark({ id: u, keep: 1 }), { id: u };
        }, moveToBookmark: function moveToBookmark(e) {
          function t(t) {
            var n = e[t ? "start" : "end"],
                r,
                i,
                o,
                l;if (n) {
              for (o = n[0], i = s, r = n.length - 1; r >= 1; r--) {
                if (l = i.childNodes, n[r] > l.length - 1) return;i = l[n[r]];
              }3 === i.nodeType && (o = Math.min(n[0], i.nodeValue.length)), 1 === i.nodeType && (o = Math.min(n[0], i.childNodes.length)), t ? a.setStart(i, o) : a.setEnd(i, o);
            }return !0;
          }function n(t) {
            var n = o.get(e.id + "_" + t),
                r,
                i,
                a,
                s,
                d = e.keep;if (n && (r = n.parentNode, "start" == t ? (d ? (r = n.firstChild, i = 1) : i = o.nodeIndex(n), u = p = r, m = h = i) : (d ? (r = n.firstChild, i = 1) : i = o.nodeIndex(n), p = r, h = i), !d)) {
              for (s = n.previousSibling, a = n.nextSibling, l(c(n.childNodes), function (e) {
                3 == e.nodeType && (e.nodeValue = e.nodeValue.replace(/\uFEFF/g, ""));
              }); n = o.get(e.id + "_" + t);) {
                o.remove(n, 1);
              }s && a && s.nodeType == a.nodeType && 3 == s.nodeType && !f && (i = s.nodeValue.length, s.appendData(a.nodeValue), o.remove(a), "start" == t ? (u = p = s, m = h = i) : (p = s, h = i));
            }
          }function r(e) {
            return !o.isBlock(e) || e.innerHTML || d || (e.innerHTML = '<br data-mce-bogus="1" />'), e;
          }var i = this,
              o = i.dom,
              a,
              s,
              u,
              p,
              m,
              h;if (e) if (e.start) {
            if (a = o.createRng(), s = o.getRoot(), i.tridentSel) return i.tridentSel.moveToBookmark(e);t(!0) && t() && i.setRng(a);
          } else e.id ? (n("start"), n("end"), u && (a = o.createRng(), a.setStart(r(u), m), a.setEnd(r(p), h), i.setRng(a))) : e.name ? i.select(o.select(e.name)[e.index]) : e.rng && i.setRng(e.rng);
        }, select: function select(e, t) {
          var n = this,
              r = n.dom,
              i = r.createRng(),
              o;if (n.lastFocusBookmark = null, e) {
            if (!t && n.controlSelection.controlSelect(e)) return;o = r.nodeIndex(e), i.setStart(e.parentNode, o), i.setEnd(e.parentNode, o + 1), t && (n._moveEndPoint(i, e, !0), n._moveEndPoint(i, e)), n.setRng(i);
          }return e;
        }, isCollapsed: function isCollapsed() {
          var e = this,
              t = e.getRng(),
              n = e.getSel();return !t || t.item ? !1 : t.compareEndPoints ? 0 === t.compareEndPoints("StartToEnd", t) : !n || t.collapsed;
        }, collapse: function collapse(e) {
          var t = this,
              n = t.getRng(),
              r;n.item && (r = n.item(0), n = t.win.document.body.createTextRange(), n.moveToElementText(r)), n.collapse(!!e), t.setRng(n);
        }, getSel: function getSel() {
          var e = this.win;return e.getSelection ? e.getSelection() : e.document.selection;
        }, getRng: function getRng(e) {
          function t(e, t, n) {
            try {
              return t.compareBoundaryPoints(e, n);
            } catch (r) {
              return -1;
            }
          }var n = this,
              r,
              i,
              o,
              a = n.win.document,
              s;if (!e && n.lastFocusBookmark) {
            var l = n.lastFocusBookmark;return l.startContainer ? (i = a.createRange(), i.setStart(l.startContainer, l.startOffset), i.setEnd(l.endContainer, l.endOffset)) : i = l, i;
          }if (e && n.tridentSel) return n.tridentSel.getRangeAt(0);try {
            (r = n.getSel()) && (i = r.rangeCount > 0 ? r.getRangeAt(0) : r.createRange ? r.createRange() : a.createRange());
          } catch (c) {}if (d && i && i.setStart && a.selection) {
            try {
              s = a.selection.createRange();
            } catch (c) {}s && s.item && (o = s.item(0), i = a.createRange(), i.setStartBefore(o), i.setEndAfter(o));
          }return i || (i = a.createRange ? a.createRange() : a.body.createTextRange()), i.setStart && 9 === i.startContainer.nodeType && i.collapsed && (o = n.dom.getRoot(), i.setStart(o, 0), i.setEnd(o, 0)), n.selectedRange && n.explicitRange && (0 === t(i.START_TO_START, i, n.selectedRange) && 0 === t(i.END_TO_END, i, n.selectedRange) ? i = n.explicitRange : (n.selectedRange = null, n.explicitRange = null)), i;
        }, setRng: function setRng(e, t) {
          var n = this,
              r;if (e.select) try {
            e.select();
          } catch (i) {} else if (n.tridentSel) {
            if (e.cloneRange) try {
              return void n.tridentSel.addRange(e);
            } catch (i) {}
          } else if (r = n.getSel()) {
            n.explicitRange = e;try {
              r.removeAllRanges(), r.addRange(e);
            } catch (i) {}t === !1 && r.extend && (r.collapse(e.endContainer, e.endOffset), r.extend(e.startContainer, e.startOffset)), n.selectedRange = r.rangeCount > 0 ? r.getRangeAt(0) : null;
          }
        }, setNode: function setNode(e) {
          var t = this;return t.setContent(t.dom.getOuterHTML(e)), e;
        }, getNode: function getNode() {
          function e(e, t) {
            for (var n = e; e && 3 === e.nodeType && 0 === e.length;) {
              e = t ? e.nextSibling : e.previousSibling;
            }return e || n;
          }var t = this,
              n = t.getRng(),
              r,
              i = n.startContainer,
              o = n.endContainer,
              a = n.startOffset,
              s = n.endOffset,
              l = t.dom.getRoot();return n ? n.setStart ? (r = n.commonAncestorContainer, !n.collapsed && (i == o && 2 > s - a && i.hasChildNodes() && (r = i.childNodes[a]), 3 === i.nodeType && 3 === o.nodeType && (i = i.length === a ? e(i.nextSibling, !0) : i.parentNode, o = 0 === s ? e(o.previousSibling, !1) : o.parentNode, i && i === o)) ? i : r && 3 == r.nodeType ? r.parentNode : r) : (r = n.item ? n.item(0) : n.parentElement(), r.ownerDocument !== t.win.document && (r = l), r) : l;
        }, getSelectedBlocks: function getSelectedBlocks(t, n) {
          var r = this,
              i = r.dom,
              o,
              a,
              s = [];if (a = i.getRoot(), t = i.getParent(t || r.getStart(), i.isBlock), n = i.getParent(n || r.getEnd(), i.isBlock), t && t != a && s.push(t), t && n && t != n) {
            o = t;for (var l = new e(t, a); (o = l.next()) && o != n;) {
              i.isBlock(o) && s.push(o);
            }
          }return n && t != n && n != a && s.push(n), s;
        }, isForward: function isForward() {
          var e = this.dom,
              t = this.getSel(),
              n,
              r;return t && t.anchorNode && t.focusNode ? (n = e.createRng(), n.setStart(t.anchorNode, t.anchorOffset), n.collapse(!0), r = e.createRng(), r.setStart(t.focusNode, t.focusOffset), r.collapse(!0), n.compareBoundaryPoints(n.START_TO_START, r) <= 0) : !0;
        }, normalize: function normalize() {
          var e = this,
              t = e.getRng();return !d && new i(e.dom).normalize(t) && e.setRng(t, e.isForward()), t;
        }, selectorChanged: function selectorChanged(e, t) {
          var n = this,
              r;return n.selectorChangedData || (n.selectorChangedData = {}, r = {}, n.editor.on("NodeChange", function (e) {
            var t = e.element,
                i = n.dom,
                o = i.getParents(t, null, i.getRoot()),
                a = {};l(n.selectorChangedData, function (e, t) {
              l(o, function (n) {
                return i.is(n, t) ? (r[t] || (l(e, function (e) {
                  e(!0, { node: n, selector: t, parents: o });
                }), r[t] = e), a[t] = e, !1) : void 0;
              });
            }), l(r, function (e, n) {
              a[n] || (delete r[n], l(e, function (e) {
                e(!1, { node: t, selector: n, parents: o });
              }));
            });
          })), n.selectorChangedData[e] || (n.selectorChangedData[e] = []), n.selectorChangedData[e].push(t), n;
        }, getScrollContainer: function getScrollContainer() {
          for (var e, t = this.dom.getRoot(); t && "BODY" != t.nodeName;) {
            if (t.scrollHeight > t.clientHeight) {
              e = t;break;
            }t = t.parentNode;
          }return e;
        }, scrollIntoView: function scrollIntoView(e) {
          function t(e) {
            for (var t = 0, n = 0, r = e; r && r.nodeType;) {
              t += r.offsetLeft || 0, n += r.offsetTop || 0, r = r.offsetParent;
            }return { x: t, y: n };
          }var n,
              r,
              i = this,
              o = i.dom,
              a = o.getRoot(),
              s,
              l;if ("BODY" != a.nodeName) {
            var c = i.getScrollContainer();if (c) return n = t(e).y - t(c).y, l = c.clientHeight, s = c.scrollTop, void ((s > n || n + 25 > s + l) && (c.scrollTop = s > n ? n : n - l + 25));
          }r = o.getViewPort(i.editor.getWin()), n = o.getPos(e).y, s = r.y, l = r.h, (n < r.y || n + 25 > s + l) && i.editor.getWin().scrollTo(0, s > n ? n : n - l + 25);
        }, _moveEndPoint: function _moveEndPoint(t, n, r) {
          var i = n,
              a = new e(n, i),
              s = this.dom.schema.getNonEmptyElements();do {
            if (3 == n.nodeType && 0 !== u(n.nodeValue).length) return void (r ? t.setStart(n, 0) : t.setEnd(n, n.nodeValue.length));if (s[n.nodeName]) return void (r ? t.setStartBefore(n) : "BR" == n.nodeName ? t.setEndBefore(n) : t.setEndAfter(n));if (o.ie && o.ie < 11 && this.dom.isBlock(n) && this.dom.isEmpty(n)) return void (r ? t.setStart(n, 0) : t.setEnd(n, 0));
          } while (n = r ? a.next() : a.prev());"BODY" == i.nodeName && (r ? t.setStart(i, 0) : t.setEnd(i, i.childNodes.length));
        }, destroy: function destroy() {
          this.win = null, this.controlSelection.destroy();
        } }, s;
    }), r(D, [f, B, p], function (e, t, n) {
      return function (r) {
        function i(e) {
          return e.nodeType && (e = e.nodeName), !!r.schema.getTextBlockElements()[e.toLowerCase()];
        }function o(e, t) {
          return I.getParents(e, t, I.getRoot());
        }function a(e) {
          return 1 === e.nodeType && "_mce_caret" === e.id;
        }function s() {
          u({ alignleft: [{ selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li", styles: { textAlign: "left" }, defaultBlock: "div" }, { selector: "img,table", collapsed: !1, styles: { "float": "left" } }], aligncenter: [{ selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li", styles: { textAlign: "center" }, defaultBlock: "div" }, { selector: "img", collapsed: !1, styles: { display: "block", marginLeft: "auto", marginRight: "auto" } }, { selector: "table", collapsed: !1, styles: { marginLeft: "auto", marginRight: "auto" } }], alignright: [{ selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li", styles: { textAlign: "right" }, defaultBlock: "div" }, { selector: "img,table", collapsed: !1, styles: { "float": "right" } }], alignjustify: [{ selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li", styles: { textAlign: "justify" }, defaultBlock: "div" }], bold: [{ inline: "strong", remove: "all" }, { inline: "span", styles: { fontWeight: "bold" } }, { inline: "b", remove: "all" }], italic: [{ inline: "em", remove: "all" }, { inline: "span", styles: { fontStyle: "italic" } }, { inline: "i", remove: "all" }], underline: [{ inline: "span", styles: { textDecoration: "underline" }, exact: !0 }, { inline: "u", remove: "all" }], strikethrough: [{ inline: "span", styles: { textDecoration: "line-through" }, exact: !0 }, { inline: "strike", remove: "all" }], forecolor: { inline: "span", styles: { color: "%value" }, wrap_links: !1 }, hilitecolor: { inline: "span", styles: { backgroundColor: "%value" }, wrap_links: !1 }, fontname: { inline: "span", styles: { fontFamily: "%value" } }, fontsize: { inline: "span", styles: { fontSize: "%value" } }, fontsize_class: { inline: "span", attributes: { "class": "%value" } }, blockquote: { block: "blockquote", wrapper: 1, remove: "all" }, subscript: { inline: "sub" }, superscript: { inline: "sup" }, code: { inline: "code" }, link: { inline: "a", selector: "a", remove: "all", split: !0, deep: !0, onmatch: function onmatch() {
                return !0;
              }, onformat: function onformat(e, t, n) {
                et(n, function (t, n) {
                  I.setAttrib(e, n, t);
                });
              } }, removeformat: [{ selector: "b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q", remove: "all", split: !0, expand: !1, block_expand: !0, deep: !0 }, { selector: "span", attributes: ["style", "class"], remove: "empty", split: !0, expand: !1, deep: !0 }, { selector: "*", attributes: ["style", "class"], split: !1, expand: !1, deep: !0 }] }), et("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/), function (e) {
            u(e, { block: e, remove: "all" });
          }), u(r.settings.formats);
        }function l() {
          r.addShortcut("ctrl+b", "bold_desc", "Bold"), r.addShortcut("ctrl+i", "italic_desc", "Italic"), r.addShortcut("ctrl+u", "underline_desc", "Underline");for (var e = 1; 6 >= e; e++) {
            r.addShortcut("ctrl+" + e, "", ["FormatBlock", !1, "h" + e]);
          }r.addShortcut("ctrl+7", "", ["FormatBlock", !1, "p"]), r.addShortcut("ctrl+8", "", ["FormatBlock", !1, "div"]), r.addShortcut("ctrl+9", "", ["FormatBlock", !1, "address"]);
        }function c(e) {
          return e ? O[e] : O;
        }function u(e, t) {
          e && ("string" != typeof e ? et(e, function (e, t) {
            u(t, e);
          }) : (t = t.length ? t : [t], et(t, function (e) {
            e.deep === X && (e.deep = !e.selector), e.split === X && (e.split = !e.selector || e.inline), e.remove === X && e.selector && !e.inline && (e.remove = "none"), e.selector && e.inline && (e.mixed = !0, e.block_expand = !0), "string" == typeof e.classes && (e.classes = e.classes.split(/\s+/));
          }), O[e] = t));
        }function d(e) {
          var t;return r.dom.getParent(e, function (e) {
            return t = r.dom.getStyle(e, "text-decoration"), t && "none" !== t;
          }), t;
        }function f(e) {
          var t;1 === e.nodeType && e.parentNode && 1 === e.parentNode.nodeType && (t = d(e.parentNode), r.dom.getStyle(e, "color") && t ? r.dom.setStyle(e, "text-decoration", t) : r.dom.getStyle(e, "textdecoration") === t && r.dom.setStyle(e, "text-decoration", null));
        }function p(t, n, o) {
          function s(e, t) {
            t = t || h, e && (t.onformat && t.onformat(e, t, n, o), et(t.styles, function (t, r) {
              I.setStyle(e, r, E(t, n));
            }), et(t.attributes, function (t, r) {
              I.setAttrib(e, r, E(t, n));
            }), et(t.classes, function (t) {
              t = E(t, n), I.hasClass(e, t) || I.addClass(e, t);
            }));
          }function l() {
            function t(t, n) {
              var r = new e(n);for (o = r.current(); o; o = r.prev()) {
                if (o.childNodes.length > 1 || o == t || "BR" == o.tagName) return o;
              }
            }var n = r.selection.getRng(),
                i = n.startContainer,
                a = n.endContainer;if (i != a && 0 === n.endOffset) {
              var s = t(i, a),
                  l = 3 == s.nodeType ? s.length : s.childNodes.length;n.setEnd(s, l);
            }return n;
          }function u(e, t, n, r, i) {
            var o = [],
                a = -1,
                s,
                l = -1,
                c = -1,
                u;return et(e.childNodes, function (e, t) {
              return "UL" === e.nodeName || "OL" === e.nodeName ? (a = t, s = e, !1) : void 0;
            }), et(e.childNodes, function (e, n) {
              "SPAN" === e.nodeName && "bookmark" == I.getAttrib(e, "data-mce-type") && (e.id == t.id + "_start" ? l = n : e.id == t.id + "_end" && (c = n));
            }), 0 >= a || a > l && c > a ? (et(tt(e.childNodes), i), 0) : (u = I.clone(n, K), et(tt(e.childNodes), function (e, t) {
              (a > l && a > t || l > a && t > a) && (o.push(e), e.parentNode.removeChild(e));
            }), a > l ? e.insertBefore(u, s) : l > a && e.insertBefore(u, s.nextSibling), r.push(u), et(o, function (e) {
              u.appendChild(e);
            }), u);
          }function d(e, r, o) {
            var l = [],
                c,
                d,
                f = !0;c = h.inline || h.block, d = I.create(c), s(d), z.walk(e, function (e) {
              function p(e) {
                var y, C, x, _, N;return N = f, y = e.nodeName.toLowerCase(), C = e.parentNode.nodeName.toLowerCase(), 1 === e.nodeType && J(e) && (N = f, f = "true" === J(e), _ = !0), w(y, "br") ? (v = 0, void (h.block && I.remove(e))) : h.wrapper && g(e, t, n) ? void (v = 0) : f && !_ && h.block && !h.wrapper && i(y) && W(C, c) ? (e = I.rename(e, c), s(e), l.push(e), void (v = 0)) : h.selector && (et(m, function (t) {
                  "collapsed" in t && t.collapsed !== b || I.is(e, t.selector) && !a(e) && (s(e, t), x = !0);
                }), !h.inline || x) ? void (v = 0) : void (!f || _ || !W(c, y) || !W(C, c) || !o && 3 === e.nodeType && 1 === e.nodeValue.length && 65279 === e.nodeValue.charCodeAt(0) || a(e) || h.inline && V(e) ? "li" == y && r ? v = u(e, r, d, l, p) : (v = 0, et(tt(e.childNodes), p), _ && (f = N), v = 0) : (v || (v = I.clone(d, K), e.parentNode.insertBefore(v, e), l.push(v)), v.appendChild(e)));
              }var v;et(e, p);
            }), h.wrap_links === !1 && et(l, function (e) {
              function t(e) {
                var n, r, i;if ("A" === e.nodeName) {
                  for (r = I.clone(d, K), l.push(r), i = tt(e.childNodes), n = 0; n < i.length; n++) {
                    r.appendChild(i[n]);
                  }e.appendChild(r);
                }et(tt(e.childNodes), t);
              }t(e);
            }), et(l, function (e) {
              function r(e) {
                var t = 0;return et(e.childNodes, function (e) {
                  S(e) || L(e) || t++;
                }), t;
              }function i(e) {
                var t, n;return et(e.childNodes, function (e) {
                  return 1 != e.nodeType || L(e) || a(e) ? void 0 : (t = e, K);
                }), t && !L(t) && x(t, h) && (n = I.clone(t, K), s(n), I.replace(n, e, Y), I.remove(t, 1)), n || e;
              }var o;if (o = r(e), (l.length > 1 || !V(e)) && 0 === o) return void I.remove(e, 1);if (h.inline || h.wrapper) {
                if (h.exact || 1 !== o || (e = i(e)), et(m, function (t) {
                  et(I.select(t.inline, e), function (e) {
                    var r;if (!L(e)) {
                      if (t.wrap_links === !1) {
                        r = e.parentNode;do {
                          if ("A" === r.nodeName) return;
                        } while (r = r.parentNode);
                      }R(t, n, e, t.exact ? e : null);
                    }
                  });
                }), g(e.parentNode, t, n)) return I.remove(e, 1), e = 0, Y;h.merge_with_parents && I.getParent(e.parentNode, function (r) {
                  return g(r, t, n) ? (I.remove(e, 1), e = 0, Y) : void 0;
                }), e && h.merge_siblings !== !1 && (e = D(B(e), e), e = D(e, B(e, Y)));
              }
            });
          }var m = c(t),
              h = m[0],
              v,
              y,
              b = !o && F.isCollapsed();if (h) if (o) o.nodeType ? (y = I.createRng(), y.setStartBefore(o), y.setEndAfter(o), d(T(y, m), null, !0)) : d(o, null, !0);else if (b && h.inline && !I.select("td.mce-item-selected,th.mce-item-selected").length) H("apply", t, n);else {
            var C = r.selection.getNode();U || !m[0].defaultBlock || I.getParent(C, I.isBlock) || p(m[0].defaultBlock), r.selection.setRng(l()), v = F.getBookmark(), d(T(F.getRng(Y), m), v), h.styles && (h.styles.color || h.styles.textDecoration) && (nt(C, f, "childNodes"), f(C)), F.moveToBookmark(v), P(F.getRng(Y)), r.nodeChanged();
          }
        }function m(e, t, n) {
          function i(e) {
            var n, r, o, a, s;if (1 === e.nodeType && J(e) && (a = b, b = "true" === J(e), s = !0), n = tt(e.childNodes), b && !s) for (r = 0, o = p.length; o > r && !R(p[r], t, e, e); r++) {}if (m.deep && n.length) {
              for (r = 0, o = n.length; o > r; r++) {
                i(n[r]);
              }s && (b = a);
            }
          }function a(n) {
            var r;return et(o(n.parentNode).reverse(), function (n) {
              var i;r || "_start" == n.id || "_end" == n.id || (i = g(n, e, t), i && i.split !== !1 && (r = n));
            }), r;
          }function s(e, n, r, i) {
            var o, a, s, l, c, u;if (e) {
              for (u = e.parentNode, o = n.parentNode; o && o != u; o = o.parentNode) {
                for (a = I.clone(o, K), c = 0; c < p.length; c++) {
                  if (R(p[c], t, a, a)) {
                    a = 0;break;
                  }
                }a && (s && a.appendChild(s), l || (l = a), s = a);
              }!i || m.mixed && V(e) || (n = I.split(e, n)), s && (r.parentNode.insertBefore(s, r), l.appendChild(r));
            }return n;
          }function l(e) {
            return s(a(e), e, e, !0);
          }function u(e) {
            var t = I.get(e ? "_start" : "_end"),
                n = t[e ? "firstChild" : "lastChild"];return L(n) && (n = n[e ? "firstChild" : "lastChild"]), I.remove(t, !0), n;
          }function f(e) {
            var t,
                n,
                o = e.commonAncestorContainer;e = T(e, p, Y), m.split && (t = M(e, Y), n = M(e), t != n ? (/^(TR|TH|TD)$/.test(t.nodeName) && t.firstChild && (t = "TR" == t.nodeName ? t.firstChild.firstChild || t : t.firstChild || t), o && /^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName) && /^(TH|TD)$/.test(n.nodeName) && n.firstChild && (n = n.firstChild || n), t = k(t, "span", { id: "_start", "data-mce-type": "bookmark" }), n = k(n, "span", { id: "_end", "data-mce-type": "bookmark" }), l(t), l(n), t = u(Y), n = u()) : t = n = l(t), e.startContainer = t.parentNode, e.startOffset = q(t), e.endContainer = n.parentNode, e.endOffset = q(n) + 1), z.walk(e, function (e) {
              et(e, function (e) {
                i(e), 1 === e.nodeType && "underline" === r.dom.getStyle(e, "text-decoration") && e.parentNode && "underline" === d(e.parentNode) && R({ deep: !1, exact: !0, inline: "span", styles: { textDecoration: "underline" } }, null, e);
              });
            });
          }var p = c(e),
              m = p[0],
              h,
              y,
              b = !0;return n ? void (n.nodeType ? (y = I.createRng(), y.setStartBefore(n), y.setEndAfter(n), f(y)) : f(n)) : void (F.isCollapsed() && m.inline && !I.select("td.mce-item-selected,th.mce-item-selected").length ? H("remove", e, t) : (h = F.getBookmark(), f(F.getRng(Y)), F.moveToBookmark(h), m.inline && v(e, t, F.getStart()) && P(F.getRng(!0)), r.nodeChanged()));
        }function h(e, t, n) {
          var r = c(e);!v(e, t, n) || "toggle" in r[0] && !r[0].toggle ? p(e, t, n) : m(e, t, n);
        }function g(e, t, n, r) {
          function i(e, t, i) {
            var o,
                a,
                s = t[i],
                l;if (t.onmatch) return t.onmatch(e, t, i);if (s) if (s.length === X) {
              for (o in s) {
                if (s.hasOwnProperty(o)) {
                  if (a = "attributes" === i ? I.getAttrib(e, o) : _(e, o), r && !a && !t.exact) return;if ((!r || t.exact) && !w(a, N(E(s[o], n), o))) return;
                }
              }
            } else for (l = 0; l < s.length; l++) {
              if ("attributes" === i ? I.getAttrib(e, s[l]) : _(e, s[l])) return t;
            }return t;
          }var o = c(t),
              a,
              s,
              l;if (o && e) for (s = 0; s < o.length; s++) {
            if (a = o[s], x(e, a) && i(e, a, "attributes") && i(e, a, "styles")) {
              if (l = a.classes) for (s = 0; s < l.length; s++) {
                if (!I.hasClass(e, l[s])) return;
              }return a;
            }
          }
        }function v(e, t, n) {
          function r(n) {
            var r = I.getRoot();return n === r ? !1 : (n = I.getParent(n, function (n) {
              return n.parentNode === r || !!g(n, e, t, !0);
            }), g(n, e, t));
          }var i;return n ? r(n) : (n = F.getNode(), r(n) ? Y : (i = F.getStart(), i != n && r(i) ? Y : K));
        }function y(e, t) {
          var n,
              r = [],
              i = {};return n = F.getStart(), I.getParent(n, function (n) {
            var o, a;for (o = 0; o < e.length; o++) {
              a = e[o], !i[a] && g(n, a, t) && (i[a] = !0, r.push(a));
            }
          }, I.getRoot()), r;
        }function b(e) {
          var t = c(e),
              n,
              r,
              i,
              a,
              s;if (t) for (n = F.getStart(), r = o(n), a = t.length - 1; a >= 0; a--) {
            if (s = t[a].selector, !s || t[a].defaultBlock) return Y;for (i = r.length - 1; i >= 0; i--) {
              if (I.is(r[i], s)) return Y;
            }
          }return K;
        }function C(e, t, n) {
          var i;return G || (G = {}, i = {}, r.on("NodeChange", function (e) {
            var t = o(e.element),
                n = {};et(G, function (e, r) {
              et(t, function (o) {
                return g(o, r, {}, e.similar) ? (i[r] || (et(e, function (e) {
                  e(!0, { node: o, format: r, parents: t });
                }), i[r] = e), n[r] = e, !1) : void 0;
              });
            }), et(i, function (r, o) {
              n[o] || (delete i[o], et(r, function (n) {
                n(!1, { node: e.element, format: o, parents: t });
              }));
            });
          })), et(e.split(","), function (e) {
            G[e] || (G[e] = [], G[e].similar = n), G[e].push(t);
          }), this;
        }function x(e, t) {
          return w(e, t.inline) ? Y : w(e, t.block) ? Y : t.selector ? 1 == e.nodeType && I.is(e, t.selector) : void 0;
        }function w(e, t) {
          return e = e || "", t = t || "", e = "" + (e.nodeName || e), t = "" + (t.nodeName || t), e.toLowerCase() == t.toLowerCase();
        }function _(e, t) {
          return N(I.getStyle(e, t), t);
        }function N(e, t) {
          return ("color" == t || "backgroundColor" == t) && (e = I.toHex(e)), "fontWeight" == t && 700 == e && (e = "bold"), "fontFamily" == t && (e = e.replace(/[\'\"]/g, "").replace(/,\s+/g, ",")), "" + e;
        }function E(e, t) {
          return "string" != typeof e ? e = e(t) : t && (e = e.replace(/%(\w+)/g, function (e, n) {
            return t[n] || e;
          })), e;
        }function S(e) {
          return e && 3 === e.nodeType && /^([\t \r\n]+|)$/.test(e.nodeValue);
        }function k(e, t, n) {
          var r = I.create(t, n);return e.parentNode.insertBefore(r, e), r.appendChild(e), r;
        }function T(t, n, a) {
          function s(e) {
            function t(e) {
              return "BR" == e.nodeName && e.getAttribute("data-mce-bogus") && !e.nextSibling;
            }var r, i, o, a, s;if (r = i = e ? g : y, a = e ? "previousSibling" : "nextSibling", s = I.getRoot(), 3 == r.nodeType && !S(r) && (e ? v > 0 : b < r.nodeValue.length)) return r;for (;;) {
              if (!n[0].block_expand && V(i)) return i;for (o = i[a]; o; o = o[a]) {
                if (!L(o) && !S(o) && !t(o)) return i;
              }if (i.parentNode == s) {
                r = i;break;
              }i = i.parentNode;
            }return r;
          }function l(e, t) {
            for (t === X && (t = 3 === e.nodeType ? e.length : e.childNodes.length); e && e.hasChildNodes();) {
              e = e.childNodes[t], e && (t = 3 === e.nodeType ? e.length : e.childNodes.length);
            }return { node: e, offset: t };
          }function c(e) {
            for (var t = e; t;) {
              if (1 === t.nodeType && J(t)) return "false" === J(t) ? t : e;t = t.parentNode;
            }return e;
          }function u(t, n, i) {
            function o(e, t) {
              var n,
                  r,
                  o = e.nodeValue;return "undefined" == typeof t && (t = i ? o.length : 0), i ? (n = o.lastIndexOf(" ", t), r = o.lastIndexOf("\xa0", t), n = n > r ? n : r, -1 === n || a || n++) : (n = o.indexOf(" ", t), r = o.indexOf("\xa0", t), n = -1 !== n && (-1 === r || r > n) ? n : r), n;
            }var s, l, c, u;if (3 === t.nodeType) {
              if (c = o(t, n), -1 !== c) return { container: t, offset: c };u = t;
            }for (s = new e(t, I.getParent(t, V) || r.getBody()); l = s[i ? "prev" : "next"]();) {
              if (3 === l.nodeType) {
                if (u = l, c = o(l), -1 !== c) return { container: l, offset: c };
              } else if (V(l)) break;
            }return u ? (n = i ? 0 : u.length, { container: u, offset: n }) : void 0;
          }function d(e, r) {
            var i, a, s, l;for (3 == e.nodeType && 0 === e.nodeValue.length && e[r] && (e = e[r]), i = o(e), a = 0; a < i.length; a++) {
              for (s = 0; s < n.length; s++) {
                if (l = n[s], !("collapsed" in l && l.collapsed !== t.collapsed) && I.is(i[a], l.selector)) return i[a];
              }
            }return e;
          }function f(e, t) {
            var r,
                a = I.getRoot();if (n[0].wrapper || (r = I.getParent(e, n[0].block, a)), r || (r = I.getParent(3 == e.nodeType ? e.parentNode : e, function (e) {
              return e != a && i(e);
            })), r && n[0].wrapper && (r = o(r, "ul,ol").reverse()[0] || r), !r) for (r = e; r[t] && !V(r[t]) && (r = r[t], !w(r, "br"));) {}return r || e;
          }var p,
              m,
              h,
              g = t.startContainer,
              v = t.startOffset,
              y = t.endContainer,
              b = t.endOffset;if (1 == g.nodeType && g.hasChildNodes() && (p = g.childNodes.length - 1, g = g.childNodes[v > p ? p : v], 3 == g.nodeType && (v = 0)), 1 == y.nodeType && y.hasChildNodes() && (p = y.childNodes.length - 1, y = y.childNodes[b > p ? p : b - 1], 3 == y.nodeType && (b = y.nodeValue.length)), g = c(g), y = c(y), (L(g.parentNode) || L(g)) && (g = L(g) ? g : g.parentNode, g = g.nextSibling || g, 3 == g.nodeType && (v = 0)), (L(y.parentNode) || L(y)) && (y = L(y) ? y : y.parentNode, y = y.previousSibling || y, 3 == y.nodeType && (b = y.length)), n[0].inline && (t.collapsed && (h = u(g, v, !0), h && (g = h.container, v = h.offset), h = u(y, b), h && (y = h.container, b = h.offset)), m = l(y, b), m.node)) {
            for (; m.node && 0 === m.offset && m.node.previousSibling;) {
              m = l(m.node.previousSibling);
            }m.node && m.offset > 0 && 3 === m.node.nodeType && " " === m.node.nodeValue.charAt(m.offset - 1) && m.offset > 1 && (y = m.node, y.splitText(m.offset - 1));
          }return (n[0].inline || n[0].block_expand) && (n[0].inline && 3 == g.nodeType && 0 !== v || (g = s(!0)), n[0].inline && 3 == y.nodeType && b !== y.nodeValue.length || (y = s())), n[0].selector && n[0].expand !== K && !n[0].inline && (g = d(g, "previousSibling"), y = d(y, "nextSibling")), (n[0].block || n[0].selector) && (g = f(g, "previousSibling"), y = f(y, "nextSibling"), n[0].block && (V(g) || (g = s(!0)), V(y) || (y = s()))), 1 == g.nodeType && (v = q(g), g = g.parentNode), 1 == y.nodeType && (b = q(y) + 1, y = y.parentNode), { startContainer: g, startOffset: v, endContainer: y, endOffset: b };
        }function R(e, t, n, r) {
          var i, o, a;if (!x(n, e)) return K;if ("all" != e.remove) for (et(e.styles, function (e, i) {
            e = N(E(e, t), i), "number" == typeof i && (i = e, r = 0), (!r || w(_(r, i), e)) && I.setStyle(n, i, ""), a = 1;
          }), a && "" === I.getAttrib(n, "style") && (n.removeAttribute("style"), n.removeAttribute("data-mce-style")), et(e.attributes, function (e, i) {
            var o;if (e = E(e, t), "number" == typeof i && (i = e, r = 0), !r || w(I.getAttrib(r, i), e)) {
              if ("class" == i && (e = I.getAttrib(n, i), e && (o = "", et(e.split(/\s+/), function (e) {
                /mce\w+/.test(e) && (o += (o ? " " : "") + e);
              }), o))) return void I.setAttrib(n, i, o);"class" == i && n.removeAttribute("className"), j.test(i) && n.removeAttribute("data-mce-" + i), n.removeAttribute(i);
            }
          }), et(e.classes, function (e) {
            e = E(e, t), (!r || I.hasClass(r, e)) && I.removeClass(n, e);
          }), o = I.getAttribs(n), i = 0; i < o.length; i++) {
            if (0 !== o[i].nodeName.indexOf("_")) return K;
          }return "none" != e.remove ? (A(n, e), Y) : void 0;
        }function A(e, t) {
          function n(e, t, n) {
            return e = B(e, t, n), !e || "BR" == e.nodeName || V(e);
          }var i = e.parentNode,
              o;t.block && (U ? i == I.getRoot() && (t.list_block && w(e, t.list_block) || et(tt(e.childNodes), function (e) {
            W(U, e.nodeName.toLowerCase()) ? o ? o.appendChild(e) : (o = k(e, U), I.setAttribs(o, r.settings.forced_root_block_attrs)) : o = 0;
          })) : V(e) && !V(i) && (n(e, K) || n(e.firstChild, Y, 1) || e.insertBefore(I.create("br"), e.firstChild), n(e, Y) || n(e.lastChild, K, 1) || e.appendChild(I.create("br")))), t.selector && t.inline && !w(t.inline, e) || I.remove(e, 1);
        }function B(e, t, n) {
          if (e) for (t = t ? "nextSibling" : "previousSibling", e = n ? e : e[t]; e; e = e[t]) {
            if (1 == e.nodeType || !S(e)) return e;
          }
        }function L(e) {
          return e && 1 == e.nodeType && "bookmark" == e.getAttribute("data-mce-type");
        }function D(e, t) {
          function n(e, t) {
            function n(e) {
              var t = {};return et(I.getAttribs(e), function (n) {
                var r = n.nodeName.toLowerCase();0 !== r.indexOf("_") && "style" !== r && "data-mce-style" !== r && (t[r] = I.getAttrib(e, r));
              }), t;
            }function r(e, t) {
              var n, r;for (r in e) {
                if (e.hasOwnProperty(r)) {
                  if (n = t[r], n === X) return K;if (e[r] != n) return K;delete t[r];
                }
              }for (r in t) {
                if (t.hasOwnProperty(r)) return K;
              }return Y;
            }return e.nodeName != t.nodeName ? K : r(n(e), n(t)) && r(I.parseStyle(I.getAttrib(e, "style")), I.parseStyle(I.getAttrib(t, "style"))) ? !L(e) && !L(t) : K;
          }function r(e, t) {
            for (i = e; i; i = i[t]) {
              if (3 == i.nodeType && 0 !== i.nodeValue.length) return e;if (1 == i.nodeType && !L(i)) return i;
            }return e;
          }var i, o;if (e && t && (e = r(e, "previousSibling"), t = r(t, "nextSibling"), n(e, t))) {
            for (i = e.nextSibling; i && i != t;) {
              o = i, i = i.nextSibling, e.appendChild(o);
            }return I.remove(t), et(tt(t.childNodes), function (t) {
              e.appendChild(t);
            }), e;
          }return t;
        }function M(t, n) {
          var i, o, a;return i = t[n ? "startContainer" : "endContainer"], o = t[n ? "startOffset" : "endOffset"], 1 == i.nodeType && (a = i.childNodes.length - 1, !n && o && o--, i = i.childNodes[o > a ? a : o]), 3 === i.nodeType && n && o >= i.nodeValue.length && (i = new e(i, r.getBody()).next() || i), 3 !== i.nodeType || n || 0 !== o || (i = new e(i, r.getBody()).prev() || i), i;
        }function H(t, n, o) {
          function a(e) {
            var t = I.create("span", { id: y, "data-mce-bogus": !0, style: b ? "color:red" : "" });return e && t.appendChild(r.getDoc().createTextNode($)), t;
          }function s(e, t) {
            for (; e;) {
              if (3 === e.nodeType && e.nodeValue !== $ || e.childNodes.length > 1) return !1;t && 1 === e.nodeType && t.push(e), e = e.firstChild;
            }return !0;
          }function l(e) {
            for (; e;) {
              if (e.id === y) return e;e = e.parentNode;
            }
          }function u(t) {
            var n;if (t) for (n = new e(t, t), t = n.current(); t; t = n.next()) {
              if (3 === t.nodeType) return t;
            }
          }function d(e, t) {
            var n, r;if (e) r = F.getRng(!0), s(e) ? (t !== !1 && (r.setStartBefore(e), r.setEndBefore(e)), I.remove(e)) : (n = u(e), n.nodeValue.charAt(0) === $ && (n = n.deleteData(0, 1)), I.remove(e, 1)), F.setRng(r);else if (e = l(F.getStart()), !e) for (; e = I.get(y);) {
              d(e, !1);
            }
          }function f() {
            var e, t, r, i, s, d, f;e = F.getRng(!0), i = e.startOffset, d = e.startContainer, f = d.nodeValue, t = l(F.getStart()), t && (r = u(t)), f && i > 0 && i < f.length && /\w/.test(f.charAt(i)) && /\w/.test(f.charAt(i - 1)) ? (s = F.getBookmark(), e.collapse(!0), e = T(e, c(n)), e = z.split(e), p(n, o, e), F.moveToBookmark(s)) : (t && r.nodeValue === $ ? p(n, o, t) : (t = a(!0), r = t.firstChild, e.insertNode(t), i = 1, p(n, o, t)), F.setCursorLocation(r, i));
          }function h() {
            var e = F.getRng(!0),
                t,
                r,
                s,
                l,
                u,
                d,
                f = [],
                p,
                h;for (t = e.startContainer, r = e.startOffset, u = t, 3 == t.nodeType && ((r != t.nodeValue.length || t.nodeValue === $) && (l = !0), u = u.parentNode); u;) {
              if (g(u, n, o)) {
                d = u;break;
              }u.nextSibling && (l = !0), f.push(u), u = u.parentNode;
            }if (d) if (l) s = F.getBookmark(), e.collapse(!0), e = T(e, c(n), !0), e = z.split(e), m(n, o, e), F.moveToBookmark(s);else {
              for (h = a(), u = h, p = f.length - 1; p >= 0; p--) {
                u.appendChild(I.clone(f[p], !1)), u = u.firstChild;
              }u.appendChild(I.doc.createTextNode($)), u = u.firstChild;var v = I.getParent(d, i);v && I.isEmpty(v) ? d.parentNode.replaceChild(h, d) : I.insertAfter(h, d), F.setCursorLocation(u, 1), I.isEmpty(d) && I.remove(d);
            }
          }function v() {
            var e;e = l(F.getStart()), e && !I.isEmpty(e) && nt(e, function (e) {
              1 != e.nodeType || e.id === y || I.isEmpty(e) || I.setAttrib(e, "data-mce-bogus", null);
            }, "childNodes");
          }var y = "_mce_caret",
              b = r.settings.caret_debug;r._hasCaretEvents || (Z = function Z() {
            var e = [],
                t;if (s(l(F.getStart()), e)) for (t = e.length; t--;) {
              I.setAttrib(e[t], "data-mce-bogus", "1");
            }
          }, Q = function Q(e) {
            var t = e.keyCode;d(), (8 == t || 37 == t || 39 == t) && d(l(F.getStart())), v();
          }, r.on("SetContent", function (e) {
            e.selection && v();
          }), r._hasCaretEvents = !0), "apply" == t ? f() : h();
        }function P(t) {
          var n = t.startContainer,
              r = t.startOffset,
              i,
              o,
              a,
              s,
              l;if (3 == n.nodeType && r >= n.nodeValue.length && (r = q(n), n = n.parentNode, i = !0), 1 == n.nodeType) for (s = n.childNodes, n = s[Math.min(r, s.length - 1)], o = new e(n, I.getParent(n, I.isBlock)), (r > s.length - 1 || i) && o.next(), a = o.current(); a; a = o.next()) {
            if (3 == a.nodeType && !S(a)) return l = I.create("a", null, $), a.parentNode.insertBefore(l, a), t.setStart(a, 0), F.setRng(t), void I.remove(l);
          }
        }var O = {},
            I = r.dom,
            F = r.selection,
            z = new t(I),
            W = r.schema.isValidChild,
            V = I.isBlock,
            U = r.settings.forced_root_block,
            q = I.nodeIndex,
            $ = "\uFEFF",
            j = /^(src|href|style)$/,
            K = !1,
            Y = !0,
            G,
            X,
            J = I.getContentEditable,
            Q,
            Z,
            et = n.each,
            tt = n.grep,
            nt = n.walk,
            rt = n.extend;rt(this, { get: c, register: u, apply: p, remove: m, toggle: h, match: v, matchAll: y, matchNode: g, canApply: b, formatChanged: C }), s(), l(), r.on("BeforeGetContent", function () {
          Z && Z();
        }), r.on("mouseup keydown", function (e) {
          Q && Q(e);
        });
      };
    }), r(M, [g, p], function (e, t) {
      var n = t.trim,
          r;return r = new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\\/span>", "<div[^>]+data-mce-bogus[^>]+><\\/div>", '\\s?data-mce-selected="[^"]+"'].join("|"), "gi"), function (t) {
        function i() {
          return n(t.getContent({ format: "raw", no_events: 1 }).replace(r, ""));
        }function o(e) {
          a.typing = !1, a.add({}, e);
        }var a = this,
            s = 0,
            l = [],
            c,
            u,
            d;return t.on("init", function () {
          a.add();
        }), t.on("BeforeExecCommand", function (e) {
          var t = e.command;"Undo" != t && "Redo" != t && "mceRepaint" != t && a.beforeChange();
        }), t.on("ExecCommand", function (e) {
          var t = e.command;"Undo" != t && "Redo" != t && "mceRepaint" != t && o(e);
        }), t.on("ObjectResizeStart", function () {
          a.beforeChange();
        }), t.on("SaveContent ObjectResized blur", o), t.dom.bind(t.dom.getRoot(), "dragend", o), t.on("KeyUp", function (n) {
          var r = n.keyCode;(r >= 33 && 36 >= r || r >= 37 && 40 >= r || 45 == r || 13 == r || n.ctrlKey) && (o(), t.nodeChanged()), (46 == r || 8 == r || e.mac && (91 == r || 93 == r)) && t.nodeChanged(), u && a.typing && (t.isDirty() || (t.isNotDirty = !l[0] || i() == l[0].content, t.isNotDirty || t.fire("change", { level: l[0], lastLevel: null })), t.fire("TypingUndo"), u = !1, t.nodeChanged());
        }), t.on("KeyDown", function (e) {
          var t = e.keyCode;return t >= 33 && 36 >= t || t >= 37 && 40 >= t || 45 == t ? void (a.typing && o(e)) : void ((16 > t || t > 20) && 224 != t && 91 != t && !a.typing && (a.beforeChange(), a.typing = !0, a.add({}, e), u = !0));
        }), t.on("MouseDown", function (e) {
          a.typing && o(e);
        }), t.addShortcut("ctrl+z", "", "Undo"), t.addShortcut("ctrl+y,ctrl+shift+z", "", "Redo"), t.on("AddUndo Undo Redo ClearUndos MouseUp", function (e) {
          e.isDefaultPrevented() || t.nodeChanged();
        }), a = { data: l, typing: !1, beforeChange: function beforeChange() {
            d || (c = t.selection.getBookmark(2, !0));
          }, add: function add(e, n) {
            var r,
                o = t.settings,
                a;if (e = e || {}, e.content = i(), d || t.removed) return null;if (t.fire("BeforeAddUndo", { level: e, originalEvent: n }).isDefaultPrevented()) return null;if (a = l[s], a && a.content == e.content) return null;if (l[s] && (l[s].beforeBookmark = c), o.custom_undo_redo_levels && l.length > o.custom_undo_redo_levels) {
              for (r = 0; r < l.length - 1; r++) {
                l[r] = l[r + 1];
              }l.length--, s = l.length;
            }e.bookmark = t.selection.getBookmark(2, !0), s < l.length - 1 && (l.length = s + 1), l.push(e), s = l.length - 1;var u = { level: e, lastLevel: a, originalEvent: n };return t.fire("AddUndo", u), s > 0 && (t.isNotDirty = !1, t.fire("change", u)), e;
          }, undo: function undo() {
            var e;return a.typing && (a.add(), a.typing = !1), s > 0 && (e = l[--s], 0 === s && (t.isNotDirty = !0), t.setContent(e.content, { format: "raw" }), t.selection.moveToBookmark(e.beforeBookmark), t.fire("undo", { level: e })), e;
          }, redo: function redo() {
            var e;return s < l.length - 1 && (e = l[++s], t.setContent(e.content, { format: "raw" }), t.selection.moveToBookmark(e.bookmark), t.fire("redo", { level: e })), e;
          }, clear: function clear() {
            l = [], s = 0, a.typing = !1, t.fire("ClearUndos");
          }, hasUndo: function hasUndo() {
            return s > 0 || a.typing && l[0] && i() != l[0].content;
          }, hasRedo: function hasRedo() {
            return s < l.length - 1 && !this.typing;
          }, transact: function transact(e) {
            a.beforeChange(), d = !0, e(), d = !1, a.add();
          } };
      };
    }), r(H, [f, B, g], function (e, t, n) {
      var r = n.ie && n.ie < 11;return function (i) {
        function o(o) {
          function f(e) {
            return e && a.isBlock(e) && !/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName) && !/^(fixed|absolute)/i.test(e.style.position) && "true" !== a.getContentEditable(e);
          }function p(e) {
            var t;a.isBlock(e) && (t = s.getRng(), e.appendChild(a.create("span", null, "\xa0")), s.select(e), e.lastChild.outerHTML = "", s.setRng(t));
          }function m(e) {
            for (var t = e, n = [], r; t = t.firstChild;) {
              if (a.isBlock(t)) return;1 != t.nodeType || d[t.nodeName.toLowerCase()] || n.push(t);
            }for (r = n.length; r--;) {
              t = n[r], !t.hasChildNodes() || t.firstChild == t.lastChild && "" === t.firstChild.nodeValue ? a.remove(t) : "A" == t.nodeName && " " === (t.innerText || t.textContent) && a.remove(t);
            }
          }function h(t) {
            function r(e) {
              for (; e;) {
                if (1 == e.nodeType || 3 == e.nodeType && e.data && /[\r\n\s]/.test(e.data)) return e;e = e.nextSibling;
              }
            }var i,
                o,
                l,
                c = t,
                u;if (n.ie && n.ie < 9 && B && B.firstChild && B.firstChild == B.lastChild && "BR" == B.firstChild.tagName && a.remove(B.firstChild), "LI" == t.nodeName) {
              var f = r(t.firstChild);f && /^(UL|OL)$/.test(f.nodeName) && t.insertBefore(a.doc.createTextNode("\xa0"), t.firstChild);
            }if (l = a.createRng(), t.hasChildNodes()) {
              for (i = new e(t, t); o = i.current();) {
                if (3 == o.nodeType) {
                  l.setStart(o, 0), l.setEnd(o, 0);break;
                }if (d[o.nodeName.toLowerCase()]) {
                  l.setStartBefore(o), l.setEndBefore(o);break;
                }c = o, o = i.next();
              }o || (l.setStart(c, 0), l.setEnd(c, 0));
            } else "BR" == t.nodeName ? t.nextSibling && a.isBlock(t.nextSibling) ? ((!L || 9 > L) && (u = a.create("br"), t.parentNode.insertBefore(u, t)), l.setStartBefore(t), l.setEndBefore(t)) : (l.setStartAfter(t), l.setEndAfter(t)) : (l.setStart(t, 0), l.setEnd(t, 0));s.setRng(l), a.remove(u), s.scrollIntoView(t);
          }function g(e) {
            var t = l.forced_root_block;t && t.toLowerCase() === e.tagName.toLowerCase() && a.setAttribs(e, l.forced_root_block_attrs);
          }function v(e) {
            var t = R,
                n,
                i,
                o;if (e || "TABLE" == O ? (n = a.create(e || F), g(n)) : n = B.cloneNode(!1), o = n, l.keep_styles !== !1) do {
              if (/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U|VAR|CITE|DFN|CODE|MARK|Q|SUP|SUB|SAMP)$/.test(t.nodeName)) {
                if ("_mce_caret" == t.id) continue;i = t.cloneNode(!1), a.setAttrib(i, "id", ""), n.hasChildNodes() ? (i.appendChild(n.firstChild), n.appendChild(i)) : (o = i, n.appendChild(i));
              }
            } while (t = t.parentNode);return r || (o.innerHTML = '<br data-mce-bogus="1">'), n;
          }function y(t) {
            var n, r, i;if (3 == R.nodeType && (t ? A > 0 : A < R.nodeValue.length)) return !1;if (R.parentNode == B && z && !t) return !0;if (t && 1 == R.nodeType && R == B.firstChild) return !0;if ("TABLE" === R.nodeName || R.previousSibling && "TABLE" == R.previousSibling.nodeName) return z && !t || !z && t;for (n = new e(R, B), 3 == R.nodeType && (t && 0 === A ? n.prev() : t || A != R.nodeValue.length || n.next()); r = n.current();) {
              if (1 === r.nodeType) {
                if (!r.getAttribute("data-mce-bogus") && (i = r.nodeName.toLowerCase(), d[i] && "br" !== i)) return !1;
              } else if (3 === r.nodeType && !/^[ \t\r\n]*$/.test(r.nodeValue)) return !1;t ? n.prev() : n.next();
            }return !0;
          }function b(e, t) {
            var n,
                r,
                o,
                s,
                l,
                c,
                d = F || "P";if (r = a.getParent(e, a.isBlock), c = i.getBody().nodeName.toLowerCase(), !r || !f(r)) {
              if (r = r || T, !r.hasChildNodes()) return n = a.create(d), g(n), r.appendChild(n), S.setStart(n, 0), S.setEnd(n, 0), n;for (s = e; s.parentNode != r;) {
                s = s.parentNode;
              }for (; s && !a.isBlock(s);) {
                o = s, s = s.previousSibling;
              }if (o && u.isValidChild(c, d.toLowerCase())) {
                for (n = a.create(d), g(n), o.parentNode.insertBefore(n, o), s = o; s && !a.isBlock(s);) {
                  l = s.nextSibling, n.appendChild(s), s = l;
                }S.setStart(e, t), S.setEnd(e, t);
              }
            }return e;
          }function C() {
            function e(e) {
              for (var t = P[e ? "firstChild" : "lastChild"]; t && 1 != t.nodeType;) {
                t = t[e ? "nextSibling" : "previousSibling"];
              }return t === B;
            }function t() {
              var e = P.parentNode;return "LI" == e.nodeName ? e : P;
            }var n = P.parentNode.nodeName;/^(OL|UL|LI)$/.test(n) && (F = "LI"), M = F ? v(F) : a.create("BR"), e(!0) && e() ? "LI" == n ? a.insertAfter(M, t()) : a.replace(M, P) : e(!0) ? "LI" == n ? (a.insertAfter(M, t()), M.appendChild(a.doc.createTextNode(" ")), M.appendChild(P)) : P.parentNode.insertBefore(M, P) : e() ? (a.insertAfter(M, t()), p(M)) : (P = t(), k = S.cloneRange(), k.setStartAfter(B), k.setEndAfter(P), H = k.extractContents(), "LI" == F && "LI" == H.firstChild.nodeName ? (M = H.firstChild, a.insertAfter(H, P)) : (a.insertAfter(H, P), a.insertAfter(M, P))), a.remove(B), h(M), c.add();
          }function x() {
            for (var t = new e(R, B), n; n = t.next();) {
              if (d[n.nodeName.toLowerCase()] || n.length > 0) return !0;
            }
          }function w() {
            var e, t, n;R && 3 == R.nodeType && A >= R.nodeValue.length && (r || x() || (e = a.create("br"), S.insertNode(e), S.setStartAfter(e), S.setEndAfter(e), t = !0)), e = a.create("br"), S.insertNode(e), r && "PRE" == O && (!L || 8 > L) && e.parentNode.insertBefore(a.doc.createTextNode("\r"), e), n = a.create("span", {}, "&nbsp;"), e.parentNode.insertBefore(n, e), s.scrollIntoView(n), a.remove(n), t ? (S.setStartBefore(e), S.setEndBefore(e)) : (S.setStartAfter(e), S.setEndAfter(e)), s.setRng(S), c.add();
          }function _(e) {
            do {
              3 === e.nodeType && (e.nodeValue = e.nodeValue.replace(/^[\r\n]+/, "")), e = e.firstChild;
            } while (e);
          }function N(e) {
            var t = a.getRoot(),
                n,
                r;for (n = e; n !== t && "false" !== a.getContentEditable(n);) {
              "true" === a.getContentEditable(n) && (r = n), n = n.parentNode;
            }return n !== t ? r : t;
          }function E(e) {
            var t;r || (e.normalize(), t = e.lastChild, (!t || /^(left|right)$/gi.test(a.getStyle(t, "float", !0))) && a.add(e, "br"));
          }var S, k, T, R, A, B, L, D, M, H, P, O, I, F, z;if (S = s.getRng(!0), !o.isDefaultPrevented()) {
            if (!S.collapsed) return void i.execCommand("Delete");if (new t(a).normalize(S), R = S.startContainer, A = S.startOffset, F = (l.force_p_newlines ? "p" : "") || l.forced_root_block, F = F ? F.toUpperCase() : "", L = a.doc.documentMode, D = o.shiftKey, 1 == R.nodeType && R.hasChildNodes() && (z = A > R.childNodes.length - 1, R = R.childNodes[Math.min(A, R.childNodes.length - 1)] || R, A = z && 3 == R.nodeType ? R.nodeValue.length : 0), T = N(R)) {
              if (c.beforeChange(), !a.isBlock(T) && T != a.getRoot()) return void ((!F || D) && w());if ((F && !D || !F && D) && (R = b(R, A)), B = a.getParent(R, a.isBlock), P = B ? a.getParent(B.parentNode, a.isBlock) : null, O = B ? B.nodeName.toUpperCase() : "", I = P ? P.nodeName.toUpperCase() : "", "LI" != I || o.ctrlKey || (B = P, O = I), "LI" == O) {
                if (!F && D) return void w();if (a.isEmpty(B)) return void C();
              }if ("PRE" == O && l.br_in_pre !== !1) {
                if (!D) return void w();
              } else if (!F && !D && "LI" != O || F && D) return void w();F && B === i.getBody() || (F = F || "P", y() ? (M = /^(H[1-6]|PRE|FIGURE)$/.test(O) && "HGROUP" != I ? v(F) : v(), l.end_container_on_empty_block && f(P) && a.isEmpty(B) ? M = a.split(P, B) : a.insertAfter(M, B), h(M)) : y(!0) ? (M = B.parentNode.insertBefore(v(), B), p(M), h(B)) : (k = S.cloneRange(), k.setEndAfter(B), H = k.extractContents(), _(H), M = H.firstChild, a.insertAfter(H, B), m(M), E(B), h(M)), a.setAttrib(M, "id", ""), i.fire("NewBlock", { newBlock: M }), c.add());
            }
          }
        }var a = i.dom,
            s = i.selection,
            l = i.settings,
            c = i.undoManager,
            u = i.schema,
            d = u.getNonEmptyElements();i.on("keydown", function (e) {
          13 == e.keyCode && o(e) !== !1 && e.preventDefault();
        });
      };
    }), r(P, [], function () {
      return function (e) {
        function t() {
          var t = i.getStart(),
              s = e.getBody(),
              l,
              c,
              u,
              d,
              f,
              p,
              m,
              h = -16777215,
              g,
              v,
              y,
              b,
              C;if (C = n.forced_root_block, t && 1 === t.nodeType && C) {
            for (; t && t != s;) {
              if (a[t.nodeName]) return;t = t.parentNode;
            }if (l = i.getRng(), l.setStart) {
              c = l.startContainer, u = l.startOffset, d = l.endContainer, f = l.endOffset;try {
                v = e.getDoc().activeElement === s;
              } catch (x) {}
            } else l.item && (t = l.item(0), l = e.getDoc().body.createTextRange(), l.moveToElementText(t)), v = l.parentElement().ownerDocument === e.getDoc(), y = l.duplicate(), y.collapse(!0), u = -1 * y.move("character", h), y.collapsed || (y = l.duplicate(), y.collapse(!1), f = -1 * y.move("character", h) - u);for (t = s.firstChild, b = s.nodeName.toLowerCase(); t;) {
              if ((3 === t.nodeType || 1 == t.nodeType && !a[t.nodeName]) && o.isValidChild(b, C.toLowerCase())) {
                if (3 === t.nodeType && 0 === t.nodeValue.length) {
                  m = t, t = t.nextSibling, r.remove(m);continue;
                }p || (p = r.create(C, e.settings.forced_root_block_attrs), t.parentNode.insertBefore(p, t), g = !0), m = t, t = t.nextSibling, p.appendChild(m);
              } else p = null, t = t.nextSibling;
            }if (g && v) {
              if (l.setStart) l.setStart(c, u), l.setEnd(d, f), i.setRng(l);else try {
                l = e.getDoc().body.createTextRange(), l.moveToElementText(s), l.collapse(!0), l.moveStart("character", u), f > 0 && l.moveEnd("character", f), l.select();
              } catch (x) {}e.nodeChanged();
            }
          }
        }var n = e.settings,
            r = e.dom,
            i = e.selection,
            o = e.schema,
            a = o.getBlockElements();n.forced_root_block && e.on("NodeChange", t);
      };
    }), r(O, [S, g, p], function (e, n, r) {
      var i = r.each,
          o = r.extend,
          a = r.map,
          s = r.inArray,
          l = r.explode,
          c = n.gecko,
          u = n.ie,
          d = !0,
          f = !1;return function (r) {
        function p(e, t, n) {
          var r;return e = e.toLowerCase(), (r = N.exec[e]) ? (r(e, t, n), d) : f;
        }function m(e) {
          var t;return e = e.toLowerCase(), (t = N.state[e]) ? t(e) : -1;
        }function h(e) {
          var t;return e = e.toLowerCase(), (t = N.value[e]) ? t(e) : f;
        }function g(e, t) {
          t = t || "exec", i(e, function (e, n) {
            i(n.toLowerCase().split(","), function (n) {
              N[t][n] = e;
            });
          });
        }function v(e, n, i) {
          return n === t && (n = f), i === t && (i = null), r.getDoc().execCommand(e, n, i);
        }function y(e) {
          return S.match(e);
        }function b(e, n) {
          S.toggle(e, n ? { value: n } : t), r.nodeChanged();
        }function C(e) {
          k = _.getBookmark(e);
        }function x() {
          _.moveToBookmark(k);
        }var w = r.dom,
            _ = r.selection,
            N = { state: {}, exec: {}, value: {} },
            E = r.settings,
            S = r.formatter,
            k;o(this, { execCommand: p, queryCommandState: m, queryCommandValue: h, addCommands: g }), g({ "mceResetDesignMode,mceBeginUndoLevel": function mceResetDesignModeMceBeginUndoLevel() {}, "mceEndUndoLevel,mceAddUndoLevel": function mceEndUndoLevelMceAddUndoLevel() {
            r.undoManager.add();
          }, "Cut,Copy,Paste": function CutCopyPaste(e) {
            var t = r.getDoc(),
                i;try {
              v(e);
            } catch (o) {
              i = d;
            }if (i || !t.queryCommandSupported(e)) {
              var a = r.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");n.mac && (a = a.replace(/Ctrl\+/g, "\u2318+")), r.windowManager.alert(a);
            }
          }, unlink: function unlink() {
            if (_.isCollapsed()) {
              var e = _.getNode();return void ("A" == e.tagName && r.dom.remove(e, !0));
            }S.remove("link");
          }, "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull": function JustifyLeftJustifyCenterJustifyRightJustifyFull(e) {
            var t = e.substring(7);"full" == t && (t = "justify"), i("left,center,right,justify".split(","), function (e) {
              t != e && S.remove("align" + e);
            }), b("align" + t), p("mceRepaint");
          }, "InsertUnorderedList,InsertOrderedList": function InsertUnorderedListInsertOrderedList(e) {
            var t, n;v(e), t = w.getParent(_.getNode(), "ol,ul"), t && (n = t.parentNode, /^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName) && (C(), w.split(n, t), x()));
          }, "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function BoldItalicUnderlineStrikethroughSuperscriptSubscript(e) {
            b(e);
          }, "ForeColor,HiliteColor,FontName": function ForeColorHiliteColorFontName(e, t, n) {
            b(e, n);
          }, FontSize: function FontSize(e, t, n) {
            var r, i;n >= 1 && 7 >= n && (i = l(E.font_size_style_values), r = l(E.font_size_classes), n = r ? r[n - 1] || n : i[n - 1] || n), b(e, n);
          }, RemoveFormat: function RemoveFormat(e) {
            S.remove(e);
          }, mceBlockQuote: function mceBlockQuote() {
            b("blockquote");
          }, FormatBlock: function FormatBlock(e, t, n) {
            return b(n || "p");
          }, mceCleanup: function mceCleanup() {
            var e = _.getBookmark();r.setContent(r.getContent({ cleanup: d }), { cleanup: d }), _.moveToBookmark(e);
          }, mceRemoveNode: function mceRemoveNode(e, t, n) {
            var i = n || _.getNode();i != r.getBody() && (C(), r.dom.remove(i, d), x());
          }, mceSelectNodeDepth: function mceSelectNodeDepth(e, t, n) {
            var i = 0;w.getParent(_.getNode(), function (e) {
              return 1 == e.nodeType && i++ == n ? (_.select(e), f) : void 0;
            }, r.getBody());
          }, mceSelectNode: function mceSelectNode(e, t, n) {
            _.select(n);
          }, mceInsertContent: function mceInsertContent(t, n, i) {
            function o(e) {
              function t(e) {
                return r[e] && 3 == r[e].nodeType;
              }var n, r, i;return n = _.getRng(!0), r = n.startContainer, i = n.startOffset, 3 == r.nodeType && (i > 0 ? e = e.replace(/^&nbsp;/, " ") : t("previousSibling") || (e = e.replace(/^ /, "&nbsp;")), i < r.length ? e = e.replace(/&nbsp;(<br>|)$/, " ") : t("nextSibling") || (e = e.replace(/(&nbsp;| )(<br>|)$/, "&nbsp;"))), e;
            }var a, s, l, c, d, f, p, m, h, g, v;/^ | $/.test(i) && (i = o(i)), a = r.parser, s = new e({}, r.schema), v = '<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#200B;</span>', f = { content: i, format: "html", selection: !0 }, r.fire("BeforeSetContent", f), i = f.content, -1 == i.indexOf("{$caret}") && (i += "{$caret}"), i = i.replace(/\{\$caret\}/, v), m = _.getRng();var y = m.startContainer || (m.parentElement ? m.parentElement() : null),
                b = r.getBody();y === b && _.isCollapsed() && w.isBlock(b.firstChild) && w.isEmpty(b.firstChild) && (m = w.createRng(), m.setStart(b.firstChild, 0), m.setEnd(b.firstChild, 0), _.setRng(m)), _.isCollapsed() || r.getDoc().execCommand("Delete", !1, null), l = _.getNode();var C = { context: l.nodeName.toLowerCase() };if (d = a.parse(i, C), h = d.lastChild, "mce_marker" == h.attr("id")) for (p = h, h = h.prev; h; h = h.walk(!0)) {
              if (3 == h.type || !w.isBlock(h.name)) {
                h.parent.insert(p, h, "br" === h.name);break;
              }
            }if (C.invalid) {
              for (_.setContent(v), l = _.getNode(), c = r.getBody(), 9 == l.nodeType ? l = h = c : h = l; h !== c;) {
                l = h, h = h.parentNode;
              }i = l == c ? c.innerHTML : w.getOuterHTML(l), i = s.serialize(a.parse(i.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i, function () {
                return s.serialize(d);
              }))), l == c ? w.setHTML(c, i) : w.setOuterHTML(l, i);
            } else i = s.serialize(d), h = l.firstChild, g = l.lastChild, !h || h === g && "BR" === h.nodeName ? w.setHTML(l, i) : _.setContent(i);p = w.get("mce_marker"), _.scrollIntoView(p), m = w.createRng(), h = p.previousSibling, h && 3 == h.nodeType ? (m.setStart(h, h.nodeValue.length), u || (g = p.nextSibling, g && 3 == g.nodeType && (h.appendData(g.data), g.parentNode.removeChild(g)))) : (m.setStartBefore(p), m.setEndBefore(p)), w.remove(p), _.setRng(m), r.fire("SetContent", f), r.addVisual();
          }, mceInsertRawHTML: function mceInsertRawHTML(e, t, n) {
            _.setContent("tiny_mce_marker"), r.setContent(r.getContent().replace(/tiny_mce_marker/g, function () {
              return n;
            }));
          }, mceToggleFormat: function mceToggleFormat(e, t, n) {
            b(n);
          }, mceSetContent: function mceSetContent(e, t, n) {
            r.setContent(n);
          }, "Indent,Outdent": function IndentOutdent(e) {
            var t, n, o;t = E.indentation, n = /[a-z%]+$/i.exec(t), t = parseInt(t, 10), m("InsertUnorderedList") || m("InsertOrderedList") ? v(e) : (E.forced_root_block || w.getParent(_.getNode(), w.isBlock) || S.apply("div"), i(_.getSelectedBlocks(), function (i) {
              if ("LI" != i.nodeName) {
                var a = r.getParam("indent_use_margin", !1) ? "margin" : "padding";a += "rtl" == w.getStyle(i, "direction", !0) ? "Right" : "Left", "outdent" == e ? (o = Math.max(0, parseInt(i.style[a] || 0, 10) - t), w.setStyle(i, a, o ? o + n : "")) : (o = parseInt(i.style[a] || 0, 10) + t + n, w.setStyle(i, a, o));
              }
            }));
          }, mceRepaint: function mceRepaint() {
            if (c) try {
              C(d), _.getSel() && _.getSel().selectAllChildren(r.getBody()), _.collapse(d), x();
            } catch (e) {}
          }, InsertHorizontalRule: function InsertHorizontalRule() {
            r.execCommand("mceInsertContent", !1, "<hr />");
          }, mceToggleVisualAid: function mceToggleVisualAid() {
            r.hasVisual = !r.hasVisual, r.addVisual();
          }, mceReplaceContent: function mceReplaceContent(e, t, n) {
            r.execCommand("mceInsertContent", !1, n.replace(/\{\$selection\}/g, _.getContent({ format: "text" })));
          }, mceInsertLink: function mceInsertLink(e, t, n) {
            var r;"string" == typeof n && (n = { href: n }), r = w.getParent(_.getNode(), "a"), n.href = n.href.replace(" ", "%20"), r && n.href || S.remove("link"), n.href && S.apply("link", n, r);
          }, selectAll: function selectAll() {
            var e = w.getRoot(),
                t;_.getRng().setStart ? (t = w.createRng(), t.setStart(e, 0), t.setEnd(e, e.childNodes.length), _.setRng(t)) : (t = _.getRng(), t.item || (t.moveToElementText(e), t.select()));
          }, "delete": function _delete() {
            v("Delete");var e = r.getBody();w.isEmpty(e) && (r.setContent(""), e.firstChild && w.isBlock(e.firstChild) ? r.selection.setCursorLocation(e.firstChild, 0) : r.selection.setCursorLocation(e, 0));
          }, mceNewDocument: function mceNewDocument() {
            r.setContent("");
          } }), g({ "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull": function JustifyLeftJustifyCenterJustifyRightJustifyFull(e) {
            var t = "align" + e.substring(7),
                n = _.isCollapsed() ? [w.getParent(_.getNode(), w.isBlock)] : _.getSelectedBlocks(),
                r = a(n, function (e) {
              return !!S.matchNode(e, t);
            });return -1 !== s(r, d);
          }, "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function BoldItalicUnderlineStrikethroughSuperscriptSubscript(e) {
            return y(e);
          }, mceBlockQuote: function mceBlockQuote() {
            return y("blockquote");
          }, Outdent: function Outdent() {
            var e;if (E.inline_styles) {
              if ((e = w.getParent(_.getStart(), w.isBlock)) && parseInt(e.style.paddingLeft, 10) > 0) return d;if ((e = w.getParent(_.getEnd(), w.isBlock)) && parseInt(e.style.paddingLeft, 10) > 0) return d;
            }return m("InsertUnorderedList") || m("InsertOrderedList") || !E.inline_styles && !!w.getParent(_.getNode(), "BLOCKQUOTE");
          }, "InsertUnorderedList,InsertOrderedList": function InsertUnorderedListInsertOrderedList(e) {
            var t = w.getParent(_.getNode(), "ul,ol");return t && ("insertunorderedlist" === e && "UL" === t.tagName || "insertorderedlist" === e && "OL" === t.tagName);
          } }, "state"), g({ "FontSize,FontName": function FontSizeFontName(e) {
            var t = 0,
                n;return (n = w.getParent(_.getNode(), "span")) && (t = "fontsize" == e ? n.style.fontSize : n.style.fontFamily.replace(/, /g, ",").replace(/[\'\"]/g, "").toLowerCase()), t;
          } }, "value"), g({ Undo: function Undo() {
            r.undoManager.undo();
          }, Redo: function Redo() {
            r.undoManager.redo();
          } });
      };
    }), r(I, [p], function (e) {
      function t(e, i) {
        var o = this,
            a,
            s;if (e = r(e), i = o.settings = i || {}, /^([\w\-]+):([^\/]{2})/i.test(e) || /^\s*#/.test(e)) return void (o.source = e);var l = 0 === e.indexOf("//");0 !== e.indexOf("/") || l || (e = (i.base_uri ? i.base_uri.protocol || "http" : "http") + "://mce_host" + e), /^[\w\-]*:?\/\//.test(e) || (s = i.base_uri ? i.base_uri.path : new t(location.href).directory, e = "" === i.base_uri.protocol ? "//mce_host" + o.toAbsPath(s, e) : (i.base_uri && i.base_uri.protocol || "http") + "://mce_host" + o.toAbsPath(s, e)), e = e.replace(/@@/g, "(mce_at)"), e = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e), n(["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"], function (t, n) {
          var r = e[n];r && (r = r.replace(/\(mce_at\)/g, "@@")), o[t] = r;
        }), a = i.base_uri, a && (o.protocol || (o.protocol = a.protocol), o.userInfo || (o.userInfo = a.userInfo), o.port || "mce_host" !== o.host || (o.port = a.port), o.host && "mce_host" !== o.host || (o.host = a.host), o.source = ""), l && (o.protocol = "");
      }var n = e.each,
          r = e.trim;return t.prototype = { setPath: function setPath(e) {
          var t = this;e = /^(.*?)\/?(\w+)?$/.exec(e), t.path = e[0], t.directory = e[1], t.file = e[2], t.source = "", t.getURI();
        }, toRelative: function toRelative(e) {
          var n = this,
              r;if ("./" === e) return e;if (e = new t(e, { base_uri: n }), "mce_host" != e.host && n.host != e.host && e.host || n.port != e.port || n.protocol != e.protocol && "" !== e.protocol) return e.getURI();var i = n.getURI(),
              o = e.getURI();return i == o || "/" == i.charAt(i.length - 1) && i.substr(0, i.length - 1) == o ? i : (r = n.toRelPath(n.path, e.path), e.query && (r += "?" + e.query), e.anchor && (r += "#" + e.anchor), r);
        }, toAbsolute: function toAbsolute(e, n) {
          return e = new t(e, { base_uri: this }), e.getURI(this.host == e.host && this.protocol == e.protocol ? n : 0);
        }, toRelPath: function toRelPath(e, t) {
          var n,
              r = 0,
              i = "",
              o,
              a;if (e = e.substring(0, e.lastIndexOf("/")), e = e.split("/"), n = t.split("/"), e.length >= n.length) for (o = 0, a = e.length; a > o; o++) {
            if (o >= n.length || e[o] != n[o]) {
              r = o + 1;break;
            }
          }if (e.length < n.length) for (o = 0, a = n.length; a > o; o++) {
            if (o >= e.length || e[o] != n[o]) {
              r = o + 1;break;
            }
          }if (1 === r) return t;for (o = 0, a = e.length - (r - 1); a > o; o++) {
            i += "../";
          }for (o = r - 1, a = n.length; a > o; o++) {
            i += o != r - 1 ? "/" + n[o] : n[o];
          }return i;
        }, toAbsPath: function toAbsPath(e, t) {
          var r,
              i = 0,
              o = [],
              a,
              s;for (a = /\/$/.test(t) ? "/" : "", e = e.split("/"), t = t.split("/"), n(e, function (e) {
            e && o.push(e);
          }), e = o, r = t.length - 1, o = []; r >= 0; r--) {
            0 !== t[r].length && "." !== t[r] && (".." !== t[r] ? i > 0 ? i-- : o.push(t[r]) : i++);
          }return r = e.length - i, s = 0 >= r ? o.reverse().join("/") : e.slice(0, r).join("/") + "/" + o.reverse().join("/"), 0 !== s.indexOf("/") && (s = "/" + s), a && s.lastIndexOf("/") !== s.length - 1 && (s += a), s;
        }, getURI: function getURI(e) {
          var t,
              n = this;return (!n.source || e) && (t = "", e || (t += n.protocol ? n.protocol + "://" : "//", n.userInfo && (t += n.userInfo + "@"), n.host && (t += n.host), n.port && (t += ":" + n.port)), n.path && (t += n.path), n.query && (t += "?" + n.query), n.anchor && (t += "#" + n.anchor), n.source = t), n.source;
        } }, t;
    }), r(F, [p], function (e) {
      function t() {}var n = e.each,
          r = e.extend,
          _i,
          o;return t.extend = _i = function i(e) {
        function t() {
          var e,
              t,
              n,
              r = this;if (!o && (r.init && r.init.apply(r, arguments), t = r.Mixins)) for (e = t.length; e--;) {
            n = t[e], n.init && n.init.apply(r, arguments);
          }
        }function a() {
          return this;
        }function s(e, t) {
          return function () {
            var n = this,
                r = n._super,
                i;return n._super = c[e], i = t.apply(n, arguments), n._super = r, i;
          };
        }var l = this,
            c = l.prototype,
            u,
            d,
            f;o = !0, u = new l(), o = !1, e.Mixins && (n(e.Mixins, function (t) {
          t = t;for (var n in t) {
            "init" !== n && (e[n] = t[n]);
          }
        }), c.Mixins && (e.Mixins = c.Mixins.concat(e.Mixins))), e.Methods && n(e.Methods.split(","), function (t) {
          e[t] = a;
        }), e.Properties && n(e.Properties.split(","), function (t) {
          var n = "_" + t;e[t] = function (e) {
            var t = this,
                r;return e !== r ? (t[n] = e, t) : t[n];
          };
        }), e.Statics && n(e.Statics, function (e, n) {
          t[n] = e;
        }), e.Defaults && c.Defaults && (e.Defaults = r({}, c.Defaults, e.Defaults));for (d in e) {
          f = e[d], u[d] = "function" == typeof f && c[d] ? s(d, f) : f;
        }return t.prototype = u, t.constructor = t, t.extend = _i, t;
      }, t;
    }), r(z, [F], function (e) {
      function t(e) {
        for (var t = [], n = e.length, r; n--;) {
          r = e[n], r.__checked || (t.push(r), r.__checked = 1);
        }for (n = t.length; n--;) {
          delete t[n].__checked;
        }return t;
      }var n = /^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,
          r = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
          i = /^\s*|\s*$/g,
          o,
          a = e.extend({ init: function init(e) {
          function t(e) {
            return e ? (e = e.toLowerCase(), function (t) {
              return "*" === e || t.type === e;
            }) : void 0;
          }function o(e) {
            return e ? function (t) {
              return t._name === e;
            } : void 0;
          }function a(e) {
            return e ? (e = e.split("."), function (t) {
              for (var n = e.length; n--;) {
                if (!t.hasClass(e[n])) return !1;
              }return !0;
            }) : void 0;
          }function s(e, t, n) {
            return e ? function (r) {
              var i = r[e] ? r[e]() : "";return t ? "=" === t ? i === n : "*=" === t ? i.indexOf(n) >= 0 : "~=" === t ? (" " + i + " ").indexOf(" " + n + " ") >= 0 : "!=" === t ? i != n : "^=" === t ? 0 === i.indexOf(n) : "$=" === t ? i.substr(i.length - n.length) === n : !1 : !!n;
            } : void 0;
          }function l(e) {
            var t;return e ? (e = /(?:not\((.+)\))|(.+)/i.exec(e), e[1] ? (t = u(e[1], []), function (e) {
              return !d(e, t);
            }) : (e = e[2], function (t, n, r) {
              return "first" === e ? 0 === n : "last" === e ? n === r - 1 : "even" === e ? n % 2 === 0 : "odd" === e ? n % 2 === 1 : t[e] ? t[e]() : !1;
            })) : void 0;
          }function c(e, r, c) {
            function u(e) {
              e && r.push(e);
            }var d;return d = n.exec(e.replace(i, "")), u(t(d[1])), u(o(d[2])), u(a(d[3])), u(s(d[4], d[5], d[6])), u(l(d[7])), r.psuedo = !!d[7], r.direct = c, r;
          }function u(e, t) {
            var n = [],
                i,
                o,
                a;do {
              if (r.exec(""), o = r.exec(e), o && (e = o[3], n.push(o[1]), o[2])) {
                i = o[3];break;
              }
            } while (o);for (i && u(i, t), e = [], a = 0; a < n.length; a++) {
              ">" != n[a] && e.push(c(n[a], [], ">" === n[a - 1]));
            }return t.push(e), t;
          }var d = this.match;this._selectors = u(e, []);
        }, match: function match(e, t) {
          var n, r, i, o, a, s, l, c, u, d, f, p, m;for (t = t || this._selectors, n = 0, r = t.length; r > n; n++) {
            for (a = t[n], o = a.length, m = e, p = 0, i = o - 1; i >= 0; i--) {
              for (c = a[i]; m;) {
                if (c.psuedo) for (f = m.parent().items(), u = d = f.length; u-- && f[u] !== m;) {}for (s = 0, l = c.length; l > s; s++) {
                  if (!c[s](m, u, d)) {
                    s = l + 1;break;
                  }
                }if (s === l) {
                  p++;break;
                }if (i === o - 1) break;m = m.parent();
              }
            }if (p === o) return !0;
          }return !1;
        }, find: function find(e) {
          function n(e, t, i) {
            var o,
                a,
                s,
                l,
                c,
                u = t[i];for (o = 0, a = e.length; a > o; o++) {
              for (c = e[o], s = 0, l = u.length; l > s; s++) {
                if (!u[s](c, o, a)) {
                  s = l + 1;break;
                }
              }if (s === l) i == t.length - 1 ? r.push(c) : c.items && n(c.items(), t, i + 1);else if (u.direct) return;c.items && n(c.items(), t, i);
            }
          }var r = [],
              i,
              s,
              l = this._selectors;if (e.items) {
            for (i = 0, s = l.length; s > i; i++) {
              n(e.items(), l[i], 0);
            }s > 1 && (r = t(r));
          }return o || (o = a.Collection), new o(r);
        } });return a;
    }), r(W, [p, z, F], function (e, t, n) {
      var r,
          i,
          o = Array.prototype.push,
          a = Array.prototype.slice;return i = { length: 0, init: function init(e) {
          e && this.add(e);
        }, add: function add(t) {
          var n = this;return e.isArray(t) ? o.apply(n, t) : t instanceof r ? n.add(t.toArray()) : o.call(n, t), n;
        }, set: function set(e) {
          var t = this,
              n = t.length,
              r;for (t.length = 0, t.add(e), r = t.length; n > r; r++) {
            delete t[r];
          }return t;
        }, filter: function filter(e) {
          var n = this,
              i,
              o,
              a = [],
              s,
              l;for ("string" == typeof e ? (e = new t(e), l = function l(t) {
            return e.match(t);
          }) : l = e, i = 0, o = n.length; o > i; i++) {
            s = n[i], l(s) && a.push(s);
          }return new r(a);
        }, slice: function slice() {
          return new r(a.apply(this, arguments));
        }, eq: function eq(e) {
          return -1 === e ? this.slice(e) : this.slice(e, +e + 1);
        }, each: function each(t) {
          return e.each(this, t), this;
        }, toArray: function toArray() {
          return e.toArray(this);
        }, indexOf: function indexOf(e) {
          for (var t = this, n = t.length; n-- && t[n] !== e;) {}return n;
        }, reverse: function reverse() {
          return new r(e.toArray(this).reverse());
        }, hasClass: function hasClass(e) {
          return this[0] ? this[0].hasClass(e) : !1;
        }, prop: function prop(e, t) {
          var n = this,
              r,
              i;return t !== r ? (n.each(function (n) {
            n[e] && n[e](t);
          }), n) : (i = n[0], i && i[e] ? i[e]() : void 0);
        }, exec: function exec(t) {
          var n = this,
              r = e.toArray(arguments).slice(1);return n.each(function (e) {
            e[t] && e[t].apply(e, r);
          }), n;
        }, remove: function remove() {
          for (var e = this.length; e--;) {
            this[e].remove();
          }return this;
        } }, e.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "), function (t) {
        i[t] = function () {
          var n = e.toArray(arguments);return this.each(function (e) {
            t in e && e[t].apply(e, n);
          }), this;
        };
      }), e.each("text name disabled active selected checked visible parent value data".split(" "), function (e) {
        i[e] = function (t) {
          return this.prop(e, t);
        };
      }), r = n.extend(i), t.Collection = r, r;
    }), r(V, [p, y], function (e, t) {
      return { id: function id() {
          return t.DOM.uniqueId();
        }, createFragment: function createFragment(e) {
          return t.DOM.createFragment(e);
        }, getWindowSize: function getWindowSize() {
          return t.DOM.getViewPort();
        }, getSize: function getSize(e) {
          var t, n;if (e.getBoundingClientRect) {
            var r = e.getBoundingClientRect();t = Math.max(r.width || r.right - r.left, e.offsetWidth), n = Math.max(r.height || r.bottom - r.bottom, e.offsetHeight);
          } else t = e.offsetWidth, n = e.offsetHeight;return { width: t, height: n };
        }, getPos: function getPos(e, n) {
          return t.DOM.getPos(e, n);
        }, getViewPort: function getViewPort(e) {
          return t.DOM.getViewPort(e);
        }, get: function get(e) {
          return document.getElementById(e);
        }, addClass: function addClass(e, n) {
          return t.DOM.addClass(e, n);
        }, removeClass: function removeClass(e, n) {
          return t.DOM.removeClass(e, n);
        }, hasClass: function hasClass(e, n) {
          return t.DOM.hasClass(e, n);
        }, toggleClass: function toggleClass(e, n, r) {
          return t.DOM.toggleClass(e, n, r);
        }, css: function css(e, n, r) {
          return t.DOM.setStyle(e, n, r);
        }, on: function on(e, n, r, i) {
          return t.DOM.bind(e, n, r, i);
        }, off: function off(e, n, r) {
          return t.DOM.unbind(e, n, r);
        }, fire: function fire(e, n, r) {
          return t.DOM.fire(e, n, r);
        }, innerHtml: function innerHtml(e, n) {
          t.DOM.setHTML(e, n);
        } };
    }), r(U, [F, p, W, V], function (e, t, n, r) {
      var i = t.makeMap("focusin focusout scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave wheel keydown keypress keyup contextmenu", " "),
          o = {},
          a = "onmousewheel" in document,
          s = !1,
          l = e.extend({ Statics: { elementIdCache: o }, isRtl: function isRtl() {
          return l.rtl;
        }, classPrefix: "mce-", init: function init(e) {
          var n = this,
              i,
              o;if (n.settings = e = t.extend({}, n.Defaults, e), n._id = e.id || r.id(), n._text = n._name = "", n._width = n._height = 0, n._aria = { role: e.role }, i = e.classes) for (i = i.split(" "), i.map = {}, o = i.length; o--;) {
            i.map[i[o]] = !0;
          }n._classes = i || [], n.visible(!0), t.each("title text width height name classes visible disabled active value".split(" "), function (t) {
            var r = e[t],
                i;r !== i ? n[t](r) : n["_" + t] === i && (n["_" + t] = !1);
          }), n.on("click", function () {
            return n.disabled() ? !1 : void 0;
          }), e.classes && t.each(e.classes.split(" "), function (e) {
            n.addClass(e);
          }), n.settings = e, n._borderBox = n.parseBox(e.border), n._paddingBox = n.parseBox(e.padding), n._marginBox = n.parseBox(e.margin), e.hidden && n.hide();
        }, Properties: "parent,title,text,width,height,disabled,active,name,value", Methods: "renderHtml", getContainerElm: function getContainerElm() {
          return document.body;
        }, getParentCtrl: function getParentCtrl(e) {
          for (var t, n = this.getRoot().controlIdLookup; e && n && !(t = n[e.id]);) {
            e = e.parentNode;
          }return t;
        }, parseBox: function parseBox(e) {
          var t,
              n = 10;if (e) return "number" == typeof e ? (e = e || 0, { top: e, left: e, bottom: e, right: e }) : (e = e.split(" "), t = e.length, 1 === t ? e[1] = e[2] = e[3] = e[0] : 2 === t ? (e[2] = e[0], e[3] = e[1]) : 3 === t && (e[3] = e[1]), { top: parseInt(e[0], n) || 0, right: parseInt(e[1], n) || 0, bottom: parseInt(e[2], n) || 0, left: parseInt(e[3], n) || 0 });
        }, borderBox: function borderBox() {
          return this._borderBox;
        }, paddingBox: function paddingBox() {
          return this._paddingBox;
        }, marginBox: function marginBox() {
          return this._marginBox;
        }, measureBox: function measureBox(e, t) {
          function n(t) {
            var n = document.defaultView;return n ? (t = t.replace(/[A-Z]/g, function (e) {
              return "-" + e;
            }), n.getComputedStyle(e, null).getPropertyValue(t)) : e.currentStyle[t];
          }function r(e) {
            var t = parseFloat(n(e), 10);return isNaN(t) ? 0 : t;
          }return { top: r(t + "TopWidth"), right: r(t + "RightWidth"), bottom: r(t + "BottomWidth"), left: r(t + "LeftWidth") };
        }, initLayoutRect: function initLayoutRect() {
          var e = this,
              t = e.settings,
              n,
              i,
              o = e.getEl(),
              a,
              s,
              l,
              c,
              u,
              d,
              f,
              p;n = e._borderBox = e._borderBox || e.measureBox(o, "border"), e._paddingBox = e._paddingBox || e.measureBox(o, "padding"), e._marginBox = e._marginBox || e.measureBox(o, "margin"), p = r.getSize(o), d = t.minWidth, f = t.minHeight, l = d || p.width, c = f || p.height, a = t.width, s = t.height, u = t.autoResize, u = "undefined" != typeof u ? u : !a && !s, a = a || l, s = s || c;var m = n.left + n.right,
              h = n.top + n.bottom,
              g = t.maxWidth || 65535,
              v = t.maxHeight || 65535;return e._layoutRect = i = { x: t.x || 0, y: t.y || 0, w: a, h: s, deltaW: m, deltaH: h, contentW: a - m, contentH: s - h, innerW: a - m, innerH: s - h, startMinWidth: d || 0, startMinHeight: f || 0, minW: Math.min(l, g), minH: Math.min(c, v), maxW: g, maxH: v, autoResize: u, scrollW: 0 }, e._lastLayoutRect = {}, i;
        }, layoutRect: function layoutRect(e) {
          var t = this,
              n = t._layoutRect,
              r,
              i,
              o,
              a,
              s,
              c;return n || (n = t.initLayoutRect()), e ? (o = n.deltaW, a = n.deltaH, e.x !== s && (n.x = e.x), e.y !== s && (n.y = e.y), e.minW !== s && (n.minW = e.minW), e.minH !== s && (n.minH = e.minH), i = e.w, i !== s && (i = i < n.minW ? n.minW : i, i = i > n.maxW ? n.maxW : i, n.w = i, n.innerW = i - o), i = e.h, i !== s && (i = i < n.minH ? n.minH : i, i = i > n.maxH ? n.maxH : i, n.h = i, n.innerH = i - a), i = e.innerW, i !== s && (i = i < n.minW - o ? n.minW - o : i, i = i > n.maxW - o ? n.maxW - o : i, n.innerW = i, n.w = i + o), i = e.innerH, i !== s && (i = i < n.minH - a ? n.minH - a : i, i = i > n.maxH - a ? n.maxH - a : i, n.innerH = i, n.h = i + a), e.contentW !== s && (n.contentW = e.contentW), e.contentH !== s && (n.contentH = e.contentH), r = t._lastLayoutRect, (r.x !== n.x || r.y !== n.y || r.w !== n.w || r.h !== n.h) && (c = l.repaintControls, c && c.map && !c.map[t._id] && (c.push(t), c.map[t._id] = !0), r.x = n.x, r.y = n.y, r.w = n.w, r.h = n.h), t) : n;
        }, repaint: function repaint() {
          var e = this,
              t,
              n,
              r,
              i,
              o = 0,
              a = 0,
              s,
              l;l = document.createRange ? function (e) {
            return e;
          } : Math.round, t = e.getEl().style, r = e._layoutRect, s = e._lastRepaintRect || {}, i = e._borderBox, o = i.left + i.right, a = i.top + i.bottom, r.x !== s.x && (t.left = l(r.x) + "px", s.x = r.x), r.y !== s.y && (t.top = l(r.y) + "px", s.y = r.y), r.w !== s.w && (t.width = l(r.w - o) + "px", s.w = r.w), r.h !== s.h && (t.height = l(r.h - a) + "px", s.h = r.h), e._hasBody && r.innerW !== s.innerW && (n = e.getEl("body").style, n.width = l(r.innerW) + "px", s.innerW = r.innerW), e._hasBody && r.innerH !== s.innerH && (n = n || e.getEl("body").style, n.height = l(r.innerH) + "px", s.innerH = r.innerH), e._lastRepaintRect = s, e.fire("repaint", {}, !1);
        }, on: function on(e, t) {
          function n(e) {
            var t, n;return function (i) {
              return t || r.parents().each(function (r) {
                var i = r.settings.callbacks;return i && (t = i[e]) ? (n = r, !1) : void 0;
              }), t.call(n, i);
            };
          }var r = this,
              o,
              a,
              s,
              l;if (t) for ("string" == typeof t && (t = n(t)), s = e.toLowerCase().split(" "), l = s.length; l--;) {
            e = s[l], o = r._bindings, o || (o = r._bindings = {}), a = o[e], a || (a = o[e] = []), a.push(t), i[e] && (r._nativeEvents ? r._nativeEvents[e] = !0 : r._nativeEvents = { name: !0 }, r._rendered && r.bindPendingEvents());
          }return r;
        }, off: function off(e, t) {
          var n = this,
              r,
              i = n._bindings,
              o,
              a,
              s,
              l;if (i) if (e) for (s = e.toLowerCase().split(" "), r = s.length; r--;) {
            if (e = s[r], o = i[e], !e) {
              for (a in i) {
                i[a].length = 0;
              }return n;
            }if (o) if (t) for (l = o.length; l--;) {
              o[l] === t && o.splice(l, 1);
            } else o.length = 0;
          } else n._bindings = [];return n;
        }, fire: function fire(e, t, n) {
          function r() {
            return !1;
          }function i() {
            return !0;
          }var o = this,
              a,
              s,
              l,
              c;if (e = e.toLowerCase(), t = t || {}, t.type || (t.type = e), t.control || (t.control = o), t.preventDefault || (t.preventDefault = function () {
            t.isDefaultPrevented = i;
          }, t.stopPropagation = function () {
            t.isPropagationStopped = i;
          }, t.stopImmediatePropagation = function () {
            t.isImmediatePropagationStopped = i;
          }, t.isDefaultPrevented = r, t.isPropagationStopped = r, t.isImmediatePropagationStopped = r), o._bindings && (l = o._bindings[e])) for (a = 0, s = l.length; s > a && (t.isImmediatePropagationStopped() || l[a].call(o, t) !== !1); a++) {}if (n !== !1) for (c = o.parent(); c && !t.isPropagationStopped();) {
            c.fire(e, t, !1), c = c.parent();
          }return t;
        }, hasEventListeners: function hasEventListeners(e) {
          return e in this._bindings;
        }, parents: function parents(e) {
          var t = this,
              r,
              i = new n();for (r = t.parent(); r; r = r.parent()) {
            i.add(r);
          }return e && (i = i.filter(e)), i;
        }, next: function next() {
          var e = this.parent().items();return e[e.indexOf(this) + 1];
        }, prev: function prev() {
          var e = this.parent().items();return e[e.indexOf(this) - 1];
        }, findCommonAncestor: function findCommonAncestor(e, t) {
          for (var n; e;) {
            for (n = t; n && e != n;) {
              n = n.parent();
            }if (e == n) break;e = e.parent();
          }return e;
        }, hasClass: function hasClass(e, t) {
          var n = this._classes[t || "control"];return e = this.classPrefix + e, n && !!n.map[e];
        }, addClass: function addClass(e, t) {
          var n = this,
              r,
              i;return e = this.classPrefix + e, r = n._classes[t || "control"], r || (r = [], r.map = {}, n._classes[t || "control"] = r), r.map[e] || (r.map[e] = e, r.push(e), n._rendered && (i = n.getEl(t), i && (i.className = r.join(" ")))), n;
        }, removeClass: function removeClass(e, t) {
          var n = this,
              r,
              i,
              o;if (e = this.classPrefix + e, r = n._classes[t || "control"], r && r.map[e]) for (delete r.map[e], i = r.length; i--;) {
            r[i] === e && r.splice(i, 1);
          }return n._rendered && (o = n.getEl(t), o && (o.className = r.join(" "))), n;
        }, toggleClass: function toggleClass(e, t, n) {
          var r = this;return t ? r.addClass(e, n) : r.removeClass(e, n), r;
        }, classes: function classes(e) {
          var t = this._classes[e || "control"];return t ? t.join(" ") : "";
        }, innerHtml: function innerHtml(e) {
          return r.innerHtml(this.getEl(), e), this;
        }, getEl: function getEl(e, t) {
          var n,
              i = e ? this._id + "-" + e : this._id;return n = o[i] = (t === !0 ? null : o[i]) || r.get(i);
        }, visible: function visible(e) {
          var t = this,
              n;return "undefined" != typeof e ? (t._visible !== e && (t._rendered && (t.getEl().style.display = e ? "" : "none"), t._visible = e, n = t.parent(), n && (n._lastRect = null), t.fire(e ? "show" : "hide")), t) : t._visible;
        }, show: function show() {
          return this.visible(!0);
        }, hide: function hide() {
          return this.visible(!1);
        }, focus: function focus() {
          try {
            this.getEl().focus();
          } catch (e) {}return this;
        }, blur: function blur() {
          return this.getEl().blur(), this;
        }, aria: function aria(e, t) {
          var n = this,
              r = n.getEl(n.ariaTarget);return "undefined" == typeof t ? n._aria[e] : (n._aria[e] = t, n._rendered && r.setAttribute("role" == e ? e : "aria-" + e, t), n);
        }, encode: function encode(e, t) {
          return t !== !1 && l.translate && (e = l.translate(e)), (e || "").replace(/[&<>"]/g, function (e) {
            return "&#" + e.charCodeAt(0) + ";";
          });
        }, before: function before(e) {
          var t = this,
              n = t.parent();return n && n.insert(e, n.items().indexOf(t), !0), t;
        }, after: function after(e) {
          var t = this,
              n = t.parent();return n && n.insert(e, n.items().indexOf(t)), t;
        }, remove: function remove() {
          var e = this,
              t = e.getEl(),
              n = e.parent(),
              i,
              a;if (e.items) {
            var s = e.items().toArray();for (a = s.length; a--;) {
              s[a].remove();
            }
          }n && n.items && (i = [], n.items().each(function (t) {
            t !== e && i.push(t);
          }), n.items().set(i), n._lastRect = null), e._eventsRoot && e._eventsRoot == e && r.off(t);var l = e.getRoot().controlIdLookup;if (l && delete l[e._id], delete o[e._id], t && t.parentNode) {
            var c = t.getElementsByTagName("*");for (a = c.length; a--;) {
              delete o[c[a].id];
            }t.parentNode.removeChild(t);
          }return e._rendered = !1, e;
        }, renderBefore: function renderBefore(e) {
          var t = this;return e.parentNode.insertBefore(r.createFragment(t.renderHtml()), e), t.postRender(), t;
        }, renderTo: function renderTo(e) {
          var t = this;return e = e || t.getContainerElm(), e.appendChild(r.createFragment(t.renderHtml())), t.postRender(), t;
        }, postRender: function postRender() {
          var e = this,
              t = e.settings,
              n,
              i,
              o,
              a,
              s;for (a in t) {
            0 === a.indexOf("on") && e.on(a.substr(2), t[a]);
          }if (e._eventsRoot) {
            for (o = e.parent(); !s && o; o = o.parent()) {
              s = o._eventsRoot;
            }if (s) for (a in s._nativeEvents) {
              e._nativeEvents[a] = !0;
            }
          }e.bindPendingEvents(), t.style && (n = e.getEl(), n && (n.setAttribute("style", t.style), n.style.cssText = t.style)), e._visible || r.css(e.getEl(), "display", "none"), e.settings.border && (i = e.borderBox(), r.css(e.getEl(), { "border-top-width": i.top, "border-right-width": i.right, "border-bottom-width": i.bottom, "border-left-width": i.left }));var l = e.getRoot();l.controlIdLookup || (l.controlIdLookup = {}), l.controlIdLookup[e._id] = e;for (var c in e._aria) {
            e.aria(c, e._aria[c]);
          }e.fire("postrender", {}, !1);
        }, scrollIntoView: function scrollIntoView(e) {
          function t(e, t) {
            var n,
                r,
                i = e;for (n = r = 0; i && i != t && i.nodeType;) {
              n += i.offsetLeft || 0, r += i.offsetTop || 0, i = i.offsetParent;
            }return { x: n, y: r };
          }var n = this.getEl(),
              r = n.parentNode,
              i,
              o,
              a,
              s,
              l,
              c,
              u = t(n, r);return i = u.x, o = u.y, a = n.offsetWidth, s = n.offsetHeight, l = r.clientWidth, c = r.clientHeight, "end" == e ? (i -= l - a, o -= c - s) : "center" == e && (i -= l / 2 - a / 2, o -= c / 2 - s / 2), r.scrollLeft = i, r.scrollTop = o, this;
        }, bindPendingEvents: function bindPendingEvents() {
          function e(e) {
            var t = o.getParentCtrl(e.target);t && t.fire(e.type, e);
          }function t() {
            var e = d._lastHoverCtrl;e && (e.fire("mouseleave", { target: e.getEl() }), e.parents().each(function (e) {
              e.fire("mouseleave", { target: e.getEl() });
            }), d._lastHoverCtrl = null);
          }function n(e) {
            var t = o.getParentCtrl(e.target),
                n = d._lastHoverCtrl,
                r = 0,
                i,
                a,
                s;if (t !== n) {
              if (d._lastHoverCtrl = t, a = t.parents().toArray().reverse(), a.push(t), n) {
                for (s = n.parents().toArray().reverse(), s.push(n), r = 0; r < s.length && a[r] === s[r]; r++) {}for (i = s.length - 1; i >= r; i--) {
                  n = s[i], n.fire("mouseleave", { target: n.getEl() });
                }
              }for (i = r; i < a.length; i++) {
                t = a[i], t.fire("mouseenter", { target: t.getEl() });
              }
            }
          }function i(e) {
            e.preventDefault(), "mousewheel" == e.type ? (e.deltaY = -1 / 40 * e.wheelDelta, e.wheelDeltaX && (e.deltaX = -1 / 40 * e.wheelDeltaX)) : (e.deltaX = 0, e.deltaY = e.detail), e = o.fire("wheel", e);
          }var o = this,
              l,
              c,
              u,
              d,
              f,
              p;if (o._rendered = !0, f = o._nativeEvents) {
            for (u = o.parents().toArray(), u.unshift(o), l = 0, c = u.length; !d && c > l; l++) {
              d = u[l]._eventsRoot;
            }for (d || (d = u[u.length - 1] || o), o._eventsRoot = d, c = l, l = 0; c > l; l++) {
              u[l]._eventsRoot = d;
            }for (p in f) {
              if (!f) return !1;"wheel" !== p || s ? ("mouseenter" === p || "mouseleave" === p ? d._hasMouseEnter || (r.on(d.getEl(), "mouseleave", t), r.on(d.getEl(), "mouseover", n), d._hasMouseEnter = 1) : d[p] || (r.on(d.getEl(), p, e), d[p] = !0), f[p] = !1) : a ? r.on(o.getEl(), "mousewheel", i) : r.on(o.getEl(), "DOMMouseScroll", i);
            }
          }
        }, getRoot: function getRoot() {
          for (var e = this, t, n = []; e;) {
            if (e.rootControl) {
              t = e.rootControl;break;
            }n.push(e), t = e, e = e.parent();
          }t || (t = this);for (var r = n.length; r--;) {
            n[r].rootControl = t;
          }return t;
        }, reflow: function reflow() {
          return this.repaint(), this;
        } });return l;
    }), r(q, [], function () {
      var e = {},
          t;return { add: function add(t, n) {
          e[t.toLowerCase()] = n;
        }, has: function has(t) {
          return !!e[t.toLowerCase()];
        }, create: function create(n, r) {
          var i, o, a;if (!t) {
            a = tinymce.ui;for (o in a) {
              e[o.toLowerCase()] = a[o];
            }t = !0;
          }if ("string" == typeof n ? (r = r || {}, r.type = n) : (r = n, n = r.type), n = n.toLowerCase(), i = e[n], !i) throw new Error("Could not find control by type: " + n);return i = new i(r), i.type = n, i;
        } };
    }), r($, [], function () {
      return function (e) {
        function t(e) {
          return e = e || b, e && e.getAttribute("role");
        }function n(e) {
          for (var n, r = e || b; r = r.parentNode;) {
            if (n = t(r)) return n;
          }
        }function r(e) {
          var t = b;return t ? t.getAttribute("aria-" + e) : void 0;
        }function i(e) {
          return "INPUT" == e.tagName || "TEXTAREA" == e.tagName;
        }function o(e) {
          return i(e) && !e.hidden ? !0 : /^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(t(e)) ? !0 : !1;
        }function a(e) {
          function t(e) {
            if (1 == e.nodeType && "none" != e.style.display) {
              o(e) && n.push(e);for (var r = 0; r < e.childNodes.length; r++) {
                t(e.childNodes[r]);
              }
            }
          }var n = [];return t(e || y.getEl()), n;
        }function s(e) {
          var t, n;e = e || C, n = e.parents().toArray(), n.unshift(e);for (var r = 0; r < n.length && (t = n[r], !t.settings.ariaRoot); r++) {}return t;
        }function l(e) {
          var t = s(e),
              n = a(t.getEl());t.settings.ariaRemember && "lastAriaIndex" in t ? c(t.lastAriaIndex, n) : c(0, n);
        }function c(e, t) {
          return 0 > e ? e = t.length - 1 : e >= t.length && (e = 0), t[e] && t[e].focus(), e;
        }function u(e, t) {
          var n = -1,
              r = s();t = t || a(r.getEl());for (var i = 0; i < t.length; i++) {
            t[i] === b && (n = i);
          }n += e, r.lastAriaIndex = c(n, t);
        }function d() {
          var e = n();"tablist" == e ? u(-1, a(b.parentNode)) : C.parent().submenu ? g() : u(-1);
        }function f() {
          var e = t(),
              i = n();"tablist" == i ? u(1, a(b.parentNode)) : "menuitem" == e && "menu" == i && r("haspopup") ? v() : u(1);
        }function p() {
          u(-1);
        }function m() {
          var e = t(),
              i = n();"menuitem" == e && "menubar" == i ? v() : "button" == e && r("haspopup") ? v({ key: "down" }) : u(1);
        }function h(e) {
          var t = n();if ("tablist" == t) {
            var r = a(C.getEl("body"))[0];r && r.focus();
          } else u(e.shiftKey ? -1 : 1);
        }function g() {
          C.fire("cancel");
        }function v(e) {
          e = e || {}, C.fire("click", { target: b, aria: e });
        }var y = e.root,
            b,
            C;return b = document.activeElement, C = y.getParentCtrl(b), y.on("keydown", function (e) {
          function t(e, t) {
            i(b) || t(e) !== !1 && e.preventDefault();
          }if (!e.isDefaultPrevented()) switch (e.keyCode) {case 37:
              t(e, d);break;case 39:
              t(e, f);break;case 38:
              t(e, p);break;case 40:
              t(e, m);break;case 27:
              t(e, g);break;case 14:case 13:case 32:
              t(e, v);break;case 9:
              h(e) !== !1 && e.preventDefault();}
        }), y.on("focusin", function (e) {
          b = e.target, C = e.control;
        }), { focusFirst: l };
      };
    }), r(j, [U, W, z, q, $, p, V], function (e, t, n, r, i, o, a) {
      var s = {};return e.extend({ layout: "", innerClass: "container-inner", init: function init(e) {
          var n = this;n._super(e), e = n.settings, n._fixed = e.fixed, n._items = new t(), n.isRtl() && n.addClass("rtl"), n.addClass("container"), n.addClass("container-body", "body"), e.containerCls && n.addClass(e.containerCls), n._layout = r.create((e.layout || n.layout) + "layout"), n.settings.items && n.add(n.settings.items), n._hasBody = !0;
        }, items: function items() {
          return this._items;
        }, find: function find(e) {
          return e = s[e] = s[e] || new n(e), e.find(this);
        }, add: function add(e) {
          var t = this;return t.items().add(t.create(e)).parent(t), t;
        }, focus: function focus(e) {
          var t = this,
              n,
              r,
              i;return e && (r = t.keyboardNav || t.parents().eq(-1)[0].keyboardNav) ? void r.focusFirst(t) : (i = t.find("*"), t.statusbar && i.add(t.statusbar.items()), i.each(function (e) {
            return e.settings.autofocus ? (n = null, !1) : void (e.canFocus && (n = n || e));
          }), n && n.focus(), t);
        }, replace: function replace(e, t) {
          for (var n, r = this.items(), i = r.length; i--;) {
            if (r[i] === e) {
              r[i] = t;break;
            }
          }i >= 0 && (n = t.getEl(), n && n.parentNode.removeChild(n), n = e.getEl(), n && n.parentNode.removeChild(n)), t.parent(this);
        }, create: function create(t) {
          var n = this,
              i,
              a = [];return o.isArray(t) || (t = [t]), o.each(t, function (t) {
            t && (t instanceof e || ("string" == typeof t && (t = { type: t }), i = o.extend({}, n.settings.defaults, t), t.type = i.type = i.type || t.type || n.settings.defaultType || (i.defaults ? i.defaults.type : null), t = r.create(i)), a.push(t));
          }), a;
        }, renderNew: function renderNew() {
          var e = this;return e.items().each(function (t, n) {
            var r, i;t.parent(e), t._rendered || (r = e.getEl("body"), i = a.createFragment(t.renderHtml()), r.hasChildNodes() && n <= r.childNodes.length - 1 ? r.insertBefore(i, r.childNodes[n]) : r.appendChild(i), t.postRender());
          }), e._layout.applyClasses(e), e._lastRect = null, e;
        }, append: function append(e) {
          return this.add(e).renderNew();
        }, prepend: function prepend(e) {
          var t = this;return t.items().set(t.create(e).concat(t.items().toArray())), t.renderNew();
        }, insert: function insert(e, t, n) {
          var r = this,
              i,
              o,
              a;return e = r.create(e), i = r.items(), !n && t < i.length - 1 && (t += 1), t >= 0 && t < i.length && (o = i.slice(0, t).toArray(), a = i.slice(t).toArray(), i.set(o.concat(e, a))), r.renderNew();
        }, fromJSON: function fromJSON(e) {
          var t = this;for (var n in e) {
            t.find("#" + n).value(e[n]);
          }return t;
        }, toJSON: function toJSON() {
          var e = this,
              t = {};return e.find("*").each(function (e) {
            var n = e.name(),
                r = e.value();n && "undefined" != typeof r && (t[n] = r);
          }), t;
        }, preRender: function preRender() {}, renderHtml: function renderHtml() {
          var e = this,
              t = e._layout,
              n = this.settings.role;return e.preRender(), t.preRender(e), '<div id="' + e._id + '" class="' + e.classes() + '"' + (n ? ' role="' + this.settings.role + '"' : "") + '><div id="' + e._id + '-body" class="' + e.classes("body") + '">' + (e.settings.html || "") + t.renderHtml(e) + "</div></div>";
        }, postRender: function postRender() {
          var e = this,
              t;return e.items().exec("postRender"), e._super(), e._layout.postRender(e), e._rendered = !0, e.settings.style && a.css(e.getEl(), e.settings.style), e.settings.border && (t = e.borderBox(), a.css(e.getEl(), { "border-top-width": t.top, "border-right-width": t.right, "border-bottom-width": t.bottom, "border-left-width": t.left })), e.parent() || (e.keyboardNav = new i({ root: e })), e;
        }, initLayoutRect: function initLayoutRect() {
          var e = this,
              t = e._super();return e._layout.recalc(e), t;
        }, recalc: function recalc() {
          var e = this,
              t = e._layoutRect,
              n = e._lastRect;return n && n.w == t.w && n.h == t.h ? void 0 : (e._layout.recalc(e), t = e.layoutRect(), e._lastRect = { x: t.x, y: t.y, w: t.w, h: t.h }, !0);
        }, reflow: function reflow() {
          var t;if (this.visible()) {
            for (e.repaintControls = [], e.repaintControls.map = {}, this.recalc(), t = e.repaintControls.length; t--;) {
              e.repaintControls[t].repaint();
            }"flow" !== this.settings.layout && "stack" !== this.settings.layout && this.repaint(), e.repaintControls = [];
          }return this;
        } });
    }), r(K, [V], function (e) {
      function t() {
        var e = document,
            t,
            n,
            r,
            i,
            o,
            a,
            s,
            l,
            c = Math.max;return t = e.documentElement, n = e.body, r = c(t.scrollWidth, n.scrollWidth), i = c(t.clientWidth, n.clientWidth), o = c(t.offsetWidth, n.offsetWidth), a = c(t.scrollHeight, n.scrollHeight), s = c(t.clientHeight, n.clientHeight), l = c(t.offsetHeight, n.offsetHeight), { width: o > r ? i : r, height: l > a ? s : a };
      }return function (n, r) {
        function i() {
          return a.getElementById(r.handle || n);
        }var o,
            a = document,
            s,
            l,
            _c,
            u,
            d,
            f;r = r || {}, l = function l(n) {
          var l = t(),
              p,
              m;n.preventDefault(), s = n.button, p = i(), d = n.screenX, f = n.screenY, m = window.getComputedStyle ? window.getComputedStyle(p, null).getPropertyValue("cursor") : p.runtimeStyle.cursor, o = a.createElement("div"), e.css(o, { position: "absolute", top: 0, left: 0, width: l.width, height: l.height, zIndex: 2147483647, opacity: 1e-4, background: "red", cursor: m }), a.body.appendChild(o), e.on(a, "mousemove", u), e.on(a, "mouseup", _c), r.start(n);
        }, u = function u(e) {
          return e.button !== s ? _c(e) : (e.deltaX = e.screenX - d, e.deltaY = e.screenY - f, e.preventDefault(), void r.drag(e));
        }, _c = function c(t) {
          e.off(a, "mousemove", u), e.off(a, "mouseup", _c), o.parentNode.removeChild(o), r.stop && r.stop(t);
        }, this.destroy = function () {
          e.off(i());
        }, e.on(i(), "mousedown", l);
      };
    }), r(Y, [V, K], function (e, t) {
      return { init: function init() {
          var e = this;e.on("repaint", e.renderScroll);
        }, renderScroll: function renderScroll() {
          function n() {
            function t(t, a, s, l, c, u) {
              var d, f, p, m, h, g, v, y, b;if (f = i.getEl("scroll" + t)) {
                if (y = a.toLowerCase(), b = s.toLowerCase(), i.getEl("absend") && e.css(i.getEl("absend"), y, i.layoutRect()[l] - 1), !c) return void e.css(f, "display", "none");e.css(f, "display", "block"), d = i.getEl("body"), p = i.getEl("scroll" + t + "t"), m = d["client" + s] - 2 * o, m -= n && r ? f["client" + u] : 0, h = d["scroll" + s], g = m / h, v = {}, v[y] = d["offset" + a] + o, v[b] = m, e.css(f, v), v = {}, v[y] = d["scroll" + a] * g, v[b] = m * g, e.css(p, v);
              }
            }var n, r, a;a = i.getEl("body"), n = a.scrollWidth > a.clientWidth, r = a.scrollHeight > a.clientHeight, t("h", "Left", "Width", "contentW", n, "Height"), t("v", "Top", "Height", "contentH", r, "Width");
          }function r() {
            function n(n, r, a, s, l) {
              var c,
                  u = i._id + "-scroll" + n,
                  d = i.classPrefix;i.getEl().appendChild(e.createFragment('<div id="' + u + '" class="' + d + "scrollbar " + d + "scrollbar-" + n + '"><div id="' + u + 't" class="' + d + 'scrollbar-thumb"></div></div>')), i.draghelper = new t(u + "t", { start: function start() {
                  c = i.getEl("body")["scroll" + r], e.addClass(e.get(u), d + "active");
                }, drag: function drag(e) {
                  var t,
                      u,
                      d,
                      f,
                      p = i.layoutRect();u = p.contentW > p.innerW, d = p.contentH > p.innerH, f = i.getEl("body")["client" + a] - 2 * o, f -= u && d ? i.getEl("scroll" + n)["client" + l] : 0, t = f / i.getEl("body")["scroll" + a], i.getEl("body")["scroll" + r] = c + e["delta" + s] / t;
                }, stop: function stop() {
                  e.removeClass(e.get(u), d + "active");
                } });
            }i.addClass("scroll"), n("v", "Top", "Height", "Y", "Width"), n("h", "Left", "Width", "X", "Height");
          }var i = this,
              o = 2;i.settings.autoScroll && (i._hasScroll || (i._hasScroll = !0, r(), i.on("wheel", function (e) {
            var t = i.getEl("body");t.scrollLeft += 10 * (e.deltaX || 0), t.scrollTop += 10 * e.deltaY, n();
          }), e.on(i.getEl("body"), "scroll", n)), n());
        } };
    }), r(G, [j, Y], function (e, t) {
      return e.extend({ Defaults: { layout: "fit", containerCls: "panel" }, Mixins: [t], renderHtml: function renderHtml() {
          var e = this,
              t = e._layout,
              n = e.settings.html;return e.preRender(), t.preRender(e), "undefined" == typeof n ? n = '<div id="' + e._id + '-body" class="' + e.classes("body") + '">' + t.renderHtml(e) + "</div>" : ("function" == typeof n && (n = n.call(e)), e._hasBody = !1), '<div id="' + e._id + '" class="' + e.classes() + '" hideFocus="1" tabIndex="-1" role="group">' + (e._preBodyHtml || "") + n + "</div>";
        } });
    }), r(X, [V], function (e) {
      function t(t, n, r) {
        var i, o, a, s, l, c, u, d, f, p;return f = e.getViewPort(), o = e.getPos(n), a = o.x, s = o.y, t._fixed && (a -= f.x, s -= f.y), i = t.getEl(), p = e.getSize(i), l = p.width, c = p.height, p = e.getSize(n), u = p.width, d = p.height, r = (r || "").split(""), "b" === r[0] && (s += d), "r" === r[1] && (a += u), "c" === r[0] && (s += Math.round(d / 2)), "c" === r[1] && (a += Math.round(u / 2)), "b" === r[3] && (s -= c), "r" === r[4] && (a -= l), "c" === r[3] && (s -= Math.round(c / 2)), "c" === r[4] && (a -= Math.round(l / 2)), { x: a, y: s, w: l, h: c };
      }return { testMoveRel: function testMoveRel(n, r) {
          for (var i = e.getViewPort(), o = 0; o < r.length; o++) {
            var a = t(this, n, r[o]);if (this._fixed) {
              if (a.x > 0 && a.x + a.w < i.w && a.y > 0 && a.y + a.h < i.h) return r[o];
            } else if (a.x > i.x && a.x + a.w < i.w + i.x && a.y > i.y && a.y + a.h < i.h + i.y) return r[o];
          }return r[0];
        }, moveRel: function moveRel(e, n) {
          "string" != typeof n && (n = this.testMoveRel(e, n));var r = t(this, e, n);return this.moveTo(r.x, r.y);
        }, moveBy: function moveBy(e, t) {
          var n = this,
              r = n.layoutRect();return n.moveTo(r.x + e, r.y + t), n;
        }, moveTo: function moveTo(t, n) {
          function r(e, t, n) {
            return 0 > e ? 0 : e + n > t ? (e = t - n, 0 > e ? 0 : e) : e;
          }var i = this;if (i.settings.constrainToViewport) {
            var o = e.getViewPort(window),
                a = i.layoutRect();t = r(t, o.w + o.x, a.w), n = r(n, o.h + o.y, a.h);
          }return i._rendered ? i.layoutRect({ x: t, y: n }).repaint() : (i.settings.x = t, i.settings.y = n), i.fire("move", { x: t, y: n }), i;
        } };
    }), r(J, [V], function (e) {
      return { resizeToContent: function resizeToContent() {
          this._layoutRect.autoResize = !0, this._lastRect = null, this.reflow();
        }, resizeTo: function resizeTo(t, n) {
          if (1 >= t || 1 >= n) {
            var r = e.getWindowSize();t = 1 >= t ? t * r.w : t, n = 1 >= n ? n * r.h : n;
          }return this._layoutRect.autoResize = !1, this.layoutRect({ minW: t, minH: n, w: t, h: n }).reflow();
        }, resizeBy: function resizeBy(e, t) {
          var n = this,
              r = n.layoutRect();return n.resizeTo(r.w + e, r.h + t);
        } };
    }), r(Q, [G, X, J, V], function (e, t, n, r) {
      function i(e) {
        var t;for (t = s.length; t--;) {
          s[t] === e && s.splice(t, 1);
        }for (t = l.length; t--;) {
          l[t] === e && l.splice(t, 1);
        }
      }var o,
          a,
          s = [],
          l = [],
          c,
          u = e.extend({ Mixins: [t, n], init: function init(e) {
          function t() {
            var e,
                t = u.zIndex || 65535,
                n;if (l.length) for (e = 0; e < l.length; e++) {
              l[e].modal && (t++, n = l[e]), l[e].getEl().style.zIndex = t, l[e].zIndex = t, t++;
            }var i = document.getElementById(d.classPrefix + "modal-block");n ? r.css(i, "z-index", n.zIndex - 1) : i && (i.parentNode.removeChild(i), c = !1), u.currentZIndex = t;
          }function n(e, t) {
            for (; e;) {
              if (e == t) return !0;e = e.parent();
            }
          }function i(e) {
            function t(t, n) {
              for (var r, i = 0; i < s.length; i++) {
                if (s[i] != e) for (r = s[i].parent(); r && (r = r.parent());) {
                  r == e && s[i].fixed(t).moveBy(0, n).repaint();
                }
              }
            }var n = r.getViewPort().y;e.settings.autofix && (e._fixed ? e._autoFixY > n && (e.fixed(!1).layoutRect({ y: e._autoFixY }).repaint(), t(!1, e._autoFixY - n)) : (e._autoFixY = e.layoutRect().y, e._autoFixY < n && (e.fixed(!0).layoutRect({ y: 0 }).repaint(), t(!0, n - e._autoFixY))));
          }var d = this;d._super(e), d._eventsRoot = d, d.addClass("floatpanel"), e.autohide && (o || (o = function o(e) {
            for (var t = s.length; t--;) {
              var r = s[t],
                  i = r.getParentCtrl(e.target);if (r.settings.autohide) {
                if (i && (n(i, r) || r.parent() === i)) continue;e = r.fire("autohide", { target: e.target }), e.isDefaultPrevented() || r.hide();
              }
            }
          }, r.on(document, "click", o)), s.push(d)), e.autofix && (a || (a = function a() {
            var e;for (e = s.length; e--;) {
              i(s[e]);
            }
          }, r.on(window, "scroll", a)), d.on("move", function () {
            i(this);
          })), d.on("postrender show", function (e) {
            if (e.control == d) {
              var n,
                  i = d.classPrefix;d.modal && !c && (n = r.createFragment('<div id="' + i + 'modal-block" class="' + i + "reset " + i + 'fade"></div>'), n = n.firstChild, d.getContainerElm().appendChild(n), setTimeout(function () {
                r.addClass(n, i + "in"), r.addClass(d.getEl(), i + "in");
              }, 0), c = !0), l.push(d), t();
            }
          }), d.on("close hide", function (e) {
            if (e.control == d) {
              for (var n = l.length; n--;) {
                l[n] === d && l.splice(n, 1);
              }t();
            }
          }), d.on("show", function () {
            d.parents().each(function (e) {
              return e._fixed ? (d.fixed(!0), !1) : void 0;
            });
          }), e.popover && (d._preBodyHtml = '<div class="' + d.classPrefix + 'arrow"></div>', d.addClass("popover").addClass("bottom").addClass(d.isRtl() ? "end" : "start"));
        }, fixed: function fixed(e) {
          var t = this;if (t._fixed != e) {
            if (t._rendered) {
              var n = r.getViewPort();e ? t.layoutRect().y -= n.y : t.layoutRect().y += n.y;
            }t.toggleClass("fixed", e), t._fixed = e;
          }return t;
        }, show: function show() {
          var e = this,
              t,
              n = e._super();for (t = s.length; t-- && s[t] !== e;) {}return -1 === t && s.push(e), n;
        }, hide: function hide() {
          return i(this), this._super();
        }, hideAll: function hideAll() {
          u.hideAll();
        }, close: function close() {
          var e = this;return e.fire("close"), e.remove();
        }, remove: function remove() {
          i(this), this._super();
        }, postRender: function postRender() {
          var e = this;return e.settings.bodyRole && this.getEl("body").setAttribute("role", e.settings.bodyRole), e._super();
        } });return u.hideAll = function () {
        for (var e = s.length; e--;) {
          var t = s[e];t && t.settings.autohide && (t.hide(), s.splice(e, 1));
        }
      }, u;
    }), r(Z, [Q, G, V, K], function (e, t, n, r) {
      var i = e.extend({ modal: !0, Defaults: { border: 1, layout: "flex", containerCls: "panel", role: "dialog", callbacks: { submit: function submit() {
              this.fire("submit", { data: this.toJSON() });
            }, close: function close() {
              this.close();
            } } }, init: function init(e) {
          var n = this;n._super(e), n.isRtl() && n.addClass("rtl"), n.addClass("window"), n._fixed = !0, e.buttons && (n.statusbar = new t({ layout: "flex", border: "1 0 0 0", spacing: 3, padding: 10, align: "center", pack: n.isRtl() ? "start" : "end", defaults: { type: "button" }, items: e.buttons }), n.statusbar.addClass("foot"), n.statusbar.parent(n)), n.on("click", function (e) {
            -1 != e.target.className.indexOf(n.classPrefix + "close") && n.close();
          }), n.on("cancel", function () {
            n.close();
          }), n.aria("describedby", n.describedBy || n._id + "-none"), n.aria("label", e.title), n._fullscreen = !1;
        }, recalc: function recalc() {
          var e = this,
              t = e.statusbar,
              r,
              i,
              o,
              a;e._fullscreen && (e.layoutRect(n.getWindowSize()), e.layoutRect().contentH = e.layoutRect().innerH), e._super(), r = e.layoutRect(), e.settings.title && !e._fullscreen && (i = r.headerW, i > r.w && (o = r.x - Math.max(0, i / 2), e.layoutRect({ w: i, x: o }), a = !0)), t && (t.layoutRect({ w: e.layoutRect().innerW }).recalc(), i = t.layoutRect().minW + r.deltaW, i > r.w && (o = r.x - Math.max(0, i - r.w), e.layoutRect({ w: i, x: o }), a = !0)), a && e.recalc();
        }, initLayoutRect: function initLayoutRect() {
          var e = this,
              t = e._super(),
              r = 0,
              i;if (e.settings.title && !e._fullscreen) {
            i = e.getEl("head");var o = n.getSize(i);t.headerW = o.width, t.headerH = o.height, r += t.headerH;
          }e.statusbar && (r += e.statusbar.layoutRect().h), t.deltaH += r, t.minH += r, t.h += r;var a = n.getWindowSize();return t.x = Math.max(0, a.w / 2 - t.w / 2), t.y = Math.max(0, a.h / 2 - t.h / 2), t;
        }, renderHtml: function renderHtml() {
          var e = this,
              t = e._layout,
              n = e._id,
              r = e.classPrefix,
              i = e.settings,
              o = "",
              a = "",
              s = i.html;return e.preRender(), t.preRender(e), i.title && (o = '<div id="' + n + '-head" class="' + r + 'window-head"><div id="' + n + '-title" class="' + r + 'title">' + e.encode(i.title) + '</div><button type="button" class="' + r + 'close" aria-hidden="true">&times;</button><div id="' + n + '-dragh" class="' + r + 'dragh"></div></div>'), i.url && (s = '<iframe src="' + i.url + '" tabindex="-1"></iframe>'), "undefined" == typeof s && (s = t.renderHtml(e)), e.statusbar && (a = e.statusbar.renderHtml()), '<div id="' + n + '" class="' + e.classes() + '" hideFocus="1"><div class="' + e.classPrefix + 'reset" role="application">' + o + '<div id="' + n + '-body" class="' + e.classes("body") + '">' + s + "</div>" + a + "</div></div>";
        }, fullscreen: function fullscreen(e) {
          var t = this,
              r = document.documentElement,
              i,
              o = t.classPrefix,
              a;if (e != t._fullscreen) if (n.on(window, "resize", function () {
            var e;if (t._fullscreen) if (i) t._timer || (t._timer = setTimeout(function () {
              var e = n.getWindowSize();t.moveTo(0, 0).resizeTo(e.w, e.h), t._timer = 0;
            }, 50));else {
              e = new Date().getTime();var r = n.getWindowSize();t.moveTo(0, 0).resizeTo(r.w, r.h), new Date().getTime() - e > 50 && (i = !0);
            }
          }), a = t.layoutRect(), t._fullscreen = e, e) {
            t._initial = { x: a.x, y: a.y, w: a.w, h: a.h }, t._borderBox = t.parseBox("0"), t.getEl("head").style.display = "none", a.deltaH -= a.headerH + 2, n.addClass(r, o + "fullscreen"), n.addClass(document.body, o + "fullscreen"), t.addClass("fullscreen");var s = n.getWindowSize();t.moveTo(0, 0).resizeTo(s.w, s.h);
          } else t._borderBox = t.parseBox(t.settings.border), t.getEl("head").style.display = "", a.deltaH += a.headerH, n.removeClass(r, o + "fullscreen"), n.removeClass(document.body, o + "fullscreen"), t.removeClass("fullscreen"), t.moveTo(t._initial.x, t._initial.y).resizeTo(t._initial.w, t._initial.h);return t.reflow();
        }, postRender: function postRender() {
          var e = this,
              t;setTimeout(function () {
            e.addClass("in");
          }, 0), e._super(), e.statusbar && e.statusbar.postRender(), e.focus(), this.dragHelper = new r(e._id + "-dragh", { start: function start() {
              t = { x: e.layoutRect().x, y: e.layoutRect().y };
            }, drag: function drag(n) {
              e.moveTo(t.x + n.deltaX, t.y + n.deltaY);
            } }), e.on("submit", function (t) {
            t.isDefaultPrevented() || e.close();
          });
        }, submit: function submit() {
          return this.fire("submit", { data: this.toJSON() });
        }, remove: function remove() {
          var e = this,
              t = e.classPrefix;e.dragHelper.destroy(), e._super(), e.statusbar && this.statusbar.remove(), e._fullscreen && (n.removeClass(document.documentElement, t + "fullscreen"), n.removeClass(document.body, t + "fullscreen"));
        } });return i;
    }), r(et, [Z], function (e) {
      var t = e.extend({ init: function init(e) {
          e = { border: 1, padding: 20, layout: "flex", pack: "center", align: "center", containerCls: "panel", autoScroll: !0, buttons: { type: "button", text: "Ok", action: "ok" }, items: { type: "label", multiline: !0, maxWidth: 500, maxHeight: 200 } }, this._super(e);
        }, Statics: { OK: 1, OK_CANCEL: 2, YES_NO: 3, YES_NO_CANCEL: 4, msgBox: function msgBox(n) {
            var r,
                i = n.callback || function () {};switch (n.buttons) {case t.OK_CANCEL:
                r = [{ type: "button", text: "Ok", subtype: "primary", onClick: function onClick(e) {
                    e.control.parents()[1].close(), i(!0);
                  } }, { type: "button", text: "Cancel", onClick: function onClick(e) {
                    e.control.parents()[1].close(), i(!1);
                  } }];break;case t.YES_NO:
                r = [{ type: "button", text: "Ok", subtype: "primary", onClick: function onClick(e) {
                    e.control.parents()[1].close(), i(!0);
                  } }];break;case t.YES_NO_CANCEL:
                r = [{ type: "button", text: "Ok", subtype: "primary", onClick: function onClick(e) {
                    e.control.parents()[1].close();
                  } }];break;default:
                r = [{ type: "button", text: "Ok", subtype: "primary", onClick: function onClick(e) {
                    e.control.parents()[1].close(), i(!0);
                  } }];}return new e({ padding: 20, x: n.x, y: n.y, minWidth: 300, minHeight: 100, layout: "flex", pack: "center", align: "center", buttons: r, title: n.title, role: "alertdialog", items: { type: "label", multiline: !0, maxWidth: 500, maxHeight: 200, text: n.text }, onPostRender: function onPostRender() {
                this.aria("describedby", this.items()[0]._id);
              }, onClose: n.onClose, onCancel: function onCancel() {
                i(!1);
              } }).renderTo(document.body).reflow();
          }, alert: function alert(e, n) {
            return "string" == typeof e && (e = { text: e }), e.callback = n, t.msgBox(e);
          }, confirm: function confirm(e, n) {
            return "string" == typeof e && (e = { text: e }), e.callback = n, e.buttons = t.OK_CANCEL, t.msgBox(e);
          } } });return t;
    }), r(tt, [Z, et], function (e, t) {
      return function (n) {
        function r() {
          return o.length ? o[o.length - 1] : void 0;
        }var i = this,
            o = [];i.windows = o, i.open = function (t, r) {
          var i;return n.editorManager.activeEditor = n, t.title = t.title || " ", t.url = t.url || t.file, t.url && (t.width = parseInt(t.width || 320, 10), t.height = parseInt(t.height || 240, 10)), t.body && (t.items = { defaults: t.defaults, type: t.bodyType || "form", items: t.body }), t.url || t.buttons || (t.buttons = [{ text: "Ok", subtype: "primary", onclick: function onclick() {
              i.find("form")[0].submit();
            } }, { text: "Cancel", onclick: function onclick() {
              i.close();
            } }]), i = new e(t), o.push(i), i.on("close", function () {
            for (var e = o.length; e--;) {
              o[e] === i && o.splice(e, 1);
            }n.focus();
          }), t.data && i.on("postRender", function () {
            this.find("*").each(function (e) {
              var n = e.name();n in t.data && e.value(t.data[n]);
            });
          }), i.features = t || {}, i.params = r || {}, n.nodeChanged(), i.renderTo(document.body).reflow();
        }, i.alert = function (e, r, i) {
          t.alert(e, function () {
            r ? r.call(i || this) : n.focus();
          });
        }, i.confirm = function (e, n, r) {
          t.confirm(e, function (e) {
            n.call(r || this, e);
          });
        }, i.close = function () {
          r() && r().close();
        }, i.getParams = function () {
          return r() ? r().params : null;
        }, i.setParams = function (e) {
          r() && (r().params = e);
        };
      };
    }), r(nt, [R, B, x, h, g, p], function (e, t, n, r, i, o) {
      return function (a) {
        function s(e, t) {
          try {
            a.getDoc().execCommand(e, !1, t);
          } catch (n) {}
        }function l() {
          var e = a.getDoc().documentMode;return e ? e : 6;
        }function c(e) {
          return e.isDefaultPrevented();
        }function u() {
          function t(e) {
            var t = new i(function () {});o.each(a.getBody().getElementsByTagName("*"), function (e) {
              "SPAN" == e.tagName && e.setAttribute("mce-data-marked", 1), !e.hasAttribute("data-mce-style") && e.hasAttribute("style") && a.dom.setAttrib(e, "style", e.getAttribute("style"));
            }), t.observe(a.getDoc(), { childList: !0, attributes: !0, subtree: !0, attributeFilter: ["style"] }), a.getDoc().execCommand(e ? "ForwardDelete" : "Delete", !1, null);var n = a.selection.getRng(),
                r = n.startContainer.parentNode;o.each(t.takeRecords(), function (e) {
              if ("style" == e.attributeName) {
                var t = e.target.getAttribute("data-mce-style");t ? e.target.setAttribute("style", t) : e.target.removeAttribute("style");
              }o.each(e.addedNodes, function (e) {
                if ("SPAN" == e.nodeName && !e.getAttribute("mce-data-marked")) {
                  var t, i;e == r && (t = n.startOffset, i = e.firstChild), U.remove(e, !0), i && (n.setStart(i, t), n.setEnd(i, t), a.selection.setRng(n));
                }
              });
            }), t.disconnect(), o.each(a.dom.select("span[mce-data-marked]"), function (e) {
              e.removeAttribute("mce-data-marked");
            });
          }var n = a.getDoc(),
              r = "data:text/mce-internal,",
              i = window.MutationObserver,
              s;i || (s = !0, i = function i() {
            function e(e) {
              var t = e.relatedNode || e.target;n.push({ target: t, addedNodes: [t] });
            }function t(e) {
              var t = e.relatedNode || e.target;n.push({ target: t, attributeName: e.attrName });
            }var n = [],
                r;this.observe = function (n) {
              r = n, r.addEventListener("DOMSubtreeModified", e, !1), r.addEventListener("DOMNodeInsertedIntoDocument", e, !1), r.addEventListener("DOMNodeInserted", e, !1), r.addEventListener("DOMAttrModified", t, !1);
            }, this.disconnect = function () {
              r.removeEventListener("DOMNodeInserted", e), r.removeEventListener("DOMAttrModified", t), r.removeEventListener("DOMSubtreeModified", e, !1);
            }, this.takeRecords = function () {
              return n;
            };
          }), a.on("keydown", function (n) {
            var r = n.keyCode == V,
                i = e.metaKeyPressed(n);if (!c(n) && (r || n.keyCode == W)) {
              var o = a.selection.getRng(),
                  s = o.startContainer,
                  l = o.startOffset;if (!i && o.collapsed && 3 == s.nodeType && (r ? l < s.data.length : l > 0)) return;n.preventDefault(), i && a.selection.getSel().modify("extend", r ? "forward" : "backward", "word"), t(r);
            }
          }), a.on("keypress", function (n) {
            c(n) || q.isCollapsed() || !n.charCode || e.metaKeyPressed(n) || (n.preventDefault(), t(!0), a.selection.setContent(String.fromCharCode(n.charCode)));
          }), a.addCommand("Delete", function () {
            t();
          }), a.addCommand("ForwardDelete", function () {
            t(!0);
          }), s || (a.on("dragstart", function (e) {
            e.dataTransfer.setData("URL", "data:text/mce-internal," + escape(a.selection.getContent()));
          }), a.on("drop", function (e) {
            if (!c(e)) {
              var i = e.dataTransfer.getData("URL");if (!i || -1 == i.indexOf(r) || !n.caretRangeFromPoint) return;i = unescape(i.substr(r.length)), n.caretRangeFromPoint && (e.preventDefault(), t(), a.selection.setRng(n.caretRangeFromPoint(e.x, e.y)), a.insertContent(i));
            }
          }), a.on("cut", function (e) {
            !c(e) && e.clipboardData && (e.preventDefault(), e.clipboardData.clearData(), e.clipboardData.setData("text/html", a.selection.getContent()), e.clipboardData.setData("text/plain", a.selection.getContent({ format: "text" })), t(!0));
          }));
        }function d() {
          function e(e) {
            var t = U.create("body"),
                n = e.cloneContents();return t.appendChild(n), q.serializer.serialize(t, { format: "html" });
          }function n(n) {
            if (!n.setStart) {
              if (n.item) return !1;var r = n.duplicate();return r.moveToElementText(a.getBody()), t.compareRanges(n, r);
            }var i = e(n),
                o = U.createRng();o.selectNode(a.getBody());var s = e(o);return i === s;
          }a.on("keydown", function (e) {
            var t = e.keyCode,
                r,
                i;if (!c(e) && (t == V || t == W)) {
              if (r = a.selection.isCollapsed(), i = a.getBody(), r && !U.isEmpty(i)) return;if (!r && !n(a.selection.getRng())) return;e.preventDefault(), a.setContent(""), i.firstChild && U.isBlock(i.firstChild) ? a.selection.setCursorLocation(i.firstChild, 0) : a.selection.setCursorLocation(i, 0), a.nodeChanged();
            }
          });
        }function f() {
          a.on("keydown", function (t) {
            !c(t) && 65 == t.keyCode && e.metaKeyPressed(t) && (t.preventDefault(), a.execCommand("SelectAll"));
          });
        }function p() {
          a.settings.content_editable || (U.bind(a.getDoc(), "focusin", function () {
            q.setRng(q.getRng());
          }), U.bind(a.getDoc(), "mousedown", function (e) {
            e.target == a.getDoc().documentElement && (a.getBody().focus(), q.setRng(q.getRng()));
          }));
        }function m() {
          a.on("keydown", function (e) {
            if (!c(e) && e.keyCode === W && q.isCollapsed() && 0 === q.getRng(!0).startOffset) {
              var t = q.getNode(),
                  n = t.previousSibling;if ("HR" == t.nodeName) return U.remove(t), void e.preventDefault();n && n.nodeName && "hr" === n.nodeName.toLowerCase() && (U.remove(n), e.preventDefault());
            }
          });
        }function h() {
          window.Range.prototype.getClientRects || a.on("mousedown", function (e) {
            if (!c(e) && "HTML" === e.target.nodeName) {
              var t = a.getBody();t.blur(), setTimeout(function () {
                t.focus();
              }, 0);
            }
          });
        }function g() {
          a.on("click", function (e) {
            e = e.target, /^(IMG|HR)$/.test(e.nodeName) && q.getSel().setBaseAndExtent(e, 0, e, 1), "A" == e.nodeName && U.hasClass(e, "mce-item-anchor") && q.select(e), a.nodeChanged();
          });
        }function v() {
          function e() {
            var e = U.getAttribs(q.getStart().cloneNode(!1));return function () {
              var t = q.getStart();t !== a.getBody() && (U.setAttrib(t, "style", null), z(e, function (e) {
                t.setAttributeNode(e.cloneNode(!0));
              }));
            };
          }function t() {
            return !q.isCollapsed() && U.getParent(q.getStart(), U.isBlock) != U.getParent(q.getEnd(), U.isBlock);
          }a.on("keypress", function (n) {
            var r;return c(n) || 8 != n.keyCode && 46 != n.keyCode || !t() ? void 0 : (r = e(), a.getDoc().execCommand("delete", !1, null), r(), n.preventDefault(), !1);
          }), U.bind(a.getDoc(), "cut", function (n) {
            var r;!c(n) && t() && (r = e(), setTimeout(function () {
              r();
            }, 0));
          });
        }function y() {
          var e, n;a.on("selectionchange", function () {
            n && (clearTimeout(n), n = 0), n = window.setTimeout(function () {
              if (!a.removed) {
                var n = q.getRng();e && t.compareRanges(n, e) || (a.nodeChanged(), e = n);
              }
            }, 50);
          });
        }function b() {
          document.body.setAttribute("role", "application");
        }function C() {
          a.on("keydown", function (e) {
            if (!c(e) && e.keyCode === W && q.isCollapsed() && 0 === q.getRng(!0).startOffset) {
              var t = q.getNode().previousSibling;if (t && t.nodeName && "table" === t.nodeName.toLowerCase()) return e.preventDefault(), !1;
            }
          });
        }function x() {
          l() > 7 || (s("RespectVisibilityInDesign", !0), a.contentStyles.push(".mceHideBrInPre pre br {display: none}"), U.addClass(a.getBody(), "mceHideBrInPre"), j.addNodeFilter("pre", function (e) {
            for (var t = e.length, r, i, o, a; t--;) {
              for (r = e[t].getAll("br"), i = r.length; i--;) {
                o = r[i], a = o.prev, a && 3 === a.type && "\n" != a.value.charAt(a.value - 1) ? a.value += "\n" : o.parent.insert(new n("#text", 3), o, !0).value = "\n";
              }
            }
          }), K.addNodeFilter("pre", function (e) {
            for (var t = e.length, n, r, i, o; t--;) {
              for (n = e[t].getAll("br"), r = n.length; r--;) {
                i = n[r], o = i.prev, o && 3 == o.type && (o.value = o.value.replace(/\r?\n$/, ""));
              }
            }
          }));
        }function w() {
          U.bind(a.getBody(), "mouseup", function () {
            var e,
                t = q.getNode();"IMG" == t.nodeName && ((e = U.getStyle(t, "width")) && (U.setAttrib(t, "width", e.replace(/[^0-9%]+/g, "")), U.setStyle(t, "width", "")), (e = U.getStyle(t, "height")) && (U.setAttrib(t, "height", e.replace(/[^0-9%]+/g, "")), U.setStyle(t, "height", "")));
          });
        }function _() {
          a.on("keydown", function (t) {
            var n, r, i, o, s;if (!c(t) && t.keyCode == e.BACKSPACE && (n = q.getRng(), r = n.startContainer, i = n.startOffset, o = U.getRoot(), s = r, n.collapsed && 0 === i)) {
              for (; s && s.parentNode && s.parentNode.firstChild == s && s.parentNode != o;) {
                s = s.parentNode;
              }"BLOCKQUOTE" === s.tagName && (a.formatter.toggle("blockquote", null, s), n = U.createRng(), n.setStart(r, 0), n.setEnd(r, 0), q.setRng(n));
            }
          });
        }function N() {
          function e() {
            a._refreshContentEditable(), s("StyleWithCSS", !1), s("enableInlineTableEditing", !1), $.object_resizing || s("enableObjectResizing", !1);
          }$.readonly || a.on("BeforeExecCommand MouseDown", e);
        }function E() {
          function e() {
            z(U.select("a"), function (e) {
              var t = e.parentNode,
                  n = U.getRoot();if (t.lastChild === e) {
                for (; t && !U.isBlock(t);) {
                  if (t.parentNode.lastChild !== t || t === n) return;t = t.parentNode;
                }U.add(t, "br", { "data-mce-bogus": 1 });
              }
            });
          }a.on("SetContent ExecCommand", function (t) {
            ("setcontent" == t.type || "mceInsertLink" === t.command) && e();
          });
        }function S() {
          $.forced_root_block && a.on("init", function () {
            s("DefaultParagraphSeparator", $.forced_root_block);
          });
        }function k() {
          a.on("Undo Redo SetContent", function (e) {
            e.initial || a.execCommand("mceRepaint");
          });
        }function T() {
          a.on("keydown", function (e) {
            var t;c(e) || e.keyCode != W || (t = a.getDoc().selection.createRange(), t && t.item && (e.preventDefault(), a.undoManager.beforeChange(), U.remove(t.item(0)), a.undoManager.add()));
          });
        }function R() {
          var e;l() >= 10 && (e = "", z("p div h1 h2 h3 h4 h5 h6".split(" "), function (t, n) {
            e += (n > 0 ? "," : "") + t + ":empty";
          }), a.contentStyles.push(e + "{padding-right: 1px !important}"));
        }function A() {
          l() < 9 && (j.addNodeFilter("noscript", function (e) {
            for (var t = e.length, n, r; t--;) {
              n = e[t], r = n.firstChild, r && n.attr("data-mce-innertext", r.value);
            }
          }), K.addNodeFilter("noscript", function (e) {
            for (var t = e.length, i, o, a; t--;) {
              i = e[t], o = e[t].firstChild, o ? o.value = r.decode(o.value) : (a = i.attributes.map["data-mce-innertext"], a && (i.attr("data-mce-innertext", null), o = new n("#text", 3), o.value = a, o.raw = !0, i.append(o)));
            }
          }));
        }function B() {
          function e(e, t) {
            var n = i.createTextRange();try {
              n.moveToPoint(e, t);
            } catch (r) {
              n = null;
            }return n;
          }function t(t) {
            var r;t.button ? (r = e(t.x, t.y), r && (r.compareEndPoints("StartToStart", a) > 0 ? r.setEndPoint("StartToStart", a) : r.setEndPoint("EndToEnd", a), r.select())) : n();
          }function n() {
            var e = r.selection.createRange();a && !e.item && 0 === e.compareEndPoints("StartToEnd", e) && a.select(), U.unbind(r, "mouseup", n), U.unbind(r, "mousemove", t), a = o = 0;
          }var r = U.doc,
              i = r.body,
              o,
              a,
              s;r.documentElement.unselectable = !0, U.bind(r, "mousedown contextmenu", function (i) {
            if ("HTML" === i.target.nodeName) {
              if (o && n(), s = r.documentElement, s.scrollHeight > s.clientHeight) return;o = 1, a = e(i.x, i.y), a && (U.bind(r, "mouseup", n), U.bind(r, "mousemove", t), U.getRoot().focus(), a.select());
            }
          });
        }function L() {
          a.on("keyup focusin mouseup", function (t) {
            65 == t.keyCode && e.metaKeyPressed(t) || q.normalize();
          }, !0);
        }function D() {
          a.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}");
        }function M() {
          a.inline || a.on("keydown", function () {
            document.activeElement == document.body && a.getWin().focus();
          });
        }function H() {
          a.inline || (a.contentStyles.push("body {min-height: 150px}"), a.on("click", function (e) {
            "HTML" == e.target.nodeName && (a.getBody().focus(), a.selection.normalize(), a.nodeChanged());
          }));
        }function P() {
          i.mac && a.on("keydown", function (t) {
            !e.metaKeyPressed(t) || 37 != t.keyCode && 39 != t.keyCode || (t.preventDefault(), a.selection.getSel().modify("move", 37 == t.keyCode ? "backward" : "forward", "word"));
          });
        }function O() {
          s("AutoUrlDetect", !1);
        }function I() {
          a.inline || a.on("focus blur", function () {
            var e = a.dom.create("br");a.getBody().appendChild(e), e.parentNode.removeChild(e);
          }, !0);
        }function F() {
          a.on("click", function (e) {
            "A" === e.target.tagName && e.preventDefault();
          }), a.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}");
        }var z = o.each,
            W = e.BACKSPACE,
            V = e.DELETE,
            U = a.dom,
            q = a.selection,
            $ = a.settings,
            j = a.parser,
            K = a.serializer,
            Y = i.gecko,
            G = i.ie,
            X = i.webkit;C(), _(), d(), L(), X && (u(), p(), g(), S(), i.iOS ? (y(), M(), H(), F()) : f()), G && i.ie < 11 && (m(), b(), x(), w(), T(), R(), A(), B()), i.ie >= 11 && (H(), I()), i.ie && (f(), O()), Y && (m(), h(), v(), N(), E(), k(), D(), P());
      };
    }), r(rt, [p], function (e) {
      function t() {
        return !1;
      }function n() {
        return !0;
      }var r = "__bindings",
          i = e.makeMap("focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave keydown keypress keyup contextmenu dragstart dragend dragover draggesture dragdrop drop drag", " ");return { fire: function fire(e, i, o) {
          var a = this,
              s,
              l,
              c,
              u,
              d;if (!a.removed) {
            if (e = e.toLowerCase(), i = i || {}, i.type = e, i.target || (i.target = a), i.preventDefault || (i.preventDefault = function () {
              i.isDefaultPrevented = n;
            }, i.stopPropagation = function () {
              i.isPropagationStopped = n;
            }, i.stopImmediatePropagation = function () {
              i.isImmediatePropagationStopped = n;
            }, i.isDefaultPrevented = t, i.isPropagationStopped = t, i.isImmediatePropagationStopped = t), a[r] && (s = a[r][e])) for (l = 0, c = s.length; c > l && (s[l] = u = s[l], !i.isImmediatePropagationStopped()); l++) {
              if (u.call(a, i) === !1) return i.preventDefault(), i;
            }if (o !== !1 && a.parent) for (d = a.parent(); d && !i.isPropagationStopped();) {
              d.fire(e, i, !1), d = d.parent();
            }return i;
          }
        }, on: function on(e, t, n) {
          var o = this,
              a,
              s,
              l,
              c;if (t === !1 && (t = function t() {
            return !1;
          }), t) for (l = e.toLowerCase().split(" "), c = l.length; c--;) {
            e = l[c], a = o[r], a || (a = o[r] = {}), s = a[e], s || (s = a[e] = [], o.bindNative && i[e] && o.bindNative(e)), n ? s.unshift(t) : s.push(t);
          }return o;
        }, off: function off(e, t) {
          var n = this,
              o,
              a = n[r],
              s,
              l,
              c,
              u;if (a) if (e) for (c = e.toLowerCase().split(" "), o = c.length; o--;) {
            if (e = c[o], s = a[e], !e) {
              for (l in a) {
                a[e].length = 0;
              }return n;
            }if (s) {
              if (t) for (u = s.length; u--;) {
                s[u] === t && s.splice(u, 1);
              } else s.length = 0;!s.length && n.unbindNative && i[e] && (n.unbindNative(e), delete a[e]);
            }
          } else {
            if (n.unbindNative) for (e in a) {
              n.unbindNative(e);
            }n[r] = [];
          }return n;
        }, hasEventListeners: function hasEventListeners(e) {
          var t = this[r];return e = e.toLowerCase(), !(!t || !t[e] || 0 === t[e].length);
        } };
    }), r(it, [p, g], function (e, t) {
      var n = e.each,
          r = e.explode,
          i = { f9: 120, f10: 121, f11: 122 };return function (o) {
        var a = this,
            s = {};o.on("keyup keypress keydown", function (e) {
          (e.altKey || e.ctrlKey || e.metaKey) && n(s, function (n) {
            var r = t.mac ? e.metaKey : e.ctrlKey;if (n.ctrl == r && n.alt == e.altKey && n.shift == e.shiftKey) return e.keyCode == n.keyCode || e.charCode && e.charCode == n.charCode ? (e.preventDefault(), "keydown" == e.type && n.func.call(n.scope), !0) : void 0;
          });
        }), a.add = function (t, a, l, c) {
          var u;return u = l, "string" == typeof l ? l = function l() {
            o.execCommand(u, !1, null);
          } : e.isArray(u) && (l = function l() {
            o.execCommand(u[0], u[1], u[2]);
          }), n(r(t.toLowerCase()), function (e) {
            var t = { func: l, scope: c || o, desc: o.translate(a), alt: !1, ctrl: !1, shift: !1 };n(r(e, "+"), function (e) {
              switch (e) {case "alt":case "ctrl":case "shift":
                  t[e] = !0;break;default:
                  t.charCode = e.charCodeAt(0), t.keyCode = i[e] || e.toUpperCase().charCodeAt(0);}
            }), s[(t.ctrl ? "ctrl" : "") + "," + (t.alt ? "alt" : "") + "," + (t.shift ? "shift" : "") + "," + t.keyCode] = t;
          }), !0;
        };
      };
    }), r(ot, [y, C, x, k, S, L, D, M, H, P, O, I, b, l, tt, w, N, nt, g, p, rt, it], function (e, n, r, i, o, a, s, l, c, u, d, f, p, m, h, g, v, y, b, C, x, w) {
      function _(e, t) {
        return "selectionchange" == t ? e.getDoc() : !e.inline && /^mouse|click|contextmenu|drop/.test(t) ? e.getDoc() : e.getBody();
      }function N(e, t, r) {
        var i = this,
            o,
            a;o = i.documentBaseUrl = r.documentBaseURL, a = r.baseURI, i.settings = t = T({ id: e, theme: "modern", delta_width: 0, delta_height: 0, popup_css: "", plugins: "", document_base_url: o, add_form_submit_trigger: !0, submit_patch: !0, add_unload_trigger: !0, convert_urls: !0, relative_urls: !0, remove_script_host: !0, object_resizing: !0, doctype: "<!DOCTYPE html>", visual: !0, font_size_style_values: "xx-small,x-small,small,medium,large,x-large,xx-large", font_size_legacy_values: "xx-small,small,medium,large,x-large,xx-large,300%", forced_root_block: "p", hidden_input: !0, padd_empty_editor: !0, render_ui: !0, indentation: "30px", inline_styles: !0, convert_fonts_to_spans: !0, indent: "simple", indent_before: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist", indent_after: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist", validate: !0, entity_encoding: "named", url_converter: i.convertURL, url_converter_scope: i, ie7_compat: !0 }, t), n.language = t.language || "en", n.languageLoad = t.language_load, n.baseURL = r.baseURL, i.id = t.id = e, i.isNotDirty = !0, i.plugins = {}, i.documentBaseURI = new f(t.document_base_url || o, { base_uri: a }), i.baseURI = a, i.contentCSS = [], i.contentStyles = [], i.shortcuts = new w(i), i.execCommands = {}, i.queryStateCommands = {}, i.queryValueCommands = {}, i.loadedCSS = {}, i.suffix = r.suffix, i.editorManager = r, i.inline = t.inline, r.fire("SetupEditor", i), i.execCallback("setup", i);
      }var E = e.DOM,
          S = n.ThemeManager,
          k = n.PluginManager,
          T = C.extend,
          R = C.each,
          A = C.explode,
          B = C.inArray,
          L = C.trim,
          D = C.resolve,
          M = m.Event,
          H = b.gecko,
          P = b.ie;return N.prototype = { render: function render() {
          function e() {
            E.unbind(window, "ready", e), n.render();
          }function t() {
            var e = p.ScriptLoader;if (r.language && "en" != r.language && !r.language_url && (r.language_url = n.editorManager.baseURL + "/langs/" + r.language + ".js"), r.language_url && e.add(r.language_url), r.theme && "function" != typeof r.theme && "-" != r.theme.charAt(0) && !S.urls[r.theme]) {
              var t = r.theme_url;t = t ? n.documentBaseURI.toAbsolute(t) : "themes/" + r.theme + "/theme" + o + ".js", S.load(r.theme, t);
            }C.isArray(r.plugins) && (r.plugins = r.plugins.join(" ")), R(r.external_plugins, function (e, t) {
              k.load(t, e), r.plugins += " " + t;
            }), R(r.plugins.split(/[ ,]/), function (e) {
              if (e = L(e), e && !k.urls[e]) if ("-" == e.charAt(0)) {
                e = e.substr(1, e.length);var t = k.dependencies(e);R(t, function (e) {
                  var t = { prefix: "plugins/", resource: e, suffix: "/plugin" + o + ".js" };e = k.createUrl(t, e), k.load(e.resource, e);
                });
              } else k.load(e, { prefix: "plugins/", resource: e, suffix: "/plugin" + o + ".js" });
            }), e.loadQueue(function () {
              n.removed || n.init();
            });
          }var n = this,
              r = n.settings,
              i = n.id,
              o = n.suffix;if (!M.domLoaded) return void E.bind(window, "ready", e);if (n.getElement() && b.contentEditable) {
            r.inline ? n.inline = !0 : (n.orgVisibility = n.getElement().style.visibility, n.getElement().style.visibility = "hidden");var a = n.getElement().form || E.getParent(i, "form");a && (n.formElement = a, r.hidden_input && !/TEXTAREA|INPUT/i.test(n.getElement().nodeName) && (E.insertAfter(E.create("input", { type: "hidden", name: i }), i), n.hasHiddenInput = !0), n.formEventDelegate = function (e) {
              n.fire(e.type, e);
            }, E.bind(a, "submit reset", n.formEventDelegate), n.on("reset", function () {
              n.setContent(n.startContent, { format: "raw" });
            }), !r.submit_patch || a.submit.nodeType || a.submit.length || a._mceOldSubmit || (a._mceOldSubmit = a.submit, a.submit = function () {
              return n.editorManager.triggerSave(), n.isNotDirty = !0, a._mceOldSubmit(a);
            })), n.windowManager = new h(n), "xml" == r.encoding && n.on("GetContent", function (e) {
              e.save && (e.content = E.encode(e.content));
            }), r.add_form_submit_trigger && n.on("submit", function () {
              n.initialized && n.save();
            }), r.add_unload_trigger && (n._beforeUnload = function () {
              !n.initialized || n.destroyed || n.isHidden() || n.save({ format: "raw", no_events: !0, set_dirty: !1 });
            }, n.editorManager.on("BeforeUnload", n._beforeUnload)), t();
          }
        }, init: function init() {
          function e(n) {
            var r = k.get(n),
                i,
                o;i = k.urls[n] || t.documentBaseUrl.replace(/\/$/, ""), n = L(n), r && -1 === B(h, n) && (R(k.dependencies(n), function (t) {
              e(t);
            }), o = new r(t, i), t.plugins[n] = o, o.init && (o.init(t, i), h.push(n)));
          }var t = this,
              n = t.settings,
              r = t.getElement(),
              i,
              o,
              a,
              s,
              l,
              c,
              u,
              d,
              f,
              p,
              m,
              h = [];if (t.rtl = this.editorManager.i18n.rtl, t.editorManager.add(t), n.aria_label = n.aria_label || E.getAttrib(r, "aria-label", t.getLang("aria.rich_text_area")), n.theme && ("function" != typeof n.theme ? (n.theme = n.theme.replace(/-/, ""), c = S.get(n.theme), t.theme = new c(t, S.urls[n.theme]), t.theme.init && t.theme.init(t, S.urls[n.theme] || t.documentBaseUrl.replace(/\/$/, ""))) : t.theme = n.theme), R(n.plugins.replace(/\-/g, "").split(/[ ,]/), e), n.render_ui && t.theme && (t.orgDisplay = r.style.display, "function" != typeof n.theme ? (i = n.width || r.style.width || r.offsetWidth, o = n.height || r.style.height || r.offsetHeight, a = n.min_height || 100, p = /^[0-9\.]+(|px)$/i, p.test("" + i) && (i = Math.max(parseInt(i, 10), 100)), p.test("" + o) && (o = Math.max(parseInt(o, 10), a)), l = t.theme.renderUI({ targetNode: r, width: i, height: o, deltaWidth: n.delta_width, deltaHeight: n.delta_height }), n.content_editable || (E.setStyles(l.sizeContainer || l.editorContainer, { wi2dth: i, h2eight: o }), o = (l.iframeHeight || o) + ("number" == typeof o ? l.deltaHeight || 0 : ""), a > o && (o = a))) : (l = n.theme(t, r), l.editorContainer.nodeType && (l.editorContainer = l.editorContainer.id = l.editorContainer.id || t.id + "_parent"), l.iframeContainer.nodeType && (l.iframeContainer = l.iframeContainer.id = l.iframeContainer.id || t.id + "_iframecontainer"), o = l.iframeHeight || r.offsetHeight), t.editorContainer = l.editorContainer), n.content_css && R(A(n.content_css), function (e) {
            t.contentCSS.push(t.documentBaseURI.toAbsolute(e));
          }), n.content_style && t.contentStyles.push(n.content_style), n.content_editable) return r = s = l = null, t.initContentBody();for (t.iframeHTML = n.doctype + "<html><head>", n.document_base_url != t.documentBaseUrl && (t.iframeHTML += '<base href="' + t.documentBaseURI.getURI() + '" />'), !b.caretAfter && n.ie7_compat && (t.iframeHTML += '<meta http-equiv="X-UA-Compatible" content="IE=7" />'), t.iframeHTML += '<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />', m = 0; m < t.contentCSS.length; m++) {
            var g = t.contentCSS[m];t.iframeHTML += '<link type="text/css" rel="stylesheet" href="' + g + '" />', t.loadedCSS[g] = !0;
          }d = n.body_id || "tinymce", -1 != d.indexOf("=") && (d = t.getParam("body_id", "", "hash"), d = d[t.id] || d), f = n.body_class || "", -1 != f.indexOf("=") && (f = t.getParam("body_class", "", "hash"), f = f[t.id] || ""), t.iframeHTML += '</head><body id="' + d + '" class="mce-content-body ' + f + '" onload="window.parent.tinymce.get(\'' + t.id + "').fire('load');\"><br></body></html>";var v = 'javascript:(function(){document.open();document.domain="' + document.domain + '";var ed = window.parent.tinymce.get("' + t.id + '");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';if (document.domain != location.hostname && (u = v), s = E.add(l.iframeContainer, "iframe", { id: t.id + "_ifr", src: u || 'javascript:""', frameBorder: "0", allowTransparency: "true", title: t.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"), style: { width: "100%", height: o, display: "block" } }), P) try {
            t.getDoc();
          } catch (y) {
            s.src = u = v;
          }t.contentAreaContainer = l.iframeContainer, l.editorContainer && (E.get(l.editorContainer).style.display = t.orgDisplay), E.get(t.id).style.display = "none", E.setAttrib(t.id, "aria-hidden", !0), u || t.initContentBody(), r = s = l = null;
        }, initContentBody: function initContentBody(t) {
          var n = this,
              o = n.settings,
              f = E.get(n.id),
              p = n.getDoc(),
              m,
              h;o.inline || (n.getElement().style.visibility = n.orgVisibility), t || o.content_editable || (p.open(), p.write(n.iframeHTML), p.close()), o.content_editable && (n.on("remove", function () {
            var e = this.getBody();E.removeClass(e, "mce-content-body"), E.removeClass(e, "mce-edit-focus"), E.setAttrib(e, "tabIndex", null), E.setAttrib(e, "contentEditable", null);
          }), E.addClass(f, "mce-content-body"), f.tabIndex = -1, n.contentDocument = p = o.content_document || document, n.contentWindow = o.content_window || window, n.bodyElement = f, o.content_document = o.content_window = null, o.root_name = f.nodeName.toLowerCase()), m = n.getBody(), m.disabled = !0, o.readonly || (n.inline && "static" == E.getStyle(m, "position", !0) && (m.style.position = "relative"), m.contentEditable = n.getParam("content_editable_state", !0)), m.disabled = !1, n.schema = new g(o), n.dom = new e(p, { keep_values: !0, url_converter: n.convertURL, url_converter_scope: n, hex_colors: o.force_hex_style_colors, class_filter: o.class_filter, update_styles: !0, root_element: o.content_editable ? n.id : null, collect: o.content_editable, schema: n.schema, onSetAttrib: function onSetAttrib(e) {
              n.fire("SetAttrib", e);
            } }), n.parser = new v(o, n.schema), n.parser.addAttributeFilter("src,href,style", function (e, t) {
            for (var r = e.length, i, o = n.dom, a, s; r--;) {
              i = e[r], a = i.attr(t), s = "data-mce-" + t, i.attributes.map[s] || ("style" === t ? i.attr(s, o.serializeStyle(o.parseStyle(a), i.name)) : i.attr(s, n.convertURL(a, t, i.name)));
            }
          }), n.parser.addNodeFilter("script", function (e) {
            for (var t = e.length, n; t--;) {
              n = e[t], n.attr("type", "mce-" + (n.attr("type") || "text/javascript"));
            }
          }), n.parser.addNodeFilter("#cdata", function (e) {
            for (var t = e.length, n; t--;) {
              n = e[t], n.type = 8, n.name = "#comment", n.value = "[CDATA[" + n.value + "]]";
            }
          }), n.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div", function (e) {
            for (var t = e.length, i, o = n.schema.getNonEmptyElements(); t--;) {
              i = e[t], i.isEmpty(o) && (i.empty().append(new r("br", 1)).shortEnded = !0);
            }
          }), n.serializer = new i(o, n), n.selection = new a(n.dom, n.getWin(), n.serializer, n), n.formatter = new s(n), n.undoManager = new l(n), n.forceBlocks = new u(n), n.enterKey = new c(n), n.editorCommands = new d(n), n.fire("PreInit"), o.browser_spellcheck || o.gecko_spellcheck || (p.body.spellcheck = !1, E.setAttrib(m, "spellcheck", "false")), n.fire("PostRender"), n.quirks = y(n), o.directionality && (m.dir = o.directionality), o.nowrap && (m.style.whiteSpace = "nowrap"), o.protect && n.on("BeforeSetContent", function (e) {
            R(o.protect, function (t) {
              e.content = e.content.replace(t, function (e) {
                return "<!--mce:protected " + escape(e) + "-->";
              });
            });
          }), n.on("SetContent", function () {
            n.addVisual(n.getBody());
          }), o.padd_empty_editor && n.on("PostProcess", function (e) {
            e.content = e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/, "");
          }), n.load({ initial: !0, format: "html" }), n.startContent = n.getContent({ format: "raw" }), n.initialized = !0, R(n._pendingNativeEvents, function (e) {
            n.dom.bind(_(n, e), e, function (e) {
              n.fire(e.type, e);
            });
          }), n.fire("init"), n.focus(!0), n.nodeChanged({ initial: !0 }), n.execCallback("init_instance_callback", n), n.contentStyles.length > 0 && (h = "", R(n.contentStyles, function (e) {
            h += e + "\r\n";
          }), n.dom.addStyle(h)), R(n.contentCSS, function (e) {
            n.loadedCSS[e] || (n.dom.loadCSS(e), n.loadedCSS[e] = !0);
          }), o.auto_focus && setTimeout(function () {
            var e = n.editorManager.get(o.auto_focus);e.selection.select(e.getBody(), 1), e.selection.collapse(1), e.getBody().focus(), e.getWin().focus();
          }, 100), f = p = m = null;
        }, focus: function focus(e) {
          var t,
              n = this,
              r = n.selection,
              i = n.settings.content_editable,
              o,
              a,
              s = n.getDoc(),
              l;e || (o = r.getRng(), o.item && (a = o.item(0)), n._refreshContentEditable(), i || (b.opera || n.getBody().focus(), n.getWin().focus()), (H || i) && (l = n.getBody(), l.setActive && b.ie < 11 ? l.setActive() : l.focus(), i && r.normalize()), a && a.ownerDocument == s && (o = s.body.createControlRange(), o.addElement(a), o.select())), n.editorManager.activeEditor != n && ((t = n.editorManager.activeEditor) && t.fire("deactivate", { relatedTarget: n }), n.fire("activate", { relatedTarget: t })), n.editorManager.activeEditor = n;
        }, execCallback: function execCallback(e) {
          var t = this,
              n = t.settings[e],
              r;if (n) return t.callbackLookup && (r = t.callbackLookup[e]) && (n = r.func, r = r.scope), "string" == typeof n && (r = n.replace(/\.\w+$/, ""), r = r ? D(r) : 0, n = D(n), t.callbackLookup = t.callbackLookup || {}, t.callbackLookup[e] = { func: n, scope: r }), n.apply(r || t, Array.prototype.slice.call(arguments, 1));
        }, translate: function translate(e) {
          var t = this.settings.language || "en",
              n = this.editorManager.i18n;return e ? n.data[t + "." + e] || e.replace(/\{\#([^\}]+)\}/g, function (e, r) {
            return n.data[t + "." + r] || "{#" + r + "}";
          }) : "";
        }, getLang: function getLang(e, n) {
          return this.editorManager.i18n.data[(this.settings.language || "en") + "." + e] || (n !== t ? n : "{#" + e + "}");
        }, getParam: function getParam(e, t, n) {
          var r = e in this.settings ? this.settings[e] : t,
              i;return "hash" === n ? (i = {}, "string" == typeof r ? R(r.split(r.indexOf("=") > 0 ? /[;,](?![^=;,]*(?:[;,]|$))/ : ","), function (e) {
            e = e.split("="), i[L(e[0])] = L(e.length > 1 ? e[1] : e);
          }) : i = r, i) : r;
        }, nodeChanged: function nodeChanged() {
          var e = this,
              t = e.selection,
              n,
              r,
              i;!e.initialized || e.settings.disable_nodechange || e.settings.readonly || (i = e.getBody(), n = t.getStart() || i, n = P && n.ownerDocument != e.getDoc() ? e.getBody() : n, "IMG" == n.nodeName && t.isCollapsed() && (n = n.parentNode), r = [], e.dom.getParent(n, function (e) {
            return e === i ? !0 : void r.push(e);
          }), e.fire("NodeChange", { element: n, parents: r }));
        }, addButton: function addButton(e, t) {
          var n = this;t.cmd && (t.onclick = function () {
            n.execCommand(t.cmd);
          }), t.text || t.icon || (t.icon = e), n.buttons = n.buttons || {}, t.tooltip = t.tooltip || t.title, n.buttons[e] = t;
        }, addMenuItem: function addMenuItem(e, t) {
          var n = this;t.cmd && (t.onclick = function () {
            n.execCommand(t.cmd);
          }), n.menuItems = n.menuItems || {}, n.menuItems[e] = t;
        }, addCommand: function addCommand(e, t, n) {
          this.execCommands[e] = { func: t, scope: n || this };
        }, addQueryStateHandler: function addQueryStateHandler(e, t, n) {
          this.queryStateCommands[e] = { func: t, scope: n || this };
        }, addQueryValueHandler: function addQueryValueHandler(e, t, n) {
          this.queryValueCommands[e] = { func: t, scope: n || this };
        }, addShortcut: function addShortcut(e, t, n, r) {
          this.shortcuts.add(e, t, n, r);
        }, execCommand: function execCommand(e, t, n, r) {
          var i = this,
              o = 0,
              a;return (/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e) || r && r.skip_focus || i.focus(), r = T({}, r), r = i.fire("BeforeExecCommand", { command: e, ui: t, value: n }), r.isDefaultPrevented() ? !1 : (a = i.execCommands[e]) && a.func.call(a.scope, t, n) !== !0 ? (i.fire("ExecCommand", { command: e, ui: t, value: n }), !0) : (R(i.plugins, function (r) {
              return r.execCommand && r.execCommand(e, t, n) ? (i.fire("ExecCommand", { command: e, ui: t, value: n }), o = !0, !1) : void 0;
            }), o ? o : i.theme && i.theme.execCommand && i.theme.execCommand(e, t, n) ? (i.fire("ExecCommand", { command: e, ui: t, value: n }), !0) : i.editorCommands.execCommand(e, t, n) ? (i.fire("ExecCommand", { command: e, ui: t, value: n }), !0) : (i.getDoc().execCommand(e, t, n), void i.fire("ExecCommand", { command: e, ui: t, value: n })))
          );
        }, queryCommandState: function queryCommandState(e) {
          var t = this,
              n,
              r;if (!t._isHidden()) {
            if ((n = t.queryStateCommands[e]) && (r = n.func.call(n.scope), r !== !0)) return r;if (r = t.editorCommands.queryCommandState(e), -1 !== r) return r;try {
              return t.getDoc().queryCommandState(e);
            } catch (i) {}
          }
        }, queryCommandValue: function queryCommandValue(e) {
          var n = this,
              r,
              i;if (!n._isHidden()) {
            if ((r = n.queryValueCommands[e]) && (i = r.func.call(r.scope), i !== !0)) return i;if (i = n.editorCommands.queryCommandValue(e), i !== t) return i;try {
              return n.getDoc().queryCommandValue(e);
            } catch (o) {}
          }
        }, show: function show() {
          var e = this;E.show(e.getContainer()), E.hide(e.id), e.load(), e.fire("show");
        }, hide: function hide() {
          var e = this,
              t = e.getDoc();P && t && !e.inline && t.execCommand("SelectAll"), e.save(), E.hide(e.getContainer()), E.setStyle(e.id, "display", e.orgDisplay), e.fire("hide");
        }, isHidden: function isHidden() {
          return !E.isHidden(this.id);
        }, setProgressState: function setProgressState(e, t) {
          this.fire("ProgressState", { state: e, time: t });
        }, load: function load(e) {
          var n = this,
              r = n.getElement(),
              i;return r ? (e = e || {}, e.load = !0, i = n.setContent(r.value !== t ? r.value : r.innerHTML, e), e.element = r, e.no_events || n.fire("LoadContent", e), e.element = r = null, i) : void 0;
        }, save: function save(e) {
          var t = this,
              n = t.getElement(),
              r,
              i;if (n && t.initialized) return e = e || {}, e.save = !0, e.element = n, r = e.content = t.getContent(e), e.no_events || t.fire("SaveContent", e), r = e.content, /TEXTAREA|INPUT/i.test(n.nodeName) ? n.value = r : (t.inline || (n.innerHTML = r), (i = E.getParent(t.id, "form")) && R(i.elements, function (e) {
            return e.name == t.id ? (e.value = r, !1) : void 0;
          })), e.element = n = null, e.set_dirty !== !1 && (t.isNotDirty = !0), r;
        }, setContent: function setContent(e, t) {
          var n = this,
              r = n.getBody(),
              i;return t = t || {}, t.format = t.format || "html", t.set = !0, t.content = e, t.no_events || n.fire("BeforeSetContent", t), e = t.content, 0 === e.length || /^\s+$/.test(e) ? (i = n.settings.forced_root_block, i && n.schema.isValidChild(r.nodeName.toLowerCase(), i.toLowerCase()) ? (e = P && 11 > P ? "" : '<br data-mce-bogus="1">', e = n.dom.createHTML(i, n.settings.forced_root_block_attrs, e)) : P || (e = '<br data-mce-bogus="1">'), r.innerHTML = e, n.fire("SetContent", t)) : ("raw" !== t.format && (e = new o({}, n.schema).serialize(n.parser.parse(e, { isRootContent: !0 }))), t.content = L(e), n.dom.setHTML(r, t.content), t.no_events || n.fire("SetContent", t)), t.content;
        }, getContent: function getContent(e) {
          var t = this,
              n,
              r = t.getBody();return e = e || {}, e.format = e.format || "html", e.get = !0, e.getInner = !0, e.no_events || t.fire("BeforeGetContent", e), n = "raw" == e.format ? r.innerHTML : "text" == e.format ? r.innerText || r.textContent : t.serializer.serialize(r, e), e.content = "text" != e.format ? L(n) : n, e.no_events || t.fire("GetContent", e), e.content;
        }, insertContent: function insertContent(e) {
          this.execCommand("mceInsertContent", !1, e);
        }, isDirty: function isDirty() {
          return !this.isNotDirty;
        }, getContainer: function getContainer() {
          var e = this;return e.container || (e.container = E.get(e.editorContainer || e.id + "_parent")), e.container;
        }, getContentAreaContainer: function getContentAreaContainer() {
          return this.contentAreaContainer;
        }, getElement: function getElement() {
          return E.get(this.settings.content_element || this.id);
        }, getWin: function getWin() {
          var e = this,
              t;return e.contentWindow || (t = E.get(e.id + "_ifr"), t && (e.contentWindow = t.contentWindow)), e.contentWindow;
        }, getDoc: function getDoc() {
          var e = this,
              t;return e.contentDocument || (t = e.getWin(), t && (e.contentDocument = t.document)), e.contentDocument;
        }, getBody: function getBody() {
          return this.bodyElement || this.getDoc().body;
        }, convertURL: function convertURL(e, t, n) {
          var r = this,
              i = r.settings;return i.urlconverter_callback ? r.execCallback("urlconverter_callback", e, n, !0, t) : !i.convert_urls || n && "LINK" == n.nodeName || 0 === e.indexOf("file:") || 0 === e.length ? e : i.relative_urls ? r.documentBaseURI.toRelative(e) : e = r.documentBaseURI.toAbsolute(e, i.remove_script_host);
        }, addVisual: function addVisual(e) {
          var n = this,
              r = n.settings,
              i = n.dom,
              o;e = e || n.getBody(), n.hasVisual === t && (n.hasVisual = r.visual), R(i.select("table,a", e), function (e) {
            var t;switch (e.nodeName) {case "TABLE":
                return o = r.visual_table_class || "mce-item-table", t = i.getAttrib(e, "border"), void (t && "0" != t || (n.hasVisual ? i.addClass(e, o) : i.removeClass(e, o)));case "A":
                return void (i.getAttrib(e, "href", !1) || (t = i.getAttrib(e, "name") || e.id, o = r.visual_anchor_class || "mce-item-anchor", t && (n.hasVisual ? i.addClass(e, o) : i.removeClass(e, o))));}
          }), n.fire("VisualAid", { element: e, hasVisual: n.hasVisual });
        }, remove: function remove() {
          var e = this;if (!e.removed) {
            e.save(), e.fire("remove"), e.off(), e.removed = 1, e.hasHiddenInput && E.remove(e.getElement().nextSibling), E.setStyle(e.id, "display", e.orgDisplay), e.settings.content_editable || (M.unbind(e.getWin()), M.unbind(e.getDoc()));var t = e.getContainer();M.unbind(e.getBody()), M.unbind(t), e.editorManager.remove(e), E.remove(t), e.destroy();
          }
        }, bindNative: function bindNative(e) {
          var t = this;t.settings.readonly || (t.initialized ? t.dom.bind(_(t, e), e, function (n) {
            t.fire(e, n);
          }) : t._pendingNativeEvents ? t._pendingNativeEvents.push(e) : t._pendingNativeEvents = [e]);
        }, unbindNative: function unbindNative(e) {
          var t = this;t.initialized && t.dom.unbind(e);
        }, destroy: function destroy(e) {
          var t = this,
              n;if (!t.destroyed) {
            if (!e && !t.removed) return void t.remove();e && H && (M.unbind(t.getDoc()), M.unbind(t.getWin()), M.unbind(t.getBody())), e || (t.editorManager.off("beforeunload", t._beforeUnload), t.theme && t.theme.destroy && t.theme.destroy(), t.selection.destroy(), t.dom.destroy()), n = t.formElement, n && (n._mceOldSubmit && (n.submit = n._mceOldSubmit, n._mceOldSubmit = null), E.unbind(n, "submit reset", t.formEventDelegate)), t.contentAreaContainer = t.formElement = t.container = t.editorContainer = null, t.settings.content_element = t.bodyElement = t.contentDocument = t.contentWindow = null, t.selection && (t.selection = t.selection.win = t.selection.dom = t.selection.dom.doc = null), t.destroyed = 1;
          }
        }, _refreshContentEditable: function _refreshContentEditable() {
          var e = this,
              t,
              n;e._isHidden() && (t = e.getBody(), n = t.parentNode, n.removeChild(t), n.appendChild(t), t.focus());
        }, _isHidden: function _isHidden() {
          var e;return H ? (e = this.selection.getSel(), !e || !e.rangeCount || 0 === e.rangeCount) : 0;
        } }, T(N.prototype, x), N;
    }), r(at, [], function () {
      var e = {};return { rtl: !1, add: function add(t, n) {
          for (var r in n) {
            e[r] = n[r];
          }this.rtl = this.rtl || "rtl" === e._dir;
        }, translate: function translate(t) {
          if ("undefined" == typeof t) return t;if ("string" != typeof t && t.raw) return t.raw;if (t.push) {
            var n = t.slice(1);t = (e[t[0]] || t[0]).replace(/\{([^\}]+)\}/g, function (e, t) {
              return n[t];
            });
          }return e[t] || t;
        }, data: e };
    }), r(st, [y, g], function (e, t) {
      function n(e) {
        function a() {
          try {
            return document.activeElement;
          } catch (e) {
            return document.body;
          }
        }function s(e) {
          return e && e.startContainer ? { startContainer: e.startContainer, startOffset: e.startOffset, endContainer: e.endContainer, endOffset: e.endOffset } : e;
        }function l(e, t) {
          var n;return t.startContainer ? (n = e.getDoc().createRange(), n.setStart(t.startContainer, t.startOffset), n.setEnd(t.endContainer, t.endOffset)) : n = t, n;
        }function c(e) {
          return !!o.getParent(e, n.isEditorUIElement);
        }function u(e, t) {
          for (var n = t.getBody(); e;) {
            if (e == n) return !0;e = e.parentNode;
          }
        }function d(n) {
          var d = n.editor;d.on("init", function () {
            (d.inline || t.ie) && (d.on("nodechange keyup", function () {
              var e = document.activeElement;e && e.id == d.id + "_ifr" && (e = d.getBody()), u(e, d) && (d.lastRng = d.selection.getRng());
            }), t.webkit && !r && (r = function r() {
              var t = e.activeEditor;if (t && t.selection) {
                var n = t.selection.getRng();n && !n.collapsed && (d.lastRng = n);
              }
            }, o.bind(document, "selectionchange", r)));
          }), d.on("setcontent", function () {
            d.lastRng = null;
          }), d.on("mousedown", function () {
            d.selection.lastFocusBookmark = null;
          }), d.on("focusin", function () {
            var t = e.focusedEditor;d.selection.lastFocusBookmark && (d.selection.setRng(l(d, d.selection.lastFocusBookmark)), d.selection.lastFocusBookmark = null), t != d && (t && t.fire("blur", { focusedEditor: d }), e.activeEditor = d, e.focusedEditor = d, d.fire("focus", { blurredEditor: t }), d.focus(!0)), d.lastRng = null;
          }), d.on("focusout", function () {
            window.setTimeout(function () {
              var t = e.focusedEditor;c(a()) || t != d || (d.fire("blur", { focusedEditor: null }), e.focusedEditor = null, d.selection && (d.selection.lastFocusBookmark = null));
            }, 0);
          }), i || (i = function i(t) {
            var n = e.activeEditor;n && t.target.ownerDocument == document && (n.selection && (n.selection.lastFocusBookmark = s(n.lastRng)), c(t.target) || e.focusedEditor != n || (n.fire("blur", { focusedEditor: null }), e.focusedEditor = null));
          }, o.bind(document, "focusin", i));
        }function f(t) {
          e.focusedEditor == t.editor && (e.focusedEditor = null), e.activeEditor || (o.unbind(document, "selectionchange", r), o.unbind(document, "focusin", i), r = i = null);
        }e.on("AddEditor", d), e.on("RemoveEditor", f);
      }var r,
          i,
          o = e.DOM;return n.isEditorUIElement = function (e) {
        return -1 !== e.className.toString().indexOf("mce-");
      }, n;
    }), r(lt, [ot, y, I, g, p, rt, at, st], function (e, n, r, i, o, a, s, l) {
      var c = n.DOM,
          u = o.explode,
          d = o.each,
          f = o.extend,
          p = 0,
          m,
          h = { majorVersion: "4", minorVersion: "0.20", releaseDate: "2014-03-18", editors: [], i18n: s, activeEditor: null, setup: function setup() {
          var e = this,
              t,
              n,
              i = "",
              o;if (n = document.location.href.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(n) || (n += "/"), o = window.tinymce || window.tinyMCEPreInit) t = o.base || o.baseURL, i = o.suffix;else for (var a = document.getElementsByTagName("script"), s = 0; s < a.length; s++) {
            var c = a[s].src;if (/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(c)) {
              -1 != c.indexOf(".min") && (i = ".min"), t = c.substring(0, c.lastIndexOf("/"));break;
            }
          }e.baseURL = new r(n).toAbsolute(t), e.documentBaseURL = n, e.baseURI = new r(e.baseURL), e.suffix = i, e.focusManager = new l(e);
        }, init: function init(t) {
          function n(e) {
            var t = e.id;return t || (t = e.name, t = t && !c.get(t) ? e.name : c.uniqueId(), e.setAttribute("id", t)), t;
          }function r(e, t, n) {
            var r = e[t];if (r) return r.apply(n || this, Array.prototype.slice.call(arguments, 2));
          }function i(e, t) {
            return t.constructor === RegExp ? t.test(e.className) : c.hasClass(e, t);
          }function o() {
            var m, h;if (c.unbind(window, "ready", o), r(t, "onpageload"), t.types) return void d(t.types, function (r) {
              d(c.select(r.selector), function (i) {
                var o = new e(n(i), f({}, t, r), a);s.push(o), o.render(1);
              });
            });if (t.selector) return void d(c.select(t.selector), function (r) {
              var i = new e(n(r), t, a);s.push(i), i.render(1);
            });switch (t.mode) {case "exact":
                m = t.elements || "", m.length > 0 && d(u(m), function (n) {
                  c.get(n) ? (l = new e(n, t, a), s.push(l), l.render(!0)) : d(document.forms, function (r) {
                    d(r.elements, function (r) {
                      r.name === n && (n = "mce_editor_" + p++, c.setAttrib(r, "id", n), l = new e(n, t, a), s.push(l), l.render(1));
                    });
                  });
                });break;case "textareas":case "specific_textareas":
                d(c.select("textarea"), function (r) {
                  t.editor_deselector && i(r, t.editor_deselector) || (!t.editor_selector || i(r, t.editor_selector)) && (l = new e(n(r), t, a), s.push(l), l.render(!0));
                });}t.oninit && (m = h = 0, d(s, function (e) {
              h++, e.initialized ? m++ : e.on("init", function () {
                m++, m == h && r(t, "oninit");
              }), m == h && r(t, "oninit");
            }));
          }var a = this,
              s = [],
              l;a.settings = t, c.bind(window, "ready", o);
        }, get: function get(e) {
          return e === t ? this.editors : this.editors[e];
        }, add: function add(e) {
          var t = this,
              n = t.editors;return n[e.id] = e, n.push(e), t.activeEditor = e, t.fire("AddEditor", { editor: e }), m || (m = function m() {
            t.fire("BeforeUnload");
          }, c.bind(window, "beforeunload", m)), e;
        }, createEditor: function createEditor(t, n) {
          return this.add(new e(t, n, this));
        }, remove: function remove(e) {
          var t = this,
              n,
              r = t.editors,
              i,
              o;{
            if (e) {
              if ("string" == typeof e) return e = e.selector || e, void d(c.select(e), function (e) {
                t.remove(r[e.id]);
              });if (i = e, !r[i.id]) return null;for (delete r[i.id], n = 0; n < r.length; n++) {
                if (r[n] == i) {
                  r.splice(n, 1), o = !0;break;
                }
              }return t.activeEditor == i && (t.activeEditor = r[0]), o && t.fire("RemoveEditor", { editor: i }), r.length || c.unbind(window, "beforeunload", m), i.remove(), i;
            }for (n = r.length - 1; n >= 0; n--) {
              t.remove(r[n]);
            }
          }
        }, execCommand: function execCommand(t, n, r) {
          var i = this,
              o = i.get(r);switch (t) {case "mceAddEditor":
              return i.get(r) || new e(r, i.settings, i).render(), !0;case "mceRemoveEditor":
              return o && o.remove(), !0;case "mceToggleEditor":
              return o ? (o.isHidden() ? o.show() : o.hide(), !0) : (i.execCommand("mceAddEditor", 0, r), !0);}return i.activeEditor ? i.activeEditor.execCommand(t, n, r) : !1;
        }, triggerSave: function triggerSave() {
          d(this.editors, function (e) {
            e.save();
          });
        }, addI18n: function addI18n(e, t) {
          s.add(e, t);
        }, translate: function translate(e) {
          return s.translate(e);
        } };return f(h, a), h.setup(), window.tinymce = window.tinyMCE = h, h;
    }), r(ct, [lt, p], function (e, t) {
      var n = t.each,
          r = t.explode;e.on("AddEditor", function (e) {
        var t = e.editor;t.on("preInit", function () {
          function e(e, t) {
            n(t, function (t, n) {
              t && s.setStyle(e, n, t);
            }), s.rename(e, "span");
          }function i(e) {
            s = t.dom, l.convert_fonts_to_spans && n(s.select("font,u,strike", e.node), function (e) {
              o[e.nodeName.toLowerCase()](s, e);
            });
          }var o,
              a,
              s,
              l = t.settings;l.inline_styles && (a = r(l.font_size_legacy_values), o = { font: function font(t, n) {
              e(n, { backgroundColor: n.style.backgroundColor, color: n.color, fontFamily: n.face, fontSize: a[parseInt(n.size, 10) - 1] });
            }, u: function u(t, n) {
              e(n, { textDecoration: "underline" });
            }, strike: function strike(t, n) {
              e(n, { textDecoration: "line-through" });
            } }, t.on("PreProcess SetContent", i));
        });
      });
    }), r(ut, [], function () {
      return { send: function send(e) {
          function t() {
            !e.async || 4 == n.readyState || r++ > 1e4 ? (e.success && 1e4 > r && 200 == n.status ? e.success.call(e.success_scope, "" + n.responseText, n, e) : e.error && e.error.call(e.error_scope, r > 1e4 ? "TIMED_OUT" : "GENERAL", n, e), n = null) : setTimeout(t, 10);
          }var n,
              r = 0;if (e.scope = e.scope || this, e.success_scope = e.success_scope || e.scope, e.error_scope = e.error_scope || e.scope, e.async = e.async === !1 ? !1 : !0, e.data = e.data || "", n = new XMLHttpRequest()) {
            if (n.overrideMimeType && n.overrideMimeType(e.content_type), n.open(e.type || (e.data ? "POST" : "GET"), e.url, e.async), e.content_type && n.setRequestHeader("Content-Type", e.content_type), n.setRequestHeader("X-Requested-With", "XMLHttpRequest"), n.send(e.data), !e.async) return t();setTimeout(t, 10);
          }
        } };
    }), r(dt, [], function () {
      function e(t, n) {
        var r, i, o, a;if (n = n || '"', null === t) return "null";if (o = typeof t === "undefined" ? "undefined" : _typeof(t), "string" == o) return i = "\bb	t\nn\ff\rr\"\"''\\\\", n + t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g, function (e, t) {
          return '"' === n && "'" === e ? e : (r = i.indexOf(t), r + 1 ? "\\" + i.charAt(r + 1) : (e = t.charCodeAt().toString(16), "\\u" + "0000".substring(e.length) + e));
        }) + n;if ("object" == o) {
          if (t.hasOwnProperty && "[object Array]" === Object.prototype.toString.call(t)) {
            for (r = 0, i = "["; r < t.length; r++) {
              i += (r > 0 ? "," : "") + e(t[r], n);
            }return i + "]";
          }i = "{";for (a in t) {
            t.hasOwnProperty(a) && (i += "function" != typeof t[a] ? (i.length > 1 ? "," + n : n) + a + n + ":" + e(t[a], n) : "");
          }return i + "}";
        }return "" + t;
      }return { serialize: e, parse: function parse(e) {
          try {
            return window[String.fromCharCode(101) + "val"]("(" + e + ")");
          } catch (t) {}
        } };
    }), r(ft, [dt, ut, p], function (e, t, n) {
      function r(e) {
        this.settings = i({}, e), this.count = 0;
      }var i = n.extend;return r.sendRPC = function (e) {
        return new r().send(e);
      }, r.prototype = { send: function send(n) {
          var r = n.error,
              o = n.success;n = i(this.settings, n), n.success = function (t, i) {
            t = e.parse(t), "undefined" == typeof t && (t = { error: "JSON Parse error." }), t.error ? r.call(n.error_scope || n.scope, t.error, i) : o.call(n.success_scope || n.scope, t.result);
          }, n.error = function (e, t) {
            r && r.call(n.error_scope || n.scope, e, t);
          }, n.data = e.serialize({ id: n.id || "c" + this.count++, method: n.method, params: n.params }), n.content_type = "application/json", t.send(n);
        } }, r;
    }), r(pt, [y], function (e) {
      return { callbacks: {}, count: 0, send: function send(n) {
          var r = this,
              i = e.DOM,
              o = n.count !== t ? n.count : r.count,
              a = "tinymce_jsonp_" + o;r.callbacks[o] = function (e) {
            i.remove(a), delete r.callbacks[o], n.callback(e);
          }, i.add(i.doc.body, "script", { id: a, src: n.url, type: "text/javascript" }), r.count++;
        } };
    }), r(mt, [], function () {
      function e() {
        s = [];for (var e in a) {
          s.push(e);
        }i.length = s.length;
      }function n() {
        function n(e) {
          var n, r;return r = e !== t ? u + e : i.indexOf(",", u), -1 === r || r > i.length ? null : (n = i.substring(u, r), u = r + 1, n);
        }var r,
            i,
            s,
            u = 0;if (a = {}, c) {
          o.load(l), i = o.getAttribute(l) || "";do {
            var d = n();if (null === d) break;if (r = n(parseInt(d, 32) || 0), null !== r) {
              if (d = n(), null === d) break;s = n(parseInt(d, 32) || 0), r && (a[r] = s);
            }
          } while (null !== r);e();
        }
      }function r() {
        var t,
            n = "";if (c) {
          for (var r in a) {
            t = a[r], n += (n ? "," : "") + r.length.toString(32) + "," + r + "," + t.length.toString(32) + "," + t;
          }o.setAttribute(l, n);try {
            o.save(l);
          } catch (i) {}e();
        }
      }var i, o, a, s, l, c;try {
        if (window.localStorage) return localStorage;
      } catch (u) {}return l = "tinymce", o = document.documentElement, c = !!o.addBehavior, c && o.addBehavior("#default#userData"), i = { key: function key(e) {
          return s[e];
        }, getItem: function getItem(e) {
          return e in a ? a[e] : null;
        }, setItem: function setItem(e, t) {
          a[e] = "" + t, r();
        }, removeItem: function removeItem(e) {
          delete a[e], r();
        }, clear: function clear() {
          a = {}, r();
        } }, n(), i;
    }), r(ht, [y, l, b, C, p, g], function (e, t, n, r, i, o) {
      var a = window.tinymce;return a.DOM = e.DOM, a.ScriptLoader = n.ScriptLoader, a.PluginManager = r.PluginManager, a.ThemeManager = r.ThemeManager, a.dom = a.dom || {}, a.dom.Event = t.Event, i.each(i, function (e, t) {
        a[t] = e;
      }), i.each("isOpera isWebKit isIE isGecko isMac".split(" "), function (e) {
        a[e] = o[e.substr(2).toLowerCase()];
      }), {};
    }), r(gt, [F, p], function (e, t) {
      return e.extend({ Defaults: { firstControlClass: "first", lastControlClass: "last" }, init: function init(e) {
          this.settings = t.extend({}, this.Defaults, e);
        }, preRender: function preRender(e) {
          e.addClass(this.settings.containerClass, "body");
        }, applyClasses: function applyClasses(e) {
          var t = this,
              n = t.settings,
              r,
              i,
              o;r = e.items().filter(":visible"), i = n.firstControlClass, o = n.lastControlClass, r.each(function (e) {
            e.removeClass(i).removeClass(o), n.controlClass && e.addClass(n.controlClass);
          }), r.eq(0).addClass(i), r.eq(-1).addClass(o);
        }, renderHtml: function renderHtml(e) {
          var t = this,
              n = t.settings,
              r,
              i = "";return r = e.items(), r.eq(0).addClass(n.firstControlClass), r.eq(-1).addClass(n.lastControlClass), r.each(function (e) {
            n.controlClass && e.addClass(n.controlClass), i += e.renderHtml();
          }), i;
        }, recalc: function recalc() {}, postRender: function postRender() {} });
    }), r(vt, [gt], function (e) {
      return e.extend({ Defaults: { containerClass: "abs-layout", controlClass: "abs-layout-item" }, recalc: function recalc(e) {
          e.items().filter(":visible").each(function (e) {
            var t = e.settings;e.layoutRect({ x: t.x, y: t.y, w: t.w, h: t.h }), e.recalc && e.recalc();
          });
        }, renderHtml: function renderHtml(e) {
          return '<div id="' + e._id + '-absend" class="' + e.classPrefix + 'abs-end"></div>' + this._super(e);
        } });
    }), r(yt, [U, X], function (e, t) {
      return e.extend({ Mixins: [t], Defaults: { classes: "widget tooltip tooltip-n" }, text: function text(e) {
          var t = this;return "undefined" != typeof e ? (t._value = e, t._rendered && (t.getEl().lastChild.innerHTML = t.encode(e)), t) : t._value;
        }, renderHtml: function renderHtml() {
          var e = this,
              t = e.classPrefix;return '<div id="' + e._id + '" class="' + e.classes() + '" role="presentation"><div class="' + t + 'tooltip-arrow"></div><div class="' + t + 'tooltip-inner">' + e.encode(e._text) + "</div></div>";
        }, repaint: function repaint() {
          var e = this,
              t,
              n;t = e.getEl().style, n = e._layoutRect, t.left = n.x + "px", t.top = n.y + "px", t.zIndex = 131070;
        } });
    }), r(bt, [U, yt], function (e, t) {
      var n,
          r = e.extend({ init: function init(e) {
          var t = this;t._super(e), t.canFocus = !0, e.tooltip && r.tooltips !== !1 && (t.on("mouseenter", function (n) {
            var r = t.tooltip().moveTo(-65535);if (n.control == t) {
              var i = r.text(e.tooltip).show().testMoveRel(t.getEl(), ["bc-tc", "bc-tl", "bc-tr"]);r.toggleClass("tooltip-n", "bc-tc" == i), r.toggleClass("tooltip-nw", "bc-tl" == i), r.toggleClass("tooltip-ne", "bc-tr" == i), r.moveRel(t.getEl(), i);
            } else r.hide();
          }), t.on("mouseleave mousedown click", function () {
            t.tooltip().hide();
          })), t.aria("label", e.ariaLabel || e.tooltip);
        }, tooltip: function tooltip() {
          return n || (n = new t({ type: "tooltip" }), n.renderTo()), n;
        }, active: function active(e) {
          var t = this,
              n;return e !== n && (t.aria("pressed", e), t.toggleClass("active", e)), t._super(e);
        }, disabled: function disabled(e) {
          var t = this,
              n;return e !== n && (t.aria("disabled", e), t.toggleClass("disabled", e)), t._super(e);
        }, postRender: function postRender() {
          var e = this,
              t = e.settings;e._rendered = !0, e._super(), e.parent() || !t.width && !t.height || (e.initLayoutRect(), e.repaint()), t.autofocus && e.focus();
        }, remove: function remove() {
          this._super(), n && (n.remove(), n = null);
        } });return r;
    }), r(Ct, [bt], function (e) {
      return e.extend({ Defaults: { classes: "widget btn", role: "button" }, init: function init(e) {
          var t = this,
              n;t.on("click mousedown", function (e) {
            e.preventDefault();
          }), t._super(e), n = e.size, e.subtype && t.addClass(e.subtype), n && t.addClass("btn-" + n);
        }, icon: function icon(e) {
          var t = this,
              n = t.classPrefix;if ("undefined" == typeof e) return t.settings.icon;if (t.settings.icon = e, e = e ? n + "ico " + n + "i-" + t.settings.icon : "", t._rendered) {
            var r = t.getEl().firstChild,
                i = r.getElementsByTagName("i")[0];e ? (i && i == r.firstChild || (i = document.createElement("i"), r.insertBefore(i, r.firstChild)), i.className = e) : i && r.removeChild(i), t.text(t._text);
          }return t;
        }, repaint: function repaint() {
          var e = this.getEl().firstChild.style;e.width = e.height = "100%", this._super();
        }, renderHtml: function renderHtml() {
          var e = this,
              t = e._id,
              n = e.classPrefix,
              r = e.settings.icon,
              i = "";return e.settings.image && (r = "none", i = " style=\"background-image: url('" + e.settings.image + "')\""), r = e.settings.icon ? n + "ico " + n + "i-" + r : "", '<div id="' + t + '" class="' + e.classes() + '" tabindex="-1" aria-labelledby="' + t + '"><button role="presentation" type="button" tabindex="-1">' + (r ? '<i class="' + r + '"' + i + "></i>" : "") + (e._text ? (r ? "\xa0" : "") + e.encode(e._text) : "") + "</button></div>";
        } });
    }), r(xt, [j], function (e) {
      return e.extend({ Defaults: { defaultType: "button", role: "group" }, renderHtml: function renderHtml() {
          var e = this,
              t = e._layout;return e.addClass("btn-group"), e.preRender(), t.preRender(e), '<div id="' + e._id + '" class="' + e.classes() + '"><div id="' + e._id + '-body">' + (e.settings.html || "") + t.renderHtml(e) + "</div></div>";
        } });
    }), r(wt, [bt], function (e) {
      return e.extend({ Defaults: { classes: "checkbox", role: "checkbox", checked: !1 }, init: function init(e) {
          var t = this;t._super(e), t.on("click mousedown", function (e) {
            e.preventDefault();
          }), t.on("click", function (e) {
            e.preventDefault(), t.disabled() || t.checked(!t.checked());
          }), t.checked(t.settings.checked);
        }, checked: function checked(e) {
          var t = this;return "undefined" != typeof e ? (e ? t.addClass("checked") : t.removeClass("checked"), t._checked = e, t.aria("checked", e), t) : t._checked;
        }, value: function value(e) {
          return this.checked(e);
        }, renderHtml: function renderHtml() {
          var e = this,
              t = e._id,
              n = e.classPrefix;return '<div id="' + t + '" class="' + e.classes() + '" unselectable="on" aria-labelledby="' + t + '-al" tabindex="-1"><i class="' + n + "ico " + n + 'i-checkbox"></i><span id="' + t + '-al" class="' + n + 'label">' + e.encode(e._text) + "</span></div>";
        } });
    }), r(_t, [Ct, Q], function (e, t) {
      return e.extend({ showPanel: function showPanel() {
          var e = this,
              n = e.settings;if (e.active(!0), e.panel) e.panel.show();else {
            var r = n.panel;r.type && (r = { layout: "grid", items: r }), r.role = r.role || "dialog", r.popover = !0, r.autohide = !0, r.ariaRoot = !0, e.panel = new t(r).on("hide", function () {
              e.active(!1);
            }).on("cancel", function (t) {
              t.stopPropagation(), e.focus(), e.hidePanel();
            }).parent(e).renderTo(e.getContainerElm()), e.panel.fire("show"), e.panel.reflow();
          }e.panel.moveRel(e.getEl(), n.popoverAlign || (e.isRtl() ? ["bc-tr", "bc-tc"] : ["bc-tl", "bc-tc"]));
        }, hidePanel: function hidePanel() {
          var e = this;e.panel && e.panel.hide();
        }, postRender: function postRender() {
          var e = this;return e.aria("haspopup", !0), e.on("click", function (t) {
            t.control === e && (e.panel && e.panel.visible() ? e.hidePanel() : (e.showPanel(), e.panel.focus(!!t.aria)));
          }), e._super();
        } });
    }), r(Nt, [_t, y], function (e, t) {
      var n = t.DOM;return e.extend({ init: function init(e) {
          this._super(e), this.addClass("colorbutton");
        }, color: function color(e) {
          return e ? (this._color = e, this.getEl("preview").style.backgroundColor = e, this) : this._color;
        }, renderHtml: function renderHtml() {
          var e = this,
              t = e._id,
              n = e.classPrefix,
              r = e.settings.icon ? n + "ico " + n + "i-" + e.settings.icon : "",
              i = e.settings.image ? " style=\"background-image: url('" + e.settings.image + "')\"" : "";return '<div id="' + t + '" class="' + e.classes() + '" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus type="button" tabindex="-1">' + (r ? '<i class="' + r + '"' + i + "></i>" : "") + '<span id="' + t + '-preview" class="' + n + 'preview"></span>' + (e._text ? (r ? " " : "") + e._text : "") + '</button><button type="button" class="' + n + 'open" hidefocus tabindex="-1"> <i class="' + n + 'caret"></i></button></div>';
        }, postRender: function postRender() {
          var e = this,
              t = e.settings.onclick;return e.on("click", function (r) {
            r.aria && "down" == r.aria.key || r.control != e || n.getParent(r.target, "." + e.classPrefix + "open") || (r.stopImmediatePropagation(), t.call(e, r));
          }), delete e.settings.onclick, e._super();
        } });
    }), r(Et, [bt, q, V], function (e, t, n) {
      return e.extend({ init: function init(e) {
          var t = this;t._super(e), t.addClass("combobox"), t.subinput = !0, t.ariaTarget = "inp", e = t.settings, e.menu = e.menu || e.values, e.menu && (e.icon = "caret"), t.on("click", function (n) {
            for (var r = n.target, i = t.getEl(); r && r != i;) {
              r.id && -1 != r.id.indexOf("-open") && (t.fire("action"), e.menu && (t.showMenu(), n.aria && t.menu.items()[0].focus())), r = r.parentNode;
            }
          }), t.on("keydown", function (e) {
            "INPUT" == e.target.nodeName && 13 == e.keyCode && t.parents().reverse().each(function (n) {
              return e.preventDefault(), t.fire("change"), n.hasEventListeners("submit") && n.toJSON ? (n.fire("submit", { data: n.toJSON() }), !1) : void 0;
            });
          }), e.placeholder && (t.addClass("placeholder"), t.on("focusin", function () {
            t._hasOnChange || (n.on(t.getEl("inp"), "change", function () {
              t.fire("change");
            }), t._hasOnChange = !0), t.hasClass("placeholder") && (t.getEl("inp").value = "", t.removeClass("placeholder"));
          }), t.on("focusout", function () {
            0 === t.value().length && (t.getEl("inp").value = e.placeholder, t.addClass("placeholder"));
          }));
        }, showMenu: function showMenu() {
          var e = this,
              n = e.settings,
              r;e.menu || (r = n.menu || [], r.length ? r = { type: "menu", items: r } : r.type = r.type || "menu", e.menu = t.create(r).parent(e).renderTo(e.getContainerElm()), e.fire("createmenu"), e.menu.reflow(), e.menu.on("cancel", function (t) {
            t.control === e.menu && e.focus();
          }), e.menu.on("show hide", function (t) {
            t.control.items().each(function (t) {
              t.active(t.value() == e.value());
            });
          }).fire("show"), e.menu.on("select", function (t) {
            e.value(t.control.value());
          }), e.on("focusin", function (t) {
            "INPUT" == t.target.tagName && e.menu.hide();
          }), e.aria("expanded", !0)), e.menu.show(), e.menu.layoutRect({ w: e.layoutRect().w }), e.menu.moveRel(e.getEl(), e.isRtl() ? ["br-tr", "tr-br"] : ["bl-tl", "tl-bl"]);
        }, value: function value(e) {
          var t = this;return "undefined" != typeof e ? (t._value = e, t.removeClass("placeholder"), t._rendered && (t.getEl("inp").value = e), t) : t._rendered ? (e = t.getEl("inp").value, e != t.settings.placeholder ? e : "") : t._value;
        }, disabled: function disabled(e) {
          var t = this;return t._rendered && "undefined" != typeof e && (t.getEl("inp").disabled = e), t._super(e);
        }, focus: function focus() {
          this.getEl("inp").focus();
        }, repaint: function repaint() {
          var e = this,
              t = e.getEl(),
              r = e.getEl("open"),
              i = e.layoutRect(),
              o,
              a;o = r ? i.w - n.getSize(r).width - 10 : i.w - 10;var s = document;return s.all && (!s.documentMode || s.documentMode <= 8) && (a = e.layoutRect().h - 2 + "px"), n.css(t.firstChild, { width: o, lineHeight: a }), e._super(), e;
        }, postRender: function postRender() {
          var e = this;return n.on(this.getEl("inp"), "change", function () {
            e.fire("change");
          }), e._super();
        }, remove: function remove() {
          n.off(this.getEl("inp")), this._super();
        }, renderHtml: function renderHtml() {
          var e = this,
              t = e._id,
              n = e.settings,
              r = e.classPrefix,
              i = n.value || n.placeholder || "",
              o,
              a,
              s = "",
              l = "";return "spellcheck" in n && (l += ' spellcheck="' + n.spellcheck + '"'), n.maxLength && (l += ' maxlength="' + n.maxLength + '"'), n.size && (l += ' size="' + n.size + '"'), n.subtype && (l += ' type="' + n.subtype + '"'), e.disabled() && (l += ' disabled="disabled"'), o = n.icon, o && "caret" != o && (o = r + "ico " + r + "i-" + n.icon), a = e._text, (o || a) && (s = '<div id="' + t + '-open" class="' + r + "btn " + r + 'open" tabIndex="-1" role="button"><button id="' + t + '-action" type="button" hidefocus tabindex="-1">' + ("caret" != o ? '<i class="' + o + '"></i>' : '<i class="' + r + 'caret"></i>') + (a ? (o ? " " : "") + a : "") + "</button></div>", e.addClass("has-open")), '<div id="' + t + '" class="' + e.classes() + '"><input id="' + t + '-inp" class="' + r + "textbox " + r + 'placeholder" value="' + i + '" hidefocus="true"' + l + ">" + s + "</div>";
        } });
    }), r(St, [bt], function (e) {
      return e.extend({ init: function init(e) {
          var t = this;e.delimiter || (e.delimiter = "\xbb"), t._super(e), t.addClass("path"), t.canFocus = !0, t.on("click", function (e) {
            var n,
                r = e.target;(n = r.getAttribute("data-index")) && t.fire("select", { value: t.data()[n], index: n });
          });
        }, focus: function focus() {
          var e = this;return e.getEl().firstChild.focus(), e;
        }, data: function data(e) {
          var t = this;return "undefined" != typeof e ? (t._data = e, t.update(), t) : t._data;
        }, update: function update() {
          this.innerHtml(this._getPathHtml());
        }, postRender: function postRender() {
          var e = this;e._super(), e.data(e.settings.data);
        }, renderHtml: function renderHtml() {
          var e = this;return '<div id="' + e._id + '" class="' + e.classes() + '">' + e._getPathHtml() + "</div>";
        }, _getPathHtml: function _getPathHtml() {
          var e = this,
              t = e._data || [],
              n,
              r,
              i = "",
              o = e.classPrefix;for (n = 0, r = t.length; r > n; n++) {
            i += (n > 0 ? '<div class="' + o + 'divider" aria-hidden="true"> ' + e.settings.delimiter + " </div>" : "") + '<div role="button" class="' + o + "path-item" + (n == r - 1 ? " " + o + "last" : "") + '" data-index="' + n + '" tabindex="-1" id="' + e._id + "-" + n + '" aria-level="' + n + '">' + t[n].name + "</div>";
          }return i || (i = '<div class="' + o + 'path-item">&nbsp;</div>'), i;
        } });
    }), r(kt, [St, lt], function (e, t) {
      return e.extend({ postRender: function postRender() {
          function e(e) {
            if (1 === e.nodeType) {
              if ("BR" == e.nodeName || e.getAttribute("data-mce-bogus")) return !0;if ("bookmark" === e.getAttribute("data-mce-type")) return !0;
            }return !1;
          }var n = this,
              r = t.activeEditor;return n.on("select", function (t) {
            var n = [],
                i,
                o = r.getBody();for (r.focus(), i = r.selection.getStart(); i && i != o;) {
              e(i) || n.push(i), i = i.parentNode;
            }r.selection.select(n[n.length - 1 - t.index]), r.nodeChanged();
          }), r.on("nodeChange", function (t) {
            for (var i = [], o = t.parents, a = o.length; a--;) {
              if (1 == o[a].nodeType && !e(o[a])) {
                var s = r.fire("ResolveName", { name: o[a].nodeName.toLowerCase(), target: o[a] });i.push({ name: s.name });
              }
            }n.data(i);
          }), n._super();
        } });
    }), r(Tt, [j], function (e) {
      return e.extend({ Defaults: { layout: "flex", align: "center", defaults: { flex: 1 } }, renderHtml: function renderHtml() {
          var e = this,
              t = e._layout,
              n = e.classPrefix;return e.addClass("formitem"), t.preRender(e), '<div id="' + e._id + '" class="' + e.classes() + '" hideFocus="1" tabIndex="-1">' + (e.settings.title ? '<div id="' + e._id + '-title" class="' + n + 'title">' + e.settings.title + "</div>" : "") + '<div id="' + e._id + '-body" class="' + e.classes("body") + '">' + (e.settings.html || "") + t.renderHtml(e) + "</div></div>";
        } });
    }), r(Rt, [j, Tt], function (e, t) {
      return e.extend({ Defaults: { containerCls: "form", layout: "flex", direction: "column", align: "stretch", flex: 1, padding: 20, labelGap: 30, spacing: 10, callbacks: { submit: function submit() {
              this.submit();
            } } }, preRender: function preRender() {
          var e = this,
              n = e.items();n.each(function (n) {
            var r,
                i = n.settings.label;i && (r = new t({ layout: "flex", autoResize: "overflow", defaults: { flex: 1 }, items: [{ type: "label", id: n._id + "-l", text: i, flex: 0, forId: n._id, disabled: n.disabled() }] }), r.type = "formitem", n.aria("labelledby", n._id + "-l"), "undefined" == typeof n.settings.flex && (n.settings.flex = 1), e.replace(n, r), r.add(n));
          });
        }, recalcLabels: function recalcLabels() {
          var e = this,
              t = 0,
              n = [],
              r,
              i;if (e.settings.labelGapCalc !== !1) for (e.items().filter("formitem").each(function (e) {
            var r = e.items()[0],
                i = r.getEl().clientWidth;t = i > t ? i : t, n.push(r);
          }), i = e.settings.labelGap || 0, r = n.length; r--;) {
            n[r].settings.minWidth = t + i;
          }
        }, visible: function visible(e) {
          var t = this._super(e);return e === !0 && this._rendered && this.recalcLabels(), t;
        }, submit: function submit() {
          return this.fire("submit", { data: this.toJSON() });
        }, postRender: function postRender() {
          var e = this;e._super(), e.recalcLabels(), e.fromJSON(e.settings.data);
        } });
    }), r(At, [Rt], function (e) {
      return e.extend({ Defaults: { containerCls: "fieldset", layout: "flex", direction: "column", align: "stretch", flex: 1, padding: "25 15 5 15", labelGap: 30, spacing: 10, border: 1 }, renderHtml: function renderHtml() {
          var e = this,
              t = e._layout,
              n = e.classPrefix;return e.preRender(), t.preRender(e), '<fieldset id="' + e._id + '" class="' + e.classes() + '" hideFocus="1" tabIndex="-1">' + (e.settings.title ? '<legend id="' + e._id + '-title" class="' + n + 'fieldset-title">' + e.settings.title + "</legend>" : "") + '<div id="' + e._id + '-body" class="' + e.classes("body") + '">' + (e.settings.html || "") + t.renderHtml(e) + "</div></fieldset>";
        } });
    }), r(Bt, [Et], function (e) {
      return e.extend({ init: function init(e) {
          var t = this,
              n = tinymce.activeEditor,
              r;e.spellcheck = !1, r = n.settings.file_browser_callback, r && (e.icon = "browse", e.onaction = function () {
            r(t.getEl("inp").id, t.getEl("inp").value, e.filetype, window);
          }), t._super(e);
        } });
    }), r(Lt, [vt], function (e) {
      return e.extend({ recalc: function recalc(e) {
          var t = e.layoutRect(),
              n = e.paddingBox();e.items().filter(":visible").each(function (e) {
            e.layoutRect({ x: n.left, y: n.top, w: t.innerW - n.right - n.left, h: t.innerH - n.top - n.bottom }), e.recalc && e.recalc();
          });
        } });
    }), r(Dt, [vt], function (e) {
      return e.extend({ recalc: function recalc(e) {
          var t,
              n,
              r,
              i,
              o,
              a,
              s,
              l,
              c,
              u,
              d,
              f,
              p,
              m,
              h,
              g,
              v = [],
              y,
              b,
              C,
              x,
              w,
              _,
              N,
              E,
              S,
              k,
              T,
              R,
              A,
              B,
              L,
              D,
              M,
              H,
              P,
              O,
              I,
              F,
              z = Math.max,
              W = Math.min;for (r = e.items().filter(":visible"), i = e.layoutRect(), o = e._paddingBox, a = e.settings, f = e.isRtl() ? a.direction || "row-reversed" : a.direction, s = a.align, l = e.isRtl() ? a.pack || "end" : a.pack, c = a.spacing || 0, ("row-reversed" == f || "column-reverse" == f) && (r = r.set(r.toArray().reverse()), f = f.split("-")[0]), "column" == f ? (S = "y", N = "h", E = "minH", k = "maxH", R = "innerH", T = "top", A = "deltaH", B = "contentH", P = "left", M = "w", L = "x", D = "innerW", H = "minW", O = "right", I = "deltaW", F = "contentW") : (S = "x", N = "w", E = "minW", k = "maxW", R = "innerW", T = "left", A = "deltaW", B = "contentW", P = "top", M = "h", L = "y", D = "innerH", H = "minH", O = "bottom", I = "deltaH", F = "contentH"), d = i[R] - o[T] - o[T], _ = u = 0, t = 0, n = r.length; n > t; t++) {
            p = r[t], m = p.layoutRect(), h = p.settings, g = h.flex, d -= n - 1 > t ? c : 0, g > 0 && (u += g, m[k] && v.push(p), m.flex = g), d -= m[E], y = o[P] + m[H] + o[O], y > _ && (_ = y);
          }if (x = {}, x[E] = 0 > d ? i[E] - d + i[A] : i[R] - d + i[A], x[H] = _ + i[I], x[B] = i[R] - d, x[F] = _, x.minW = W(x.minW, i.maxW), x.minH = W(x.minH, i.maxH), x.minW = z(x.minW, i.startMinWidth), x.minH = z(x.minH, i.startMinHeight), !i.autoResize || x.minW == i.minW && x.minH == i.minH) {
            for (C = d / u, t = 0, n = v.length; n > t; t++) {
              p = v[t], m = p.layoutRect(), b = m[k], y = m[E] + m.flex * C, y > b ? (d -= m[k] - m[E], u -= m.flex, m.flex = 0, m.maxFlexSize = b) : m.maxFlexSize = 0;
            }for (C = d / u, w = o[T], x = {}, 0 === u && ("end" == l ? w = d + o[T] : "center" == l ? (w = Math.round(i[R] / 2 - (i[R] - d) / 2) + o[T], 0 > w && (w = o[T])) : "justify" == l && (w = o[T], c = Math.floor(d / (r.length - 1)))), x[L] = o[P], t = 0, n = r.length; n > t; t++) {
              p = r[t], m = p.layoutRect(), y = m.maxFlexSize || m[E], "center" === s ? x[L] = Math.round(i[D] / 2 - m[M] / 2) : "stretch" === s ? (x[M] = z(m[H] || 0, i[D] - o[P] - o[O]), x[L] = o[P]) : "end" === s && (x[L] = i[D] - m[M] - o.top), m.flex > 0 && (y += m.flex * C), x[N] = y, x[S] = w, p.layoutRect(x), p.recalc && p.recalc(), w += y + c;
            }
          } else if (x.w = x.minW, x.h = x.minH, e.layoutRect(x), this.recalc(e), null === e._lastRect) {
            var V = e.parent();V && (V._lastRect = null, V.recalc());
          }
        } });
    }), r(Mt, [gt], function (e) {
      return e.extend({ Defaults: { containerClass: "flow-layout", controlClass: "flow-layout-item", endClass: "break" }, recalc: function recalc(e) {
          e.items().filter(":visible").each(function (e) {
            e.recalc && e.recalc();
          });
        } });
    }), r(Ht, [U, bt, Q, p, lt, g], function (e, t, n, r, i, o) {
      function a(e) {
        function t(t) {
          function n(e) {
            return e.replace(/%(\w+)/g, "");
          }var r,
              i,
              o = e.dom,
              a = "",
              l,
              c;return c = e.settings.preview_styles, c === !1 ? "" : (c || (c = "font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"), (t = e.formatter.get(t)) ? (t = t[0], r = t.block || t.inline || "span", i = o.create(r), s(t.styles, function (e, t) {
            e = n(e), e && o.setStyle(i, t, e);
          }), s(t.attributes, function (e, t) {
            e = n(e), e && o.setAttrib(i, t, e);
          }), s(t.classes, function (e) {
            e = n(e), o.hasClass(i, e) || o.addClass(i, e);
          }), e.fire("PreviewFormats"), o.setStyles(i, { position: "absolute", left: -65535 }), e.getBody().appendChild(i), l = o.getStyle(e.getBody(), "fontSize", !0), l = /px$/.test(l) ? parseInt(l, 10) : 0, s(c.split(" "), function (t) {
            var n = o.getStyle(i, t, !0);if (!("background-color" == t && /transparent|rgba\s*\([^)]+,\s*0\)/.test(n) && (n = o.getStyle(e.getBody(), t, !0), "#ffffff" == o.toHex(n).toLowerCase()) || "color" == t && "#000000" == o.toHex(n).toLowerCase())) {
              if ("font-size" == t && /em|%$/.test(n)) {
                if (0 === l) return;n = parseFloat(n, 10) / (/%$/.test(n) ? 100 : 1), n = n * l + "px";
              }"border" == t && n && (a += "padding:0 2px;"), a += t + ":" + n + ";";
            }
          }), e.fire("AfterPreviewFormats"), o.remove(i), a) : void 0);
        }function r(t, n) {
          return function () {
            var r = this;e.on("nodeChange", function (i) {
              var o = e.formatter,
                  a = null;s(i.parents, function (e) {
                return s(t, function (t) {
                  return n ? o.matchNode(e, n, { value: t.value }) && (a = t.value) : o.matchNode(e, t.value) && (a = t.value), a ? !1 : void 0;
                }), a ? !1 : void 0;
              }), r.value(a);
            });
          };
        }function i(e) {
          e = e.split(";");for (var t = e.length; t--;) {
            e[t] = e[t].split("=");
          }return e;
        }function o() {
          function n(e) {
            var t = [];if (e) return s(e, function (e) {
              var r = { text: e.title, icon: e.icon };if (e.items) r.menu = n(e.items);else {
                var a = e.format || "custom" + i++;e.format || (e.name = a, o.push(e)), r.format = a;
              }t.push(r);
            }), t;
          }function r() {
            var t;return t = n(e.settings.style_formats_merge ? e.settings.style_formats ? a.concat(e.settings.style_formats) : a : e.settings.style_formats || a);
          }var i = 0,
              o = [],
              a = [{ title: "Headers", items: [{ title: "Header 1", format: "h1" }, { title: "Header 2", format: "h2" }, { title: "Header 3", format: "h3" }, { title: "Header 4", format: "h4" }, { title: "Header 5", format: "h5" }, { title: "Header 6", format: "h6" }] }, { title: "Inline", items: [{ title: "Bold", icon: "bold", format: "bold" }, { title: "Italic", icon: "italic", format: "italic" }, { title: "Underline", icon: "underline", format: "underline" }, { title: "Strikethrough", icon: "strikethrough", format: "strikethrough" }, { title: "Superscript", icon: "superscript", format: "superscript" }, { title: "Subscript", icon: "subscript", format: "subscript" }, { title: "Code", icon: "code", format: "code" }] }, { title: "Blocks", items: [{ title: "Paragraph", format: "p" }, { title: "Blockquote", format: "blockquote" }, { title: "Div", format: "div" }, { title: "Pre", format: "pre" }] }, { title: "Alignment", items: [{ title: "Left", icon: "alignleft", format: "alignleft" }, { title: "Center", icon: "aligncenter", format: "aligncenter" }, { title: "Right", icon: "alignright", format: "alignright" }, { title: "Justify", icon: "alignjustify", format: "alignjustify" }] }];return e.on("init", function () {
            s(o, function (t) {
              e.formatter.register(t.name, t);
            });
          }), { type: "menu", items: r(), onPostRender: function onPostRender(t) {
              e.fire("renderFormatsMenu", { control: t.control });
            }, itemDefaults: { preview: !0, textStyle: function textStyle() {
                return this.settings.format ? t(this.settings.format) : void 0;
              }, onPostRender: function onPostRender() {
                var t = this,
                    n = this.settings.format;n && t.parent().on("show", function () {
                  t.disabled(!e.formatter.canApply(n)), t.active(e.formatter.match(n));
                });
              }, onclick: function onclick() {
                this.settings.format && f(this.settings.format);
              } } };
        }function a() {
          return e.undoManager ? e.undoManager.hasUndo() : !1;
        }function l() {
          return e.undoManager ? e.undoManager.hasRedo() : !1;
        }function c() {
          var t = this;t.disabled(!a()), e.on("Undo Redo AddUndo TypingUndo", function () {
            t.disabled(!a());
          });
        }function u() {
          var t = this;t.disabled(!l()), e.on("Undo Redo AddUndo TypingUndo", function () {
            t.disabled(!l());
          });
        }function d() {
          var t = this;e.on("VisualAid", function (e) {
            t.active(e.hasVisual);
          }), t.active(e.hasVisual);
        }function f(t) {
          t.control && (t = t.control.value()), t && e.execCommand("mceToggleFormat", !1, t);
        }var p;p = o(), s({ bold: "Bold", italic: "Italic", underline: "Underline", strikethrough: "Strikethrough", subscript: "Subscript", superscript: "Superscript" }, function (t, n) {
          e.addButton(n, { tooltip: t, onPostRender: function onPostRender() {
              var t = this;e.formatter ? e.formatter.formatChanged(n, function (e) {
                t.active(e);
              }) : e.on("init", function () {
                e.formatter.formatChanged(n, function (e) {
                  t.active(e);
                });
              });
            }, onclick: function onclick() {
              f(n);
            } });
        }), s({ outdent: ["Decrease indent", "Outdent"], indent: ["Increase indent", "Indent"], cut: ["Cut", "Cut"], copy: ["Copy", "Copy"], paste: ["Paste", "Paste"], help: ["Help", "mceHelp"], selectall: ["Select all", "SelectAll"], hr: ["Insert horizontal rule", "InsertHorizontalRule"], removeformat: ["Clear formatting", "RemoveFormat"], visualaid: ["Visual aids", "mceToggleVisualAid"], newdocument: ["New document", "mceNewDocument"] }, function (t, n) {
          e.addButton(n, { tooltip: t[0], cmd: t[1] });
        }), s({ blockquote: ["Blockquote", "mceBlockQuote"], numlist: ["Numbered list", "InsertOrderedList"], bullist: ["Bullet list", "InsertUnorderedList"], subscript: ["Subscript", "Subscript"], superscript: ["Superscript", "Superscript"], alignleft: ["Align left", "JustifyLeft"], aligncenter: ["Align center", "JustifyCenter"], alignright: ["Align right", "JustifyRight"], alignjustify: ["Justify", "JustifyFull"] }, function (t, n) {
          e.addButton(n, { tooltip: t[0], cmd: t[1], onPostRender: function onPostRender() {
              var t = this;e.formatter ? e.formatter.formatChanged(n, function (e) {
                t.active(e);
              }) : e.on("init", function () {
                e.formatter.formatChanged(n, function (e) {
                  t.active(e);
                });
              });
            } });
        }), e.addButton("undo", { tooltip: "Undo", onPostRender: c, cmd: "undo" }), e.addButton("redo", { tooltip: "Redo", onPostRender: u, cmd: "redo" }), e.addMenuItem("newdocument", { text: "New document", shortcut: "Ctrl+N", icon: "newdocument", cmd: "mceNewDocument" }), e.addMenuItem("undo", { text: "Undo", icon: "undo", shortcut: "Ctrl+Z", onPostRender: c, cmd: "undo" }), e.addMenuItem("redo", { text: "Redo", icon: "redo", shortcut: "Ctrl+Y", onPostRender: u, cmd: "redo" }), e.addMenuItem("visualaid", { text: "Visual aids", selectable: !0, onPostRender: d, cmd: "mceToggleVisualAid" }), s({ cut: ["Cut", "Cut", "Ctrl+X"], copy: ["Copy", "Copy", "Ctrl+C"], paste: ["Paste", "Paste", "Ctrl+V"], selectall: ["Select all", "SelectAll", "Ctrl+A"], bold: ["Bold", "Bold", "Ctrl+B"], italic: ["Italic", "Italic", "Ctrl+I"], underline: ["Underline", "Underline"], strikethrough: ["Strikethrough", "Strikethrough"], subscript: ["Subscript", "Subscript"], superscript: ["Superscript", "Superscript"], removeformat: ["Clear formatting", "RemoveFormat"] }, function (t, n) {
          e.addMenuItem(n, { text: t[0], icon: n, shortcut: t[2], cmd: t[1] });
        }), e.on("mousedown", function () {
          n.hideAll();
        }), e.addButton("styleselect", { type: "menubutton", text: "Formats", menu: p }), e.addButton("formatselect", function () {
          var n = [],
              o = i(e.settings.block_formats || "Paragraph=p;Address=address;Pre=pre;Header 1=h1;Header 2=h2;Header 3=h3;Header 4=h4;Header 5=h5;Header 6=h6");return s(o, function (e) {
            n.push({ text: e[0], value: e[1], textStyle: function textStyle() {
                return t(e[1]);
              } });
          }), { type: "listbox", text: o[0][0], values: n, fixedWidth: !0, onselect: f, onPostRender: r(n) };
        }), e.addButton("fontselect", function () {
          var t = "Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",
              n = [],
              o = i(e.settings.font_formats || t);return s(o, function (e) {
            n.push({ text: { raw: e[0] }, value: e[1], textStyle: -1 == e[1].indexOf("dings") ? "font-family:" + e[1] : "" });
          }), { type: "listbox", text: "Font Family", tooltip: "Font Family", values: n, fixedWidth: !0, onPostRender: r(n, "fontname"), onselect: function onselect(t) {
              t.control.settings.value && e.execCommand("FontName", !1, t.control.settings.value);
            } };
        }), e.addButton("fontsizeselect", function () {
          var t = [],
              n = "8pt 10pt 12pt 14pt 18pt 24pt 36pt",
              i = e.settings.fontsize_formats || n;return s(i.split(" "), function (e) {
            t.push({ text: e, value: e });
          }), { type: "listbox", text: "Font Sizes", tooltip: "Font Sizes", values: t, fixedWidth: !0, onPostRender: r(t, "fontsize"), onclick: function onclick(t) {
              t.control.settings.value && e.execCommand("FontSize", !1, t.control.settings.value);
            } };
        }), e.addMenuItem("formats", { text: "Formats", menu: p });
      }var s = r.each;i.on("AddEditor", function (t) {
        t.editor.rtl && (e.rtl = !0), a(t.editor);
      }), e.translate = function (e) {
        return i.translate(e);
      }, t.tooltips = !o.iOS;
    }), r(Pt, [vt], function (e) {
      return e.extend({ recalc: function recalc(e) {
          var t = e.settings,
              n,
              r,
              i,
              o,
              a,
              s,
              l,
              c,
              u,
              d,
              f,
              p,
              m,
              h,
              g,
              v,
              y,
              b,
              C,
              x,
              w,
              _,
              N = [],
              E = [],
              S,
              k,
              T,
              R;for (t = e.settings, i = e.items().filter(":visible"), o = e.layoutRect(), r = t.columns || Math.ceil(Math.sqrt(i.length)), n = Math.ceil(i.length / r), y = t.spacingH || t.spacing || 0, b = t.spacingV || t.spacing || 0, C = t.alignH || t.align, x = t.alignV || t.align, g = e._paddingBox, C && "string" == typeof C && (C = [C]), x && "string" == typeof x && (x = [x]), d = 0; r > d; d++) {
            N.push(0);
          }for (f = 0; n > f; f++) {
            E.push(0);
          }for (f = 0; n > f; f++) {
            for (d = 0; r > d && (u = i[f * r + d], u); d++) {
              c = u.layoutRect(), S = c.minW, k = c.minH, N[d] = S > N[d] ? S : N[d], E[f] = k > E[f] ? k : E[f];
            }
          }for (T = o.innerW - g.left - g.right, w = 0, d = 0; r > d; d++) {
            w += N[d] + (d > 0 ? y : 0), T -= (d > 0 ? y : 0) + N[d];
          }for (R = o.innerH - g.top - g.bottom, _ = 0, f = 0; n > f; f++) {
            _ += E[f] + (f > 0 ? b : 0), R -= (f > 0 ? b : 0) + E[f];
          }if (w += g.left + g.right, _ += g.top + g.bottom, l = {}, l.minW = w + (o.w - o.innerW), l.minH = _ + (o.h - o.innerH), l.contentW = l.minW - o.deltaW, l.contentH = l.minH - o.deltaH, l.minW = Math.min(l.minW, o.maxW), l.minH = Math.min(l.minH, o.maxH), l.minW = Math.max(l.minW, o.startMinWidth), l.minH = Math.max(l.minH, o.startMinHeight), !o.autoResize || l.minW == o.minW && l.minH == o.minH) {
            o.autoResize && (l = e.layoutRect(l), l.contentW = l.minW - o.deltaW, l.contentH = l.minH - o.deltaH);var A;A = "start" == t.packV ? 0 : R > 0 ? Math.floor(R / n) : 0;var B = 0,
                L = t.flexWidths;if (L) for (d = 0; d < L.length; d++) {
              B += L[d];
            } else B = r;var D = T / B;for (d = 0; r > d; d++) {
              N[d] += L ? L[d] * D : D;
            }for (m = g.top, f = 0; n > f; f++) {
              for (p = g.left, s = E[f] + A, d = 0; r > d && (u = i[f * r + d], u); d++) {
                h = u.settings, c = u.layoutRect(), a = Math.max(N[d], c.startMinWidth), c.x = p, c.y = m, v = h.alignH || (C ? C[d] || C[0] : null), "center" == v ? c.x = p + a / 2 - c.w / 2 : "right" == v ? c.x = p + a - c.w : "stretch" == v && (c.w = a), v = h.alignV || (x ? x[d] || x[0] : null), "center" == v ? c.y = m + s / 2 - c.h / 2 : "bottom" == v ? c.y = m + s - c.h : "stretch" == v && (c.h = s), u.layoutRect(c), p += a + y, u.recalc && u.recalc();
              }m += s + b;
            }
          } else if (l.w = l.minW, l.h = l.minH, e.layoutRect(l), this.recalc(e), null === e._lastRect) {
            var M = e.parent();M && (M._lastRect = null, M.recalc());
          }
        } });
    }), r(Ot, [bt], function (e) {
      return e.extend({ renderHtml: function renderHtml() {
          var e = this;return e.addClass("iframe"), e.canFocus = !1, '<iframe id="' + e._id + '" class="' + e.classes() + '" tabindex="-1" src="' + (e.settings.url || "javascript:''") + '" frameborder="0"></iframe>';
        }, src: function src(e) {
          this.getEl().src = e;
        }, html: function html(e, t) {
          var n = this,
              r = this.getEl().contentWindow.document.body;return r ? (r.innerHTML = e, t && t()) : setTimeout(function () {
            n.html(e);
          }, 0), this;
        } });
    }), r(It, [bt, V], function (e, t) {
      return e.extend({ init: function init(e) {
          var t = this;t._super(e), t.addClass("widget"), t.addClass("label"), t.canFocus = !1, e.multiline && t.addClass("autoscroll"), e.strong && t.addClass("strong");
        }, initLayoutRect: function initLayoutRect() {
          var e = this,
              n = e._super();if (e.settings.multiline) {
            var r = t.getSize(e.getEl());r.width > n.maxW && (n.minW = n.maxW, e.addClass("multiline")), e.getEl().style.width = n.minW + "px", n.startMinH = n.h = n.minH = Math.min(n.maxH, t.getSize(e.getEl()).height);
          }return n;
        }, repaint: function repaint() {
          var e = this;return e.settings.multiline || (e.getEl().style.lineHeight = e.layoutRect().h + "px"), e._super();
        }, text: function text(e) {
          var t = this;return t._rendered && e && this.innerHtml(t.encode(e)), t._super(e);
        }, renderHtml: function renderHtml() {
          var e = this,
              t = e.settings.forId;return '<label id="' + e._id + '" class="' + e.classes() + '"' + (t ? ' for="' + t + '"' : "") + ">" + e.encode(e._text) + "</label>";
        } });
    }), r(Ft, [j], function (e) {
      return e.extend({ Defaults: { role: "toolbar", layout: "flow" }, init: function init(e) {
          var t = this;t._super(e), t.addClass("toolbar");
        }, postRender: function postRender() {
          var e = this;return e.items().addClass("toolbar-item"), e._super();
        } });
    }), r(zt, [Ft], function (e) {
      return e.extend({ Defaults: { role: "menubar", containerCls: "menubar", ariaRoot: !0, defaults: { type: "menubutton" } } });
    }), r(Wt, [Ct, q, zt], function (e, t, n) {
      function r(e, t) {
        for (; e;) {
          if (t === e) return !0;e = e.parentNode;
        }return !1;
      }var i = e.extend({ init: function init(e) {
          var t = this;t._renderOpen = !0, t._super(e), t.addClass("menubtn"), e.fixedWidth && t.addClass("fixed-width"), t.aria("haspopup", !0), t.hasPopup = !0;
        }, showMenu: function showMenu() {
          var e = this,
              n = e.settings,
              r;return e.menu && e.menu.visible() ? e.hideMenu() : (e.menu || (r = n.menu || [], r.length ? r = { type: "menu", items: r } : r.type = r.type || "menu", e.menu = t.create(r).parent(e).renderTo(), e.fire("createmenu"), e.menu.reflow(), e.menu.on("cancel", function (t) {
            t.control.parent() === e.menu && (t.stopPropagation(), e.focus(), e.hideMenu());
          }), e.menu.on("select", function () {
            e.focus();
          }), e.menu.on("show hide", function (t) {
            t.control == e.menu && e.activeMenu("show" == t.type), e.aria("expanded", "show" == t.type);
          }).fire("show")), e.menu.show(), e.menu.layoutRect({ w: e.layoutRect().w }), void e.menu.moveRel(e.getEl(), e.isRtl() ? ["br-tr", "tr-br"] : ["bl-tl", "tl-bl"]));
        }, hideMenu: function hideMenu() {
          var e = this;e.menu && (e.menu.items().each(function (e) {
            e.hideMenu && e.hideMenu();
          }), e.menu.hide());
        }, activeMenu: function activeMenu(e) {
          this.toggleClass("active", e);
        }, renderHtml: function renderHtml() {
          var e = this,
              t = e._id,
              r = e.classPrefix,
              i = e.settings.icon ? r + "ico " + r + "i-" + e.settings.icon : "";return e.aria("role", e.parent() instanceof n ? "menuitem" : "button"), '<div id="' + t + '" class="' + e.classes() + '" tabindex="-1" aria-labelledby="' + t + '"><button id="' + t + '-open" role="presentation" type="button" tabindex="-1">' + (i ? '<i class="' + i + '"></i>' : "") + "<span>" + (e._text ? (i ? "\xa0" : "") + e.encode(e._text) : "") + '</span> <i class="' + r + 'caret"></i></button></div>';
        }, postRender: function postRender() {
          var e = this;return e.on("click", function (t) {
            t.control === e && r(t.target, e.getEl()) && (e.showMenu(), t.aria && e.menu.items()[0].focus());
          }), e.on("mouseenter", function (t) {
            var n = t.control,
                r = e.parent(),
                o;n && r && n instanceof i && n.parent() == r && (r.items().filter("MenuButton").each(function (e) {
              e.hideMenu && e != n && (e.menu && e.menu.visible() && (o = !0), e.hideMenu());
            }), o && (n.focus(), n.showMenu()));
          }), e._super();
        }, text: function text(e) {
          var t = this,
              n,
              r;if (t._rendered) for (r = t.getEl("open").getElementsByTagName("span"), n = 0; n < r.length; n++) {
            r[n].innerHTML = (t.settings.icon && e ? "\xa0" : "") + t.encode(e);
          }return this._super(e);
        }, remove: function remove() {
          this._super(), this.menu && this.menu.remove();
        } });return i;
    }), r(Vt, [Wt], function (e) {
      return e.extend({ init: function init(e) {
          var t = this,
              n,
              r,
              i,
              o,
              a;if (t._values = n = e.values, n) {
            for (r = 0; r < n.length; r++) {
              if (i = n[r].selected || e.value === n[r].value) {
                o = o || n[r].text, t._value = n[r].value;break;
              }
            }!i && n.length > 0 && (o = n[0].text, t._value = n[0].value), e.menu = n;
          }e.text = e.text || o || n[0].text, t._super(e), t.addClass("listbox"), t.on("select", function (n) {
            var r = n.control;a && (n.lastControl = a), e.multiple ? r.active(!r.active()) : t.value(n.control.settings.value), a = r;
          });
        }, value: function value(e) {
          function t(e, n) {
            e.items().each(function (e) {
              r = e.value() === n, r && (i = i || e.text()), e.active(r), e.menu && t(e.menu, n);
            });
          }var n = this,
              r,
              i,
              o,
              a;if ("undefined" != typeof e) {
            if (n.menu) t(n.menu, e);else for (o = n.settings.menu, a = 0; a < o.length; a++) {
              r = o[a].value == e, r && (i = i || o[a].text), o[a].active = r;
            }n.text(i || this.settings.text);
          }return n._super(e);
        } });
    }), r(Ut, [bt, q, g], function (e, t, n) {
      return e.extend({ Defaults: { border: 0, role: "menuitem" }, init: function init(e) {
          var t = this;t.hasPopup = !0, t._super(e), e = t.settings, t.addClass("menu-item"), e.menu && t.addClass("menu-item-expand"), e.preview && t.addClass("menu-item-preview"), ("-" === t._text || "|" === t._text) && (t.addClass("menu-item-sep"), t.aria("role", "separator"), t._text = "-"), e.selectable && (t.aria("role", "menuitemcheckbox"), t.addClass("menu-item-checkbox"), e.icon = "selected"), e.preview || e.selectable || t.addClass("menu-item-normal"), t.on("mousedown", function (e) {
            e.preventDefault();
          }), e.menu && t.aria("haspopup", !0);
        }, hasMenus: function hasMenus() {
          return !!this.settings.menu;
        }, showMenu: function showMenu() {
          var e = this,
              n = e.settings,
              r,
              i = e.parent();if (i.items().each(function (t) {
            t !== e && t.hideMenu();
          }), n.menu) {
            r = e.menu, r ? r.show() : (r = n.menu, r.length ? r = { type: "menu", items: r } : r.type = r.type || "menu", i.settings.itemDefaults && (r.itemDefaults = i.settings.itemDefaults), r = e.menu = t.create(r).parent(e).renderTo(), r.reflow(), r.fire("show"), r.on("cancel", function (t) {
              t.stopPropagation(), e.focus(), r.hide();
            }), r.on("hide", function (t) {
              t.control === r && e.removeClass("selected");
            }), r.submenu = !0), r._parentMenu = i, r.addClass("menu-sub");var o = r.testMoveRel(e.getEl(), e.isRtl() ? ["tl-tr", "bl-br", "tr-tl", "br-bl"] : ["tr-tl", "br-bl", "tl-tr", "bl-br"]);r.moveRel(e.getEl(), o), r.rel = o, o = "menu-sub-" + o, r.removeClass(r._lastRel), r.addClass(o), r._lastRel = o, e.addClass("selected"), e.aria("expanded", !0);
          }
        }, hideMenu: function hideMenu() {
          var e = this;return e.menu && (e.menu.items().each(function (e) {
            e.hideMenu && e.hideMenu();
          }), e.menu.hide(), e.aria("expanded", !1)), e;
        }, renderHtml: function renderHtml() {
          var e = this,
              t = e._id,
              r = e.settings,
              i = e.classPrefix,
              o = e.encode(e._text),
              a = e.settings.icon,
              s = "",
              l = r.shortcut;return a && e.parent().addClass("menu-has-icons"), r.image && (a = "none", s = " style=\"background-image: url('" + r.image + "')\""), l && n.mac && (l = l.replace(/ctrl\+alt\+/i, "&#x2325;&#x2318;"), l = l.replace(/ctrl\+/i, "&#x2318;"), l = l.replace(/alt\+/i, "&#x2325;"), l = l.replace(/shift\+/i, "&#x21E7;")), a = i + "ico " + i + "i-" + (e.settings.icon || "none"), '<div id="' + t + '" class="' + e.classes() + '" tabindex="-1">' + ("-" !== o ? '<i class="' + a + '"' + s + "></i>&nbsp;" : "") + ("-" !== o ? '<span id="' + t + '-text" class="' + i + 'text">' + o + "</span>" : "") + (l ? '<div id="' + t + '-shortcut" class="' + i + 'menu-shortcut">' + l + "</div>" : "") + (r.menu ? '<div class="' + i + 'caret"></div>' : "") + "</div>";
        }, postRender: function postRender() {
          var e = this,
              t = e.settings,
              n = t.textStyle;if ("function" == typeof n && (n = n.call(this)), n) {
            var r = e.getEl("text");r && r.setAttribute("style", n);
          }return e.on("mouseenter click", function (n) {
            n.control === e && (t.menu || "click" !== n.type ? (e.showMenu(), n.aria && e.menu.focus(!0)) : (e.fire("select"), e.parent().hideAll()));
          }), e._super(), e;
        }, active: function active(e) {
          return "undefined" != typeof e && this.aria("checked", e), this._super(e);
        }, remove: function remove() {
          this._super(), this.menu && this.menu.remove();
        } });
    }), r(qt, [Q, Ut, p], function (e, t, n) {
      var r = e.extend({ Defaults: { defaultType: "menuitem", border: 1, layout: "stack", role: "application", bodyRole: "menu", ariaRoot: !0 }, init: function init(e) {
          var t = this;if (e.autohide = !0, e.constrainToViewport = !0, e.itemDefaults) for (var r = e.items, i = r.length; i--;) {
            r[i] = n.extend({}, e.itemDefaults, r[i]);
          }t._super(e), t.addClass("menu");
        }, repaint: function repaint() {
          return this.toggleClass("menu-align", !0), this._super(), this.getEl().style.height = "", this.getEl("body").style.height = "", this;
        }, cancel: function cancel() {
          var e = this;e.hideAll(), e.fire("select");
        }, hideAll: function hideAll() {
          var e = this;return this.find("menuitem").exec("hideMenu"), e._super();
        }, preRender: function preRender() {
          var e = this;return e.items().each(function (t) {
            var n = t.settings;return n.icon || n.selectable ? (e._hasIcons = !0, !1) : void 0;
          }), e._super();
        } });return r;
    }), r($t, [wt], function (e) {
      return e.extend({ Defaults: { classes: "radio", role: "radio" } });
    }), r(jt, [bt, K], function (e, t) {
      return e.extend({ renderHtml: function renderHtml() {
          var e = this,
              t = e.classPrefix;return e.addClass("resizehandle"), "both" == e.settings.direction && e.addClass("resizehandle-both"), e.canFocus = !1, '<div id="' + e._id + '" class="' + e.classes() + '"><i class="' + t + "ico " + t + 'i-resize"></i></div>';
        }, postRender: function postRender() {
          var e = this;e._super(), e.resizeDragHelper = new t(this._id, { start: function start() {
              e.fire("ResizeStart");
            }, drag: function drag(t) {
              "both" != e.settings.direction && (t.deltaX = 0), e.fire("Resize", t);
            }, stop: function stop() {
              e.fire("ResizeEnd");
            } });
        }, remove: function remove() {
          return this.resizeDragHelper && this.resizeDragHelper.destroy(), this._super();
        } });
    }), r(Kt, [bt], function (e) {
      return e.extend({ renderHtml: function renderHtml() {
          var e = this;return e.addClass("spacer"), e.canFocus = !1, '<div id="' + e._id + '" class="' + e.classes() + '"></div>';
        } });
    }), r(Yt, [Wt, V], function (e, t) {
      return e.extend({ Defaults: { classes: "widget btn splitbtn", role: "button" }, repaint: function repaint() {
          var e = this,
              n = e.getEl(),
              r = e.layoutRect(),
              i,
              o;return e._super(), i = n.firstChild, o = n.lastChild, t.css(i, { width: r.w - t.getSize(o).width, height: r.h - 2 }), t.css(o, { height: r.h - 2 }), e;
        }, activeMenu: function activeMenu(e) {
          var n = this;t.toggleClass(n.getEl().lastChild, n.classPrefix + "active", e);
        }, renderHtml: function renderHtml() {
          var e = this,
              t = e._id,
              n = e.classPrefix,
              r = e.settings.icon ? n + "ico " + n + "i-" + e.settings.icon : "";return '<div id="' + t + '" class="' + e.classes() + '" role="button" tabindex="-1"><button type="button" hidefocus tabindex="-1">' + (r ? '<i class="' + r + '"></i>' : "") + (e._text ? (r ? " " : "") + e._text : "") + '</button><button type="button" class="' + n + 'open" hidefocus tabindex="-1">' + (e._menuBtnText ? (r ? "\xa0" : "") + e._menuBtnText : "") + ' <i class="' + n + 'caret"></i></button></div>';
        }, postRender: function postRender() {
          var e = this,
              t = e.settings.onclick;return e.on("click", function (e) {
            var n = e.target;if (e.control == this) for (; n;) {
              if (e.aria && "down" != e.aria.key || "BUTTON" == n.nodeName && -1 == n.className.indexOf("open")) return e.stopImmediatePropagation(), void t.call(this, e);n = n.parentNode;
            }
          }), delete e.settings.onclick, e._super();
        } });
    }), r(Gt, [Mt], function (e) {
      return e.extend({ Defaults: { containerClass: "stack-layout", controlClass: "stack-layout-item", endClass: "break" } });
    }), r(Xt, [G, V], function (e, t) {
      return e.extend({ lastIdx: 0, Defaults: { layout: "absolute", defaults: { type: "panel" } }, activateTab: function activateTab(e) {
          var n;this.activeTabId && (n = this.getEl(this.activeTabId), t.removeClass(n, this.classPrefix + "active"), n.setAttribute("aria-selected", "false")), this.activeTabId = "t" + e, n = this.getEl("t" + e), n.setAttribute("aria-selected", "true"), t.addClass(n, this.classPrefix + "active"), e != this.lastIdx && (this.items()[this.lastIdx].hide(), this.lastIdx = e), this.items()[e].show().fire("showtab"), this.reflow();
        }, renderHtml: function renderHtml() {
          var e = this,
              t = e._layout,
              n = "",
              r = e.classPrefix;return e.preRender(), t.preRender(e), e.items().each(function (t, i) {
            var o = e._id + "-t" + i;t.aria("role", "tabpanel"), t.aria("labelledby", o), n += '<div id="' + o + '" class="' + r + 'tab" unselectable="on" role="tab" aria-controls="' + t._id + '" aria-selected="false" tabIndex="-1">' + e.encode(t.settings.title) + "</div>";
          }), '<div id="' + e._id + '" class="' + e.classes() + '" hideFocus="1" tabIndex="-1"><div id="' + e._id + '-head" class="' + r + 'tabs" role="tablist">' + n + '</div><div id="' + e._id + '-body" class="' + e.classes("body") + '">' + t.renderHtml(e) + "</div></div>";
        }, postRender: function postRender() {
          var e = this;e._super(), e.settings.activeTab = e.settings.activeTab || 0, e.activateTab(e.settings.activeTab), this.on("click", function (t) {
            var n = t.target.parentNode;if (t.target.parentNode.id == e._id + "-head") for (var r = n.childNodes.length; r--;) {
              n.childNodes[r] == t.target && e.activateTab(r);
            }
          });
        }, initLayoutRect: function initLayoutRect() {
          var e = this,
              n,
              r,
              i;r = t.getSize(e.getEl("head")).width, r = 0 > r ? 0 : r, i = 0, e.items().each(function (t, n) {
            r = Math.max(r, t.layoutRect().minW), i = Math.max(i, t.layoutRect().minH), e.settings.activeTab != n && t.hide();
          }), e.items().each(function (e) {
            e.settings.x = 0, e.settings.y = 0, e.settings.w = r, e.settings.h = i, e.layoutRect({ x: 0, y: 0, w: r, h: i });
          });var o = t.getSize(e.getEl("head")).height;return e.settings.minWidth = r, e.settings.minHeight = i + o, n = e._super(), n.deltaH += o, n.innerH = n.h - n.deltaH, n;
        } });
    }), r(Jt, [bt, V], function (e, t) {
      return e.extend({ init: function init(e) {
          var t = this;t._super(e), t._value = e.value || "", t.addClass("textbox"), e.multiline ? t.addClass("multiline") : t.on("keydown", function (e) {
            13 == e.keyCode && t.parents().reverse().each(function (t) {
              return e.preventDefault(), t.hasEventListeners("submit") && t.toJSON ? (t.fire("submit", { data: t.toJSON() }), !1) : void 0;
            });
          });
        }, disabled: function disabled(e) {
          var t = this;return t._rendered && "undefined" != typeof e && (t.getEl().disabled = e), t._super(e);
        }, value: function value(e) {
          var t = this;return "undefined" != typeof e ? (t._value = e, t._rendered && (t.getEl().value = e), t) : t._rendered ? t.getEl().value : t._value;
        }, repaint: function repaint() {
          var e = this,
              t,
              n,
              r,
              i = 0,
              o = 0,
              a;t = e.getEl().style, n = e._layoutRect, a = e._lastRepaintRect || {};var s = document;return !e.settings.multiline && s.all && (!s.documentMode || s.documentMode <= 8) && (t.lineHeight = n.h - o + "px"), r = e._borderBox, i = r.left + r.right + 8, o = r.top + r.bottom + (e.settings.multiline ? 8 : 0), n.x !== a.x && (t.left = n.x + "px", a.x = n.x), n.y !== a.y && (t.top = n.y + "px", a.y = n.y), n.w !== a.w && (t.width = n.w - i + "px", a.w = n.w), n.h !== a.h && (t.height = n.h - o + "px", a.h = n.h), e._lastRepaintRect = a, e.fire("repaint", {}, !1), e;
        }, renderHtml: function renderHtml() {
          var e = this,
              t = e._id,
              n = e.settings,
              r = e.encode(e._value, !1),
              i = "";return "spellcheck" in n && (i += ' spellcheck="' + n.spellcheck + '"'), n.maxLength && (i += ' maxlength="' + n.maxLength + '"'), n.size && (i += ' size="' + n.size + '"'), n.subtype && (i += ' type="' + n.subtype + '"'), e.disabled() && (i += ' disabled="disabled"'), n.multiline ? '<textarea id="' + t + '" class="' + e.classes() + '" ' + (n.rows ? ' rows="' + n.rows + '"' : "") + ' hidefocus="true"' + i + ">" + r + "</textarea>" : '<input id="' + t + '" class="' + e.classes() + '" value="' + r + '" hidefocus="true"' + i + ">";
        }, postRender: function postRender() {
          var e = this;return t.on(e.getEl(), "change", function (t) {
            e.fire("change", t);
          }), e._super();
        }, remove: function remove() {
          t.off(this.getEl()), this._super();
        } });
    }), r(Qt, [V], function (e) {
      return function (t) {
        var n = this,
            r;n.show = function (i) {
          return n.hide(), r = !0, window.setTimeout(function () {
            r && t.appendChild(e.createFragment('<div class="mce-throbber"></div>'));
          }, i || 0), n;
        }, n.hide = function () {
          var e = t.lastChild;return e && -1 != e.className.indexOf("throbber") && e.parentNode.removeChild(e), r = !1, n;
        };
      };
    }), a([l, c, u, d, f, p, m, h, g, v, y, b, C, x, w, _, N, E, S, k, T, R, A, B, L, D, M, H, P, O, I, F, z, W, V, U, q, $, j, K, Y, G, X, J, Q, Z, et, tt, nt, rt, it, ot, at, st, lt, ct, ut, dt, ft, pt, mt, ht, gt, vt, yt, bt, Ct, xt, wt, _t, Nt, Et, St, kt, Tt, Rt, At, Bt, Lt, Dt, Mt, Ht, Pt, Ot, It, Ft, zt, Wt, Vt, Ut, qt, $t, jt, Kt, Yt, Gt, Xt, Jt, Qt]);
  }(this);
  ;tinymce.ThemeManager.add("modern", function (e) {
    function t() {
      function t(t) {
        var n,
            o = [];if (t) return d(t.split(/[ ,]/), function (t) {
          function i() {
            var i = e.selection;"bullist" == r && i.selectorChanged("ul > li", function (e, i) {
              for (var n, o = i.parents.length; o-- && (n = i.parents[o].nodeName, "OL" != n && "UL" != n);) {}t.active(e && "UL" == n);
            }), "numlist" == r && i.selectorChanged("ol > li", function (e, i) {
              for (var n, o = i.parents.length; o-- && (n = i.parents[o].nodeName, "OL" != n && "UL" != n);) {}t.active(e && "OL" == n);
            }), t.settings.stateSelector && i.selectorChanged(t.settings.stateSelector, function (e) {
              t.active(e);
            }, !0), t.settings.disabledStateSelector && i.selectorChanged(t.settings.disabledStateSelector, function (e) {
              t.disabled(e);
            });
          }var r;"|" == t ? n = null : c.has(t) ? (t = { type: t }, u.toolbar_items_size && (t.size = u.toolbar_items_size), o.push(t), n = null) : (n || (n = { type: "buttongroup", items: [] }, o.push(n)), e.buttons[t] && (r = t, t = e.buttons[r], "function" == typeof t && (t = t()), t.type = t.type || "button", u.toolbar_items_size && (t.size = u.toolbar_items_size), t = c.create(t), n.items.push(t), e.initialized ? i() : e.on("init", i)));
        }), i.push({ type: "toolbar", layout: "flow", items: o }), !0;
      }for (var i = [], n = 1; 10 > n && t(u["toolbar" + n]); n++) {}return i.length || t(u.toolbar || f), i;
    }function i() {
      function t(t) {
        var i;return "|" == t ? { text: "|" } : i = e.menuItems[t];
      }function i(i) {
        var n, o, r, a, s;if (s = tinymce.makeMap((u.removed_menuitems || "").split(/[ ,]/)), u.menu ? (o = u.menu[i], a = !0) : o = h[i], o) {
          n = { text: o.title }, r = [], d((o.items || "").split(/[ ,]/), function (e) {
            var i = t(e);i && !s[e] && r.push(t(e));
          }), a || d(e.menuItems, function (e) {
            e.context == i && ("before" == e.separator && r.push({ text: "|" }), e.prependToContext ? r.unshift(e) : r.push(e), "after" == e.separator && r.push({ text: "|" }));
          });for (var l = 0; l < r.length; l++) {
            "|" == r[l].text && (0 === l || l == r.length - 1) && r.splice(l, 1);
          }if (n.menu = r, !n.menu.length) return null;
        }return n;
      }var n,
          o = [],
          r = [];if (u.menu) for (n in u.menu) {
        r.push(n);
      } else for (n in h) {
        r.push(n);
      }for (var a = "string" == typeof u.menubar ? u.menubar.split(/[ ,]/) : r, s = 0; s < a.length; s++) {
        var l = a[s];l = i(l), l && o.push(l);
      }return o;
    }function n(t) {
      function i(e) {
        var i = t.find(e)[0];i && i.focus(!0);
      }e.shortcuts.add("Alt+F9", "", function () {
        i("menubar");
      }), e.shortcuts.add("Alt+F10", "", function () {
        i("toolbar");
      }), e.shortcuts.add("Alt+F11", "", function () {
        i("elementpath");
      }), t.on("cancel", function () {
        e.focus();
      });
    }function o(t, i) {
      function n(e) {
        return { width: e.clientWidth, height: e.clientHeight };
      }var o, r, a, s;o = e.getContainer(), r = e.getContentAreaContainer().firstChild, a = n(o), s = n(r), null !== t && (t = Math.max(u.min_width || 100, t), t = Math.min(u.max_width || 65535, t), m.css(o, "width", t + (a.width - s.width)), m.css(r, "width", t)), i = Math.max(u.min_height || 100, i), i = Math.min(u.max_height || 65535, i), m.css(r, "height", i), e.fire("ResizeEditor");
    }function r(t, i) {
      var n = e.getContentAreaContainer();l.resizeTo(n.clientWidth + t, n.clientHeight + i);
    }function a(o) {
      function r() {
        if (h && h.moveRel && h.visible() && !h._fixed) {
          var t = e.selection.getScrollContainer(),
              i = e.getBody(),
              n = 0,
              o = 0;if (t) {
            var r = m.getPos(i),
                a = m.getPos(t);n = Math.max(0, a.x - r.x), o = Math.max(0, a.y - r.y);
          }h.fixed(!1).moveRel(i, e.rtl ? ["tr-br", "br-tr"] : ["tl-bl", "bl-tl"]).moveBy(n, o);
        }
      }function a() {
        h && (h.show(), r(), m.addClass(e.getBody(), "mce-edit-focus"));
      }function s() {
        h && (h.hide(), m.removeClass(e.getBody(), "mce-edit-focus"));
      }function d() {
        return h ? void (h.visible() || a()) : (h = l.panel = c.create({ type: f ? "panel" : "floatpanel", role: "application", classes: "tinymce tinymce-inline", layout: "flex", direction: "column", align: "stretch", autohide: !1, autofix: !0, fixed: !!f, border: 1, items: [u.menubar === !1 ? null : { type: "menubar", border: "0 0 1 0", items: i() }, u.toolbar === !1 ? null : { type: "panel", layout: "stack", classes: "toolbar-grp", ariaRoot: !0, ariaRemember: !0, items: t() }] }), e.fire("BeforeRenderUI"), h.renderTo(f || document.body).reflow(), n(h), a(), e.on("nodeChange", r), e.on("activate", a), e.on("deactivate", s), void e.nodeChanged());
      }var h, f;return u.fixed_toolbar_container && (f = m.select(u.fixed_toolbar_container)[0]), u.content_editable = !0, e.on("focus", function () {
        o.skinUiCss ? tinymce.DOM.styleSheetLoader.load(o.skinUiCss, d, d) : d();
      }), e.on("blur", s), e.on("remove", function () {
        h && (h.remove(), h = null);
      }), o.skinUiCss && tinymce.DOM.styleSheetLoader.load(o.skinUiCss), {};
    }function s(r) {
      var a, s, d;return r.skinUiCss && tinymce.DOM.loadCSS(r.skinUiCss), a = l.panel = c.create({ type: "panel", role: "application", classes: "tinymce", style: "visibility: hidden", layout: "stack", border: 1, items: [u.menubar === !1 ? null : { type: "menubar", border: "0 0 1 0", items: i() }, u.toolbar === !1 ? null : { type: "panel", layout: "stack", classes: "toolbar-grp", ariaRoot: !0, ariaRemember: !0, items: t() }, { type: "panel", name: "iframe", layout: "stack", classes: "edit-area", html: "", border: "1 0 0 0" }] }), u.resize !== !1 && (s = { type: "resizehandle", direction: u.resize, onResizeStart: function onResizeStart() {
          var t = e.getContentAreaContainer().firstChild;d = { width: t.clientWidth, height: t.clientHeight };
        }, onResize: function onResize(e) {
          "both" == u.resize ? o(d.width + e.deltaX, d.height + e.deltaY) : o(null, d.height + e.deltaY);
        } }), u.statusbar !== !1 && a.add({ type: "panel", name: "statusbar", classes: "statusbar", layout: "flow", border: "1 0 0 0", ariaRoot: !0, items: [{ type: "elementpath" }, s] }), u.readonly && a.find("*").disabled(!0), e.fire("BeforeRenderUI"), a.renderBefore(r.targetNode).reflow(), u.width && tinymce.DOM.setStyle(a.getEl(), "width", u.width), e.on("remove", function () {
        a.remove(), a = null;
      }), n(a), { iframeContainer: a.find("#iframe")[0].getEl(), editorContainer: a.getEl() };
    }var l = this,
        u = e.settings,
        c = tinymce.ui.Factory,
        d = tinymce.each,
        m = tinymce.DOM,
        h = { file: { title: "File", items: "newdocument" }, edit: { title: "Edit", items: "undo redo | cut copy paste pastetext | selectall" }, insert: { title: "Insert", items: "|" }, view: { title: "View", items: "visualaid |" }, format: { title: "Format", items: "bold italic underline strikethrough superscript subscript | formats | removeformat" }, table: { title: "Table" }, tools: { title: "Tools" } },
        f = "undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image";l.renderUI = function (t) {
      var i = u.skin !== !1 ? u.skin || "lightgray" : !1;if (i) {
        var n = u.skin_url;n = n ? e.documentBaseURI.toAbsolute(n) : tinymce.baseURL + "/skins/" + i;
      }return e.on("ProgressState", function (e) {
        l.throbber = l.throbber || new tinymce.ui.Throbber(l.panel.getEl("body")), e.state ? l.throbber.show(e.time) : l.throbber.hide();
      }), u.inline ? a(t) : s(t);
    }, l.resizeTo = o, l.resizeBy = r;
  });
  ;tinymce.PluginManager.add("advlist", function (t) {
    function e(t, e) {
      var n = [];return tinymce.each(e.split(/[ ,]/), function (t) {
        n.push({ text: t.replace(/\-/g, " ").replace(/\b\w/g, function (t) {
            return t.toUpperCase();
          }), data: "default" == t ? "" : t });
      }), n;
    }function n(e, n) {
      var o,
          l = t.dom,
          a = t.selection;o = l.getParent(a.getNode(), "ol,ul"), o && o.nodeName == e && n !== !1 || t.execCommand("UL" == e ? "InsertUnorderedList" : "InsertOrderedList"), n = n === !1 ? i[e] : n, i[e] = n, o = l.getParent(a.getNode(), "ol,ul"), o && (l.setStyle(o, "listStyleType", n), o.removeAttribute("data-mce-style")), t.focus();
    }function o(e) {
      var n = t.dom.getStyle(t.dom.getParent(t.selection.getNode(), "ol,ul"), "listStyleType") || "";e.control.items().each(function (t) {
        t.active(t.settings.data === n);
      });
    }var l,
        a,
        i = {};l = e("OL", t.getParam("advlist_number_styles", "default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman")), a = e("UL", t.getParam("advlist_bullet_styles", "default,circle,disc,square")), t.addButton("numlist", { type: "splitbutton", tooltip: "Numbered list", menu: l, onshow: o, onselect: function onselect(t) {
        n("OL", t.control.settings.data);
      }, onclick: function onclick() {
        n("OL", !1);
      } }), t.addButton("bullist", { type: "splitbutton", tooltip: "Bullet list", menu: a, onshow: o, onselect: function onselect(t) {
        n("UL", t.control.settings.data);
      }, onclick: function onclick() {
        n("UL", !1);
      } });
  });
  ;tinymce.PluginManager.add("anchor", function (n) {
    function e() {
      var e = n.selection.getNode();n.windowManager.open({ title: "Anchor", body: { type: "textbox", name: "name", size: 40, label: "Name", value: e.name || e.id }, onsubmit: function onsubmit(e) {
          n.execCommand("mceInsertContent", !1, n.dom.createHTML("a", { id: e.data.name }));
        } });
    }n.addButton("anchor", { icon: "anchor", tooltip: "Anchor", onclick: e, stateSelector: "a:not([href])" }), n.addMenuItem("anchor", { icon: "anchor", text: "Anchor", context: "insert", onclick: e });
  });
  ;tinymce.PluginManager.add("autolink", function (t) {
    function e(t) {
      o(t, -1, "(", !0);
    }function n(t) {
      o(t, 0, "", !0);
    }function i(t) {
      o(t, -1, "", !1);
    }function o(t, e, n) {
      var i, o, r, s, d, f, a, l, c;if (i = t.selection.getRng(!0).cloneRange(), i.startOffset < 5) {
        if (l = i.endContainer.previousSibling, !l) {
          if (!i.endContainer.firstChild || !i.endContainer.firstChild.nextSibling) return;l = i.endContainer.firstChild.nextSibling;
        }if (c = l.length, i.setStart(l, c), i.setEnd(l, c), i.endOffset < 5) return;o = i.endOffset, s = l;
      } else {
        if (s = i.endContainer, 3 != s.nodeType && s.firstChild) {
          for (; 3 != s.nodeType && s.firstChild;) {
            s = s.firstChild;
          }3 == s.nodeType && (i.setStart(s, 0), i.setEnd(s, s.nodeValue.length));
        }o = 1 == i.endOffset ? 2 : i.endOffset - 1 - e;
      }r = o;do {
        i.setStart(s, o >= 2 ? o - 2 : 0), i.setEnd(s, o >= 1 ? o - 1 : 0), o -= 1;
      } while (" " != i.toString() && "" !== i.toString() && 160 != i.toString().charCodeAt(0) && o - 2 >= 0 && i.toString() != n);if (i.toString() == n || 160 == i.toString().charCodeAt(0) ? (i.setStart(s, o), i.setEnd(s, r), o += 1) : 0 === i.startOffset ? (i.setStart(s, 0), i.setEnd(s, r)) : (i.setStart(s, o), i.setEnd(s, r)), f = i.toString(), "." == f.charAt(f.length - 1) && i.setEnd(s, r - 1), f = i.toString(), a = f.match(/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i), a && ("www." == a[1] ? a[1] = "http://www." : /@$/.test(a[1]) && !/^mailto:/.test(a[1]) && (a[1] = "mailto:" + a[1]), d = t.selection.getBookmark(), t.selection.setRng(i), t.execCommand("createlink", !1, a[1] + a[2]), t.selection.moveToBookmark(d), t.nodeChanged(), tinymce.Env.webkit)) {
        t.selection.collapse(!1);var g = Math.min(s.length, r + 1);i.setStart(s, g), i.setEnd(s, g), t.selection.setRng(i);
      }
    }var r;return t.on("keydown", function (e) {
      if (13 == e.keyCode) return i(t);
    }), tinymce.Env.ie ? void t.on("focus", function () {
      if (!r) {
        r = !0;try {
          t.execCommand("AutoUrlDetect", !1, !0);
        } catch (t) {}
      }
    }) : (t.on("keypress", function (n) {
      if (41 == n.which) return e(t);
    }), void t.on("keyup", function (e) {
      if (32 == e.keyCode) return n(t);
    }));
  });
  ;tinymce.PluginManager.add("charmap", function (e) {
    function a() {
      function a(e) {
        for (; e;) {
          if ("TD" == e.nodeName) return e;e = e.parentNode;
        }
      }var i, r, o, n;i = '<table role="presentation" cellspacing="0" class="mce-charmap"><tbody>';var l = 25;for (o = 0; o < 10; o++) {
        for (i += "<tr>", r = 0; r < l; r++) {
          var s = t[o * l + r];i += '<td title="' + s[1] + '"><div tabindex="-1" title="' + s[1] + '" role="button">' + (s ? String.fromCharCode(parseInt(s[0], 10)) : "&nbsp;") + "</div></td>";
        }i += "</tr>";
      }i += "</tbody></table>";var c = { type: "container", html: i, onclick: function onclick(a) {
          var t = a.target;/^(TD|DIV)$/.test(t.nodeName) && (e.execCommand("mceInsertContent", !1, tinymce.trim(t.innerText || t.textContent)), a.ctrlKey || n.close());
        }, onmouseover: function onmouseover(e) {
          var t = a(e.target);t && n.find("#preview").text(t.firstChild.firstChild.data);
        } };n = e.windowManager.open({ title: "Special character", spacing: 10, padding: 10, items: [c, { type: "label", name: "preview", text: " ", style: "font-size: 40px; text-align: center", border: 1, minWidth: 100, minHeight: 80 }], buttons: [{ text: "Close", onclick: function onclick() {
            n.close();
          } }] });
    }var t = [["160", "no-break space"], ["38", "ampersand"], ["34", "quotation mark"], ["162", "cent sign"], ["8364", "euro sign"], ["163", "pound sign"], ["165", "yen sign"], ["169", "copyright sign"], ["174", "registered sign"], ["8482", "trade mark sign"], ["8240", "per mille sign"], ["181", "micro sign"], ["183", "middle dot"], ["8226", "bullet"], ["8230", "three dot leader"], ["8242", "minutes / feet"], ["8243", "seconds / inches"], ["167", "section sign"], ["182", "paragraph sign"], ["223", "sharp s / ess-zed"], ["8249", "single left-pointing angle quotation mark"], ["8250", "single right-pointing angle quotation mark"], ["171", "left pointing guillemet"], ["187", "right pointing guillemet"], ["8216", "left single quotation mark"], ["8217", "right single quotation mark"], ["8220", "left double quotation mark"], ["8221", "right double quotation mark"], ["8218", "single low-9 quotation mark"], ["8222", "double low-9 quotation mark"], ["60", "less-than sign"], ["62", "greater-than sign"], ["8804", "less-than or equal to"], ["8805", "greater-than or equal to"], ["8211", "en dash"], ["8212", "em dash"], ["175", "macron"], ["8254", "overline"], ["164", "currency sign"], ["166", "broken bar"], ["168", "diaeresis"], ["161", "inverted exclamation mark"], ["191", "turned question mark"], ["710", "circumflex accent"], ["732", "small tilde"], ["176", "degree sign"], ["8722", "minus sign"], ["177", "plus-minus sign"], ["247", "division sign"], ["8260", "fraction slash"], ["215", "multiplication sign"], ["185", "superscript one"], ["178", "superscript two"], ["179", "superscript three"], ["188", "fraction one quarter"], ["189", "fraction one half"], ["190", "fraction three quarters"], ["402", "function / florin"], ["8747", "integral"], ["8721", "n-ary sumation"], ["8734", "infinity"], ["8730", "square root"], ["8764", "similar to"], ["8773", "approximately equal to"], ["8776", "almost equal to"], ["8800", "not equal to"], ["8801", "identical to"], ["8712", "element of"], ["8713", "not an element of"], ["8715", "contains as member"], ["8719", "n-ary product"], ["8743", "logical and"], ["8744", "logical or"], ["172", "not sign"], ["8745", "intersection"], ["8746", "union"], ["8706", "partial differential"], ["8704", "for all"], ["8707", "there exists"], ["8709", "diameter"], ["8711", "backward difference"], ["8727", "asterisk operator"], ["8733", "proportional to"], ["8736", "angle"], ["180", "acute accent"], ["184", "cedilla"], ["170", "feminine ordinal indicator"], ["186", "masculine ordinal indicator"], ["8224", "dagger"], ["8225", "double dagger"], ["192", "A - grave"], ["193", "A - acute"], ["194", "A - circumflex"], ["195", "A - tilde"], ["196", "A - diaeresis"], ["197", "A - ring above"], ["198", "ligature AE"], ["199", "C - cedilla"], ["200", "E - grave"], ["201", "E - acute"], ["202", "E - circumflex"], ["203", "E - diaeresis"], ["204", "I - grave"], ["205", "I - acute"], ["206", "I - circumflex"], ["207", "I - diaeresis"], ["208", "ETH"], ["209", "N - tilde"], ["210", "O - grave"], ["211", "O - acute"], ["212", "O - circumflex"], ["213", "O - tilde"], ["214", "O - diaeresis"], ["216", "O - slash"], ["338", "ligature OE"], ["352", "S - caron"], ["217", "U - grave"], ["218", "U - acute"], ["219", "U - circumflex"], ["220", "U - diaeresis"], ["221", "Y - acute"], ["376", "Y - diaeresis"], ["222", "THORN"], ["224", "a - grave"], ["225", "a - acute"], ["226", "a - circumflex"], ["227", "a - tilde"], ["228", "a - diaeresis"], ["229", "a - ring above"], ["230", "ligature ae"], ["231", "c - cedilla"], ["232", "e - grave"], ["233", "e - acute"], ["234", "e - circumflex"], ["235", "e - diaeresis"], ["236", "i - grave"], ["237", "i - acute"], ["238", "i - circumflex"], ["239", "i - diaeresis"], ["240", "eth"], ["241", "n - tilde"], ["242", "o - grave"], ["243", "o - acute"], ["244", "o - circumflex"], ["245", "o - tilde"], ["246", "o - diaeresis"], ["248", "o slash"], ["339", "ligature oe"], ["353", "s - caron"], ["249", "u - grave"], ["250", "u - acute"], ["251", "u - circumflex"], ["252", "u - diaeresis"], ["253", "y - acute"], ["254", "thorn"], ["255", "y - diaeresis"], ["913", "Alpha"], ["914", "Beta"], ["915", "Gamma"], ["916", "Delta"], ["917", "Epsilon"], ["918", "Zeta"], ["919", "Eta"], ["920", "Theta"], ["921", "Iota"], ["922", "Kappa"], ["923", "Lambda"], ["924", "Mu"], ["925", "Nu"], ["926", "Xi"], ["927", "Omicron"], ["928", "Pi"], ["929", "Rho"], ["931", "Sigma"], ["932", "Tau"], ["933", "Upsilon"], ["934", "Phi"], ["935", "Chi"], ["936", "Psi"], ["937", "Omega"], ["945", "alpha"], ["946", "beta"], ["947", "gamma"], ["948", "delta"], ["949", "epsilon"], ["950", "zeta"], ["951", "eta"], ["952", "theta"], ["953", "iota"], ["954", "kappa"], ["955", "lambda"], ["956", "mu"], ["957", "nu"], ["958", "xi"], ["959", "omicron"], ["960", "pi"], ["961", "rho"], ["962", "final sigma"], ["963", "sigma"], ["964", "tau"], ["965", "upsilon"], ["966", "phi"], ["967", "chi"], ["968", "psi"], ["969", "omega"], ["8501", "alef symbol"], ["982", "pi symbol"], ["8476", "real part symbol"], ["978", "upsilon - hook symbol"], ["8472", "Weierstrass p"], ["8465", "imaginary part"], ["8592", "leftwards arrow"], ["8593", "upwards arrow"], ["8594", "rightwards arrow"], ["8595", "downwards arrow"], ["8596", "left right arrow"], ["8629", "carriage return"], ["8656", "leftwards double arrow"], ["8657", "upwards double arrow"], ["8658", "rightwards double arrow"], ["8659", "downwards double arrow"], ["8660", "left right double arrow"], ["8756", "therefore"], ["8834", "subset of"], ["8835", "superset of"], ["8836", "not a subset of"], ["8838", "subset of or equal to"], ["8839", "superset of or equal to"], ["8853", "circled plus"], ["8855", "circled times"], ["8869", "perpendicular"], ["8901", "dot operator"], ["8968", "left ceiling"], ["8969", "right ceiling"], ["8970", "left floor"], ["8971", "right floor"], ["9001", "left-pointing angle bracket"], ["9002", "right-pointing angle bracket"], ["9674", "lozenge"], ["9824", "black spade suit"], ["9827", "black club suit"], ["9829", "black heart suit"], ["9830", "black diamond suit"], ["8194", "en space"], ["8195", "em space"], ["8201", "thin space"], ["8204", "zero width non-joiner"], ["8205", "zero width joiner"], ["8206", "left-to-right mark"], ["8207", "right-to-left mark"], ["173", "soft hyphen"]];e.addButton("charmap", { icon: "charmap", tooltip: "Special character", onclick: a }), e.addMenuItem("charmap", { icon: "charmap", text: "Special character", onclick: a, context: "insert" });
  });
  ;tinymce.PluginManager.add("code", function (e) {
    function o() {
      e.windowManager.open({ title: "Source code", body: { type: "textbox", name: "code", multiline: !0, minWidth: e.getParam("code_dialog_width", 600), minHeight: e.getParam("code_dialog_height", Math.min(tinymce.DOM.getViewPort().h - 200, 500)), value: e.getContent({ source_view: !0 }), spellcheck: !1, style: "direction: ltr; text-align: left" }, onSubmit: function onSubmit(o) {
          e.focus(), e.undoManager.transact(function () {
            e.setContent(o.data.code);
          }), e.selection.setCursorLocation(), e.nodeChanged();
        } });
    }e.addCommand("mceCodeEditor", o), e.addButton("code", { icon: "code", tooltip: "Source code", onclick: o }), e.addMenuItem("code", { icon: "code", text: "Source code", context: "tools", onclick: o });
  });
  ;tinymce.PluginManager.requireLangPack("codemirror"), tinymce.PluginManager.add("codemirror", function (e, t) {
    function n() {
      e.focus(), e.selection.collapse(!0), e.selection.setContent('<span class="CmCaReT" style="display:none">&#0;</span>');var n,
          o = tinyMCE.baseURL.indexOf("/static/");n = o > 0 ? tinyMCE.baseURL.substring(0, o) : window.location.origin;var i = "?CodeMirrorPath=" + e.settings.codemirror.path + "&ParentOrigin=" + window.location.origin,
          a = e.windowManager.open({ title: "HTML source code", url: t + "/source.html" + i, width: 800, height: 550, resizable: !0, maximizable: !0, buttons: [{ text: "OK", subtype: "primary", onclick: function onclick() {
            s({ type: "save" });
          } }, { text: "Cancel", onclick: function onclick() {
            s({ type: "cancel" });
          } }] }),
          c = a.getEl().getElementsByTagName("iframe")[0].contentWindow,
          s = function s(e) {
        c.postMessage(e, n);
      },
          r = function r(t) {
        if (n === t.origin) {
          var o;if ("init" === t.data.type) o = { content: e.getContent({ source_view: !0 }) }, e.fire("ShowCodeEditor", o), s({ type: "init", content: o.content }), e.dom.remove(e.dom.select(".CmCaReT"));else if ("setText" === t.data.type) {
            o = { content: t.data.text };var i = t.data.isDirty;e.fire("SaveCodeEditor", o), e.setContent(o.content);var c = e.dom.select("span#CmCaReT")[0];if (c) e.selection.scrollIntoView(c), e.selection.setCursorLocation(c, 0), e.dom.remove(c);else {
              var r = e.getContent(),
                  d = r.replace('<span id="CmCaReT"></span>', "");r !== d && e.setContent(d);
            }e.isNotDirty = !i, i && e.nodeChanged();
          } else "closeWindow" === t.data.type && a.close();
        }
      };a.on("close", function () {
        window.removeEventListener("message", r);
      }), window.addEventListener("message", r, !1);
    }e.addButton("code", { title: "Edit HTML", text: "HTML", icon: !1, onclick: n }), e.addMenuItem("code", { icon: "code", text: "Edit HTML", context: "tools", onclick: n });
  });
  ;tinymce.PluginManager.add("contextmenu", function (e) {
    var n,
        t = e.settings.contextmenu_never_use_native;e.on("contextmenu", function (i) {
      var o;if (!i.ctrlKey || t) {
        if (i.preventDefault(), o = e.settings.contextmenu || "link image inserttable | cell row column deletetable", n) n.show();else {
          var c = [];tinymce.each(o.split(/[ ,]/), function (n) {
            var t = e.menuItems[n];"|" == n && (t = { text: n }), t && (t.shortcut = "", c.push(t));
          });for (var a = 0; a < c.length; a++) {
            "|" == c[a].text && (0 === a || a == c.length - 1) && c.splice(a, 1);
          }n = new tinymce.ui.Menu({ items: c, context: "contextmenu" }).addClass("contextmenu").renderTo(), e.on("remove", function () {
            n.remove(), n = null;
          });
        }var l = { x: i.pageX, y: i.pageY };e.inline || (l = tinymce.DOM.getPos(e.getContentAreaContainer()), l.x += i.clientX, l.y += i.clientY), n.moveTo(l.x, l.y);
      }
    });
  });
  ;tinymce.PluginManager.add("image", function (e) {
    function t(e, t) {
      function n(e, n) {
        i.parentNode && i.parentNode.removeChild(i), t({ width: e, height: n });
      }var i = document.createElement("img");i.onload = function () {
        n(i.clientWidth, i.clientHeight);
      }, i.onerror = function () {
        n();
      };var a = i.style;a.visibility = "hidden", a.position = "fixed", a.bottom = a.left = 0, a.width = a.height = "auto", document.body.appendChild(i), i.src = e;
    }function n(t) {
      return function () {
        var n = e.settings.image_list;"string" == typeof n ? tinymce.util.XHR.send({ url: n, success: function success(e) {
            t(tinymce.util.JSON.parse(e));
          } }) : t(n);
      };
    }function i(n) {
      function i() {
        var t = [{ text: "None", value: "" }];return tinymce.each(n, function (n) {
          t.push({ text: n.text || n.title, value: e.convertURL(n.value || n.url, "src"), menu: n.menu });
        }), t;
      }function a() {
        var e, t, n, i;e = s.find("#width")[0], t = s.find("#height")[0], n = e.value(), i = t.value(), s.find("#constrain")[0].checked() && d && u && n && i && (d != n ? (i = Math.round(n / d * i), t.value(i)) : (n = Math.round(i / u * n), e.value(n))), d = n, u = i;
      }function o() {
        function t(t) {
          function i() {
            t.onload = t.onerror = null, e.selection.select(t), e.nodeChanged();
          }t.onload = function () {
            n.width || n.height || m.setAttribs(t, { width: t.clientWidth, height: t.clientHeight }), i();
          }, t.onerror = i;
        }c(), a();var n = s.toJSON();"" === n.width && (n.width = null), "" === n.height && (n.height = null), "" === n.style && (n.style = null), n = { src: n.src, alt: n.alt, width: n.width, height: n.height, style: n.style }, e.fire('SaveImage', n), e.undoManager.transact(function () {
          return n.src ? (p ? m.setAttribs(p, n) : (n.id = "__mcenew", e.focus(), e.selection.setContent(m.createHTML("img", n)), p = m.get("__mcenew"), m.setAttrib(p, "id", null)), void t(p)) : void (p && (m.remove(p), e.nodeChanged()));
        });
      }function l(e) {
        return e && (e = e.replace(/px$/, "")), e;
      }function r() {
        h && h.value(e.convertURL(this.value(), "src")), t(this.value(), function (e) {
          e.width && e.height && (d = e.width, u = e.height, s.find("#width").value(d), s.find("#height").value(u));
        });
      }function c() {
        function t(e) {
          return e.length > 0 && /^[0-9]+$/.test(e) && (e += "px"), e;
        }if (e.settings.image_advtab) {
          var n = s.toJSON(),
              i = m.parseStyle(n.style);delete i.margin, i["margin-top"] = i["margin-bottom"] = t(n.vspace), i["margin-left"] = i["margin-right"] = t(n.hspace), i["border-width"] = t(n.border), s.find("#style").value(m.serializeStyle(m.parseStyle(m.serializeStyle(i))));
        }
      }var s,
          d,
          u,
          h,
          g = {},
          m = e.dom,
          p = e.selection.getNode();d = m.getAttrib(p, "width"), u = m.getAttrib(p, "height"), "IMG" != p.nodeName || p.getAttribute("data-mce-object") || p.getAttribute("data-mce-placeholder") ? p = null : g = { src: m.getAttrib(p, "src"), alt: m.getAttrib(p, "alt"), width: d, height: u }, n && (h = { type: "listbox", label: "Image list", values: i(), value: g.src && e.convertURL(g.src, "src"), onselect: function onselect(e) {
          var t = s.find("#alt");(!t.value() || e.lastControl && t.value() == e.lastControl.text()) && t.value(e.control.text()), s.find("#src").value(e.control.value());
        }, onPostRender: function onPostRender() {
          h = this;
        } });var y = [{ name: "src", type: "filepicker", filetype: "image", label: "Source", autofocus: !0, onchange: r }, h, { name: "alt", type: "textbox", label: "Image description" }, { type: "container", label: "Dimensions", layout: "flex", direction: "row", align: "center", spacing: 5, items: [{ name: "width", type: "textbox", maxLength: 5, size: 3, onchange: a }, { type: "label", text: "x" }, { name: "height", type: "textbox", maxLength: 5, size: 3, onchange: a }, { name: "constrain", type: "checkbox", checked: !0, text: "Constrain proportions" }] }];e.fire('EditImage', g), e.settings.image_advtab ? (p && (g.hspace = l(p.style.marginLeft || p.style.marginRight), g.vspace = l(p.style.marginTop || p.style.marginBottom), g.border = l(p.style.borderWidth), g.style = e.dom.serializeStyle(e.dom.parseStyle(e.dom.getAttrib(p, "style")))), s = e.windowManager.open({ title: "Insert/edit image", data: g, bodyType: "tabpanel", body: [{ title: "General", type: "form", items: y }, { title: "Advanced", type: "form", pack: "start", items: [{ label: "Style", name: "style", type: "textbox" }, { type: "form", layout: "grid", packV: "start", columns: 2, padding: 0, alignH: ["left", "right"], defaults: { type: "textbox", maxWidth: 50, onchange: c }, items: [{ label: "Vertical space", name: "vspace" }, { label: "Horizontal space", name: "hspace" }, { label: "Border", name: "border" }] }] }], onSubmit: o })) : s = e.windowManager.open({ title: "Insert/edit image", data: g, body: y, onSubmit: o });
    }e.addButton("image", { icon: "image", tooltip: "Insert/edit image", onclick: n(i), stateSelector: "img:not([data-mce-object],[data-mce-placeholder])" }), e.addMenuItem("image", { icon: "image", text: "Insert image", onclick: n(i), context: "insert", prependToContext: !0 });
  });
  ;tinymce.PluginManager.add("insertdatetime", function (e) {
    function t(t, a) {
      function n(e, t) {
        if (e = "" + e, e.length < t) for (var a = 0; a < t - e.length; a++) {
          e = "0" + e;
        }return e;
      }return a = a || new Date(), t = t.replace("%D", "%m/%d/%Y"), t = t.replace("%r", "%I:%M:%S %p"), t = t.replace("%Y", "" + a.getFullYear()), t = t.replace("%y", "" + a.getYear()), t = t.replace("%m", n(a.getMonth() + 1, 2)), t = t.replace("%d", n(a.getDate(), 2)), t = t.replace("%H", "" + n(a.getHours(), 2)), t = t.replace("%M", "" + n(a.getMinutes(), 2)), t = t.replace("%S", "" + n(a.getSeconds(), 2)), t = t.replace("%I", "" + ((a.getHours() + 11) % 12 + 1)), t = t.replace("%p", "" + (a.getHours() < 12 ? "AM" : "PM")), t = t.replace("%B", "" + e.translate(m[a.getMonth()])), t = t.replace("%b", "" + e.translate(c[a.getMonth()])), t = t.replace("%A", "" + e.translate(d[a.getDay()])), t = t.replace("%a", "" + e.translate(i[a.getDay()])), t = t.replace("%%", "%");
    }function a(a) {
      var n = t(a);if (e.settings.insertdatetime_element) {
        var r;r = t(/%[HMSIp]/.test(a) ? "%Y-%m-%dT%H:%M" : "%Y-%m-%d"), n = '<time datetime="' + r + '">' + n + "</time>";var i = e.dom.getParent(e.selection.getStart(), "time");if (i) return void e.dom.setOuterHTML(i, n);
      }e.insertContent(n);
    }var n,
        r,
        i = "Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),
        d = "Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
        c = "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
        m = "January February March April May June July August September October November December".split(" "),
        u = [];e.addCommand("mceInsertDate", function () {
      a(e.getParam("insertdatetime_dateformat", e.translate("%Y-%m-%d")));
    }), e.addCommand("mceInsertTime", function () {
      a(e.getParam("insertdatetime_timeformat", e.translate("%H:%M:%S")));
    }), e.addButton("insertdatetime", { type: "splitbutton", title: "Insert date/time", onclick: function onclick() {
        a(n || r);
      }, menu: u }), tinymce.each(e.settings.insertdatetime_formats || ["%H:%M:%S", "%Y-%m-%d", "%I:%M:%S %p", "%D"], function (e) {
      r || (r = e), u.push({ text: t(e), onclick: function onclick() {
          n = e, a(e);
        } });
    }), e.addMenuItem("insertdatetime", { icon: "date", text: "Insert date/time", menu: u, context: "insert" });
  });
  ;tinymce.PluginManager.add("link", function (e) {
    function t(t) {
      return function () {
        var n = e.settings.link_list;"string" == typeof n ? tinymce.util.XHR.send({ url: n, success: function success(e) {
            t(tinymce.util.JSON.parse(e));
          } }) : t(n);
      };
    }function n(t) {
      function n(e) {
        var t = f.find("#text");(!t.value() || e.lastControl && t.value() == e.lastControl.text()) && t.value(e.control.text()), f.find("#href").value(e.control.value());
      }function l() {
        var n = [{ text: "None", value: "" }];return tinymce.each(t, function (t) {
          n.push({ text: t.text || t.title, value: e.convertURL(t.value || t.url, "href"), menu: t.menu });
        }), n;
      }function i(t) {
        var n = [{ text: "None", value: "" }];return tinymce.each(e.settings.rel_list, function (e) {
          n.push({ text: e.text || e.title, value: e.value, selected: t === e.value });
        }), n;
      }function r(t) {
        var n = [];return e.settings.target_list || (n.push({ text: "None", value: "" }), n.push({ text: "New window", value: "_blank" })), tinymce.each(e.settings.target_list, function (e) {
          n.push({ text: e.text || e.title, value: e.value, selected: t === e.value });
        }), n;
      }function a(t) {
        var l = [];return tinymce.each(e.dom.select("a:not([href])"), function (e) {
          var n = e.name || e.id;n && l.push({ text: n, value: "#" + n, selected: -1 != t.indexOf("#" + n) });
        }), l.length ? (l.unshift({ text: "None", value: "" }), { name: "anchor", type: "listbox", label: "Anchors", values: l, onselect: n }) : void 0;
      }function o() {
        h && h.value(e.convertURL(this.value(), "href")), !c && 0 === x.text.length && k && this.parent().parent().find("#text")[0].value(this.value());
      }var u,
          s,
          c,
          f,
          d,
          h,
          v,
          g,
          x = {},
          m = e.selection,
          p = e.dom;u = m.getNode(), s = p.getParent(u, "a[href]");var k = !0;if (/</.test(m.getContent())) k = !1;else if (s) {
        var y,
            b = s.childNodes;if (0 === b.length) k = !1;else for (y = b.length - 1; y >= 0; y--) {
          if (3 != b[y].nodeType) {
            k = !1;break;
          }
        }
      }x.text = c = s ? s.innerText || s.textContent : m.getContent({ format: "text" }), x.href = s ? p.getAttrib(s, "href") : "", x.target = s ? p.getAttrib(s, "target") : e.settings.default_link_target || "", x.rel = s ? p.getAttrib(s, "rel") : "", e.fire("EditLink", x), k && (d = { name: "text", type: "textbox", size: 40, label: "Text to display", onchange: function onchange() {
          x.text = this.value();
        } }), t && (h = { type: "listbox", label: "Link list", values: l(), onselect: n, value: e.convertURL(x.href, "href"), onPostRender: function onPostRender() {
          h = this;
        } }), e.settings.target_list !== !1 && (g = { name: "target", type: "listbox", label: "Target", values: r(x.target) }), e.settings.rel_list && (v = { name: "rel", type: "listbox", label: "Rel", values: i(x.rel) }), f = e.windowManager.open({ title: "Insert link", data: x, body: [{ name: "href", type: "filepicker", filetype: "file", size: 40, autofocus: !0, label: "Url", onchange: o, onkeyup: o }, d, a(x.href), h, v, g], onSubmit: function onSubmit(t) {
          function n(t, n) {
            var l = e.selection.getRng();window.setTimeout(function () {
              e.windowManager.confirm(t, function (t) {
                e.selection.setRng(l), n(t);
              });
            }, 0);
          }function l() {
            s ? (e.focus(), k && i.text != c && (s.innerText = i.text), p.setAttribs(s, { href: r, target: i.target ? i.target : null, rel: i.rel ? i.rel : null }), m.select(s), e.undoManager.add()) : k ? e.insertContent(p.createHTML("a", { href: r, target: i.target ? i.target : null, rel: i.rel ? i.rel : null }, p.encode(i.text))) : e.execCommand("mceInsertLink", !1, { href: r, target: i.target, rel: i.rel ? i.rel : null });
          }var i = t.data;e.fire("SaveLink", i);var r = i.href;return r ? r.indexOf("@") > 0 && -1 == r.indexOf("//") && -1 == r.indexOf(":") ? void n("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?", function (e) {
            e && (r = "mailto:" + r), l();
          }) : /^\s*www\./i.test(r) ? void n("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?", function (e) {
            e && (r = "http://" + r), l();
          }) : void l() : void e.execCommand("unlink");
        } });
    }e.addButton("link", { icon: "link", tooltip: "Insert/edit link", shortcut: "Ctrl+K", onclick: t(n), stateSelector: "a[href]" }), e.addButton("unlink", { icon: "unlink", tooltip: "Remove link", cmd: "unlink", stateSelector: "a[href]" }), e.addShortcut("Ctrl+K", "", t(n)), this.showDialog = n, e.addMenuItem("link", { icon: "link", text: "Insert link", shortcut: "Ctrl+K", onclick: t(n), stateSelector: "a[href]", context: "insert", prependToContext: !0 });
  });
  ;tinymce.PluginManager.add("lists", function (e) {
    function t(e) {
      return e && /^(OL|UL)$/.test(e.nodeName);
    }function n(e) {
      return e.parentNode.firstChild == e;
    }function r(e) {
      return e.parentNode.lastChild == e;
    }function o(t) {
      return t && !!e.schema.getTextBlockElements()[t.nodeName];
    }function i(e) {
      return e && "SPAN" === e.nodeName && "bookmark" === e.getAttribute("data-mce-type");
    }var a = this;e.on("init", function () {
      function d(e) {
        function t(t) {
          var r, o, i;o = e[t ? "startContainer" : "endContainer"], i = e[t ? "startOffset" : "endOffset"], 1 == o.nodeType && (r = b.create("span", { "data-mce-type": "bookmark" }), o.hasChildNodes() ? (i = Math.min(i, o.childNodes.length - 1), t ? o.insertBefore(r, o.childNodes[i]) : b.insertAfter(r, o.childNodes[i])) : o.appendChild(r), o = r, i = 0), n[t ? "startContainer" : "endContainer"] = o, n[t ? "startOffset" : "endOffset"] = i;
        }var n = {};return t(!0), e.collapsed || t(), n;
      }function s(e) {
        function t(t) {
          function n(e) {
            for (var t = e.parentNode.firstChild, n = 0; t;) {
              if (t == e) return n;(1 != t.nodeType || "bookmark" != t.getAttribute("data-mce-type")) && n++, t = t.nextSibling;
            }return -1;
          }var r, o, i;r = i = e[t ? "startContainer" : "endContainer"], o = e[t ? "startOffset" : "endOffset"], r && (1 == r.nodeType && (o = n(r), r = r.parentNode, b.remove(i)), e[t ? "startContainer" : "endContainer"] = r, e[t ? "startOffset" : "endOffset"] = o);
        }t(!0), t();var n = b.createRng();n.setStart(e.startContainer, e.startOffset), e.endContainer && n.setEnd(e.endContainer, e.endOffset), L.setRng(n);
      }function f(t, n) {
        var r,
            o,
            i,
            a = b.createFragment(),
            d = e.schema.getBlockElements();if (e.settings.forced_root_block && (n = n || e.settings.forced_root_block), n && (o = b.create(n), o.tagName === e.settings.forced_root_block && b.setAttribs(o, e.settings.forced_root_block_attrs), a.appendChild(o)), t) for (; r = t.firstChild;) {
          var s = r.nodeName;i || "SPAN" == s && "bookmark" == r.getAttribute("data-mce-type") || (i = !0), d[s] ? (a.appendChild(r), o = null) : n ? (o || (o = b.create(n), a.appendChild(o)), o.appendChild(r)) : a.appendChild(r);
        }return e.settings.forced_root_block ? i || tinymce.Env.ie && !(tinymce.Env.ie > 10) || o.appendChild(b.create("br", { "data-mce-bogus": "1" })) : a.appendChild(b.create("br")), a;
      }function l() {
        return tinymce.grep(L.getSelectedBlocks(), function (e) {
          return "LI" == e.nodeName;
        });
      }function c(e, t, n) {
        var r,
            o,
            i = b.select('span[data-mce-type="bookmark"]', e);n = n || f(t), r = b.createRng(), r.setStartAfter(t), r.setEndAfter(e), o = r.extractContents(), b.isEmpty(o) || b.insertAfter(o, e), b.insertAfter(n, e), b.isEmpty(t.parentNode) && (tinymce.each(i, function (e) {
          t.parentNode.parentNode.insertBefore(e, t.parentNode);
        }), b.remove(t.parentNode)), b.remove(t);
      }function p(e) {
        var n, r;if (n = e.nextSibling, n && t(n) && n.nodeName == e.nodeName) {
          for (; r = n.firstChild;) {
            e.appendChild(r);
          }b.remove(n);
        }if (n = e.previousSibling, n && t(n) && n.nodeName == e.nodeName) {
          for (; r = n.firstChild;) {
            e.insertBefore(r, e.firstChild);
          }b.remove(n);
        }
      }function u(e) {
        tinymce.each(tinymce.grep(b.select("ol,ul", e)), function (e) {
          var n,
              r = e.parentNode;"LI" == r.nodeName && r.firstChild == e && (n = r.previousSibling, n && "LI" == n.nodeName && (n.appendChild(e), b.isEmpty(r) && b.remove(r))), t(r) && (n = r.previousSibling, n && "LI" == n.nodeName && n.appendChild(e));
        });
      }function m(e) {
        function o(e) {
          b.isEmpty(e) && b.remove(e);
        }var i,
            a = e.parentNode,
            d = a.parentNode;return n(e) && r(e) ? ("LI" == d.nodeName ? (b.insertAfter(e, d), o(d), b.remove(a)) : t(d) ? b.remove(a, !0) : (d.insertBefore(f(e), a), b.remove(a)), !0) : n(e) ? ("LI" == d.nodeName ? (b.insertAfter(e, d), e.appendChild(a), o(d)) : t(d) ? d.insertBefore(e, a) : (d.insertBefore(f(e), a), b.remove(e)), !0) : r(e) ? ("LI" == d.nodeName ? b.insertAfter(e, d) : t(d) ? b.insertAfter(e, a) : (b.insertAfter(f(e), a), b.remove(e)), !0) : ("LI" == d.nodeName ? (a = d, i = f(e, "LI")) : i = t(d) ? f(e, "LI") : f(e), c(a, e, i), u(a.parentNode), !0);
      }function h(e) {
        function n(n, r) {
          var o;if (t(n)) {
            for (; o = e.lastChild.firstChild;) {
              r.appendChild(o);
            }b.remove(n);
          }
        }var r, o;return r = e.previousSibling, r && t(r) ? (r.appendChild(e), !0) : r && "LI" == r.nodeName && t(r.lastChild) ? (r.lastChild.appendChild(e), n(e.lastChild, r.lastChild), !0) : (r = e.nextSibling, r && t(r) ? (r.insertBefore(e, r.firstChild), !0) : r && "LI" == r.nodeName && t(e.lastChild) ? !1 : (r = e.previousSibling, r && "LI" == r.nodeName ? (o = b.create(e.parentNode.nodeName), r.appendChild(o), o.appendChild(e), n(e.lastChild, o), !0) : !1));
      }function v() {
        var t = l();if (t.length) {
          for (var n = d(L.getRng(!0)), r = 0; r < t.length && (h(t[r]) || 0 !== r); r++) {}return s(n), e.nodeChanged(), !0;
        }
      }function C() {
        var t = l();if (t.length) {
          var n,
              r,
              o = d(L.getRng(!0)),
              i = e.getBody();for (n = t.length; n--;) {
            for (var a = t[n].parentNode; a && a != i;) {
              for (r = t.length; r--;) {
                if (t[r] === a) {
                  t.splice(n, 1);break;
                }
              }a = a.parentNode;
            }
          }for (n = 0; n < t.length && (m(t[n]) || 0 !== n); n++) {}return s(o), e.nodeChanged(), !0;
        }
      }function g(n) {
        function r() {
          function t(e) {
            var t, n;for (t = a[e ? "startContainer" : "endContainer"], n = a[e ? "startOffset" : "endOffset"], 1 == t.nodeType && (t = t.childNodes[Math.min(n, t.childNodes.length - 1)] || t); t.parentNode != d;) {
              if (o(t)) return t;if (/^(TD|TH)$/.test(t.parentNode.nodeName)) return t;t = t.parentNode;
            }return t;
          }for (var n, r = [], d = e.getBody(), s = t(!0), f = t(), l = [], c = s; c && (l.push(c), c != f); c = c.nextSibling) {}return tinymce.each(l, function (e) {
            if (o(e)) return r.push(e), void (n = null);if (b.isBlock(e) || "BR" == e.nodeName) return "BR" == e.nodeName && b.remove(e), void (n = null);var t = e.nextSibling;return i(e) && (o(t) || !t && e.parentNode == d) ? void (n = null) : (n || (n = b.create("p"), e.parentNode.insertBefore(n, e), r.push(n)), void n.appendChild(e));
          }), r;
        }var a = L.getRng(!0),
            f = d(a),
            l = r();tinymce.each(l, function (e) {
          var r, o;o = e.previousSibling, o && t(o) && o.nodeName == n ? (r = o, e = b.rename(e, "LI"), o.appendChild(e)) : (r = b.create(n), e.parentNode.insertBefore(r, e), r.appendChild(e), e = b.rename(e, "LI")), p(r);
        }), s(f);
      }function N() {
        var n = d(L.getRng(!0)),
            r = e.getBody();tinymce.each(l(), function (e) {
          var n, o;if (b.isEmpty(e)) return void m(e);for (n = e; n && n != r; n = n.parentNode) {
            t(n) && (o = n);
          }c(o, e);
        }), s(n);
      }function y(e) {
        var t = b.getParent(L.getStart(), "OL,UL");if (t) {
          if (t.nodeName == e) N(e);else {
            var n = d(L.getRng(!0));p(b.rename(t, e)), s(n);
          }
        } else g(e);
      }var b = e.dom,
          L = e.selection;a.backspaceDelete = function (e) {
        function n(e, t) {
          var n = e.startContainer,
              r = e.startOffset;if (3 == n.nodeType && (t ? r < n.data.length : r > 0)) return n;for (var o = new tinymce.dom.TreeWalker(e.startContainer); n = o[t ? "next" : "prev"]();) {
            if (3 == n.nodeType && n.data.length > 0) return n;
          }
        }function r(e, n) {
          var r,
              o,
              i = e.parentNode;for (t(n.lastChild) && (o = n.lastChild), r = n.lastChild, r && "BR" == r.nodeName && e.hasChildNodes() && b.remove(r); r = e.firstChild;) {
            n.appendChild(r);
          }o && n.appendChild(o), b.remove(e), b.isEmpty(i) && b.remove(i);
        }if (L.isCollapsed()) {
          var o = b.getParent(L.getStart(), "LI");if (o) {
            var i = L.getRng(!0),
                a = b.getParent(n(i, e), "LI");if (a && a != o) {
              var f = d(i);return e ? r(a, o) : r(o, a), s(f), !0;
            }if (!a && !e && N(o.parentNode.nodeName)) return !0;
          }
        }
      }, e.addCommand("Indent", function () {
        return v() ? void 0 : !0;
      }), e.addCommand("Outdent", function () {
        return C() ? void 0 : !0;
      }), e.addCommand("InsertUnorderedList", function () {
        y("UL");
      }), e.addCommand("InsertOrderedList", function () {
        y("OL");
      }), e.on("keydown", function (t) {
        9 == t.keyCode && e.dom.getParent(e.selection.getStart(), "LI") && (t.preventDefault(), t.shiftKey ? C() : v());
      });
    }), e.addButton("indent", { icon: "indent", title: "Increase indent", cmd: "Indent", onPostRender: function onPostRender() {
        var t = this;e.on("nodechange", function () {
          var r = e.dom.getParent(e.selection.getNode(), "LI,UL,OL");t.disabled(r && ("LI" != r.nodeName || n(r)));
        });
      } }), e.on("keydown", function (e) {
      e.keyCode == tinymce.util.VK.BACKSPACE ? a.backspaceDelete() && e.preventDefault() : e.keyCode == tinymce.util.VK.DELETE && a.backspaceDelete(!0) && e.preventDefault();
    });
  });
  ;tinymce.PluginManager.add("media", function (e, t) {
    function i(e) {
      return -1 != e.indexOf(".mp3") ? "audio/mpeg" : -1 != e.indexOf(".wav") ? "audio/wav" : -1 != e.indexOf(".mp4") ? "video/mp4" : -1 != e.indexOf(".webm") ? "video/webm" : -1 != e.indexOf(".ogg") ? "video/ogg" : -1 != e.indexOf(".swf") ? "application/x-shockwave-flash" : "";
    }function r(t) {
      var i = e.settings.media_scripts;if (i) for (var r = 0; r < i.length; r++) {
        if (-1 !== t.indexOf(i[r].filter)) return i[r];
      }
    }function o() {
      function t(e) {
        var t, a, c, s;t = i.find("#width")[0], a = i.find("#height")[0], c = t.value(), s = a.value(), i.find("#constrain")[0].checked() && r && o && c && s && (e.control == t ? (s = Math.round(c / r * s), a.value(s)) : (c = Math.round(s / o * c), t.value(c))), r = c, o = s;
      }var i,
          r,
          o,
          m,
          u = [{ name: "source1", type: "filepicker", filetype: "media", size: 40, autofocus: !0, label: "Source" }];e.settings.media_alt_source !== !1 && u.push({ name: "source2", type: "filepicker", filetype: "media", size: 40, label: "Alternative source" }), e.settings.media_poster !== !1 && u.push({ name: "poster", type: "filepicker", filetype: "image", size: 40, label: "Poster" }), e.settings.media_dimensions !== !1 && u.push({ type: "container", label: "Dimensions", layout: "flex", align: "center", spacing: 5, items: [{ name: "width", type: "textbox", maxLength: 3, size: 3, onchange: t }, { type: "label", text: "x" }, { name: "height", type: "textbox", maxLength: 3, size: 3, onchange: t }, { name: "constrain", type: "checkbox", checked: !0, text: "Constrain proportions" }] }), m = n(e.selection.getNode()), r = m.width, o = m.height, i = e.windowManager.open({ title: "Insert/edit video", data: m, bodyType: "tabpanel", body: [{ title: "General", type: "form", onShowTab: function onShowTab() {
            m = s(this.next().find("#embed").value()), this.fromJSON(m);
          }, items: u }, { title: "Embed", type: "panel", layout: "flex", direction: "column", align: "stretch", padding: 10, spacing: 10, onShowTab: function onShowTab() {
            this.find("#embed").value(c(this.parent().toJSON()));
          }, items: [{ type: "label", text: "Paste your embed code below:", forId: "mcemediasource" }, { id: "mcemediasource", type: "textbox", flex: 1, name: "embed", value: a(), multiline: !0, label: "Source" }] }], onSubmit: function onSubmit() {
          e.insertContent(c(this.toJSON()));
        } });
    }function a() {
      var t = e.selection.getNode();return t.getAttribute("data-mce-object") ? e.selection.getContent() : void 0;
    }function c(o) {
      var a = "";if (!o.source1 && (tinymce.extend(o, s(o.embed)), !o.source1)) return "";if (o.source2 || (o.source2 = ""), o.poster || (o.poster = ""), o.source1 = e.convertURL(o.source1, "source"), o.source2 = e.convertURL(o.source2, "source"), o.source1mime = i(o.source1), o.source2mime = i(o.source2), o.poster = e.convertURL(o.poster, "poster"), o.flashPlayerUrl = e.convertURL(t + "/moxieplayer.swf", "movie"), tinymce.each(u, function (e) {
        var t, i, r;if (t = e.regex.exec(o.source1)) {
          for (r = e.url, i = 0; t[i]; i++) {
            r = r.replace("$" + i, function () {
              return t[i];
            });
          }o.source1 = r, o.type = e.type, o.width = o.width || e.w, o.height = o.height || e.h;
        }
      }), o.embed) a = m(o.embed, o, !0);else {
        var c = r(o.source1);c && (o.type = "script", o.width = c.width, o.height = c.height), o.width = o.width || 300, o.height = o.height || 150, tinymce.each(o, function (t, i) {
          o[i] = e.dom.encode(t);
        }), "iframe" == o.type ? a += '<iframe src="' + o.source1 + '" width="' + o.width + '" height="' + o.height + '"></iframe>' : "application/x-shockwave-flash" == o.source1mime ? (a += '<object data="' + o.source1 + '" width="' + o.width + '" height="' + o.height + '" type="application/x-shockwave-flash">', o.poster && (a += '<img src="' + o.poster + '" width="' + o.width + '" height="' + o.height + '" />'), a += "</object>") : -1 != o.source1mime.indexOf("audio") ? e.settings.audio_template_callback ? a = e.settings.audio_template_callback(o) : a += '<audio controls="controls" src="' + o.source1 + '">' + (o.source2 ? '\n<source src="' + o.source2 + '"' + (o.source2mime ? ' type="' + o.source2mime + '"' : "") + " />\n" : "") + "</audio>" : "script" == o.type ? a += '<script src="' + o.source1 + '"></script>' : a = e.settings.video_template_callback ? e.settings.video_template_callback(o) : '<video width="' + o.width + '" height="' + o.height + '"' + (o.poster ? ' poster="' + o.poster + '"' : "") + ' controls="controls">\n<source src="' + o.source1 + '"' + (o.source1mime ? ' type="' + o.source1mime + '"' : "") + " />\n" + (o.source2 ? '<source src="' + o.source2 + '"' + (o.source2mime ? ' type="' + o.source2mime + '"' : "") + " />\n" : "") + "</video>";
      }return a;
    }function s(e) {
      var t = {};return new tinymce.html.SaxParser({ validate: !1, allow_conditional_comments: !0, special: "script,noscript", start: function start(e, i) {
          if (t.source1 || "param" != e || (t.source1 = i.map.movie), ("iframe" == e || "object" == e || "embed" == e || "video" == e || "audio" == e) && (t.type || (t.type = e), t = tinymce.extend(i.map, t)), "script" == e) {
            var o = r(i.map.src);if (!o) return;t = { type: "script", source1: i.map.src, width: o.width, height: o.height };
          }"source" == e && (t.source1 ? t.source2 || (t.source2 = i.map.src) : t.source1 = i.map.src), "img" != e || t.poster || (t.poster = i.map.src);
        } }).parse(e), t.source1 = t.source1 || t.src || t.data, t.source2 = t.source2 || "", t.poster = t.poster || "", t;
    }function n(t) {
      return t.getAttribute("data-mce-object") ? s(e.serializer.serialize(t, { selection: !0 })) : {};
    }function m(e, t, i) {
      function r(e, t) {
        var i, r, o, a;for (i in t) {
          if (o = "" + t[i], e.map[i]) for (r = e.length; r--;) {
            a = e[r], a.name == i && (o ? (e.map[i] = o, a.value = o) : (delete e.map[i], e.splice(r, 1)));
          } else o && (e.push({ name: i, value: o }), e.map[i] = o);
        }
      }var o,
          a = new tinymce.html.Writer(),
          c = 0;return new tinymce.html.SaxParser({ validate: !1, allow_conditional_comments: !0, special: "script,noscript", comment: function comment(e) {
          a.comment(e);
        }, cdata: function cdata(e) {
          a.cdata(e);
        }, text: function text(e, t) {
          a.text(e, t);
        }, start: function start(e, s, n) {
          switch (e) {case "video":case "object":case "embed":case "img":case "iframe":
              r(s, { width: t.width, height: t.height });}if (i) switch (e) {case "video":
              r(s, { poster: t.poster, src: "" }), t.source2 && r(s, { src: "" });break;case "iframe":
              r(s, { src: t.source1 });break;case "source":
              if (c++, 2 >= c && (r(s, { src: t["source" + c], type: t["source" + c + "mime"] }), !t["source" + c])) return;break;case "img":
              if (!t.poster) return;o = !0;}a.start(e, s, n);
        }, end: function end(e) {
          if ("video" == e && i) for (var s = 1; 2 >= s; s++) {
            if (t["source" + s]) {
              var n = [];n.map = {}, s > c && (r(n, { src: t["source" + s], type: t["source" + s + "mime"] }), a.start("source", n, !0));
            }
          }if (t.poster && "object" == e && i && !o) {
            var m = [];m.map = {}, r(m, { src: t.poster, width: t.width, height: t.height }), a.start("img", m, !0);
          }a.end(e);
        } }, new tinymce.html.Schema({})).parse(e), a.getContent();
    }var u = [{ regex: /youtu\.be\/([\w\-.]+)/, type: "iframe", w: 425, h: 350, url: "//www.youtube.com/embed/$1" }, { regex: /youtube\.com(.+)v=([^&]+)/, type: "iframe", w: 425, h: 350, url: "//www.youtube.com/embed/$2" }, { regex: /vimeo\.com\/([0-9]+)/, type: "iframe", w: 425, h: 350, url: "//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc" }, { regex: /maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/, type: "iframe", w: 425, h: 350, url: '//maps.google.com/maps/ms?msid=$2&output=embed"' }];e.on("ResolveName", function (e) {
      var t;1 == e.target.nodeType && (t = e.target.getAttribute("data-mce-object")) && (e.name = t);
    }), e.on("preInit", function () {
      var t = e.schema.getSpecialElements();tinymce.each("video audio iframe object".split(" "), function (e) {
        t[e] = new RegExp("</" + e + "[^>]*>", "gi");
      });var i = e.schema.getBoolAttrs();tinymce.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "), function (e) {
        i[e] = {};
      }), e.parser.addNodeFilter("iframe,video,audio,object,embed,script", function (t, i) {
        for (var o, a, c, s, n, m, u, d, l = t.length; l--;) {
          if (a = t[l], a.parent && ("script" != a.name || (d = r(a.attr("src"))))) {
            for (c = new tinymce.html.Node("img", 1), c.shortEnded = !0, d && (d.width && a.attr("width", d.width.toString()), d.height && a.attr("height", d.height.toString())), m = a.attributes, o = m.length; o--;) {
              s = m[o].name, n = m[o].value, "width" !== s && "height" !== s && "style" !== s && (("data" == s || "src" == s) && (n = e.convertURL(n, s)), c.attr("data-mce-p-" + s, n));
            }u = a.firstChild && a.firstChild.value, u && (c.attr("data-mce-html", escape(u)), c.firstChild = null), c.attr({ width: a.attr("width") || "300", height: a.attr("height") || ("audio" == i ? "30" : "150"), style: a.attr("style"), src: tinymce.Env.transparentSrc, "data-mce-object": i, "class": "mce-object mce-object-" + i }), a.replace(c);
          }
        }
      }), e.serializer.addAttributeFilter("data-mce-object", function (e, t) {
        for (var i, r, o, a, c, s, n, m = e.length; m--;) {
          if (i = e[m], i.parent) {
            for (n = i.attr(t), r = new tinymce.html.Node(n, 1), "audio" != n && "script" != n && r.attr({ width: i.attr("width"), height: i.attr("height") }), r.attr({ style: i.attr("style") }), a = i.attributes, o = a.length; o--;) {
              var u = a[o].name;0 === u.indexOf("data-mce-p-") && r.attr(u.substr(11), a[o].value);
            }"script" == n && r.attr("type", "text/javascript"), c = i.attr("data-mce-html"), c && (s = new tinymce.html.Node("#text", 3), s.raw = !0, s.value = unescape(c), r.append(s)), i.replace(r);
          }
        }
      });
    }), e.on("ObjectSelected", function (e) {
      var t = e.target.getAttribute("data-mce-object");("audio" == t || "script" == t) && e.preventDefault();
    }), e.on("objectResized", function (e) {
      var t,
          i = e.target;i.getAttribute("data-mce-object") && (t = i.getAttribute("data-mce-html"), t && (t = unescape(t), i.setAttribute("data-mce-html", escape(m(t, { width: e.width, height: e.height })))));
    }), e.addButton("media", { tooltip: "Insert/edit video", onclick: o, stateSelector: ["img[data-mce-object=video]", "img[data-mce-object=iframe]"] }), e.addMenuItem("media", { icon: "media", text: "Insert video", onclick: o, context: "insert", prependToContext: !0 });
  });
  ;!function (e, t) {
    "use strict";
    function n(e, t) {
      for (var n, i = [], r = 0; r < e.length; ++r) {
        if (n = s[e[r]] || a(e[r]), !n) throw "module definition dependecy not found: " + e[r];i.push(n);
      }t.apply(null, i);
    }function i(e, i, r) {
      if ("string" != typeof e) throw "invalid module definition, module id must be defined and be a string";if (i === t) throw "invalid module definition, dependencies must be specified";if (r === t) throw "invalid module definition, definition function must be specified";n(i, function () {
        s[e] = r.apply(null, arguments);
      });
    }function r(e) {
      return !!s[e];
    }function a(t) {
      for (var n = e, i = t.split(/[.\/]/), r = 0; r < i.length; ++r) {
        if (!n[i[r]]) return;n = n[i[r]];
      }return n;
    }function o(n) {
      for (var i = 0; i < n.length; i++) {
        for (var r = e, a = n[i], o = a.split(/[.\/]/), c = 0; c < o.length - 1; ++c) {
          r[o[c]] === t && (r[o[c]] = {}), r = r[o[c]];
        }r[o[o.length - 1]] = s[a];
      }
    }var s = {},
        c = "tinymce/pasteplugin/Utils",
        l = "tinymce/util/Tools",
        u = "tinymce/html/DomParser",
        p = "tinymce/html/Schema",
        d = "tinymce/pasteplugin/Clipboard",
        f = "tinymce/Env",
        m = "tinymce/util/VK",
        g = "tinymce/pasteplugin/WordFilter",
        v = "tinymce/html/Serializer",
        h = "tinymce/html/Node",
        y = "tinymce/pasteplugin/Quirks",
        b = "tinymce/pasteplugin/Plugin",
        x = "tinymce/PluginManager";i(c, [l, u, p], function (e, t, n) {
      function i(t, n) {
        return e.each(n, function (e) {
          t = e.constructor == RegExp ? t.replace(e, "") : t.replace(e[0], e[1]);
        }), t;
      }function r(i) {
        function r(e) {
          var t = e.name,
              n = e;if ("br" === t) return void (s += "\n");if (c[t] && (s += " "), l[t]) return void (s += " ");if (3 == e.type && (s += e.value), !e.shortEnded && (e = e.firstChild)) do {
            r(e);
          } while (e = e.next);u[t] && n.next && (s += "\n", "p" == t && (s += "\n"));
        }var a = new n(),
            o = new t({}, a),
            s = "",
            c = a.getShortEndedElements(),
            l = e.makeMap("script noscript style textarea video audio iframe object", " "),
            u = a.getBlockElements();return r(o.parse(i)), s;
      }return { filter: i, innerText: r };
    }), i(d, [f, m, c], function (e, t, n) {
      return function (i) {
        function r(e) {
          var t,
              n = i.dom;if (t = i.fire("BeforePastePreProcess", { content: e }), t = i.fire("PastePreProcess", t), e = t.content, !t.isDefaultPrevented()) {
            if (i.hasEventListeners("PastePostProcess") && !t.isDefaultPrevented()) {
              var r = n.add(i.getBody(), "div", { style: "display:none" }, e);t = i.fire("PastePostProcess", { node: r }), n.remove(r), e = t.node.innerHTML;
            }t.isDefaultPrevented() || i.insertContent(e);
          }
        }function a(e) {
          e = i.dom.encode(e).replace(/\r\n/g, "\n");var t = i.dom.getParent(i.selection.getStart(), i.dom.isBlock),
              a = i.settings.forced_root_block,
              o;a && (o = i.dom.createHTML(a, i.settings.forced_root_block_attrs), o = o.substr(0, o.length - 3) + ">"), t && /^(PRE|DIV)$/.test(t.nodeName) || !a ? e = n.filter(e, [[/\n/g, "<br>"]]) : (e = n.filter(e, [[/\n\n/g, "</p>" + o], [/^(.*<\/p>)(<p>)$/, o + "$1"], [/\n/g, "<br />"]]), -1 != e.indexOf("<p>") && (e = o + e)), r(e);
        }function o() {
          var t = i.dom,
              n = i.getBody(),
              r = i.dom.getViewPort(i.getWin()),
              a = r.y,
              o = 20,
              s;if (h = i.selection.getRng(), i.inline && (s = i.selection.getScrollContainer(), s && (a = s.scrollTop)), h.getClientRects) {
            var c = h.getClientRects();if (c.length) o = a + (c[0].top - t.getPos(n).y);else {
              o = a;var l = h.startContainer;l && (3 == l.nodeType && l.parentNode != n && (l = l.parentNode), 1 == l.nodeType && (o = t.getPos(l, s || n).y));
            }
          }v = t.add(i.getBody(), "div", { id: "mcepastebin", contentEditable: !0, "data-mce-bogus": "1", style: "position: absolute; top: " + o + "px;width: 10px; height: 10px; overflow: hidden; opacity: 0" }, b), (e.ie || e.gecko) && t.setStyle(v, "left", "rtl" == t.getStyle(n, "direction", !0) ? 65535 : -65535), t.bind(v, "beforedeactivate focusin focusout", function (e) {
            e.stopPropagation();
          }), v.focus(), i.selection.select(v, !0);
        }function s() {
          if (v) {
            for (var e; e = i.dom.get("mcepastebin");) {
              i.dom.remove(e), i.dom.unbind(e);
            }h && i.selection.setRng(h);
          }x = !1, v = h = null;
        }function c() {
          var e = b,
              t,
              n;for (t = i.dom.select("div[id=mcepastebin]"), n = t.length; n--;) {
            var r = t[n].innerHTML;e == b && (e = ""), r.length > e.length && (e = r);
          }return e;
        }function l(e) {
          var t = {};if (e && e.types) {
            var n = e.getData("Text");n && n.length > 0 && (t["text/plain"] = n);for (var i = 0; i < e.types.length; i++) {
              var r = e.types[i];t[r] = e.getData(r);
            }
          }return t;
        }function u(e) {
          return l(e.clipboardData || i.getDoc().dataTransfer);
        }function p(e, t) {
          function n(e) {
            if ("image/png" == a[o].type) {
              var t = new FileReader();return t.onload = function () {
                r('<img src="' + t.result + '">');
              }, t.readAsDataURL(e.getAsFile()), !0;
            }
          }if (!(!i.settings.paste_data_images || "text/html" in t || "text/plain" in t) && e.clipboardData) {
            var a = e.clipboardData.items;if (a) for (var o = 0; o < a.length; o++) {
              if (n(a[o])) return !0;
            }
          }
        }function d(e) {
          var t = i.getDoc(),
              n;if (t.caretPositionFromPoint) {
            var r = t.caretPositionFromPoint(e.clientX, e.clientY);n = t.createRange(), n.setStart(r.offsetNode, r.offset), n.collapse(!0);
          } else t.caretRangeFromPoint && (n = t.caretRangeFromPoint(e.clientX, e.clientY));return n;
        }function f(e, t) {
          return t in e && e[t].length > 0;
        }function m() {
          i.on("keydown", function (n) {
            if (!n.isDefaultPrevented() && (t.metaKeyPressed(n) && 86 == n.keyCode || n.shiftKey && 45 == n.keyCode)) {
              if (x = n.shiftKey && 86 == n.keyCode, n.stopImmediatePropagation(), y = new Date().getTime(), e.ie && x) return n.preventDefault(), void i.fire("paste", { ieFake: !0 });s(), o();
            }
          }), i.on("paste", function (t) {
            var l = u(t),
                d = new Date().getTime() - y < 1e3,
                m = "text" == g.pasteFormat || x;return t.isDefaultPrevented() ? void s() : p(t, l) ? void s() : (d || t.preventDefault(), !e.ie || d && !t.ieFake || (o(), i.dom.bind(v, "paste", function (e) {
              e.stopPropagation();
            }), i.getDoc().execCommand("Paste", !1, null), l["text/html"] = c()), void setTimeout(function () {
              var e = c();return v && v.firstChild && "mcepastebin" === v.firstChild.id && (m = !0), s(), e != b && d || (e = l["text/html"] || l["text/plain"] || b, e != b) ? (!f(l, "text/html") && f(l, "text/plain") && (m = !0), void (m ? a(l["text/plain"] || n.innerText(e)) : r(e))) : void (d || i.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."));
            }, 0));
          }), i.on("dragstart", function (e) {
            if (e.dataTransfer.types) try {
              e.dataTransfer.setData("mce-internal", i.selection.getContent());
            } catch (t) {}
          }), i.on("drop", function (e) {
            var t = d(e);if (t && !e.isDefaultPrevented()) {
              var n = l(e.dataTransfer),
                  o = n["mce-internal"] || n["text/html"] || n["text/plain"];o && (e.preventDefault(), i.undoManager.transact(function () {
                n["mce-internal"] && i.execCommand("Delete"), i.selection.setRng(t), n["text/html"] ? r(o) : a(o);
              }));
            }
          });
        }var g = this,
            v,
            h,
            y = 0,
            b = "%MCEPASTEBIN%",
            x;g.pasteHtml = r, g.pasteText = a, i.on("preInit", function () {
          m(), i.parser.addNodeFilter("img", function (t) {
            if (!i.settings.paste_data_images) for (var n = t.length; n--;) {
              var r = t[n].attributes.map.src;r && 0 === r.indexOf("data:image") && (t[n].attr("data-mce-object") || r === e.transparentSrc || t[n].remove());
            }
          });
        }), i.on("PreProcess", function () {
          i.dom.remove(i.dom.get("mcepastebin"));
        });
      };
    }), i(g, [l, u, p, v, h, c], function (e, t, n, i, r, a) {
      function o(e) {
        return (/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)
        );
      }function s(s) {
        var c = s.settings;s.on("BeforePastePreProcess", function (l) {
          function u(e) {
            function t(e, t, o, s) {
              var c = e._listLevel || a;c != a && (a > c ? n && (n = n.parent.parent) : (i = n, n = null)), n && n.name == o ? n.append(e) : (i = i || n, n = new r(o, 1), s > 1 && n.attr("start", "" + s), e.wrap(n)), e.name = "li", t.value = "";var l = t.next;l && 3 == l.type && (l.value = l.value.replace(/^\u00a0+/, "")), c > a && i && i.lastChild.append(n), a = c;
            }for (var n, i, a = 1, o = e.getAll("p"), s = 0; s < o.length; s++) {
              if (e = o[s], "p" == e.name && e.firstChild) {
                for (var c = "", l = e.firstChild; l && !(c = l.value);) {
                  l = l.firstChild;
                }if (/^\s*[\u2022\u00b7\u00a7\u00d8\u25CF]\s*$/.test(c)) {
                  t(e, l, "ul");continue;
                }if (/^\s*\w+\.$/.test(c)) {
                  var u = /([0-9])\./.exec(c),
                      p = 1;u && (p = parseInt(u[1], 10)), t(e, l, "ol", p);continue;
                }n = null;
              }
            }
          }function p(t, n) {
            if ("p" === t.name) {
              var i = /mso-list:\w+ \w+([0-9]+)/.exec(n);i && (t._listLevel = parseInt(i[1], 10));
            }if (s.getParam("paste_retain_style_properties", "none")) {
              var r = "";if (e.each(s.dom.parseStyle(n), function (e, t) {
                switch (t) {case "horiz-align":
                    return void (t = "text-align");case "vert-align":
                    return void (t = "vertical-align");case "font-color":case "mso-foreground":
                    return void (t = "color");case "mso-background":case "mso-highlight":
                    t = "background";}("all" == f || m && m[t]) && (r += t + ":" + e + ";");
              }), r) return r;
            }return null;
          }var d = l.content,
              f,
              m;if (f = c.paste_retain_style_properties, f && (m = e.makeMap(f)), c.paste_enable_default_filters !== !1 && o(l.content)) {
            l.wordContent = !0, d = a.filter(d, [/<!--[\s\S]+?-->/gi, /<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi, [/<(\/?)s>/gi, "<$1strike>"], [/&nbsp;/gi, "\xa0"], [/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi, function (e, t) {
              return t.length > 0 ? t.replace(/./, " ").slice(Math.floor(t.length / 2)).split("").join("\xa0") : "";
            }]]);var g = c.paste_word_valid_elements;g || (g = "@[style],-strong/b,-em/i,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-table[width],-tr,-td[colspan|rowspan|width],-th,-thead,-tfoot,-tbody,-a[href|name],sub,sup,strike,br");var v = new n({ valid_elements: g }),
                h = new t({}, v);h.addAttributeFilter("style", function (e) {
              for (var t = e.length, n; t--;) {
                n = e[t], n.attr("style", p(n, n.attr("style"))), "span" != n.name || n.attributes.length || n.unwrap();
              }
            }), h.addNodeFilter("a", function (e) {
              for (var t = e.length, n, i, r; t--;) {
                n = e[t], i = n.attr("href"), r = n.attr("name"), i && 0 === i.indexOf("file://") && (i = i.split("#")[1], i && (i = "#" + i)), i || r ? n.attr({ href: i, name: r }) : n.unwrap();
              }
            });var y = h.parse(d);u(y), l.content = new i({}, v).serialize(y);
          }
        });
      }return s.isWordContent = o, s;
    }), i(y, [f, l, g, c], function (e, t, n, i) {
      return function (r) {
        function a(e) {
          r.on("BeforePastePreProcess", function (t) {
            t.content = e(t.content);
          });
        }function o(e) {
          return e = i.filter(e, [/^[\s\S]*<!--StartFragment-->|<!--EndFragment-->[\s\S]*$/g, [/<span class="Apple-converted-space">\u00a0<\/span>/g, "\xa0"], /<br>$/i]);
        }function s(e) {
          if (!n.isWordContent(e)) return e;var a = [];t.each(r.schema.getBlockElements(), function (e, t) {
            a.push(t);
          });var o = new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?(" + a.join("|") + ")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*", "g");return e = i.filter(e, [[o, "$1"]]), e = i.filter(e, [[/<br><br>/g, "<BR><BR>"], [/<br>/g, " "], [/<BR><BR>/g, "<br>"]]);
        }function c(e) {
          return (r.settings.paste_remove_styles || r.settings.paste_remove_styles_if_webkit !== !1) && (e = e.replace(/ style=\"[^\"]+\"/g, "")), e;
        }e.webkit && (a(c), a(o)), e.ie && a(s);
      };
    }), i(b, [x, d, g, y], function (e, t, n, i) {
      var r;e.add("paste", function (e) {
        function a() {
          "text" == s.pasteFormat ? (this.active(!1), s.pasteFormat = "html") : (s.pasteFormat = "text", this.active(!0), r || (e.windowManager.alert("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off."), r = !0));
        }var o = this,
            s,
            c = e.settings;o.clipboard = s = new t(e), o.quirks = new i(e), o.wordFilter = new n(e), e.settings.paste_as_text && (o.clipboard.pasteFormat = "text"), c.paste_preprocess && e.on("PastePreProcess", function (e) {
          c.paste_preprocess.call(o, o, e);
        }), c.paste_postprocess && e.on("PastePostProcess", function (e) {
          c.paste_postprocess.call(o, o, e);
        }), e.addCommand("mceInsertClipboardContent", function (e, t) {
          t.content && o.clipboard.pasteHtml(t.content), t.text && o.clipboard.pasteText(t.text);
        }), e.paste_block_drop && e.on("dragend dragover draggesture dragdrop drop drag", function (e) {
          e.preventDefault(), e.stopPropagation();
        }), e.settings.paste_data_images || e.on("drop", function (e) {
          var t = e.dataTransfer;t && t.files && t.files.length > 0 && e.preventDefault();
        }), e.addButton("pastetext", { icon: "pastetext", tooltip: "Paste as text", onclick: a, active: "text" == o.clipboard.pasteFormat }), e.addMenuItem("pastetext", { text: "Paste as text", selectable: !0, active: s.pasteFormat, onclick: a });
      });
    }), o([c, d, g, y, b]);
  }(this);
  ;tinymce.PluginManager.add("print", function (t) {
    t.addCommand("mcePrint", function () {
      t.getWin().print();
    }), t.addButton("print", { title: "Print", cmd: "mcePrint" }), t.addShortcut("Ctrl+P", "", "mcePrint"), t.addMenuItem("print", { text: "Print", cmd: "mcePrint", icon: "print", shortcut: "Ctrl+P", context: "file" });
  });
  ;tinymce.PluginManager.add("save", function (e) {
    function a() {
      var a;if (a = tinymce.DOM.getParent(e.id, "form"), !e.getParam("save_enablewhendirty", !0) || e.isDirty()) return tinymce.triggerSave(), e.getParam("save_onsavecallback") ? void (e.execCallback("save_onsavecallback", e) && (e.startContent = tinymce.trim(e.getContent({ format: "raw" })), e.nodeChanged())) : void (a ? (e.isNotDirty = !0, a.onsubmit && !a.onsubmit() || ("function" == typeof a.submit ? a.submit() : e.windowManager.alert("Error: Form submit field collision.")), e.nodeChanged()) : e.windowManager.alert("Error: No form element found."));
    }function n() {
      var a = tinymce.trim(e.startContent);return e.getParam("save_oncancelcallback") ? void e.execCallback("save_oncancelcallback", e) : (e.setContent(a), e.undoManager.clear(), void e.nodeChanged());
    }function t() {
      var a = this;e.on("nodeChange", function () {
        a.disabled(e.getParam("save_enablewhendirty", !0) && !e.isDirty());
      });
    }e.addCommand("mceSave", a), e.addCommand("mceCancel", n), e.addButton("save", { icon: "save", text: "Save", cmd: "mceSave", disabled: !0, onPostRender: t }), e.addButton("cancel", { text: "Cancel", icon: !1, cmd: "mceCancel", disabled: !0, onPostRender: t }), e.addShortcut("ctrl+s", "", "mceSave");
  });
  ;!function () {
    function e(e, t, n, a, r) {
      function i(e, t) {
        if (t = t || 0, !e[0]) throw "findAndReplaceDOMText cannot handle zero-length matches";var n = e.index;if (t > 0) {
          var a = e[t];if (!a) throw "Invalid capture group";n += e[0].indexOf(a), e[0] = a;
        }return [n, n + e[0].length, [e[0]]];
      }function d(e) {
        var t;if (3 === e.nodeType) return e.data;if (h[e.nodeName] && !u[e.nodeName]) return "";if (t = "", (u[e.nodeName] || m[e.nodeName]) && (t += "\n"), e = e.firstChild) do {
          t += d(e);
        } while (e = e.nextSibling);return t;
      }function o(e, t, n) {
        var a,
            r,
            i,
            d,
            o = [],
            l = 0,
            c = e,
            s = t.shift(),
            f = 0;e: for (;;) {
          if ((u[c.nodeName] || m[c.nodeName]) && l++, 3 === c.nodeType && (!r && c.length + l >= s[1] ? (r = c, d = s[1] - l) : a && o.push(c), !a && c.length + l > s[0] && (a = c, i = s[0] - l), l += c.length), a && r) {
            if (c = n({ startNode: a, startNodeIndex: i, endNode: r, endNodeIndex: d, innerNodes: o, match: s[2], matchIndex: f }), l -= r.length - d, a = null, r = null, o = [], s = t.shift(), f++, !s) break;
          } else {
            if ((!h[c.nodeName] || u[c.nodeName]) && c.firstChild) {
              c = c.firstChild;continue;
            }if (c.nextSibling) {
              c = c.nextSibling;continue;
            }
          }for (;;) {
            if (c.nextSibling) {
              c = c.nextSibling;break;
            }if (c.parentNode === e) break e;c = c.parentNode;
          }
        }
      }function l(e) {
        var t;if ("function" != typeof e) {
          var n = e.nodeType ? e : f.createElement(e);t = function t(e, _t2) {
            var a = n.cloneNode(!1);return a.setAttribute("data-mce-index", _t2), e && a.appendChild(f.createTextNode(e)), a;
          };
        } else t = e;return function (e) {
          var n,
              a,
              r,
              i = e.startNode,
              d = e.endNode,
              o = e.matchIndex;if (i === d) {
            var l = i;r = l.parentNode, e.startNodeIndex > 0 && (n = f.createTextNode(l.data.substring(0, e.startNodeIndex)), r.insertBefore(n, l));var c = t(e.match[0], o);return r.insertBefore(c, l), e.endNodeIndex < l.length && (a = f.createTextNode(l.data.substring(e.endNodeIndex)), r.insertBefore(a, l)), l.parentNode.removeChild(l), c;
          }n = f.createTextNode(i.data.substring(0, e.startNodeIndex)), a = f.createTextNode(d.data.substring(e.endNodeIndex));for (var s = t(i.data.substring(e.startNodeIndex), o), u = [], h = 0, m = e.innerNodes.length; h < m; ++h) {
            var g = e.innerNodes[h],
                p = t(g.data, o);g.parentNode.replaceChild(p, g), u.push(p);
          }var x = t(d.data.substring(0, e.endNodeIndex), o);return r = i.parentNode, r.insertBefore(n, i), r.insertBefore(s, i), r.removeChild(i), r = d.parentNode, r.insertBefore(x, d), r.insertBefore(a, d), r.removeChild(d), x;
        };
      }var c,
          s,
          f,
          u,
          h,
          m,
          g = [],
          p = 0;if (f = t.ownerDocument, u = r.getBlockElements(), h = r.getWhiteSpaceElements(), m = r.getShortEndedElements(), s = d(t)) {
        if (e.global) for (; c = e.exec(s);) {
          g.push(i(c, a));
        } else c = s.match(e), g.push(i(c, a));return g.length && (p = g.length, o(t, g, l(n))), p;
      }
    }function t(t) {
      function n() {
        function e() {
          r.statusbar.find("#next").disabled(!d(s + 1).length), r.statusbar.find("#prev").disabled(!d(s - 1).length);
        }function n() {
          tinymce.ui.MessageBox.alert("Could not find the specified string.", function () {
            r.find("#find")[0].focus();
          });
        }var a = {},
            r = tinymce.ui.Factory.create({ type: "window", layout: "flex", pack: "center", align: "center", onClose: function onClose() {
            t.focus(), c.done();
          }, onSubmit: function onSubmit(t) {
            var i, o, l, f;return t.preventDefault(), o = r.find("#case").checked(), f = r.find("#words").checked(), l = r.find("#find").value(), l.length ? a.text == l && a.caseState == o && a.wholeWord == f ? 0 === d(s + 1).length ? void n() : (c.next(), void e()) : (i = c.find(l, o, f), i || n(), r.statusbar.items().slice(1).disabled(0 === i), e(), void (a = { text: l, caseState: o, wholeWord: f })) : (c.done(!1), void r.statusbar.items().slice(1).disabled(!0));
          }, buttons: [{ text: "Find", onclick: function onclick() {
              r.submit();
            } }, { text: "Replace", disabled: !0, onclick: function onclick() {
              c.replace(r.find("#replace").value()) || (r.statusbar.items().slice(1).disabled(!0), s = -1, a = {});
            } }, { text: "Replace all", disabled: !0, onclick: function onclick() {
              c.replace(r.find("#replace").value(), !0, !0), r.statusbar.items().slice(1).disabled(!0), a = {};
            } }, { type: "spacer", flex: 1 }, { text: "Prev", name: "prev", disabled: !0, onclick: function onclick() {
              c.prev(), e();
            } }, { text: "Next", name: "next", disabled: !0, onclick: function onclick() {
              c.next(), e();
            } }], title: "Find and replace", items: { type: "form", padding: 20, labelGap: 30, spacing: 10, items: [{ type: "textbox", name: "find", size: 40, label: "Find", value: t.selection.getNode().src }, { type: "textbox", name: "replace", size: 40, label: "Replace with" }, { type: "checkbox", name: "case", text: "Match case", label: " " }, { type: "checkbox", name: "words", text: "Whole words", label: " " }] } }).renderTo().reflow();
      }function a(e) {
        var t = e.getAttribute("data-mce-index");return "number" == typeof t ? "" + t : t;
      }function r(n) {
        var a, r;return r = t.dom.create("span", { "data-mce-bogus": 1 }), r.className = "mce-match-marker", a = t.getBody(), c.done(!1), e(n, a, r, !1, t.schema);
      }function i(e) {
        var t = e.parentNode;e.firstChild && t.insertBefore(e.firstChild, e), e.parentNode.removeChild(e);
      }function d(e) {
        var n,
            r = [];if (n = tinymce.toArray(t.getBody().getElementsByTagName("span")), n.length) for (var i = 0; i < n.length; i++) {
          var d = a(n[i]);null !== d && d.length && d === e.toString() && r.push(n[i]);
        }return r;
      }function o(e) {
        var n = s,
            a = t.dom;e = e !== !1, e ? n++ : n--, a.removeClass(d(s), "mce-match-marker-selected");var r = d(n);return r.length ? (a.addClass(d(n), "mce-match-marker-selected"), t.selection.scrollIntoView(r[0]), n) : -1;
      }function l(e) {
        e.parentNode.removeChild(e);
      }var c = this,
          s = -1;c.init = function (e) {
        e.addMenuItem("searchreplace", { text: "Find and replace", shortcut: "Ctrl+F", onclick: n, separator: "before", context: "edit" }), e.addButton("searchreplace", { tooltip: "Find and replace", shortcut: "Ctrl+F", onclick: n }), e.addCommand("SearchReplace", n), e.shortcuts.add("Ctrl+F", "", n);
      }, c.find = function (e, t, n) {
        e = e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&"), e = n ? "\\b" + e + "\\b" : e;var a = r(new RegExp(e, t ? "g" : "gi"));return a && (s = -1, s = o(!0)), a;
      }, c.next = function () {
        var e = o(!0);e !== -1 && (s = e);
      }, c.prev = function () {
        var e = o(!1);e !== -1 && (s = e);
      }, c.replace = function (e, n, r) {
        var o,
            f,
            u,
            h,
            m,
            g,
            p = s;for (n = n !== !1, u = t.getBody(), f = tinymce.toArray(u.getElementsByTagName("span")), o = 0; o < f.length; o++) {
          var x = a(f[o]);if (null !== x && x.length) if (h = m = parseInt(x, 10), r || h === s) {
            for (e.length ? (f[o].firstChild.nodeValue = e, i(f[o])) : l(f[o]); f[++o];) {
              if (h = a(f[o]), null !== x && x.length) {
                if (h !== m) {
                  o--;break;
                }l(f[o]);
              }
            }n && p--;
          } else m > s && f[o].setAttribute("data-mce-index", m - 1);
        }return t.undoManager.add(), s = p, n ? (g = d(p + 1).length > 0, c.next()) : (g = d(p - 1).length > 0, c.prev()), !r && g;
      }, c.done = function (e) {
        var n, r, d, o;for (r = tinymce.toArray(t.getBody().getElementsByTagName("span")), n = 0; n < r.length; n++) {
          var l = a(r[n]);null !== l && l.length && (l === s.toString() && (d || (d = r[n].firstChild), o = r[n].firstChild), i(r[n]));
        }if (d && o) {
          var c = t.dom.createRng();return c.setStart(d, 0), c.setEnd(o, o.data.length), e !== !1 && t.selection.setRng(c), c;
        }
      };
    }tinymce.PluginManager.add("searchreplace", t);
  }();
  ;!function (e, t) {
    "use strict";
    function n(e, t) {
      for (var n, o = [], i = 0; i < e.length; ++i) {
        if (n = l[e[i]] || r(e[i]), !n) throw "module definition dependecy not found: " + e[i];o.push(n);
      }t.apply(null, o);
    }function o(e, o, i) {
      if ("string" != typeof e) throw "invalid module definition, module id must be defined and be a string";if (o === t) throw "invalid module definition, dependencies must be specified";if (i === t) throw "invalid module definition, definition function must be specified";n(o, function () {
        l[e] = i.apply(null, arguments);
      });
    }function i(e) {
      return !!l[e];
    }function r(t) {
      for (var n = e, o = t.split(/[.\/]/), i = 0; i < o.length; ++i) {
        if (!n[o[i]]) return;n = n[o[i]];
      }return n;
    }function a(n) {
      for (var o = 0; o < n.length; o++) {
        for (var i = e, r = n[o], a = r.split(/[.\/]/), s = 0; s < a.length - 1; ++s) {
          i[a[s]] === t && (i[a[s]] = {}), i = i[a[s]];
        }i[a[a.length - 1]] = l[r];
      }
    }var l = {},
        s = "tinymce/tableplugin/TableGrid",
        c = "tinymce/util/Tools",
        d = "tinymce/Env",
        u = "tinymce/tableplugin/Quirks",
        f = "tinymce/util/VK",
        m = "tinymce/tableplugin/CellSelection",
        p = "tinymce/dom/TreeWalker",
        g = "tinymce/tableplugin/Plugin",
        h = "tinymce/PluginManager";o(s, [c, d], function (e, n) {
      function o(e, t) {
        return parseInt(e.getAttribute(t) || 1, 10);
      }var i = e.each;return function (r, a) {
        function l() {
          var e = 0;A = [], i(["thead", "tbody", "tfoot"], function (t) {
            var n = I.select("> " + t + " tr", a);i(n, function (n, r) {
              r += e, i(I.select("> td, > th", n), function (e, n) {
                var i, a, l, s;if (A[r]) for (; A[r][n];) {
                  n++;
                }for (l = o(e, "rowspan"), s = o(e, "colspan"), a = r; r + l > a; a++) {
                  for (A[a] || (A[a] = []), i = n; n + s > i; i++) {
                    A[a][i] = { part: t, real: a == r && i == n, elm: e, rowspan: l, colspan: s };
                  }
                }
              });
            }), e += n.length;
          });
        }function s(e, t) {
          return e = e.cloneNode(t), e.removeAttribute("id"), e;
        }function c(e, t) {
          var n;return n = A[t], n ? n[e] : void 0;
        }function d(e, t, n) {
          e && (n = parseInt(n, 10), 1 === n ? e.removeAttribute(t, 1) : e.setAttribute(t, n, 1));
        }function u(e) {
          return e && (I.hasClass(e.elm, "mce-item-selected") || e == M);
        }function f() {
          var e = [];return i(a.rows, function (t) {
            i(t.cells, function (n) {
              return I.hasClass(n, "mce-item-selected") || M && n == M.elm ? (e.push(t), !1) : void 0;
            });
          }), e;
        }function m() {
          var e = I.createRng();e.setStartAfter(a), e.setEndAfter(a), E.setRng(e), I.remove(a);
        }function p(t) {
          var o,
              a = {};return r.settings.table_clone_elements !== !1 && (a = e.makeMap((r.settings.table_clone_elements || "strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(), /[ ,]/)), e.walk(t, function (e) {
            var r;return 3 == e.nodeType ? (i(I.getParents(e.parentNode, null, t).reverse(), function (e) {
              a[e.nodeName] && (e = s(e, !1), o ? r && r.appendChild(e) : o = r = e, r = e);
            }), r && (r.innerHTML = n.ie ? "&nbsp;" : '<br data-mce-bogus="1" />'), !1) : void 0;
          }, "childNodes"), t = s(t, !1), d(t, "rowSpan", 1), d(t, "colSpan", 1), o ? t.appendChild(o) : n.ie || (t.innerHTML = '<br data-mce-bogus="1" />'), t;
        }function g() {
          var e = I.createRng(),
              t;return i(I.select("tr", a), function (e) {
            0 === e.cells.length && I.remove(e);
          }), 0 === I.select("tr", a).length ? (e.setStartBefore(a), e.setEndBefore(a), E.setRng(e), void I.remove(a)) : (i(I.select("thead,tbody,tfoot", a), function (e) {
            0 === e.rows.length && I.remove(e);
          }), l(), void (B && (t = A[Math.min(A.length - 1, B.y)], t && (E.select(t[Math.min(t.length - 1, B.x)].elm, !0), E.collapse(!0)))));
        }function h(e, t, n, o) {
          var i, r, a, l, s;for (i = A[t][e].elm.parentNode, a = 1; n >= a; a++) {
            if (i = I.getNext(i, "tr")) {
              for (r = e; r >= 0; r--) {
                if (s = A[t + a][r].elm, s.parentNode == i) {
                  for (l = 1; o >= l; l++) {
                    I.insertAfter(p(s), s);
                  }break;
                }
              }if (-1 == r) for (l = 1; o >= l; l++) {
                i.insertBefore(p(i.cells[0]), i.cells[0]);
              }
            }
          }
        }function v() {
          i(A, function (e, t) {
            i(e, function (e, n) {
              var i, r, a;if (u(e) && (e = e.elm, i = o(e, "colspan"), r = o(e, "rowspan"), i > 1 || r > 1)) {
                for (d(e, "rowSpan", 1), d(e, "colSpan", 1), a = 0; i - 1 > a; a++) {
                  I.insertAfter(p(e), e);
                }h(n, t, r - 1, i);
              }
            });
          });
        }function b(t, n, o) {
          var r, a, s, f, m, p, h, b, y, w, x;if (t ? (r = S(t), a = r.x, s = r.y, f = a + (n - 1), m = s + (o - 1)) : (B = _ = null, i(A, function (e, t) {
            i(e, function (e, n) {
              u(e) && (B || (B = { x: n, y: t }), _ = { x: n, y: t });
            });
          }), B && (a = B.x, s = B.y, f = _.x, m = _.y)), b = c(a, s), y = c(f, m), b && y && b.part == y.part) {
            for (v(), l(), b = c(a, s).elm, d(b, "colSpan", f - a + 1), d(b, "rowSpan", m - s + 1), h = s; m >= h; h++) {
              for (p = a; f >= p; p++) {
                A[h] && A[h][p] && (t = A[h][p].elm, t != b && (w = e.grep(t.childNodes), i(w, function (e) {
                  b.appendChild(e);
                }), w.length && (w = e.grep(b.childNodes), x = 0, i(w, function (e) {
                  "BR" == e.nodeName && I.getAttrib(e, "data-mce-bogus") && x++ < w.length - 1 && b.removeChild(e);
                })), I.remove(t)));
              }
            }g();
          }
        }function y(e) {
          var n, r, a, l, c, f, m, g, h;if (i(A, function (t, o) {
            return i(t, function (t) {
              return u(t) && (t = t.elm, c = t.parentNode, f = s(c, !1), n = o, e) ? !1 : void 0;
            }), e ? !n : void 0;
          }), n !== t) {
            for (l = 0; l < A[0].length; l++) {
              if (A[n][l] && (r = A[n][l].elm, r != a)) {
                if (e) {
                  if (n > 0 && A[n - 1][l] && (g = A[n - 1][l].elm, h = o(g, "rowSpan"), h > 1)) {
                    d(g, "rowSpan", h + 1);continue;
                  }
                } else if (h = o(r, "rowspan"), h > 1) {
                  d(r, "rowSpan", h + 1);continue;
                }m = p(r), d(m, "colSpan", r.colSpan), f.appendChild(m), a = r;
              }
            }f.hasChildNodes() && (e ? c.parentNode.insertBefore(f, c) : I.insertAfter(f, c));
          }
        }function w(e) {
          var t, n;i(A, function (n) {
            return i(n, function (n, o) {
              return u(n) && (t = o, e) ? !1 : void 0;
            }), e ? !t : void 0;
          }), i(A, function (i, r) {
            var a, l, s;i[t] && (a = i[t].elm, a != n && (s = o(a, "colspan"), l = o(a, "rowspan"), 1 == s ? e ? (a.parentNode.insertBefore(p(a), a), h(t, r, l - 1, s)) : (I.insertAfter(p(a), a), h(t, r, l - 1, s)) : d(a, "colSpan", a.colSpan + 1), n = a));
          });
        }function x() {
          var t = [];i(A, function (n) {
            i(n, function (n, r) {
              u(n) && -1 === e.inArray(t, r) && (i(A, function (e) {
                var t = e[r].elm,
                    n;n = o(t, "colSpan"), n > 1 ? d(t, "colSpan", n - 1) : I.remove(t);
              }), t.push(r));
            });
          }), g();
        }function C() {
          function e(e) {
            var t, n, r;t = I.getNext(e, "tr"), i(e.cells, function (e) {
              var t = o(e, "rowSpan");t > 1 && (d(e, "rowSpan", t - 1), n = S(e), h(n.x, n.y, 1, 1));
            }), n = S(e.cells[0]), i(A[n.y], function (e) {
              var t;e = e.elm, e != r && (t = o(e, "rowSpan"), 1 >= t ? I.remove(e) : d(e, "rowSpan", t - 1), r = e);
            });
          }var t;t = f(), i(t.reverse(), function (t) {
            e(t);
          }), g();
        }function P() {
          var e = f();return I.remove(e), g(), e;
        }function R() {
          var e = f();return i(e, function (t, n) {
            e[n] = s(t, !0);
          }), e;
        }function T(e, t) {
          var n = f(),
              o = n[t ? 0 : n.length - 1],
              r = o.cells.length;e && (i(A, function (e) {
            var t;return r = 0, i(e, function (e) {
              e.real && (r += e.colspan), e.elm.parentNode == o && (t = 1);
            }), t ? !1 : void 0;
          }), t || e.reverse(), i(e, function (e) {
            var n,
                i = e.cells.length,
                a;for (n = 0; i > n; n++) {
              a = e.cells[n], d(a, "colSpan", 1), d(a, "rowSpan", 1);
            }for (n = i; r > n; n++) {
              e.appendChild(p(e.cells[i - 1]));
            }for (n = r; i > n; n++) {
              I.remove(e.cells[n]);
            }t ? o.parentNode.insertBefore(e, o) : I.insertAfter(e, o);
          }), I.removeClass(I.select("td.mce-item-selected,th.mce-item-selected"), "mce-item-selected"));
        }function S(e) {
          var t;return i(A, function (n, o) {
            return i(n, function (n, i) {
              return n.elm == e ? (t = { x: i, y: o }, !1) : void 0;
            }), !t;
          }), t;
        }function N(e) {
          B = S(e);
        }function k() {
          var e, t;return e = t = 0, i(A, function (n, o) {
            i(n, function (n, i) {
              var r, a;u(n) && (n = A[o][i], i > e && (e = i), o > t && (t = o), n.real && (r = n.colspan - 1, a = n.rowspan - 1, r && i + r > e && (e = i + r), a && o + a > t && (t = o + a)));
            });
          }), { x: e, y: t };
        }function D(e) {
          var t, n, o, i, r, a, l, s, c, d;if (_ = S(e), B && _) {
            for (t = Math.min(B.x, _.x), n = Math.min(B.y, _.y), o = Math.max(B.x, _.x), i = Math.max(B.y, _.y), r = o, a = i, d = n; a >= d; d++) {
              e = A[d][t], e.real || t - (e.colspan - 1) < t && (t -= e.colspan - 1);
            }for (c = t; r >= c; c++) {
              e = A[n][c], e.real || n - (e.rowspan - 1) < n && (n -= e.rowspan - 1);
            }for (d = n; i >= d; d++) {
              for (c = t; o >= c; c++) {
                e = A[d][c], e.real && (l = e.colspan - 1, s = e.rowspan - 1, l && c + l > r && (r = c + l), s && d + s > a && (a = d + s));
              }
            }for (I.removeClass(I.select("td.mce-item-selected,th.mce-item-selected"), "mce-item-selected"), d = n; a >= d; d++) {
              for (c = t; r >= c; c++) {
                A[d][c] && I.addClass(A[d][c].elm, "mce-item-selected");
              }
            }
          }
        }var A,
            B,
            _,
            M,
            E = r.selection,
            I = E.dom;a = a || I.getParent(E.getStart(), "table"), l(), M = I.getParent(E.getStart(), "th,td"), M && (B = S(M), _ = k(), M = c(B.x, B.y)), e.extend(this, { deleteTable: m, split: v, merge: b, insertRow: y, insertCol: w, deleteCols: x, deleteRows: C, cutRows: P, copyRows: R, pasteRows: T, getPos: S, setStartCell: N, setEndCell: D });
      };
    }), o(u, [f, d, c], function (e, t, n) {
      function o(e, t) {
        return parseInt(e.getAttribute(t) || 1, 10);
      }var i = n.each;return function (n) {
        function r() {
          function t(t) {
            function r(e, o) {
              var i = e ? "previousSibling" : "nextSibling",
                  r = n.dom.getParent(o, "tr"),
                  l = r[i];if (l) return h(n, o, l, e), t.preventDefault(), !0;var d = n.dom.getParent(r, "table"),
                  u = r.parentNode,
                  f = u.nodeName.toLowerCase();if ("tbody" === f || f === (e ? "tfoot" : "thead")) {
                var m = a(e, d, u, "tbody");if (null !== m) return s(e, m, o);
              }return c(e, r, i, d);
            }function a(e, t, o, i) {
              var r = n.dom.select(">" + i, t),
                  a = r.indexOf(o);if (e && 0 === a || !e && a === r.length - 1) return l(e, t);if (-1 === a) {
                var s = "thead" === o.tagName.toLowerCase() ? 0 : r.length - 1;return r[s];
              }return r[a + (e ? -1 : 1)];
            }function l(e, t) {
              var o = e ? "thead" : "tfoot",
                  i = n.dom.select(">" + o, t);return 0 !== i.length ? i[0] : null;
            }function s(e, o, i) {
              var r = d(o, e);return r && h(n, i, r, e), t.preventDefault(), !0;
            }function c(e, o, i, a) {
              var l = a[i];if (l) return u(l), !0;var s = n.dom.getParent(a, "td,th");if (s) return r(e, s, t);var c = d(o, !e);return u(c), t.preventDefault(), !1;
            }function d(e, t) {
              var o = e && e[t ? "lastChild" : "firstChild"];return o && "BR" === o.nodeName ? n.dom.getParent(o, "td,th") : o;
            }function u(e) {
              n.selection.setCursorLocation(e, 0);
            }function f() {
              return y == e.UP || y == e.DOWN;
            }function m(e) {
              var t = e.selection.getNode(),
                  n = e.dom.getParent(t, "tr");return null !== n;
            }function p(e) {
              for (var t = 0, n = e; n.previousSibling;) {
                n = n.previousSibling, t += o(n, "colspan");
              }return t;
            }function g(e, t) {
              var n = 0,
                  r = 0;return i(e.children, function (e, i) {
                return n += o(e, "colspan"), r = i, n > t ? !1 : void 0;
              }), r;
            }function h(e, t, o, i) {
              var r = p(n.dom.getParent(t, "td,th")),
                  a = g(o, r),
                  l = o.childNodes[a],
                  s = d(l, i);u(s || l);
            }function v(e) {
              var t = n.selection.getNode(),
                  o = n.dom.getParent(t, "td,th"),
                  i = n.dom.getParent(e, "td,th");return o && o !== i && b(o, i);
            }function b(e, t) {
              return n.dom.getParent(e, "TABLE") === n.dom.getParent(t, "TABLE");
            }var y = t.keyCode;if (f() && m(n)) {
              var w = n.selection.getNode();setTimeout(function () {
                v(w) && r(!t.shiftKey && y === e.UP, w, t);
              }, 0);
            }
          }n.on("KeyDown", function (e) {
            t(e);
          });
        }function a() {
          function e(e, t) {
            var n = t.ownerDocument,
                o = n.createRange(),
                i;return o.setStartBefore(t), o.setEnd(e.endContainer, e.endOffset), i = n.createElement("body"), i.appendChild(o.cloneContents()), 0 === i.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi, "-").replace(/<[^>]+>/g, "").length;
          }n.on("KeyDown", function (t) {
            var o,
                i,
                r = n.dom;(37 == t.keyCode || 38 == t.keyCode) && (o = n.selection.getRng(), i = r.getParent(o.startContainer, "table"), i && n.getBody().firstChild == i && e(o, i) && (o = r.createRng(), o.setStartBefore(i), o.setEndBefore(i), n.selection.setRng(o), t.preventDefault()));
          });
        }function l() {
          n.on("KeyDown SetContent VisualAid", function () {
            var e;for (e = n.getBody().lastChild; e; e = e.previousSibling) {
              if (3 == e.nodeType) {
                if (e.nodeValue.length > 0) break;
              } else if (1 == e.nodeType && !e.getAttribute("data-mce-bogus")) break;
            }e && "TABLE" == e.nodeName && (n.settings.forced_root_block ? n.dom.add(n.getBody(), n.settings.forced_root_block, n.settings.forced_root_block_attrs, t.ie && t.ie < 11 ? "&nbsp;" : '<br data-mce-bogus="1" />') : n.dom.add(n.getBody(), "br", { "data-mce-bogus": "1" }));
          }), n.on("PreProcess", function (e) {
            var t = e.node.lastChild;t && ("BR" == t.nodeName || 1 == t.childNodes.length && ("BR" == t.firstChild.nodeName || "\xa0" == t.firstChild.nodeValue)) && t.previousSibling && "TABLE" == t.previousSibling.nodeName && n.dom.remove(t);
          });
        }function s() {
          function e(e, t, n, o) {
            var i = 3,
                r = e.dom.getParent(t.startContainer, "TABLE"),
                a,
                l,
                s;return r && (a = r.parentNode), l = t.startContainer.nodeType == i && 0 === t.startOffset && 0 === t.endOffset && o && ("TR" == n.nodeName || n == a), s = ("TD" == n.nodeName || "TH" == n.nodeName) && !o, l || s;
          }function t() {
            var t = n.selection.getRng(),
                o = n.selection.getNode(),
                i = n.dom.getParent(t.startContainer, "TD,TH");if (e(n, t, o, i)) {
              i || (i = o);for (var r = i.lastChild; r.lastChild;) {
                r = r.lastChild;
              }t.setEnd(r, r.nodeValue.length), n.selection.setRng(t);
            }
          }n.on("KeyDown", function () {
            t();
          }), n.on("MouseDown", function (e) {
            2 != e.button && t();
          });
        }function c() {
          n.on("keydown", function (t) {
            if ((t.keyCode == e.DELETE || t.keyCode == e.BACKSPACE) && !t.isDefaultPrevented()) {
              var o = n.dom.getParent(n.selection.getStart(), "table");if (o) {
                for (var i = n.dom.select("td,th", o), r = i.length; r--;) {
                  if (!n.dom.hasClass(i[r], "mce-item-selected")) return;
                }t.preventDefault(), n.execCommand("mceTableDelete");
              }
            }
          });
        }c(), t.webkit && (r(), s()), t.gecko && (a(), l()), t.ie > 10 && (a(), l());
      };
    }), o(m, [s, p, c], function (e, t, n) {
      return function (o) {
        function i() {
          o.getBody().style.webkitUserSelect = "", d && (o.dom.removeClass(o.dom.select("td.mce-item-selected,th.mce-item-selected"), "mce-item-selected"), d = !1);
        }function r(t) {
          var n,
              i,
              r = t.target;if (s && (l || r != s) && ("TD" == r.nodeName || "TH" == r.nodeName)) {
            i = a.getParent(r, "table"), i == c && (l || (l = new e(o, i), l.setStartCell(s), o.getBody().style.webkitUserSelect = "none"), l.setEndCell(r), d = !0), n = o.selection.getSel();try {
              n.removeAllRanges ? n.removeAllRanges() : n.empty();
            } catch (u) {}t.preventDefault();
          }
        }var a = o.dom,
            l,
            s,
            c,
            d = !0;return o.on("MouseDown", function (e) {
          2 != e.button && (i(), s = a.getParent(e.target, "td,th"), c = a.getParent(s, "table"));
        }), o.on("mouseover", r), o.on("remove", function () {
          a.unbind(o.getDoc(), "mouseover", r);
        }), o.on("MouseUp", function () {
          function e(e, o) {
            var r = new t(e, e);do {
              if (3 == e.nodeType && 0 !== n.trim(e.nodeValue).length) return void (o ? i.setStart(e, 0) : i.setEnd(e, e.nodeValue.length));if ("BR" == e.nodeName) return void (o ? i.setStartBefore(e) : i.setEndBefore(e));
            } while (e = o ? r.next() : r.prev());
          }var i,
              r = o.selection,
              d,
              u,
              f,
              m,
              p;if (s) {
            if (l && (o.getBody().style.webkitUserSelect = ""), d = a.select("td.mce-item-selected,th.mce-item-selected"), d.length > 0) {
              i = a.createRng(), f = d[0], p = d[d.length - 1], i.setStartBefore(f), i.setEndAfter(f), e(f, 1), u = new t(f, a.getParent(d[0], "table"));do {
                if ("TD" == f.nodeName || "TH" == f.nodeName) {
                  if (!a.hasClass(f, "mce-item-selected")) break;m = f;
                }
              } while (f = u.next());e(m), r.setRng(i);
            }o.nodeChanged(), s = l = c = null;
          }
        }), o.on("KeyUp", function () {
          i();
        }), { clear: i };
      };
    }), o(g, [s, u, m, c, p, d, h], function (e, t, n, o, i, r, a) {
      function l(o) {
        function i(e) {
          return e ? e.replace(/px$/, "") : "";
        }function a(e) {
          return (/^[0-9]+$/.test(e) && (e += "px"), e
          );
        }function l(e) {
          s("left center right".split(" "), function (t) {
            o.formatter.remove("align" + t, {}, e);
          });
        }function c() {
          var e = o.dom,
              t,
              n;t = e.getParent(o.selection.getStart(), "table"), n = { width: i(e.getStyle(t, "width") || e.getAttrib(t, "width")), height: i(e.getStyle(t, "height") || e.getAttrib(t, "height")), cellspacing: e.getAttrib(t, "cellspacing"), cellpadding: e.getAttrib(t, "cellpadding"), border: e.getAttrib(t, "border"), caption: !!e.select("caption", t)[0] }, s("left center right".split(" "), function (e) {
            o.formatter.matchNode(t, "align" + e) && (n.align = e);
          }), o.windowManager.open({ title: "Table properties", items: { type: "form", layout: "grid", columns: 2, data: n, defaults: { type: "textbox", maxWidth: 50 }, items: [{ label: "Width", name: "width" }, { label: "Height", name: "height" }, { label: "Cell spacing", name: "cellspacing" }, { label: "Cell padding", name: "cellpadding" }, { label: "Border", name: "border" }, { label: "Caption", name: "caption", type: "checkbox" }, { label: "Alignment", minWidth: 90, name: "align", type: "listbox", text: "None", maxWidth: null, values: [{ text: "None", value: "" }, { text: "Left", value: "left" }, { text: "Center", value: "center" }, { text: "Right", value: "right" }] }] }, onsubmit: function onsubmit() {
              var n = this.toJSON(),
                  i;o.undoManager.transact(function () {
                o.dom.setAttribs(t, { cellspacing: n.cellspacing, cellpadding: n.cellpadding, border: n.border }), o.dom.setStyles(t, { width: a(n.width), height: a(n.height) }), i = e.select("caption", t)[0], i && !n.caption && e.remove(i), !i && n.caption && (i = e.create("caption"), i.innerHTML = r.ie ? "\xa0" : '<br data-mce-bogus="1"/>', t.insertBefore(i, t.firstChild)), l(t), n.align && o.formatter.apply("align" + n.align, {}, t), o.focus(), o.addVisual();
              });
            } });
        }function d(e, t) {
          o.windowManager.open({ title: "Merge cells", body: [{ label: "Cols", name: "cols", type: "textbox", size: 10 }, { label: "Rows", name: "rows", type: "textbox", size: 10 }], onsubmit: function onsubmit() {
              var n = this.toJSON();o.undoManager.transact(function () {
                e.merge(t, n.cols, n.rows);
              });
            } });
        }function u() {
          var e = o.dom,
              t,
              n,
              r = [];r = o.dom.select("td.mce-item-selected,th.mce-item-selected"), t = o.dom.getParent(o.selection.getStart(), "td,th"), !r.length && t && r.push(t), t = t || r[0], t && (n = { width: i(e.getStyle(t, "width") || e.getAttrib(t, "width")), height: i(e.getStyle(t, "height") || e.getAttrib(t, "height")), scope: e.getAttrib(t, "scope") }, n.type = t.nodeName.toLowerCase(), s("left center right".split(" "), function (e) {
            o.formatter.matchNode(t, "align" + e) && (n.align = e);
          }), o.windowManager.open({ title: "Cell properties", items: { type: "form", data: n, layout: "grid", columns: 2, defaults: { type: "textbox", maxWidth: 50 }, items: [{ label: "Width", name: "width" }, { label: "Height", name: "height" }, { label: "Cell type", name: "type", type: "listbox", text: "None", minWidth: 90, maxWidth: null, values: [{ text: "Cell", value: "td" }, { text: "Header cell", value: "th" }] }, { label: "Scope", name: "scope", type: "listbox", text: "None", minWidth: 90, maxWidth: null, values: [{ text: "None", value: "" }, { text: "Row", value: "row" }, { text: "Column", value: "col" }, { text: "Row group", value: "rowgroup" }, { text: "Column group", value: "colgroup" }] }, { label: "Alignment", name: "align", type: "listbox", text: "None", minWidth: 90, maxWidth: null, values: [{ text: "None", value: "" }, { text: "Left", value: "left" }, { text: "Center", value: "center" }, { text: "Right", value: "right" }] }] }, onsubmit: function onsubmit() {
              var t = this.toJSON();o.undoManager.transact(function () {
                s(r, function (n) {
                  o.dom.setAttrib(n, "scope", t.scope), o.dom.setStyles(n, { width: a(t.width), height: a(t.height) }), t.type && n.nodeName.toLowerCase() != t.type && (n = e.rename(n, t.type)), l(n), t.align && o.formatter.apply("align" + t.align, {}, n);
                }), o.focus();
              });
            } }));
        }function f() {
          var e = o.dom,
              t,
              n,
              r,
              c,
              d = [];t = o.dom.getParent(o.selection.getStart(), "table"), n = o.dom.getParent(o.selection.getStart(), "td,th"), s(t.rows, function (t) {
            s(t.cells, function (o) {
              return e.hasClass(o, "mce-item-selected") || o == n ? (d.push(t), !1) : void 0;
            });
          }), r = d[0], r && (c = { height: i(e.getStyle(r, "height") || e.getAttrib(r, "height")), scope: e.getAttrib(r, "scope") }, c.type = r.parentNode.nodeName.toLowerCase(), s("left center right".split(" "), function (e) {
            o.formatter.matchNode(r, "align" + e) && (c.align = e);
          }), o.windowManager.open({ title: "Row properties", items: { type: "form", data: c, columns: 2, defaults: { type: "textbox" }, items: [{ type: "listbox", name: "type", label: "Row type", text: "None", maxWidth: null, values: [{ text: "Header", value: "thead" }, { text: "Body", value: "tbody" }, { text: "Footer", value: "tfoot" }] }, { type: "listbox", name: "align", label: "Alignment", text: "None", maxWidth: null, values: [{ text: "None", value: "" }, { text: "Left", value: "left" }, { text: "Center", value: "center" }, { text: "Right", value: "right" }] }, { label: "Height", name: "height" }] }, onsubmit: function onsubmit() {
              var t = this.toJSON(),
                  n,
                  i,
                  r;o.undoManager.transact(function () {
                var c = t.type;s(d, function (s) {
                  o.dom.setAttrib(s, "scope", t.scope), o.dom.setStyles(s, { height: a(t.height) }), c != s.parentNode.nodeName.toLowerCase() && (n = e.getParent(s, "table"), i = s.parentNode, r = e.select(c, n)[0], r || (r = e.create(c), n.firstChild ? n.insertBefore(r, n.firstChild) : n.appendChild(r)), r.appendChild(s), i.hasChildNodes() || e.remove(i)), l(s), t.align && o.formatter.apply("align" + t.align, {}, s);
                }), o.focus();
              });
            } }));
        }function m(e) {
          return function () {
            o.execCommand(e);
          };
        }function p(e, t) {
          var n, i, a;for (a = "<table><tbody>", n = 0; t > n; n++) {
            for (a += "<tr>", i = 0; e > i; i++) {
              a += "<td>" + (r.ie ? " " : "<br>") + "</td>";
            }a += "</tr>";
          }a += "</tbody></table>", o.insertContent(a);
        }function g(e, t) {
          function n() {
            e.disabled(!o.dom.getParent(o.selection.getStart(), t)), o.selection.selectorChanged(t, function (t) {
              e.disabled(!t);
            });
          }o.initialized ? n() : o.on("init", n);
        }function h() {
          g(this, "table");
        }function v() {
          g(this, "td,th");
        }function b() {
          var e = "";e = '<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for (var t = 0; 10 > t; t++) {
            e += "<tr>";for (var n = 0; 10 > n; n++) {
              e += '<td role="gridcell" tabindex="-1"><a id="mcegrid' + (10 * t + n) + '" href="#" data-mce-x="' + n + '" data-mce-y="' + t + '" ' + (n + t === 0 ? ' class="mce-active"' : "") + "></a></td>";
            }e += "</tr>";
          }return e += "</table>", e += '<div class="mce-text-center" role="presentation">1 x 1</div>';
        }function y(e, t, n) {
          var i = n.getEl().getElementsByTagName("table")[0],
              r = n.parent().rel,
              a,
              l,
              s,
              c;if (n.isRtl() || "tl-tr" == r) {
            for (l = 9; l >= 0; l--) {
              for (a = 0; 10 > a; a++) {
                c = i.rows[l].childNodes[a].firstChild, o.dom.toggleClass(c, "mce-active", a >= e && t >= l), a >= e && t >= l && (s = c);
              }
            }e = 9 - e, i.nextSibling.innerHTML = e + " x " + (t + 1);
          } else {
            for (l = 0; 10 > l; l++) {
              for (a = 0; 10 > a; a++) {
                c = i.rows[l].childNodes[a].firstChild, o.dom.toggleClass(c, "mce-active", e >= a && t >= l), e >= a && t >= l && (s = c);
              }
            }i.nextSibling.innerHTML = e + 1 + " x " + (t + 1);
          }return s.parentNode;
        }var w,
            x,
            C = this;o.addMenuItem("inserttable", { text: "Insert table", icon: "table", context: "table", onhide: function onhide() {
            var e = this.menu.items()[0].getEl().getElementsByTagName("a");o.dom.removeClass(e, "mce-active"), o.dom.addClass(e[0], "mce-active");
          }, menu: [{ type: "container", html: b(), onPostRender: function onPostRender() {
              this.lastX = this.lastY = 0;
            }, onmousemove: function onmousemove(e) {
              var t = e.target,
                  n,
                  o;"A" == t.nodeName && (n = parseInt(t.getAttribute("data-mce-x"), 10), o = parseInt(t.getAttribute("data-mce-y"), 10), (n !== this.lastX || o !== this.lastY) && (y(n, o, e.control), this.lastX = n, this.lastY = o));
            }, onkeydown: function onkeydown(e) {
              var t = this.lastX,
                  n = this.lastY,
                  o;switch (e.keyCode) {case 37:
                  t > 0 && (t--, o = !0);break;case 39:
                  o = !0, 9 > t && t++;break;case 38:
                  o = !0, n > 0 && n--;break;case 40:
                  o = !0, 9 > n && n++;}o && (e.preventDefault(), e.stopPropagation(), y(t, n, e.control).focus(), this.lastX = t, this.lastY = n);
            }, onclick: function onclick(e) {
              "A" == e.target.nodeName && (e.preventDefault(), e.stopPropagation(), this.parent().cancel(), p(this.lastX + 1, this.lastY + 1));
            } }] }), o.addMenuItem("tableprops", { text: "Table properties", context: "table", onPostRender: h, onclick: c }), o.addMenuItem("deletetable", { text: "Delete table", context: "table", onPostRender: h, cmd: "mceTableDelete" }), o.addMenuItem("cell", { separator: "before", text: "Cell", context: "table", menu: [{ text: "Cell properties", onclick: m("mceTableCellProps"), onPostRender: v }, { text: "Merge cells", onclick: m("mceTableMergeCells"), onPostRender: v }, { text: "Split cell", onclick: m("mceTableSplitCells"), onPostRender: v }] }), o.addMenuItem("row", { text: "Row", context: "table", menu: [{ text: "Insert row before", onclick: m("mceTableInsertRowBefore"), onPostRender: v }, { text: "Insert row after", onclick: m("mceTableInsertRowAfter"), onPostRender: v }, { text: "Delete row", onclick: m("mceTableDeleteRow"), onPostRender: v }, { text: "Row properties", onclick: m("mceTableRowProps"), onPostRender: v }, { text: "-" }, { text: "Cut row", onclick: m("mceTableCutRow"), onPostRender: v }, { text: "Copy row", onclick: m("mceTableCopyRow"), onPostRender: v }, { text: "Paste row before", onclick: m("mceTablePasteRowBefore"), onPostRender: v }, { text: "Paste row after", onclick: m("mceTablePasteRowAfter"), onPostRender: v }] }), o.addMenuItem("column", { text: "Column", context: "table", menu: [{ text: "Insert column before", onclick: m("mceTableInsertColBefore"), onPostRender: v }, { text: "Insert column after", onclick: m("mceTableInsertColAfter"), onPostRender: v }, { text: "Delete column", onclick: m("mceTableDeleteCol"), onPostRender: v }] });var P = [];s("inserttable tableprops deletetable | cell row column".split(" "), function (e) {
          P.push("|" == e ? { text: "-" } : o.menuItems[e]);
        }), o.addButton("table", { type: "menubutton", title: "Table", menu: P }), r.isIE || o.on("click", function (e) {
          e = e.target, "TABLE" === e.nodeName && (o.selection.select(e), o.nodeChanged());
        }), C.quirks = new t(o), o.on("Init", function () {
          w = o.windowManager, C.cellSelection = new n(o);
        }), s({ mceTableSplitCells: function mceTableSplitCells(e) {
            e.split();
          }, mceTableMergeCells: function mceTableMergeCells(e) {
            var t, n, i;i = o.dom.getParent(o.selection.getStart(), "th,td"), i && (t = i.rowSpan, n = i.colSpan), o.dom.select("td.mce-item-selected,th.mce-item-selected").length ? e.merge() : d(e, i);
          }, mceTableInsertRowBefore: function mceTableInsertRowBefore(e) {
            e.insertRow(!0);
          }, mceTableInsertRowAfter: function mceTableInsertRowAfter(e) {
            e.insertRow();
          }, mceTableInsertColBefore: function mceTableInsertColBefore(e) {
            e.insertCol(!0);
          }, mceTableInsertColAfter: function mceTableInsertColAfter(e) {
            e.insertCol();
          }, mceTableDeleteCol: function mceTableDeleteCol(e) {
            e.deleteCols();
          }, mceTableDeleteRow: function mceTableDeleteRow(e) {
            e.deleteRows();
          }, mceTableCutRow: function mceTableCutRow(e) {
            x = e.cutRows();
          }, mceTableCopyRow: function mceTableCopyRow(e) {
            x = e.copyRows();
          }, mceTablePasteRowBefore: function mceTablePasteRowBefore(e) {
            e.pasteRows(x, !0);
          }, mceTablePasteRowAfter: function mceTablePasteRowAfter(e) {
            e.pasteRows(x);
          }, mceTableDelete: function mceTableDelete(e) {
            e.deleteTable();
          } }, function (t, n) {
          o.addCommand(n, function () {
            var n = new e(o);n && (t(n), o.execCommand("mceRepaint"), C.cellSelection.clear());
          });
        }), s({ mceInsertTable: function mceInsertTable() {
            c();
          }, mceTableRowProps: f, mceTableCellProps: u }, function (e, t) {
          o.addCommand(t, function (t, n) {
            e(n);
          });
        });
      }var s = o.each;a.add("table", l);
    }), a([s, u, m, g]);
  }(this);
  ;tinymce.PluginManager.add("textcolor", function (e) {
    function t() {
      var t,
          o,
          r = [];for (o = e.settings.textcolor_map || ["000000", "Black", "993300", "Burnt orange", "333300", "Dark olive", "003300", "Dark green", "003366", "Dark azure", "000080", "Navy Blue", "333399", "Indigo", "333333", "Very dark gray", "800000", "Maroon", "FF6600", "Orange", "808000", "Olive", "008000", "Green", "008080", "Teal", "0000FF", "Blue", "666699", "Grayish blue", "808080", "Gray", "FF0000", "Red", "FF9900", "Amber", "99CC00", "Yellow green", "339966", "Sea green", "33CCCC", "Turquoise", "3366FF", "Royal blue", "800080", "Purple", "999999", "Medium gray", "FF00FF", "Magenta", "FFCC00", "Gold", "FFFF00", "Yellow", "00FF00", "Lime", "00FFFF", "Aqua", "00CCFF", "Sky blue", "993366", "Brown", "C0C0C0", "Silver", "FF99CC", "Pink", "FFCC99", "Peach", "FFFF99", "Light yellow", "CCFFCC", "Pale green", "CCFFFF", "Pale cyan", "99CCFF", "Light sky blue", "CC99FF", "Plum", "FFFFFF", "White"], t = 0; t < o.length; t += 2) {
        r.push({ text: o[t + 1], color: o[t] });
      }return r;
    }function o() {
      var o,
          r,
          l,
          a,
          c,
          i,
          n,
          F,
          d,
          s = this;for (o = t(), l = '<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>', a = o.length - 1, c = e.settings.textcolor_rows || 5, i = e.settings.textcolor_cols || 8, F = 0; c > F; F++) {
        for (l += "<tr>", n = 0; i > n; n++) {
          d = F * i + n, d > a ? l += "<td></td>" : (r = o[d], l += '<td><div id="' + s._id + "-" + d + '" data-mce-color="' + r.color + '" role="option" tabIndex="-1" style="' + (r ? "background-color: #" + r.color : "") + '" title="' + r.text + '"></div></td>');
        }l += "</tr>";
      }return l += "</tbody></table>";
    }function r(t) {
      var o,
          r = this.parent();(o = t.target.getAttribute("data-mce-color")) && (this.lastId && document.getElementById(this.lastId).setAttribute("aria-selected", !1), t.target.setAttribute("aria-selected", !0), this.lastId = t.target.id, r.hidePanel(), o = "#" + o, r.color(o), e.execCommand(r.settings.selectcmd, !1, o));
    }function l() {
      var t = this;t._color && e.execCommand(t.settings.selectcmd, !1, t._color);
    }e.addButton("forecolor", { type: "colorbutton", tooltip: "Text color", selectcmd: "ForeColor", panel: { role: "application", ariaRemember: !0, html: o, onclick: r }, onclick: l }), e.addButton("backcolor", { type: "colorbutton", tooltip: "Background color", selectcmd: "HiliteColor", panel: { role: "application", ariaRemember: !0, html: o, onclick: r }, onclick: l });
  });
  ;tinymce.PluginManager.add("visualblocks", function (e, s) {
    function o() {
      var s = this;s.active(a), e.on("VisualBlocks", function () {
        s.active(e.dom.hasClass(e.getBody(), "mce-visualblocks"));
      });
    }var l, t, a;window.NodeList && (e.addCommand("mceVisualBlocks", function () {
      var o,
          c = e.dom;l || (l = c.uniqueId(), o = c.create("link", { id: l, rel: "stylesheet", href: s + "/css/visualblocks.css" }), e.getDoc().getElementsByTagName("head")[0].appendChild(o)), e.on("PreviewFormats AfterPreviewFormats", function (s) {
        a && c.toggleClass(e.getBody(), "mce-visualblocks", "afterpreviewformats" == s.type);
      }), c.toggleClass(e.getBody(), "mce-visualblocks"), a = e.dom.hasClass(e.getBody(), "mce-visualblocks"), t && t.active(c.hasClass(e.getBody(), "mce-visualblocks")), e.fire("VisualBlocks");
    }), e.addButton("visualblocks", { title: "Show blocks", cmd: "mceVisualBlocks", onPostRender: o }), e.addMenuItem("visualblocks", { text: "Show blocks", cmd: "mceVisualBlocks", onPostRender: o, selectable: !0, context: "view", prependToContext: !0 }), e.on("init", function () {
      e.settings.visualblocks_default_state && e.execCommand("mceVisualBlocks", !1, null, { skip_focus: !0 });
    }), e.on("remove", function () {
      e.dom.removeClass(e.getBody(), "mce-visualblocks");
    }));
  });
}).call(window);

/***/ }),

/***/ "./node_modules/edx-ui-toolkit/src/js/dropdown-menu/dropdown-menu-view.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * A Backbone view that renders a fully accessible dropdown menu.
 *
 * Initialize the view by passing in the following attributes:
 *
 *~~~ javascript
 * view = new DropdownMenuView({
 *     className: 'space separated string of classes for element',
 *     model: new Backbone.Model({
 *         main: {
 *             image: 'http://placehold.it/40x40',
 *             screenreader_label: 'Dashboard for: ',
 *             text: 'username',
 *             url: 'dashboard'
 *         },
 *         button: {
 *             icon: 'icon-angle-down',
 *             label: 'User options dropdown'
 *         },
 *         items: [
 *             {
 *                 text: 'Account',
 *                 url: 'account_settings'
 *             }, {
 *                 text: 'Sign Out',
 *                 url: 'logout'
 *             }
 *         ]
 *     }),
 *     parent: 'selector for parent element that will be replaced with dropdown menu',
 *     ...
 * });
 *~~~
 * @module DropdownMenuView
 */



!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2), __webpack_require__(0), __webpack_require__(1), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/utils/constants.js"), __webpack_require__("./node_modules/edx-ui-toolkit/src/js/dropdown-menu/dropdown.underscore")], __WEBPACK_AMD_DEFINE_RESULT__ = function (Backbone, $, _, constants, DropdownTpl) {
    var DropdownMenuView = Backbone.View.extend({
        tpl: _.template(DropdownTpl),

        events: {
            'click .js-dropdown-button': 'clickOpenDropdown',
            'click a': 'analyticsLinkClick',
            keydown: 'viewKeypress'
        },

        dropdownButton: '.js-dropdown-button',

        menu: '.dropdown-menu',

        initialize: function initialize(options) {
            if (options.parent) {
                this.$parent = $(options.parent);
            }

            this.menuId = options.menuId || 'dropdown-menu-' + this.cid;
            this.keyBack = [constants.keyCodes.up, constants.keyCodes.left];
            this.keyForward = [constants.keyCodes.down, constants.keyCodes.right];
            this.keyClose = [constants.keyCodes.esc, constants.keyCodes.space];
        },

        className: function className() {
            return this.options.className;
        },

        render: function render() {
            /**
             * Set in the render function to prevent error when
             * view is used with a pre-rendered DOM
             */
            this.model.set({ menuId: this.menuId });

            this.$el.html(this.tpl(this.model.toJSON()));
            this.$parent.replaceWith(this.$el);
            this.postRender();

            return this;
        },

        postRender: function postRender() {
            this.$menu = this.$('.dropdown-menu');
            this.$page = $(document);
            this.$dropdownButton = this.$(this.dropdownButton);
            this.$lastItem = this.$menu.find('li:last-child a');
        },

        /**
         * Function to track analytics.
         *
         * By default it doesn't do anything, to utilize please
         * extend the View and implement a method such as the
         * following:
         *
         *~~~ javascript
         * var $link = $(event.target),
         *     label = $link.hasClass('menu-title') ? 'Dashboard' : $link.html().trim();
         *
         * window.analytics.track('user_dropdown.clicked', {
         *     category: 'navigation',
         *     label: label,
         *     link: $link.attr('href')
         * });
         *~~~
         *
         * @param {object} event The event to be tracked.
         * @returns {*} The event.
         */
        analyticsLinkClick: function analyticsLinkClick(event) {
            return event;
        },

        clickCloseDropdown: function clickCloseDropdown(event, context) {
            var $el = $(event.target) || $(document),
                $btn;

            // When using edX Pattern Library icons the target
            // is sometimes not the button.
            if (!$el.hasClass(this.dropdownButton)) {
                // If there is a parent dropdown button that is the element to test
                $btn = $el.closest(this.dropdownButton);
                if ($btn.length > 0) {
                    $el = $btn;
                }
            }

            if (!$el.hasClass('button-more') && !$el.hasClass('has-dropdown')) {
                context.closeDropdownMenu();
            }
        },

        clickOpenDropdown: function clickOpenDropdown(event) {
            event.preventDefault();
            this.openMenu(this.$dropdownButton);
        },

        closeDropdownMenu: function closeDropdownMenu() {
            var $open = this.$(this.menu);

            $open.removeClass('is-visible').addClass('is-hidden');

            this.$dropdownButton.removeClass('is-active').attr('aria-expanded', 'false');
        },

        focusFirstItem: function focusFirstItem() {
            this.$menu.find('.dropdown-item:first-child .action').focus();
        },

        focusLastItem: function focusLastItem() {
            this.$lastItem.focus();
        },

        handlerIsAction: function handlerIsAction(key, $el) {
            if (_.contains(this.keyForward, key)) {
                this.nextMenuItemLink($el);
            } else if (_.contains(this.keyBack, key)) {
                this.previousMenuItemLink($el);
            }
        },

        handlerIsButton: function handlerIsButton(key, event) {
            if (_.contains(this.keyForward, key)) {
                this.focusFirstItem();
                // if up arrow or left arrow key pressed or shift+tab
            } else if (_.contains(this.keyBack, key) || key === constants.keyCodes.tab && event.shiftKey) {
                event.preventDefault();
                this.focusLastItem();
            }
        },

        handlerIsMenu: function handlerIsMenu(key) {
            if (_.contains(this.keyForward, key)) {
                this.focusFirstItem();
            } else if (_.contains(this.keyBack, key)) {
                this.$dropdownButton.focus();
            }
        },

        handlerPageClicks: function handlerPageClicks(context) {
            // Only want 1 event listener for click.dropdown
            // on the page so unbind for instantiating
            this.$page.off('click.dropdown');
            this.$page.on('click.dropdown', function (event) {
                context.clickCloseDropdown(event, context);
            });
        },

        nextMenuItemLink: function nextMenuItemLink($el) {
            var items = this.$('.dropdown-menu').children('.dropdown-item').find('.action'),
                itemsCount = items.length - 1,
                index = items.index($el),
                next = index + 1;

            if (index === itemsCount) {
                this.$dropdownButton.focus();
            } else {
                items.eq(next).focus();
            }
        },

        openMenu: function openMenu($btn) {
            var $menu = this.$menu;
            if ($menu.hasClass('is-visible')) {
                this.closeDropdownMenu();
            } else {
                $btn.addClass('is-active').attr('aria-expanded', 'true');

                $menu.removeClass('is-hidden').addClass('is-visible');

                $menu.focus();
                this.setOrientation();
                this.handlerPageClicks(this);
            }
        },

        previousMenuItemLink: function previousMenuItemLink($el) {
            var items = this.$('.dropdown-menu').children('.dropdown-item').find('.action'),
                index = items.index($el),
                prev = index - 1;

            if (index === 0) {
                this.$dropdownButton.focus();
            } else {
                items.eq(prev).focus();
            }
        },

        setOrientation: function setOrientation() {
            var midpoint = $(window).width() / 2,
                alignClass = this.$dropdownButton.offset().left > midpoint ? 'align-right' : 'align-left';

            this.$menu.removeClass('align-left align-right').addClass(alignClass);
        },

        viewKeypress: function viewKeypress(event) {
            var key = event.keyCode,
                $el = $(event.target);

            if (_.contains(this.keyForward, key) || _.contains(this.keyBack, key)) {
                // Prevent default behavior if one of our trigger keys
                event.preventDefault();
            }

            if (key === constants.keyCodes.tab && !event.shiftKey && _.first($el) === _.first(this.$lastItem)) {
                event.preventDefault();
                this.$dropdownButton.focus();
            } else if (_.contains(this.keyClose, key)) {
                this.closeDropdownMenu();
                this.$dropdownButton.focus();
            } else if ($el.hasClass('action')) {
                // Key handlers for when a menu item has focus
                this.handlerIsAction(key, $el);
            } else if ($el.hasClass('dropdown-menu')) {
                // Key handlers for when the menu itself has focus, before an item within it receives focus
                this.handlerIsMenu(key);
            } else if ($el.hasClass('has-dropdown')) {
                // Key handlers for when the button that opens the menu has focus
                this.handlerIsButton(key, event);
            }
        }
    });

    return DropdownMenuView;
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./node_modules/edx-ui-toolkit/src/js/dropdown-menu/dropdown.underscore":
/***/ (function(module, exports) {

module.exports = "<a href=\"<%- main.url %>\" class=\"menu-title\">\n    <% if (main.screenreader_label) { %>\n        <span class=\"sr-only\"><%- main.screenreader_label %> </span>\n    <% } %>\n    <% if (main.image) { %>\n        <img class=\"menu-image\" src=\"<%- main.image %>\" alt=\"\">\n    <% } %>\n    <%- main.text %>\n</a>\n<button type=\"button\" class=\"menu-button button-more has-dropdown js-dropdown-button <% if (!button.icon) { %>default-icon<% } %>\" aria-haspopup=\"true\" aria-expanded=\"false\" aria-controls=\"<%- menuId %>\">\n    <% if (button.icon) { %>\n        <span class=\"icon <%- button.icon %>\" aria-hidden=\"true\"></span>\n    <% } %>\n    <span class=\"sr-only\"><%- button.label %></span>\n</button>\n<ul class=\"dropdown-menu list-divided is-hidden\" id=\"<%- menuId %>\" tabindex=\"-1\">\n    <% _.each(items, function(item, index) { %>\n        <li class=\"dropdown-item item has-block-link\">\n            <a href=\"<%- item.url %>\" class=\"action\"><%- item.text %></a>\n        </li>\n    <% }); %>\n</ul>\n"

/***/ }),

/***/ "./node_modules/edx-ui-toolkit/src/js/utils/constants.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * Reusable constants.
 */
(function(define) {
    'use strict';
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {
        /**
         * Reusable constants.
         *
         * ### keys - A mapping of key names to their corresponding identifiers.
         * ### keyCodes - A mapping of key names to their corresponding keyCodes (DEPRECATED).
         *
         * - `constants.keys.tab` - the tab key
         * - `constants.keys.enter` - the enter key
         * - `constants.keys.esc` - the escape key
         * - `constants.keys.space` - the space key
         * - `constants.keys.left` - the left arrow key
         * - `constants.keys.up` - the up arrow key
         * - `constants.keys.right` - the right arrow key
         * - `constants.keys.down` - the down arrow key
         *
         * @class constants
         */
        return {
            keys: {
                tab: 'Tab',
                enter: 'Enter',
                esc: 'Escape',
                space: 'Space',
                left: 'ArrowLeft',
                up: 'ArrowUp',
                right: 'ArrowRight',
                down: 'ArrowDown'
            },
            // NOTE: keyCode is deprecated. Use the `key` or `code` event property if possible.
            // See: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode
            keyCodes: {
                tab: 9,
                enter: 13,
                esc: 27,
                space: 32,
                left: 37,
                up: 38,
                right: 39,
                down: 40
            }
        };
    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).call(
    this,
    // Pick a define function as follows:
    // 1. Use the default 'define' function if it is available
    // 2. If not, use 'RequireJS.define' if that is available
    // 3. else use the GlobalLoader to install the class into the edx namespace
    // eslint-disable-next-line no-nested-ternary
    __webpack_require__("./node_modules/webpack/buildin/amd-define.js")
);


/***/ }),

/***/ "./node_modules/scriptjs/dist/script.js":
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
  * $script.js JS loader & dependency manager
  * https://github.com/ded/script.js
  * (c) Dustin Diaz 2014 | License MIT
  */

(function (name, definition) {
  if (typeof module != 'undefined' && module.exports) module.exports = definition()
  else if (true) !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))
  else this[name] = definition()
})('$script', function () {
  var doc = document
    , head = doc.getElementsByTagName('head')[0]
    , s = 'string'
    , f = false
    , push = 'push'
    , readyState = 'readyState'
    , onreadystatechange = 'onreadystatechange'
    , list = {}
    , ids = {}
    , delay = {}
    , scripts = {}
    , scriptpath
    , urlArgs

  function every(ar, fn) {
    for (var i = 0, j = ar.length; i < j; ++i) if (!fn(ar[i])) return f
    return 1
  }
  function each(ar, fn) {
    every(ar, function (el) {
      return !fn(el)
    })
  }

  function $script(paths, idOrDone, optDone) {
    paths = paths[push] ? paths : [paths]
    var idOrDoneIsDone = idOrDone && idOrDone.call
      , done = idOrDoneIsDone ? idOrDone : optDone
      , id = idOrDoneIsDone ? paths.join('') : idOrDone
      , queue = paths.length
    function loopFn(item) {
      return item.call ? item() : list[item]
    }
    function callback() {
      if (!--queue) {
        list[id] = 1
        done && done()
        for (var dset in delay) {
          every(dset.split('|'), loopFn) && !each(delay[dset], loopFn) && (delay[dset] = [])
        }
      }
    }
    setTimeout(function () {
      each(paths, function loading(path, force) {
        if (path === null) return callback()
        
        if (!force && !/^https?:\/\//.test(path) && scriptpath) {
          path = (path.indexOf('.js') === -1) ? scriptpath + path + '.js' : scriptpath + path;
        }
        
        if (scripts[path]) {
          if (id) ids[id] = 1
          return (scripts[path] == 2) ? callback() : setTimeout(function () { loading(path, true) }, 0)
        }

        scripts[path] = 1
        if (id) ids[id] = 1
        create(path, callback)
      })
    }, 0)
    return $script
  }

  function create(path, fn) {
    var el = doc.createElement('script'), loaded
    el.onload = el.onerror = el[onreadystatechange] = function () {
      if ((el[readyState] && !(/^c|loade/.test(el[readyState]))) || loaded) return;
      el.onload = el[onreadystatechange] = null
      loaded = 1
      scripts[path] = 2
      fn()
    }
    el.async = 1
    el.src = urlArgs ? path + (path.indexOf('?') === -1 ? '?' : '&') + urlArgs : path;
    head.insertBefore(el, head.lastChild)
  }

  $script.get = create

  $script.order = function (scripts, id, done) {
    (function callback(s) {
      s = scripts.shift()
      !scripts.length ? $script(s, id, done) : $script(s, callback)
    }())
  }

  $script.path = function (p) {
    scriptpath = p
  }
  $script.urlArgs = function (str) {
    urlArgs = str;
  }
  $script.ready = function (deps, ready, req) {
    deps = deps[push] ? deps : [deps]
    var missing = [];
    !each(deps, function (dep) {
      list[dep] || missing[push](dep);
    }) && every(deps, function (dep) {return list[dep]}) ?
      ready() : !function (key) {
      delay[key] = delay[key] || []
      delay[key][push](ready)
      req && req(missing)
    }(deps.join('|'))
    return $script
  }

  $script.done = function (idOrDone) {
    $script([null], idOrDone)
  }

  return $script
});


/***/ }),

/***/ 3:
/***/ (function(module, exports) {

(function() { module.exports = window["gettext"]; }());

/***/ }),

/***/ 6:
/***/ (function(module, exports) {

(function() { module.exports = window["URI"]; }());

/***/ })

},["./cms/static/js/factories/library.js"])));
//# sourceMappingURL=library.js.map